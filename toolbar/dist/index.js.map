{"version":3,"file":"index.js","sources":["../../../../node_modules/@radix-ui/react-icons/src/ChevronDownIcon.tsx","../../../../node_modules/@radix-ui/react-icons/src/ChevronUpIcon.tsx","../../../../node_modules/@radix-ui/react-icons/src/CodeIcon.tsx","../../../../node_modules/@radix-ui/react-icons/src/FontBoldIcon.tsx","../../../../node_modules/@radix-ui/react-icons/src/FontItalicIcon.tsx","../../../../node_modules/@radix-ui/react-icons/src/StrikethroughIcon.tsx","../../../../node_modules/@radix-ui/react-icons/src/TextAlignCenterIcon.tsx","../../../../node_modules/@radix-ui/react-icons/src/TextAlignLeftIcon.tsx","../../../../node_modules/@radix-ui/react-icons/src/TextAlignRightIcon.tsx","../../../../node_modules/@radix-ui/react-icons/src/UnderlineIcon.tsx","../../../../node_modules/@babel/runtime/helpers/esm/extends.js","../../../../node_modules/@radix-ui/primitive/dist/packages/core/primitive/src/primitive.tsx","../../../../node_modules/@radix-ui/react-context/dist/packages/react/context/src/createContext.tsx","../../../../node_modules/@radix-ui/react-collection/node_modules/@radix-ui/react-compose-refs/dist/packages/react/compose-refs/src/composeRefs.tsx","../../../../node_modules/@radix-ui/react-collection/node_modules/@radix-ui/react-slot/dist/packages/react/slot/src/Slot.tsx","../../../../node_modules/@radix-ui/react-collection/dist/packages/react/collection/src/Collection.tsx","../../../../node_modules/@radix-ui/react-roving-focus/node_modules/@radix-ui/react-compose-refs/dist/packages/react/compose-refs/src/composeRefs.tsx","../../../../node_modules/@radix-ui/react-roving-focus/node_modules/@radix-ui/react-use-layout-effect/dist/packages/react/use-layout-effect/src/useLayoutEffect.tsx","../../../../node_modules/@radix-ui/react-roving-focus/node_modules/@radix-ui/react-id/dist/packages/react/id/src/id.tsx","../../../../node_modules/@radix-ui/react-primitive/node_modules/@radix-ui/react-compose-refs/dist/packages/react/compose-refs/src/composeRefs.tsx","../../../../node_modules/@radix-ui/react-primitive/node_modules/@radix-ui/react-slot/dist/packages/react/slot/src/Slot.tsx","../../../../node_modules/@radix-ui/react-primitive/dist/packages/react/primitive/src/Primitive.tsx","../../../../node_modules/@radix-ui/react-use-callback-ref/dist/packages/react/use-callback-ref/src/useCallbackRef.tsx","../../../../node_modules/@radix-ui/react-use-controllable-state/dist/packages/react/use-controllable-state/src/useControllableState.tsx","../../../../node_modules/@radix-ui/react-direction/dist/packages/react/direction/src/Direction.tsx","../../../../node_modules/@radix-ui/react-roving-focus/dist/packages/react/roving-focus/src/RovingFocusGroup.tsx","../../../../node_modules/@radix-ui/react-separator/dist/packages/react/separator/src/Separator.tsx","../../../../node_modules/@radix-ui/react-toggle/dist/packages/react/toggle/src/Toggle.tsx","../../../../node_modules/@radix-ui/react-toggle-group/dist/packages/react/toggle-group/src/ToggleGroup.tsx","../../../../node_modules/@radix-ui/react-toolbar/dist/packages/react/toolbar/src/Toolbar.tsx","../../../../node_modules/@floating-ui/utils/dist/floating-ui.utils.dom.mjs","../../../../node_modules/@floating-ui/utils/dist/floating-ui.utils.mjs","../../../../node_modules/@floating-ui/react-dom/node_modules/@floating-ui/core/dist/floating-ui.core.mjs","../../../../node_modules/@floating-ui/react-dom/node_modules/@floating-ui/dom/dist/floating-ui.dom.mjs","../../../../node_modules/@floating-ui/react-dom/dist/floating-ui.react-dom.mjs","../../../../node_modules/@floating-ui/react/dist/floating-ui.react.mjs","../../../../node_modules/react-colorful/src/hooks/useEventCallback.ts","../../../../node_modules/react-colorful/src/utils/clamp.ts","../../../../node_modules/react-colorful/src/components/common/Interactive.tsx","../../../../node_modules/react-colorful/src/utils/format.ts","../../../../node_modules/react-colorful/src/components/common/Pointer.tsx","../../../../node_modules/react-colorful/src/utils/round.ts","../../../../node_modules/react-colorful/src/utils/convert.ts","../../../../node_modules/react-colorful/src/components/common/Hue.tsx","../../../../node_modules/react-colorful/src/components/common/Saturation.tsx","../../../../node_modules/react-colorful/src/utils/compare.ts","../../../../node_modules/react-colorful/src/hooks/useColorManipulation.ts","../../../../node_modules/react-colorful/src/hooks/useIsomorphicLayoutEffect.ts","../../../../node_modules/react-colorful/src/utils/nonce.ts","../../../../node_modules/react-colorful/src/hooks/useStyleSheet.ts","../../../../node_modules/react-colorful/src/components/common/ColorPicker.tsx","../../../../node_modules/react-colorful/src/components/HexColorPicker.tsx","../../../../node_modules/react-colorful/src/components/common/Alpha.tsx","../node_modules/shared/src/utils.ts","../node_modules/lucide-react/src/defaultAttributes.ts","../node_modules/lucide-react/src/Icon.ts","../node_modules/lucide-react/src/createLucideIcon.ts","../node_modules/lucide-react/src/icons/palette.ts","../../../../node_modules/use-debounce/src/useDebouncedCallback.ts","../src/components/HighlightColor.tsx","../../../../node_modules/is-plain-object/dist/is-plain-object.mjs","../../../../node_modules/immer/src/utils/env.ts","../../../../node_modules/immer/src/utils/errors.ts","../../../../node_modules/immer/src/utils/common.ts","../../../../node_modules/immer/src/utils/plugins.ts","../../../../node_modules/immer/src/core/scope.ts","../../../../node_modules/immer/src/core/finalize.ts","../../../../node_modules/immer/src/core/proxy.ts","../../../../node_modules/immer/src/core/immerClass.ts","../../../../node_modules/immer/src/core/current.ts","../../../../node_modules/immer/src/immer.ts","../../../../node_modules/slate/src/interfaces/path.ts","../../../../../../../.yarn/berry/cache/@babel-runtime-npm-7.23.2-d013d6cf7e-10.zip/node_modules/@babel/runtime/helpers/esm/typeof.js","../../../../../../../.yarn/berry/cache/@babel-runtime-npm-7.23.2-d013d6cf7e-10.zip/node_modules/@babel/runtime/helpers/esm/toPrimitive.js","../../../../../../../.yarn/berry/cache/@babel-runtime-npm-7.23.2-d013d6cf7e-10.zip/node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","../../../../../../../.yarn/berry/cache/@babel-runtime-npm-7.23.2-d013d6cf7e-10.zip/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../../../../node_modules/slate/src/interfaces/transforms/general.ts","../../../../node_modules/slate/src/interfaces/transforms/node.ts","../../../../node_modules/slate/src/interfaces/transforms/selection.ts","../../../../node_modules/slate/src/utils/deep-equal.ts","../../../../../../../.yarn/berry/cache/@babel-runtime-npm-7.23.2-d013d6cf7e-10.zip/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","../../../../../../../.yarn/berry/cache/@babel-runtime-npm-7.23.2-d013d6cf7e-10.zip/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../../../../node_modules/slate/src/interfaces/range.ts","../../../../node_modules/slate/src/interfaces/element.ts","../../../../node_modules/slate/src/interfaces/node.ts","../../../../node_modules/slate/src/interfaces/operation.ts","../../../../node_modules/slate/src/editor/is-editor.ts","../../../../node_modules/slate/src/interfaces/editor.ts","../../../../node_modules/slate/src/interfaces/point.ts","../../../../node_modules/slate/src/interfaces/scrubber.ts","../../../../node_modules/slate/src/interfaces/text.ts","../../../../node_modules/slate/src/utils/get-default-insert-location.ts","../../../../node_modules/slate/src/utils/string.ts","../../../../node_modules/slate/src/interfaces/transforms/text.ts","../../../../node_modules/slate/src/interfaces/transforms/index.ts","../src/components/utils.ts","../src/components/DefaultToolbarRender.tsx","../../../../node_modules/lodash.throttle/index.js","../src/components/Toolbar.tsx","../../../../node_modules/style-inject/dist/style-inject.es.js"],"sourcesContent":["import * as React from 'react';\nimport { IconProps } from './types';\n\nexport const ChevronDownIcon = React.forwardRef<SVGSVGElement, IconProps>(\n  ({ color = 'currentColor', ...props }, forwardedRef) => {\n    return (\n      <svg\n        width=\"15\"\n        height=\"15\"\n        viewBox=\"0 0 15 15\"\n        fill=\"none\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        {...props}\n        ref={forwardedRef}\n      >\n        <path\n          d=\"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z\"\n          fill={color}\n          fillRule=\"evenodd\"\n          clipRule=\"evenodd\"\n        />\n      </svg>\n    );\n  }\n);\n\nexport default ChevronDownIcon;\n","import * as React from 'react';\nimport { IconProps } from './types';\n\nexport const ChevronUpIcon = React.forwardRef<SVGSVGElement, IconProps>(\n  ({ color = 'currentColor', ...props }, forwardedRef) => {\n    return (\n      <svg\n        width=\"15\"\n        height=\"15\"\n        viewBox=\"0 0 15 15\"\n        fill=\"none\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        {...props}\n        ref={forwardedRef}\n      >\n        <path\n          d=\"M3.13523 8.84197C3.3241 9.04343 3.64052 9.05363 3.84197 8.86477L7.5 5.43536L11.158 8.86477C11.3595 9.05363 11.6759 9.04343 11.8648 8.84197C12.0536 8.64051 12.0434 8.32409 11.842 8.13523L7.84197 4.38523C7.64964 4.20492 7.35036 4.20492 7.15803 4.38523L3.15803 8.13523C2.95657 8.32409 2.94637 8.64051 3.13523 8.84197Z\"\n          fill={color}\n          fillRule=\"evenodd\"\n          clipRule=\"evenodd\"\n        />\n      </svg>\n    );\n  }\n);\n\nexport default ChevronUpIcon;\n","import * as React from 'react';\nimport { IconProps } from './types';\n\nexport const CodeIcon = React.forwardRef<SVGSVGElement, IconProps>(\n  ({ color = 'currentColor', ...props }, forwardedRef) => {\n    return (\n      <svg\n        width=\"15\"\n        height=\"15\"\n        viewBox=\"0 0 15 15\"\n        fill=\"none\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        {...props}\n        ref={forwardedRef}\n      >\n        <path\n          d=\"M9.96424 2.68571C10.0668 2.42931 9.94209 2.13833 9.6857 2.03577C9.4293 1.93322 9.13832 2.05792 9.03576 2.31432L5.03576 12.3143C4.9332 12.5707 5.05791 12.8617 5.3143 12.9642C5.5707 13.0668 5.86168 12.9421 5.96424 12.6857L9.96424 2.68571ZM3.85355 5.14646C4.04882 5.34172 4.04882 5.6583 3.85355 5.85356L2.20711 7.50001L3.85355 9.14646C4.04882 9.34172 4.04882 9.6583 3.85355 9.85356C3.65829 10.0488 3.34171 10.0488 3.14645 9.85356L1.14645 7.85356C0.951184 7.6583 0.951184 7.34172 1.14645 7.14646L3.14645 5.14646C3.34171 4.9512 3.65829 4.9512 3.85355 5.14646ZM11.1464 5.14646C11.3417 4.9512 11.6583 4.9512 11.8536 5.14646L13.8536 7.14646C14.0488 7.34172 14.0488 7.6583 13.8536 7.85356L11.8536 9.85356C11.6583 10.0488 11.3417 10.0488 11.1464 9.85356C10.9512 9.6583 10.9512 9.34172 11.1464 9.14646L12.7929 7.50001L11.1464 5.85356C10.9512 5.6583 10.9512 5.34172 11.1464 5.14646Z\"\n          fill={color}\n          fillRule=\"evenodd\"\n          clipRule=\"evenodd\"\n        />\n      </svg>\n    );\n  }\n);\n\nexport default CodeIcon;\n","import * as React from 'react';\nimport { IconProps } from './types';\n\nexport const FontBoldIcon = React.forwardRef<SVGSVGElement, IconProps>(\n  ({ color = 'currentColor', ...props }, forwardedRef) => {\n    return (\n      <svg\n        width=\"15\"\n        height=\"15\"\n        viewBox=\"0 0 15 15\"\n        fill=\"none\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        {...props}\n        ref={forwardedRef}\n      >\n        <path\n          d=\"M5.10505 12C4.70805 12 4.4236 11.912 4.25171 11.736C4.0839 11.5559 4 11.2715 4 10.8827V4.11733C4 3.72033 4.08595 3.43588 4.25784 3.26398C4.43383 3.08799 4.71623 3 5.10505 3C6.42741 3 8.25591 3 9.02852 3C10.1373 3 11.0539 3.98153 11.0539 5.1846C11.0539 6.08501 10.6037 6.81855 9.70327 7.23602C10.8657 7.44851 11.5176 8.62787 11.5176 9.48128C11.5176 10.5125 10.9902 12 9.27734 12C8.77742 12 6.42626 12 5.10505 12ZM8.37891 8.00341H5.8V10.631H8.37891C8.9 10.631 9.6296 10.1211 9.6296 9.29877C9.6296 8.47643 8.9 8.00341 8.37891 8.00341ZM5.8 4.36903V6.69577H8.17969C8.53906 6.69577 9.27734 6.35939 9.27734 5.50002C9.27734 4.64064 8.48047 4.36903 8.17969 4.36903H5.8Z\"\n          fill={color}\n        />\n      </svg>\n    );\n  }\n);\n\nexport default FontBoldIcon;\n","import * as React from 'react';\nimport { IconProps } from './types';\n\nexport const FontItalicIcon = React.forwardRef<SVGSVGElement, IconProps>(\n  ({ color = 'currentColor', ...props }, forwardedRef) => {\n    return (\n      <svg\n        width=\"15\"\n        height=\"15\"\n        viewBox=\"0 0 15 15\"\n        fill=\"none\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        {...props}\n        ref={forwardedRef}\n      >\n        <path\n          d=\"M5.67494 3.50017C5.67494 3.25164 5.87641 3.05017 6.12494 3.05017H10.6249C10.8735 3.05017 11.0749 3.25164 11.0749 3.50017C11.0749 3.7487 10.8735 3.95017 10.6249 3.95017H9.00587L7.2309 11.05H8.87493C9.12345 11.05 9.32493 11.2515 9.32493 11.5C9.32493 11.7486 9.12345 11.95 8.87493 11.95H4.37493C4.1264 11.95 3.92493 11.7486 3.92493 11.5C3.92493 11.2515 4.1264 11.05 4.37493 11.05H5.99397L7.76894 3.95017H6.12494C5.87641 3.95017 5.67494 3.7487 5.67494 3.50017Z\"\n          fill={color}\n          fillRule=\"evenodd\"\n          clipRule=\"evenodd\"\n        />\n      </svg>\n    );\n  }\n);\n\nexport default FontItalicIcon;\n","import * as React from 'react';\nimport { IconProps } from './types';\n\nexport const StrikethroughIcon = React.forwardRef<SVGSVGElement, IconProps>(\n  ({ color = 'currentColor', ...props }, forwardedRef) => {\n    return (\n      <svg\n        width=\"15\"\n        height=\"15\"\n        viewBox=\"0 0 15 15\"\n        fill=\"none\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        {...props}\n        ref={forwardedRef}\n      >\n        <path\n          d=\"M5.00003 3.25C5.00003 2.97386 4.77617 2.75 4.50003 2.75C4.22389 2.75 4.00003 2.97386 4.00003 3.25V7.10003H2.49998C2.27906 7.10003 2.09998 7.27912 2.09998 7.50003C2.09998 7.72094 2.27906 7.90003 2.49998 7.90003H4.00003V8.55C4.00003 10.483 5.56703 12.05 7.50003 12.05C9.43303 12.05 11 10.483 11 8.55V7.90003H12.5C12.7209 7.90003 12.9 7.72094 12.9 7.50003C12.9 7.27912 12.7209 7.10003 12.5 7.10003H11V3.25C11 2.97386 10.7762 2.75 10.5 2.75C10.2239 2.75 10 2.97386 10 3.25V7.10003H5.00003V3.25ZM5.00003 7.90003V8.55C5.00003 9.93071 6.11932 11.05 7.50003 11.05C8.88074 11.05 10 9.93071 10 8.55V7.90003H5.00003Z\"\n          fill={color}\n          fillRule=\"evenodd\"\n          clipRule=\"evenodd\"\n        />\n      </svg>\n    );\n  }\n);\n\nexport default StrikethroughIcon;\n","import * as React from 'react';\nimport { IconProps } from './types';\n\nexport const TextAlignCenterIcon = React.forwardRef<SVGSVGElement, IconProps>(\n  ({ color = 'currentColor', ...props }, forwardedRef) => {\n    return (\n      <svg\n        width=\"15\"\n        height=\"15\"\n        viewBox=\"0 0 15 15\"\n        fill=\"none\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        {...props}\n        ref={forwardedRef}\n      >\n        <path\n          d=\"M2 4.5C2 4.22386 2.22386 4 2.5 4H12.5C12.7761 4 13 4.22386 13 4.5C13 4.77614 12.7761 5 12.5 5H2.5C2.22386 5 2 4.77614 2 4.5ZM4 7.5C4 7.22386 4.22386 7 4.5 7H10.5C10.7761 7 11 7.22386 11 7.5C11 7.77614 10.7761 8 10.5 8H4.5C4.22386 8 4 7.77614 4 7.5ZM3 10.5C3 10.2239 3.22386 10 3.5 10H11.5C11.7761 10 12 10.2239 12 10.5C12 10.7761 11.7761 11 11.5 11H3.5C3.22386 11 3 10.7761 3 10.5Z\"\n          fill={color}\n          fillRule=\"evenodd\"\n          clipRule=\"evenodd\"\n        />\n      </svg>\n    );\n  }\n);\n\nexport default TextAlignCenterIcon;\n","import * as React from 'react';\nimport { IconProps } from './types';\n\nexport const TextAlignLeftIcon = React.forwardRef<SVGSVGElement, IconProps>(\n  ({ color = 'currentColor', ...props }, forwardedRef) => {\n    return (\n      <svg\n        width=\"15\"\n        height=\"15\"\n        viewBox=\"0 0 15 15\"\n        fill=\"none\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        {...props}\n        ref={forwardedRef}\n      >\n        <path\n          d=\"M2 4.5C2 4.22386 2.22386 4 2.5 4H12.5C12.7761 4 13 4.22386 13 4.5C13 4.77614 12.7761 5 12.5 5H2.5C2.22386 5 2 4.77614 2 4.5ZM2 7.5C2 7.22386 2.22386 7 2.5 7H7.5C7.77614 7 8 7.22386 8 7.5C8 7.77614 7.77614 8 7.5 8H2.5C2.22386 8 2 7.77614 2 7.5ZM2 10.5C2 10.2239 2.22386 10 2.5 10H10.5C10.7761 10 11 10.2239 11 10.5C11 10.7761 10.7761 11 10.5 11H2.5C2.22386 11 2 10.7761 2 10.5Z\"\n          fill={color}\n          fillRule=\"evenodd\"\n          clipRule=\"evenodd\"\n        />\n      </svg>\n    );\n  }\n);\n\nexport default TextAlignLeftIcon;\n","import * as React from 'react';\nimport { IconProps } from './types';\n\nexport const TextAlignRightIcon = React.forwardRef<SVGSVGElement, IconProps>(\n  ({ color = 'currentColor', ...props }, forwardedRef) => {\n    return (\n      <svg\n        width=\"15\"\n        height=\"15\"\n        viewBox=\"0 0 15 15\"\n        fill=\"none\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        {...props}\n        ref={forwardedRef}\n      >\n        <path\n          d=\"M2 4.5C2 4.22386 2.22386 4 2.5 4H12.5C12.7761 4 13 4.22386 13 4.5C13 4.77614 12.7761 5 12.5 5H2.5C2.22386 5 2 4.77614 2 4.5ZM7 7.5C7 7.22386 7.22386 7 7.5 7H12.5C12.7761 7 13 7.22386 13 7.5C13 7.77614 12.7761 8 12.5 8H7.5C7.22386 8 7 7.77614 7 7.5ZM4 10.5C4 10.2239 4.22386 10 4.5 10H12.5C12.7761 10 13 10.2239 13 10.5C13 10.7761 12.7761 11 12.5 11H4.5C4.22386 11 4 10.7761 4 10.5Z\"\n          fill={color}\n          fillRule=\"evenodd\"\n          clipRule=\"evenodd\"\n        />\n      </svg>\n    );\n  }\n);\n\nexport default TextAlignRightIcon;\n","import * as React from 'react';\nimport { IconProps } from './types';\n\nexport const UnderlineIcon = React.forwardRef<SVGSVGElement, IconProps>(\n  ({ color = 'currentColor', ...props }, forwardedRef) => {\n    return (\n      <svg\n        width=\"15\"\n        height=\"15\"\n        viewBox=\"0 0 15 15\"\n        fill=\"none\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        {...props}\n        ref={forwardedRef}\n      >\n        <path\n          d=\"M5.00001 2.75C5.00001 2.47386 4.77615 2.25 4.50001 2.25C4.22387 2.25 4.00001 2.47386 4.00001 2.75V8.05C4.00001 9.983 5.56702 11.55 7.50001 11.55C9.43301 11.55 11 9.983 11 8.05V2.75C11 2.47386 10.7762 2.25 10.5 2.25C10.2239 2.25 10 2.47386 10 2.75V8.05C10 9.43071 8.88072 10.55 7.50001 10.55C6.1193 10.55 5.00001 9.43071 5.00001 8.05V2.75ZM3.49998 13.1001C3.27906 13.1001 3.09998 13.2791 3.09998 13.5001C3.09998 13.721 3.27906 13.9001 3.49998 13.9001H11.5C11.7209 13.9001 11.9 13.721 11.9 13.5001C11.9 13.2791 11.7209 13.1001 11.5 13.1001H3.49998Z\"\n          fill={color}\n          fillRule=\"evenodd\"\n          clipRule=\"evenodd\"\n        />\n      </svg>\n    );\n  }\n);\n\nexport default UnderlineIcon;\n","export default function _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}","function composeEventHandlers<E>(\n  originalEventHandler?: (event: E) => void,\n  ourEventHandler?: (event: E) => void,\n  { checkForDefaultPrevented = true } = {}\n) {\n  return function handleEvent(event: E) {\n    originalEventHandler?.(event);\n\n    if (checkForDefaultPrevented === false || !((event as unknown) as Event).defaultPrevented) {\n      return ourEventHandler?.(event);\n    }\n  };\n}\n\nexport { composeEventHandlers };\n","import * as React from 'react';\n\nfunction createContext<ContextValueType extends object | null>(\n  rootComponentName: string,\n  defaultContext?: ContextValueType\n) {\n  const Context = React.createContext<ContextValueType | undefined>(defaultContext);\n\n  function Provider(props: ContextValueType & { children: React.ReactNode }) {\n    const { children, ...context } = props;\n    // Only re-memoize when prop values change\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    const value = React.useMemo(() => context, Object.values(context)) as ContextValueType;\n    return <Context.Provider value={value}>{children}</Context.Provider>;\n  }\n\n  function useContext(consumerName: string) {\n    const context = React.useContext(Context);\n    if (context) return context;\n    if (defaultContext !== undefined) return defaultContext;\n    // if a defaultContext wasn't specified, it's a required context.\n    throw new Error(`\\`${consumerName}\\` must be used within \\`${rootComponentName}\\``);\n  }\n\n  Provider.displayName = rootComponentName + 'Provider';\n  return [Provider, useContext] as const;\n}\n\n/* -------------------------------------------------------------------------------------------------\n * createContextScope\n * -----------------------------------------------------------------------------------------------*/\n\ntype Scope<C = any> = { [scopeName: string]: React.Context<C>[] } | undefined;\ntype ScopeHook = (scope: Scope) => { [__scopeProp: string]: Scope };\ninterface CreateScope {\n  scopeName: string;\n  (): ScopeHook;\n}\n\nfunction createContextScope(scopeName: string, createContextScopeDeps: CreateScope[] = []) {\n  let defaultContexts: any[] = [];\n\n  /* -----------------------------------------------------------------------------------------------\n   * createContext\n   * ---------------------------------------------------------------------------------------------*/\n\n  function createContext<ContextValueType extends object | null>(\n    rootComponentName: string,\n    defaultContext?: ContextValueType\n  ) {\n    const BaseContext = React.createContext<ContextValueType | undefined>(defaultContext);\n    const index = defaultContexts.length;\n    defaultContexts = [...defaultContexts, defaultContext];\n\n    function Provider(\n      props: ContextValueType & { scope: Scope<ContextValueType>; children: React.ReactNode }\n    ) {\n      const { scope, children, ...context } = props;\n      const Context = scope?.[scopeName][index] || BaseContext;\n      // Only re-memoize when prop values change\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      const value = React.useMemo(() => context, Object.values(context)) as ContextValueType;\n      return <Context.Provider value={value}>{children}</Context.Provider>;\n    }\n\n    function useContext(consumerName: string, scope: Scope<ContextValueType | undefined>) {\n      const Context = scope?.[scopeName][index] || BaseContext;\n      const context = React.useContext(Context);\n      if (context) return context;\n      if (defaultContext !== undefined) return defaultContext;\n      // if a defaultContext wasn't specified, it's a required context.\n      throw new Error(`\\`${consumerName}\\` must be used within \\`${rootComponentName}\\``);\n    }\n\n    Provider.displayName = rootComponentName + 'Provider';\n    return [Provider, useContext] as const;\n  }\n\n  /* -----------------------------------------------------------------------------------------------\n   * createScope\n   * ---------------------------------------------------------------------------------------------*/\n\n  const createScope: CreateScope = () => {\n    const scopeContexts = defaultContexts.map((defaultContext) => {\n      return React.createContext(defaultContext);\n    });\n    return function useScope(scope: Scope) {\n      const contexts = scope?.[scopeName] || scopeContexts;\n      return React.useMemo(\n        () => ({ [`__scope${scopeName}`]: { ...scope, [scopeName]: contexts } }),\n        [scope, contexts]\n      );\n    };\n  };\n\n  createScope.scopeName = scopeName;\n  return [createContext, composeContextScopes(createScope, ...createContextScopeDeps)] as const;\n}\n\n/* -------------------------------------------------------------------------------------------------\n * composeContextScopes\n * -----------------------------------------------------------------------------------------------*/\n\nfunction composeContextScopes(...scopes: CreateScope[]) {\n  const baseScope = scopes[0];\n  if (scopes.length === 1) return baseScope;\n\n  const createScope: CreateScope = () => {\n    const scopeHooks = scopes.map((createScope) => ({\n      useScope: createScope(),\n      scopeName: createScope.scopeName,\n    }));\n\n    return function useComposedScopes(overrideScopes) {\n      const nextScopes = scopeHooks.reduce((nextScopes, { useScope, scopeName }) => {\n        // We are calling a hook inside a callback which React warns against to avoid inconsistent\n        // renders, however, scoping doesn't have render side effects so we ignore the rule.\n        // eslint-disable-next-line react-hooks/rules-of-hooks\n        const scopeProps = useScope(overrideScopes);\n        const currentScope = scopeProps[`__scope${scopeName}`];\n        return { ...nextScopes, ...currentScope };\n      }, {});\n\n      return React.useMemo(() => ({ [`__scope${baseScope.scopeName}`]: nextScopes }), [nextScopes]);\n    };\n  };\n\n  createScope.scopeName = baseScope.scopeName;\n  return createScope;\n}\n\n/* -----------------------------------------------------------------------------------------------*/\n\nexport { createContext, createContextScope };\nexport type { CreateScope, Scope };\n","import * as React from 'react';\n\ntype PossibleRef<T> = React.Ref<T> | undefined;\n\n/**\n * Set a given ref to a given value\n * This utility takes care of different types of refs: callback refs and RefObject(s)\n */\nfunction setRef<T>(ref: PossibleRef<T>, value: T) {\n  if (typeof ref === 'function') {\n    ref(value);\n  } else if (ref !== null && ref !== undefined) {\n    (ref as React.MutableRefObject<T>).current = value;\n  }\n}\n\n/**\n * A utility to compose multiple refs together\n * Accepts callback refs and RefObject(s)\n */\nfunction composeRefs<T>(...refs: PossibleRef<T>[]) {\n  return (node: T) => refs.forEach((ref) => setRef(ref, node));\n}\n\n/**\n * A custom hook that composes multiple refs\n * Accepts callback refs and RefObject(s)\n */\nfunction useComposedRefs<T>(...refs: PossibleRef<T>[]) {\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  return React.useCallback(composeRefs(...refs), refs);\n}\n\nexport { composeRefs, useComposedRefs };\n","import * as React from 'react';\nimport { composeRefs } from '@radix-ui/react-compose-refs';\n\n/* -------------------------------------------------------------------------------------------------\n * Slot\n * -----------------------------------------------------------------------------------------------*/\n\ninterface SlotProps extends React.HTMLAttributes<HTMLElement> {\n  children?: React.ReactNode;\n}\n\nconst Slot = React.forwardRef<HTMLElement, SlotProps>((props, forwardedRef) => {\n  const { children, ...slotProps } = props;\n  const childrenArray = React.Children.toArray(children);\n  const slottable = childrenArray.find(isSlottable);\n\n  if (slottable) {\n    // the new element to render is the one passed as a child of `Slottable`\n    const newElement = slottable.props.children as React.ReactNode;\n\n    const newChildren = childrenArray.map((child) => {\n      if (child === slottable) {\n        // because the new element will be the one rendered, we are only interested\n        // in grabbing its children (`newElement.props.children`)\n        if (React.Children.count(newElement) > 1) return React.Children.only(null);\n        return React.isValidElement(newElement)\n          ? (newElement.props.children as React.ReactNode)\n          : null;\n      } else {\n        return child;\n      }\n    });\n\n    return (\n      <SlotClone {...slotProps} ref={forwardedRef}>\n        {React.isValidElement(newElement)\n          ? React.cloneElement(newElement, undefined, newChildren)\n          : null}\n      </SlotClone>\n    );\n  }\n\n  return (\n    <SlotClone {...slotProps} ref={forwardedRef}>\n      {children}\n    </SlotClone>\n  );\n});\n\nSlot.displayName = 'Slot';\n\n/* -------------------------------------------------------------------------------------------------\n * SlotClone\n * -----------------------------------------------------------------------------------------------*/\n\ninterface SlotCloneProps {\n  children: React.ReactNode;\n}\n\nconst SlotClone = React.forwardRef<any, SlotCloneProps>((props, forwardedRef) => {\n  const { children, ...slotProps } = props;\n\n  if (React.isValidElement(children)) {\n    return React.cloneElement(children, {\n      ...mergeProps(slotProps, children.props),\n      ref: forwardedRef ? composeRefs(forwardedRef, (children as any).ref) : (children as any).ref,\n    });\n  }\n\n  return React.Children.count(children) > 1 ? React.Children.only(null) : null;\n});\n\nSlotClone.displayName = 'SlotClone';\n\n/* -------------------------------------------------------------------------------------------------\n * Slottable\n * -----------------------------------------------------------------------------------------------*/\n\nconst Slottable = ({ children }: { children: React.ReactNode }) => {\n  return <>{children}</>;\n};\n\n/* ---------------------------------------------------------------------------------------------- */\n\ntype AnyProps = Record<string, any>;\n\nfunction isSlottable(child: React.ReactNode): child is React.ReactElement {\n  return React.isValidElement(child) && child.type === Slottable;\n}\n\nfunction mergeProps(slotProps: AnyProps, childProps: AnyProps) {\n  // all child props should override\n  const overrideProps = { ...childProps };\n\n  for (const propName in childProps) {\n    const slotPropValue = slotProps[propName];\n    const childPropValue = childProps[propName];\n\n    const isHandler = /^on[A-Z]/.test(propName);\n    if (isHandler) {\n      // if the handler exists on both, we compose them\n      if (slotPropValue && childPropValue) {\n        overrideProps[propName] = (...args: unknown[]) => {\n          childPropValue(...args);\n          slotPropValue(...args);\n        };\n      }\n      // but if it exists only on the slot, we use only this one\n      else if (slotPropValue) {\n        overrideProps[propName] = slotPropValue;\n      }\n    }\n    // if it's `style`, we merge them\n    else if (propName === 'style') {\n      overrideProps[propName] = { ...slotPropValue, ...childPropValue };\n    } else if (propName === 'className') {\n      overrideProps[propName] = [slotPropValue, childPropValue].filter(Boolean).join(' ');\n    }\n  }\n\n  return { ...slotProps, ...overrideProps };\n}\n\nconst Root = Slot;\n\nexport {\n  Slot,\n  Slottable,\n  //\n  Root,\n};\nexport type { SlotProps };\n","import React from 'react';\nimport { createContextScope } from '@radix-ui/react-context';\nimport { useComposedRefs } from '@radix-ui/react-compose-refs';\nimport { Slot } from '@radix-ui/react-slot';\n\nimport type * as Radix from '@radix-ui/react-primitive';\n\ntype SlotProps = Radix.ComponentPropsWithoutRef<typeof Slot>;\ntype CollectionElement = HTMLElement;\ninterface CollectionProps extends SlotProps {\n  scope: any;\n}\n\n// We have resorted to returning slots directly rather than exposing primitives that can then\n// be slotted like `<CollectionItem as={Slot}>â€¦</CollectionItem>`.\n// This is because we encountered issues with generic types that cannot be statically analysed\n// due to creating them dynamically via createCollection.\n\nfunction createCollection<ItemElement extends HTMLElement, ItemData = {}>(name: string) {\n  /* -----------------------------------------------------------------------------------------------\n   * CollectionProvider\n   * ---------------------------------------------------------------------------------------------*/\n\n  const PROVIDER_NAME = name + 'CollectionProvider';\n  const [createCollectionContext, createCollectionScope] = createContextScope(PROVIDER_NAME);\n\n  type ContextValue = {\n    collectionRef: React.RefObject<CollectionElement>;\n    itemMap: Map<React.RefObject<ItemElement>, { ref: React.RefObject<ItemElement> } & ItemData>;\n  };\n\n  const [CollectionProviderImpl, useCollectionContext] = createCollectionContext<ContextValue>(\n    PROVIDER_NAME,\n    { collectionRef: { current: null }, itemMap: new Map() }\n  );\n\n  const CollectionProvider: React.FC<{ children?: React.ReactNode; scope: any }> = (props) => {\n    const { scope, children } = props;\n    const ref = React.useRef<CollectionElement>(null);\n    const itemMap = React.useRef<ContextValue['itemMap']>(new Map()).current;\n    return (\n      <CollectionProviderImpl scope={scope} itemMap={itemMap} collectionRef={ref}>\n        {children}\n      </CollectionProviderImpl>\n    );\n  };\n\n  CollectionProvider.displayName = PROVIDER_NAME;\n\n  /* -----------------------------------------------------------------------------------------------\n   * CollectionSlot\n   * ---------------------------------------------------------------------------------------------*/\n\n  const COLLECTION_SLOT_NAME = name + 'CollectionSlot';\n\n  const CollectionSlot = React.forwardRef<CollectionElement, CollectionProps>(\n    (props, forwardedRef) => {\n      const { scope, children } = props;\n      const context = useCollectionContext(COLLECTION_SLOT_NAME, scope);\n      const composedRefs = useComposedRefs(forwardedRef, context.collectionRef);\n      return <Slot ref={composedRefs}>{children}</Slot>;\n    }\n  );\n\n  CollectionSlot.displayName = COLLECTION_SLOT_NAME;\n\n  /* -----------------------------------------------------------------------------------------------\n   * CollectionItem\n   * ---------------------------------------------------------------------------------------------*/\n\n  const ITEM_SLOT_NAME = name + 'CollectionItemSlot';\n  const ITEM_DATA_ATTR = 'data-radix-collection-item';\n\n  type CollectionItemSlotProps = ItemData & {\n    children: React.ReactNode;\n    scope: any;\n  };\n\n  const CollectionItemSlot = React.forwardRef<ItemElement, CollectionItemSlotProps>(\n    (props, forwardedRef) => {\n      const { scope, children, ...itemData } = props;\n      const ref = React.useRef<ItemElement>(null);\n      const composedRefs = useComposedRefs(forwardedRef, ref);\n      const context = useCollectionContext(ITEM_SLOT_NAME, scope);\n\n      React.useEffect(() => {\n        context.itemMap.set(ref, { ref, ...(itemData as unknown as ItemData) });\n        return () => void context.itemMap.delete(ref);\n      });\n\n      return (\n        <Slot {...{ [ITEM_DATA_ATTR]: '' }} ref={composedRefs}>\n          {children}\n        </Slot>\n      );\n    }\n  );\n\n  CollectionItemSlot.displayName = ITEM_SLOT_NAME;\n\n  /* -----------------------------------------------------------------------------------------------\n   * useCollection\n   * ---------------------------------------------------------------------------------------------*/\n\n  function useCollection(scope: any) {\n    const context = useCollectionContext(name + 'CollectionConsumer', scope);\n\n    const getItems = React.useCallback(() => {\n      const collectionNode = context.collectionRef.current;\n      if (!collectionNode) return [];\n      const orderedNodes = Array.from(collectionNode.querySelectorAll(`[${ITEM_DATA_ATTR}]`));\n      const items = Array.from(context.itemMap.values());\n      const orderedItems = items.sort(\n        (a, b) => orderedNodes.indexOf(a.ref.current!) - orderedNodes.indexOf(b.ref.current!)\n      );\n      return orderedItems;\n    }, [context.collectionRef, context.itemMap]);\n\n    return getItems;\n  }\n\n  return [\n    { Provider: CollectionProvider, Slot: CollectionSlot, ItemSlot: CollectionItemSlot },\n    useCollection,\n    createCollectionScope,\n  ] as const;\n}\n\nexport { createCollection };\nexport type { CollectionProps };\n","import * as React from 'react';\n\ntype PossibleRef<T> = React.Ref<T> | undefined;\n\n/**\n * Set a given ref to a given value\n * This utility takes care of different types of refs: callback refs and RefObject(s)\n */\nfunction setRef<T>(ref: PossibleRef<T>, value: T) {\n  if (typeof ref === 'function') {\n    ref(value);\n  } else if (ref !== null && ref !== undefined) {\n    (ref as React.MutableRefObject<T>).current = value;\n  }\n}\n\n/**\n * A utility to compose multiple refs together\n * Accepts callback refs and RefObject(s)\n */\nfunction composeRefs<T>(...refs: PossibleRef<T>[]) {\n  return (node: T) => refs.forEach((ref) => setRef(ref, node));\n}\n\n/**\n * A custom hook that composes multiple refs\n * Accepts callback refs and RefObject(s)\n */\nfunction useComposedRefs<T>(...refs: PossibleRef<T>[]) {\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  return React.useCallback(composeRefs(...refs), refs);\n}\n\nexport { composeRefs, useComposedRefs };\n","import * as React from 'react';\n\n/**\n * On the server, React emits a warning when calling `useLayoutEffect`.\n * This is because neither `useLayoutEffect` nor `useEffect` run on the server.\n * We use this safe version which suppresses the warning by replacing it with a noop on the server.\n *\n * See: https://reactjs.org/docs/hooks-reference.html#uselayouteffect\n */\nconst useLayoutEffect = Boolean(globalThis?.document) ? React.useLayoutEffect : () => {};\n\nexport { useLayoutEffect };\n","import * as React from 'react';\nimport { useLayoutEffect } from '@radix-ui/react-use-layout-effect';\n\n// We `toString()` to prevent bundlers from trying to `import { useId } from 'react';`\nconst useReactId = (React as any)['useId'.toString()] || (() => undefined);\nlet count = 0;\n\nfunction useId(deterministicId?: string): string {\n  const [id, setId] = React.useState<string | undefined>(useReactId());\n  // React versions older than 18 will have client-side ids only.\n  useLayoutEffect(() => {\n    if (!deterministicId) setId((reactId) => reactId ?? String(count++));\n  }, [deterministicId]);\n  return deterministicId || (id ? `radix-${id}` : '');\n}\n\nexport { useId };\n","import * as React from 'react';\n\ntype PossibleRef<T> = React.Ref<T> | undefined;\n\n/**\n * Set a given ref to a given value\n * This utility takes care of different types of refs: callback refs and RefObject(s)\n */\nfunction setRef<T>(ref: PossibleRef<T>, value: T) {\n  if (typeof ref === 'function') {\n    ref(value);\n  } else if (ref !== null && ref !== undefined) {\n    (ref as React.MutableRefObject<T>).current = value;\n  }\n}\n\n/**\n * A utility to compose multiple refs together\n * Accepts callback refs and RefObject(s)\n */\nfunction composeRefs<T>(...refs: PossibleRef<T>[]) {\n  return (node: T) => refs.forEach((ref) => setRef(ref, node));\n}\n\n/**\n * A custom hook that composes multiple refs\n * Accepts callback refs and RefObject(s)\n */\nfunction useComposedRefs<T>(...refs: PossibleRef<T>[]) {\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  return React.useCallback(composeRefs(...refs), refs);\n}\n\nexport { composeRefs, useComposedRefs };\n","import * as React from 'react';\nimport { composeRefs } from '@radix-ui/react-compose-refs';\n\n/* -------------------------------------------------------------------------------------------------\n * Slot\n * -----------------------------------------------------------------------------------------------*/\n\ninterface SlotProps extends React.HTMLAttributes<HTMLElement> {\n  children?: React.ReactNode;\n}\n\nconst Slot = React.forwardRef<HTMLElement, SlotProps>((props, forwardedRef) => {\n  const { children, ...slotProps } = props;\n  const childrenArray = React.Children.toArray(children);\n  const slottable = childrenArray.find(isSlottable);\n\n  if (slottable) {\n    // the new element to render is the one passed as a child of `Slottable`\n    const newElement = slottable.props.children as React.ReactNode;\n\n    const newChildren = childrenArray.map((child) => {\n      if (child === slottable) {\n        // because the new element will be the one rendered, we are only interested\n        // in grabbing its children (`newElement.props.children`)\n        if (React.Children.count(newElement) > 1) return React.Children.only(null);\n        return React.isValidElement(newElement)\n          ? (newElement.props.children as React.ReactNode)\n          : null;\n      } else {\n        return child;\n      }\n    });\n\n    return (\n      <SlotClone {...slotProps} ref={forwardedRef}>\n        {React.isValidElement(newElement)\n          ? React.cloneElement(newElement, undefined, newChildren)\n          : null}\n      </SlotClone>\n    );\n  }\n\n  return (\n    <SlotClone {...slotProps} ref={forwardedRef}>\n      {children}\n    </SlotClone>\n  );\n});\n\nSlot.displayName = 'Slot';\n\n/* -------------------------------------------------------------------------------------------------\n * SlotClone\n * -----------------------------------------------------------------------------------------------*/\n\ninterface SlotCloneProps {\n  children: React.ReactNode;\n}\n\nconst SlotClone = React.forwardRef<any, SlotCloneProps>((props, forwardedRef) => {\n  const { children, ...slotProps } = props;\n\n  if (React.isValidElement(children)) {\n    return React.cloneElement(children, {\n      ...mergeProps(slotProps, children.props),\n      ref: forwardedRef ? composeRefs(forwardedRef, (children as any).ref) : (children as any).ref,\n    });\n  }\n\n  return React.Children.count(children) > 1 ? React.Children.only(null) : null;\n});\n\nSlotClone.displayName = 'SlotClone';\n\n/* -------------------------------------------------------------------------------------------------\n * Slottable\n * -----------------------------------------------------------------------------------------------*/\n\nconst Slottable = ({ children }: { children: React.ReactNode }) => {\n  return <>{children}</>;\n};\n\n/* ---------------------------------------------------------------------------------------------- */\n\ntype AnyProps = Record<string, any>;\n\nfunction isSlottable(child: React.ReactNode): child is React.ReactElement {\n  return React.isValidElement(child) && child.type === Slottable;\n}\n\nfunction mergeProps(slotProps: AnyProps, childProps: AnyProps) {\n  // all child props should override\n  const overrideProps = { ...childProps };\n\n  for (const propName in childProps) {\n    const slotPropValue = slotProps[propName];\n    const childPropValue = childProps[propName];\n\n    const isHandler = /^on[A-Z]/.test(propName);\n    if (isHandler) {\n      // if the handler exists on both, we compose them\n      if (slotPropValue && childPropValue) {\n        overrideProps[propName] = (...args: unknown[]) => {\n          childPropValue(...args);\n          slotPropValue(...args);\n        };\n      }\n      // but if it exists only on the slot, we use only this one\n      else if (slotPropValue) {\n        overrideProps[propName] = slotPropValue;\n      }\n    }\n    // if it's `style`, we merge them\n    else if (propName === 'style') {\n      overrideProps[propName] = { ...slotPropValue, ...childPropValue };\n    } else if (propName === 'className') {\n      overrideProps[propName] = [slotPropValue, childPropValue].filter(Boolean).join(' ');\n    }\n  }\n\n  return { ...slotProps, ...overrideProps };\n}\n\nconst Root = Slot;\n\nexport {\n  Slot,\n  Slottable,\n  //\n  Root,\n};\nexport type { SlotProps };\n","import * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { Slot } from '@radix-ui/react-slot';\n\nconst NODES = [\n  'a',\n  'button',\n  'div',\n  'form',\n  'h2',\n  'h3',\n  'img',\n  'input',\n  'label',\n  'li',\n  'nav',\n  'ol',\n  'p',\n  'span',\n  'svg',\n  'ul',\n] as const;\n\n// Temporary while we await merge of this fix:\n// https://github.com/DefinitelyTyped/DefinitelyTyped/pull/55396\n// prettier-ignore\ntype PropsWithoutRef<P> = P extends any ? ('ref' extends keyof P ? Pick<P, Exclude<keyof P, 'ref'>> : P) : P;\ntype ComponentPropsWithoutRef<T extends React.ElementType> = PropsWithoutRef<\n  React.ComponentProps<T>\n>;\n\ntype Primitives = { [E in typeof NODES[number]]: PrimitiveForwardRefComponent<E> };\ntype PrimitivePropsWithRef<E extends React.ElementType> = React.ComponentPropsWithRef<E> & {\n  asChild?: boolean;\n};\n\ninterface PrimitiveForwardRefComponent<E extends React.ElementType>\n  extends React.ForwardRefExoticComponent<PrimitivePropsWithRef<E>> {}\n\n/* -------------------------------------------------------------------------------------------------\n * Primitive\n * -----------------------------------------------------------------------------------------------*/\n\nconst Primitive = NODES.reduce((primitive, node) => {\n  const Node = React.forwardRef((props: PrimitivePropsWithRef<typeof node>, forwardedRef: any) => {\n    const { asChild, ...primitiveProps } = props;\n    const Comp: any = asChild ? Slot : node;\n\n    React.useEffect(() => {\n      (window as any)[Symbol.for('radix-ui')] = true;\n    }, []);\n\n    return <Comp {...primitiveProps} ref={forwardedRef} />;\n  });\n\n  Node.displayName = `Primitive.${node}`;\n\n  return { ...primitive, [node]: Node };\n}, {} as Primitives);\n\n/* -------------------------------------------------------------------------------------------------\n * Utils\n * -----------------------------------------------------------------------------------------------*/\n\n/**\n * Flush custom event dispatch\n * https://github.com/radix-ui/primitives/pull/1378\n *\n * React batches *all* event handlers since version 18, this introduces certain considerations when using custom event types.\n *\n * Internally, React prioritises events in the following order:\n *  - discrete\n *  - continuous\n *  - default\n *\n * https://github.com/facebook/react/blob/a8a4742f1c54493df00da648a3f9d26e3db9c8b5/packages/react-dom/src/events/ReactDOMEventListener.js#L294-L350\n *\n * `discrete` is an  important distinction as updates within these events are applied immediately.\n * React however, is not able to infer the priority of custom event types due to how they are detected internally.\n * Because of this, it's possible for updates from custom events to be unexpectedly batched when\n * dispatched by another `discrete` event.\n *\n * In order to ensure that updates from custom events are applied predictably, we need to manually flush the batch.\n * This utility should be used when dispatching a custom event from within another `discrete` event, this utility\n * is not nessesary when dispatching known event types, or if dispatching a custom type inside a non-discrete event.\n * For example:\n *\n * dispatching a known click ðŸ‘Ž\n * target.dispatchEvent(new Event(â€˜clickâ€™))\n *\n * dispatching a custom type within a non-discrete event ðŸ‘Ž\n * onScroll={(event) => event.target.dispatchEvent(new CustomEvent(â€˜customTypeâ€™))}\n *\n * dispatching a custom type within a `discrete` event ðŸ‘\n * onPointerDown={(event) => dispatchDiscreteCustomEvent(event.target, new CustomEvent(â€˜customTypeâ€™))}\n *\n * Note: though React classifies `focus`, `focusin` and `focusout` events as `discrete`, it's  not recommended to use\n * this utility with them. This is because it's possible for those handlers to be called implicitly during render\n * e.g. when focus is within a component as it is unmounted, or when managing focus on mount.\n */\n\nfunction dispatchDiscreteCustomEvent<E extends CustomEvent>(target: E['target'], event: E) {\n  if (target) ReactDOM.flushSync(() => target.dispatchEvent(event));\n}\n\n/* -----------------------------------------------------------------------------------------------*/\n\nconst Root = Primitive;\n\nexport {\n  Primitive,\n  //\n  Root,\n  //\n  dispatchDiscreteCustomEvent,\n};\nexport type { ComponentPropsWithoutRef, PrimitivePropsWithRef };\n","import * as React from 'react';\n\n/**\n * A custom hook that converts a callback to a ref to avoid triggering re-renders when passed as a\n * prop or avoid re-executing effects when passed as a dependency\n */\nfunction useCallbackRef<T extends (...args: any[]) => any>(callback: T | undefined): T {\n  const callbackRef = React.useRef(callback);\n\n  React.useEffect(() => {\n    callbackRef.current = callback;\n  });\n\n  // https://github.com/facebook/react/issues/19240\n  return React.useMemo(() => ((...args) => callbackRef.current?.(...args)) as T, []);\n}\n\nexport { useCallbackRef };\n","import * as React from 'react';\nimport { useCallbackRef } from '@radix-ui/react-use-callback-ref';\n\ntype UseControllableStateParams<T> = {\n  prop?: T | undefined;\n  defaultProp?: T | undefined;\n  onChange?: (state: T) => void;\n};\n\ntype SetStateFn<T> = (prevState?: T) => T;\n\nfunction useControllableState<T>({\n  prop,\n  defaultProp,\n  onChange = () => {},\n}: UseControllableStateParams<T>) {\n  const [uncontrolledProp, setUncontrolledProp] = useUncontrolledState({ defaultProp, onChange });\n  const isControlled = prop !== undefined;\n  const value = isControlled ? prop : uncontrolledProp;\n  const handleChange = useCallbackRef(onChange);\n\n  const setValue: React.Dispatch<React.SetStateAction<T | undefined>> = React.useCallback(\n    (nextValue) => {\n      if (isControlled) {\n        const setter = nextValue as SetStateFn<T>;\n        const value = typeof nextValue === 'function' ? setter(prop) : nextValue;\n        if (value !== prop) handleChange(value as T);\n      } else {\n        setUncontrolledProp(nextValue);\n      }\n    },\n    [isControlled, prop, setUncontrolledProp, handleChange]\n  );\n\n  return [value, setValue] as const;\n}\n\nfunction useUncontrolledState<T>({\n  defaultProp,\n  onChange,\n}: Omit<UseControllableStateParams<T>, 'prop'>) {\n  const uncontrolledState = React.useState<T | undefined>(defaultProp);\n  const [value] = uncontrolledState;\n  const prevValueRef = React.useRef(value);\n  const handleChange = useCallbackRef(onChange);\n\n  React.useEffect(() => {\n    if (prevValueRef.current !== value) {\n      handleChange(value as T);\n      prevValueRef.current = value;\n    }\n  }, [value, prevValueRef, handleChange]);\n\n  return uncontrolledState;\n}\n\nexport { useControllableState };\n","import * as React from 'react';\n\ntype Direction = 'ltr' | 'rtl';\nconst DirectionContext = React.createContext<Direction | undefined>(undefined);\n\n/* -------------------------------------------------------------------------------------------------\n * Direction\n * -----------------------------------------------------------------------------------------------*/\n\ninterface DirectionProviderProps {\n  children?: React.ReactNode;\n  dir: Direction;\n}\nconst DirectionProvider: React.FC<DirectionProviderProps> = (props) => {\n  const { dir, children } = props;\n  return <DirectionContext.Provider value={dir}>{children}</DirectionContext.Provider>;\n};\n\n/* -----------------------------------------------------------------------------------------------*/\n\nfunction useDirection(localDir?: Direction) {\n  const globalDir = React.useContext(DirectionContext);\n  return localDir || globalDir || 'ltr';\n}\n\nconst Provider = DirectionProvider;\n\nexport {\n  useDirection,\n  //\n  Provider,\n  //\n  DirectionProvider,\n};\n","import * as React from 'react';\nimport { composeEventHandlers } from '@radix-ui/primitive';\nimport { createCollection } from '@radix-ui/react-collection';\nimport { useComposedRefs } from '@radix-ui/react-compose-refs';\nimport { createContextScope } from '@radix-ui/react-context';\nimport { useId } from '@radix-ui/react-id';\nimport { Primitive } from '@radix-ui/react-primitive';\nimport { useCallbackRef } from '@radix-ui/react-use-callback-ref';\nimport { useControllableState } from '@radix-ui/react-use-controllable-state';\nimport { useDirection } from '@radix-ui/react-direction';\n\nimport type * as Radix from '@radix-ui/react-primitive';\nimport type { Scope } from '@radix-ui/react-context';\n\nconst ENTRY_FOCUS = 'rovingFocusGroup.onEntryFocus';\nconst EVENT_OPTIONS = { bubbles: false, cancelable: true };\n\n/* -------------------------------------------------------------------------------------------------\n * RovingFocusGroup\n * -----------------------------------------------------------------------------------------------*/\n\nconst GROUP_NAME = 'RovingFocusGroup';\n\ntype ItemData = { id: string; focusable: boolean; active: boolean };\nconst [Collection, useCollection, createCollectionScope] = createCollection<\n  HTMLSpanElement,\n  ItemData\n>(GROUP_NAME);\n\ntype ScopedProps<P> = P & { __scopeRovingFocusGroup?: Scope };\nconst [createRovingFocusGroupContext, createRovingFocusGroupScope] = createContextScope(\n  GROUP_NAME,\n  [createCollectionScope]\n);\n\ntype Orientation = React.AriaAttributes['aria-orientation'];\ntype Direction = 'ltr' | 'rtl';\n\ninterface RovingFocusGroupOptions {\n  /**\n   * The orientation of the group.\n   * Mainly so arrow navigation is done accordingly (left & right vs. up & down)\n   */\n  orientation?: Orientation;\n  /**\n   * The direction of navigation between items.\n   */\n  dir?: Direction;\n  /**\n   * Whether keyboard navigation should loop around\n   * @defaultValue false\n   */\n  loop?: boolean;\n}\n\ntype RovingContextValue = RovingFocusGroupOptions & {\n  currentTabStopId: string | null;\n  onItemFocus(tabStopId: string): void;\n  onItemShiftTab(): void;\n  onFocusableItemAdd(): void;\n  onFocusableItemRemove(): void;\n};\n\nconst [RovingFocusProvider, useRovingFocusContext] =\n  createRovingFocusGroupContext<RovingContextValue>(GROUP_NAME);\n\ntype RovingFocusGroupElement = RovingFocusGroupImplElement;\ninterface RovingFocusGroupProps extends RovingFocusGroupImplProps {}\n\nconst RovingFocusGroup = React.forwardRef<RovingFocusGroupElement, RovingFocusGroupProps>(\n  (props: ScopedProps<RovingFocusGroupProps>, forwardedRef) => {\n    return (\n      <Collection.Provider scope={props.__scopeRovingFocusGroup}>\n        <Collection.Slot scope={props.__scopeRovingFocusGroup}>\n          <RovingFocusGroupImpl {...props} ref={forwardedRef} />\n        </Collection.Slot>\n      </Collection.Provider>\n    );\n  }\n);\n\nRovingFocusGroup.displayName = GROUP_NAME;\n\n/* -----------------------------------------------------------------------------------------------*/\n\ntype RovingFocusGroupImplElement = React.ElementRef<typeof Primitive.div>;\ntype PrimitiveDivProps = Radix.ComponentPropsWithoutRef<typeof Primitive.div>;\ninterface RovingFocusGroupImplProps\n  extends Omit<PrimitiveDivProps, 'dir'>,\n    RovingFocusGroupOptions {\n  currentTabStopId?: string | null;\n  defaultCurrentTabStopId?: string;\n  onCurrentTabStopIdChange?: (tabStopId: string | null) => void;\n  onEntryFocus?: (event: Event) => void;\n}\n\nconst RovingFocusGroupImpl = React.forwardRef<\n  RovingFocusGroupImplElement,\n  RovingFocusGroupImplProps\n>((props: ScopedProps<RovingFocusGroupImplProps>, forwardedRef) => {\n  const {\n    __scopeRovingFocusGroup,\n    orientation,\n    loop = false,\n    dir,\n    currentTabStopId: currentTabStopIdProp,\n    defaultCurrentTabStopId,\n    onCurrentTabStopIdChange,\n    onEntryFocus,\n    ...groupProps\n  } = props;\n  const ref = React.useRef<RovingFocusGroupImplElement>(null);\n  const composedRefs = useComposedRefs(forwardedRef, ref);\n  const direction = useDirection(dir);\n  const [currentTabStopId = null, setCurrentTabStopId] = useControllableState({\n    prop: currentTabStopIdProp,\n    defaultProp: defaultCurrentTabStopId,\n    onChange: onCurrentTabStopIdChange,\n  });\n  const [isTabbingBackOut, setIsTabbingBackOut] = React.useState(false);\n  const handleEntryFocus = useCallbackRef(onEntryFocus);\n  const getItems = useCollection(__scopeRovingFocusGroup);\n  const isClickFocusRef = React.useRef(false);\n  const [focusableItemsCount, setFocusableItemsCount] = React.useState(0);\n\n  React.useEffect(() => {\n    const node = ref.current;\n    if (node) {\n      node.addEventListener(ENTRY_FOCUS, handleEntryFocus);\n      return () => node.removeEventListener(ENTRY_FOCUS, handleEntryFocus);\n    }\n  }, [handleEntryFocus]);\n\n  return (\n    <RovingFocusProvider\n      scope={__scopeRovingFocusGroup}\n      orientation={orientation}\n      dir={direction}\n      loop={loop}\n      currentTabStopId={currentTabStopId}\n      onItemFocus={React.useCallback(\n        (tabStopId) => setCurrentTabStopId(tabStopId),\n        [setCurrentTabStopId]\n      )}\n      onItemShiftTab={React.useCallback(() => setIsTabbingBackOut(true), [])}\n      onFocusableItemAdd={React.useCallback(\n        () => setFocusableItemsCount((prevCount) => prevCount + 1),\n        []\n      )}\n      onFocusableItemRemove={React.useCallback(\n        () => setFocusableItemsCount((prevCount) => prevCount - 1),\n        []\n      )}\n    >\n      <Primitive.div\n        tabIndex={isTabbingBackOut || focusableItemsCount === 0 ? -1 : 0}\n        data-orientation={orientation}\n        {...groupProps}\n        ref={composedRefs}\n        style={{ outline: 'none', ...props.style }}\n        onMouseDown={composeEventHandlers(props.onMouseDown, () => {\n          isClickFocusRef.current = true;\n        })}\n        onFocus={composeEventHandlers(props.onFocus, (event) => {\n          // We normally wouldn't need this check, because we already check\n          // that the focus is on the current target and not bubbling to it.\n          // We do this because Safari doesn't focus buttons when clicked, and\n          // instead, the wrapper will get focused and not through a bubbling event.\n          const isKeyboardFocus = !isClickFocusRef.current;\n\n          if (event.target === event.currentTarget && isKeyboardFocus && !isTabbingBackOut) {\n            const entryFocusEvent = new CustomEvent(ENTRY_FOCUS, EVENT_OPTIONS);\n            event.currentTarget.dispatchEvent(entryFocusEvent);\n\n            if (!entryFocusEvent.defaultPrevented) {\n              const items = getItems().filter((item) => item.focusable);\n              const activeItem = items.find((item) => item.active);\n              const currentItem = items.find((item) => item.id === currentTabStopId);\n              const candidateItems = [activeItem, currentItem, ...items].filter(\n                Boolean\n              ) as typeof items;\n              const candidateNodes = candidateItems.map((item) => item.ref.current!);\n              focusFirst(candidateNodes);\n            }\n          }\n\n          isClickFocusRef.current = false;\n        })}\n        onBlur={composeEventHandlers(props.onBlur, () => setIsTabbingBackOut(false))}\n      />\n    </RovingFocusProvider>\n  );\n});\n\n/* -------------------------------------------------------------------------------------------------\n * RovingFocusGroupItem\n * -----------------------------------------------------------------------------------------------*/\n\nconst ITEM_NAME = 'RovingFocusGroupItem';\n\ntype RovingFocusItemElement = React.ElementRef<typeof Primitive.span>;\ntype PrimitiveSpanProps = Radix.ComponentPropsWithoutRef<typeof Primitive.span>;\ninterface RovingFocusItemProps extends PrimitiveSpanProps {\n  tabStopId?: string;\n  focusable?: boolean;\n  active?: boolean;\n}\n\nconst RovingFocusGroupItem = React.forwardRef<RovingFocusItemElement, RovingFocusItemProps>(\n  (props: ScopedProps<RovingFocusItemProps>, forwardedRef) => {\n    const {\n      __scopeRovingFocusGroup,\n      focusable = true,\n      active = false,\n      tabStopId,\n      ...itemProps\n    } = props;\n    const autoId = useId();\n    const id = tabStopId || autoId;\n    const context = useRovingFocusContext(ITEM_NAME, __scopeRovingFocusGroup);\n    const isCurrentTabStop = context.currentTabStopId === id;\n    const getItems = useCollection(__scopeRovingFocusGroup);\n\n    const { onFocusableItemAdd, onFocusableItemRemove } = context;\n\n    React.useEffect(() => {\n      if (focusable) {\n        onFocusableItemAdd();\n        return () => onFocusableItemRemove();\n      }\n    }, [focusable, onFocusableItemAdd, onFocusableItemRemove]);\n\n    return (\n      <Collection.ItemSlot\n        scope={__scopeRovingFocusGroup}\n        id={id}\n        focusable={focusable}\n        active={active}\n      >\n        <Primitive.span\n          tabIndex={isCurrentTabStop ? 0 : -1}\n          data-orientation={context.orientation}\n          {...itemProps}\n          ref={forwardedRef}\n          onMouseDown={composeEventHandlers(props.onMouseDown, (event) => {\n            // We prevent focusing non-focusable items on `mousedown`.\n            // Even though the item has tabIndex={-1}, that only means take it out of the tab order.\n            if (!focusable) event.preventDefault();\n            // Safari doesn't focus a button when clicked so we run our logic on mousedown also\n            else context.onItemFocus(id);\n          })}\n          onFocus={composeEventHandlers(props.onFocus, () => context.onItemFocus(id))}\n          onKeyDown={composeEventHandlers(props.onKeyDown, (event) => {\n            if (event.key === 'Tab' && event.shiftKey) {\n              context.onItemShiftTab();\n              return;\n            }\n\n            if (event.target !== event.currentTarget) return;\n\n            const focusIntent = getFocusIntent(event, context.orientation, context.dir);\n\n            if (focusIntent !== undefined) {\n              event.preventDefault();\n              const items = getItems().filter((item) => item.focusable);\n              let candidateNodes = items.map((item) => item.ref.current!);\n\n              if (focusIntent === 'last') candidateNodes.reverse();\n              else if (focusIntent === 'prev' || focusIntent === 'next') {\n                if (focusIntent === 'prev') candidateNodes.reverse();\n                const currentIndex = candidateNodes.indexOf(event.currentTarget);\n                candidateNodes = context.loop\n                  ? wrapArray(candidateNodes, currentIndex + 1)\n                  : candidateNodes.slice(currentIndex + 1);\n              }\n\n              /**\n               * Imperative focus during keydown is risky so we prevent React's batching updates\n               * to avoid potential bugs. See: https://github.com/facebook/react/issues/20332\n               */\n              setTimeout(() => focusFirst(candidateNodes));\n            }\n          })}\n        />\n      </Collection.ItemSlot>\n    );\n  }\n);\n\nRovingFocusGroupItem.displayName = ITEM_NAME;\n\n/* -----------------------------------------------------------------------------------------------*/\n\n// prettier-ignore\nconst MAP_KEY_TO_FOCUS_INTENT: Record<string, FocusIntent> = {\n  ArrowLeft: 'prev', ArrowUp: 'prev',\n  ArrowRight: 'next', ArrowDown: 'next',\n  PageUp: 'first', Home: 'first',\n  PageDown: 'last', End: 'last',\n};\n\nfunction getDirectionAwareKey(key: string, dir?: Direction) {\n  if (dir !== 'rtl') return key;\n  return key === 'ArrowLeft' ? 'ArrowRight' : key === 'ArrowRight' ? 'ArrowLeft' : key;\n}\n\ntype FocusIntent = 'first' | 'last' | 'prev' | 'next';\n\nfunction getFocusIntent(event: React.KeyboardEvent, orientation?: Orientation, dir?: Direction) {\n  const key = getDirectionAwareKey(event.key, dir);\n  if (orientation === 'vertical' && ['ArrowLeft', 'ArrowRight'].includes(key)) return undefined;\n  if (orientation === 'horizontal' && ['ArrowUp', 'ArrowDown'].includes(key)) return undefined;\n  return MAP_KEY_TO_FOCUS_INTENT[key];\n}\n\nfunction focusFirst(candidates: HTMLElement[]) {\n  const PREVIOUSLY_FOCUSED_ELEMENT = document.activeElement;\n  for (const candidate of candidates) {\n    // if focus is already where we want to go, we don't want to keep going through the candidates\n    if (candidate === PREVIOUSLY_FOCUSED_ELEMENT) return;\n    candidate.focus();\n    if (document.activeElement !== PREVIOUSLY_FOCUSED_ELEMENT) return;\n  }\n}\n\n/**\n * Wraps an array around itself at a given start index\n * Example: `wrapArray(['a', 'b', 'c', 'd'], 2) === ['c', 'd', 'a', 'b']`\n */\nfunction wrapArray<T>(array: T[], startIndex: number) {\n  return array.map((_, index) => array[(startIndex + index) % array.length]);\n}\n\nconst Root = RovingFocusGroup;\nconst Item = RovingFocusGroupItem;\n\nexport {\n  createRovingFocusGroupScope,\n  //\n  RovingFocusGroup,\n  RovingFocusGroupItem,\n  //\n  Root,\n  Item,\n};\nexport type { RovingFocusGroupProps, RovingFocusItemProps };\n","import * as React from 'react';\nimport { Primitive } from '@radix-ui/react-primitive';\n\nimport type * as Radix from '@radix-ui/react-primitive';\n\n/* -------------------------------------------------------------------------------------------------\n *  Separator\n * -----------------------------------------------------------------------------------------------*/\n\nconst NAME = 'Separator';\nconst DEFAULT_ORIENTATION = 'horizontal';\nconst ORIENTATIONS = ['horizontal', 'vertical'] as const;\n\ntype Orientation = typeof ORIENTATIONS[number];\ntype SeparatorElement = React.ElementRef<typeof Primitive.div>;\ntype PrimitiveDivProps = Radix.ComponentPropsWithoutRef<typeof Primitive.div>;\ninterface SeparatorProps extends PrimitiveDivProps {\n  /**\n   * Either `vertical` or `horizontal`. Defaults to `horizontal`.\n   */\n  orientation?: Orientation;\n  /**\n   * Whether or not the component is purely decorative. When true, accessibility-related attributes\n   * are updated so that that the rendered element is removed from the accessibility tree.\n   */\n  decorative?: boolean;\n}\n\nconst Separator = React.forwardRef<SeparatorElement, SeparatorProps>((props, forwardedRef) => {\n  const { decorative, orientation: orientationProp = DEFAULT_ORIENTATION, ...domProps } = props;\n  const orientation = isValidOrientation(orientationProp) ? orientationProp : DEFAULT_ORIENTATION;\n  // `aria-orientation` defaults to `horizontal` so we only need it if `orientation` is vertical\n  const ariaOrientation = orientation === 'vertical' ? orientation : undefined;\n  const semanticProps = decorative\n    ? { role: 'none' }\n    : { 'aria-orientation': ariaOrientation, role: 'separator' };\n\n  return (\n    <Primitive.div\n      data-orientation={orientation}\n      {...semanticProps}\n      {...domProps}\n      ref={forwardedRef}\n    />\n  );\n});\n\nSeparator.displayName = NAME;\n\nSeparator.propTypes = {\n  orientation(props, propName, componentName) {\n    const propValue = props[propName];\n    const strVal = String(propValue);\n    if (propValue && !isValidOrientation(propValue)) {\n      return new Error(getInvalidOrientationError(strVal, componentName));\n    }\n    return null;\n  },\n};\n\n/* -----------------------------------------------------------------------------------------------*/\n\n// Split this out for clearer readability of the error message.\nfunction getInvalidOrientationError(value: string, componentName: string) {\n  return `Invalid prop \\`orientation\\` of value \\`${value}\\` supplied to \\`${componentName}\\`, expected one of:\n  - horizontal\n  - vertical\n\nDefaulting to \\`${DEFAULT_ORIENTATION}\\`.`;\n}\n\nfunction isValidOrientation(orientation: any): orientation is Orientation {\n  return ORIENTATIONS.includes(orientation);\n}\n\nconst Root = Separator;\n\nexport {\n  Separator,\n  //\n  Root,\n};\nexport type { SeparatorProps };\n","import * as React from 'react';\nimport { composeEventHandlers } from '@radix-ui/primitive';\nimport { useControllableState } from '@radix-ui/react-use-controllable-state';\nimport { Primitive } from '@radix-ui/react-primitive';\n\nimport type * as Radix from '@radix-ui/react-primitive';\n\n/* -------------------------------------------------------------------------------------------------\n * Toggle\n * -----------------------------------------------------------------------------------------------*/\n\nconst NAME = 'Toggle';\n\ntype ToggleElement = React.ElementRef<typeof Primitive.button>;\ntype PrimitiveButtonProps = Radix.ComponentPropsWithoutRef<typeof Primitive.button>;\ninterface ToggleProps extends PrimitiveButtonProps {\n  /**\n   * The controlled state of the toggle.\n   */\n  pressed?: boolean;\n  /**\n   * The state of the toggle when initially rendered. Use `defaultPressed`\n   * if you do not need to control the state of the toggle.\n   * @defaultValue false\n   */\n  defaultPressed?: boolean;\n  /**\n   * The callback that fires when the state of the toggle changes.\n   */\n  onPressedChange?(pressed: boolean): void;\n}\n\nconst Toggle = React.forwardRef<ToggleElement, ToggleProps>((props, forwardedRef) => {\n  const { pressed: pressedProp, defaultPressed = false, onPressedChange, ...buttonProps } = props;\n\n  const [pressed = false, setPressed] = useControllableState({\n    prop: pressedProp,\n    onChange: onPressedChange,\n    defaultProp: defaultPressed,\n  });\n\n  return (\n    <Primitive.button\n      type=\"button\"\n      aria-pressed={pressed}\n      data-state={pressed ? 'on' : 'off'}\n      data-disabled={props.disabled ? '' : undefined}\n      {...buttonProps}\n      ref={forwardedRef}\n      onClick={composeEventHandlers(props.onClick, () => {\n        if (!props.disabled) {\n          setPressed(!pressed);\n        }\n      })}\n    />\n  );\n});\n\nToggle.displayName = NAME;\n\n/* ---------------------------------------------------------------------------------------------- */\n\nconst Root = Toggle;\n\nexport {\n  Toggle,\n  //\n  Root,\n};\nexport type { ToggleProps };\n","import React from 'react';\nimport { createContextScope } from '@radix-ui/react-context';\nimport { Primitive } from '@radix-ui/react-primitive';\nimport * as RovingFocusGroup from '@radix-ui/react-roving-focus';\nimport { createRovingFocusGroupScope } from '@radix-ui/react-roving-focus';\nimport { Toggle } from '@radix-ui/react-toggle';\nimport { useControllableState } from '@radix-ui/react-use-controllable-state';\nimport { useDirection } from '@radix-ui/react-direction';\n\nimport type * as Radix from '@radix-ui/react-primitive';\nimport type { Scope } from '@radix-ui/react-context';\n\n/* -------------------------------------------------------------------------------------------------\n * ToggleGroup\n * -----------------------------------------------------------------------------------------------*/\n\nconst TOGGLE_GROUP_NAME = 'ToggleGroup';\n\ntype ScopedProps<P> = P & { __scopeToggleGroup?: Scope };\nconst [createToggleGroupContext, createToggleGroupScope] = createContextScope(TOGGLE_GROUP_NAME, [\n  createRovingFocusGroupScope,\n]);\nconst useRovingFocusGroupScope = createRovingFocusGroupScope();\n\ntype ToggleGroupElement = ToggleGroupImplSingleElement | ToggleGroupImplMultipleElement;\ninterface ToggleGroupSingleProps extends ToggleGroupImplSingleProps {\n  type: 'single';\n}\ninterface ToggleGroupMultipleProps extends ToggleGroupImplMultipleProps {\n  type: 'multiple';\n}\n\nconst ToggleGroup = React.forwardRef<\n  ToggleGroupElement,\n  ToggleGroupSingleProps | ToggleGroupMultipleProps\n>((props, forwardedRef) => {\n  const { type, ...toggleGroupProps } = props;\n\n  if (type === 'single') {\n    const singleProps = toggleGroupProps as ToggleGroupImplSingleProps;\n    return <ToggleGroupImplSingle {...singleProps} ref={forwardedRef} />;\n  }\n\n  if (type === 'multiple') {\n    const multipleProps = toggleGroupProps as ToggleGroupImplMultipleProps;\n    return <ToggleGroupImplMultiple {...multipleProps} ref={forwardedRef} />;\n  }\n\n  throw new Error(`Missing prop \\`type\\` expected on \\`${TOGGLE_GROUP_NAME}\\``);\n});\n\nToggleGroup.displayName = TOGGLE_GROUP_NAME;\n\n/* -----------------------------------------------------------------------------------------------*/\n\ntype ToggleGroupValueContextValue = {\n  type: 'single' | 'multiple';\n  value: string[];\n  onItemActivate(value: string): void;\n  onItemDeactivate(value: string): void;\n};\n\nconst [ToggleGroupValueProvider, useToggleGroupValueContext] =\n  createToggleGroupContext<ToggleGroupValueContextValue>(TOGGLE_GROUP_NAME);\n\ntype ToggleGroupImplSingleElement = ToggleGroupImplElement;\ninterface ToggleGroupImplSingleProps extends ToggleGroupImplProps {\n  /**\n   * The controlled stateful value of the item that is pressed.\n   */\n  value?: string;\n  /**\n   * The value of the item that is pressed when initially rendered. Use\n   * `defaultValue` if you do not need to control the state of a toggle group.\n   */\n  defaultValue?: string;\n  /**\n   * The callback that fires when the value of the toggle group changes.\n   */\n  onValueChange?(value: string): void;\n}\n\nconst ToggleGroupImplSingle = React.forwardRef<\n  ToggleGroupImplSingleElement,\n  ToggleGroupImplSingleProps\n>((props: ScopedProps<ToggleGroupImplSingleProps>, forwardedRef) => {\n  const {\n    value: valueProp,\n    defaultValue,\n    onValueChange = () => {},\n    ...toggleGroupSingleProps\n  } = props;\n\n  const [value, setValue] = useControllableState({\n    prop: valueProp,\n    defaultProp: defaultValue,\n    onChange: onValueChange,\n  });\n\n  return (\n    <ToggleGroupValueProvider\n      scope={props.__scopeToggleGroup}\n      type=\"single\"\n      value={value ? [value] : []}\n      onItemActivate={setValue}\n      onItemDeactivate={React.useCallback(() => setValue(''), [setValue])}\n    >\n      <ToggleGroupImpl {...toggleGroupSingleProps} ref={forwardedRef} />\n    </ToggleGroupValueProvider>\n  );\n});\n\ntype ToggleGroupImplMultipleElement = ToggleGroupImplElement;\ninterface ToggleGroupImplMultipleProps extends ToggleGroupImplProps {\n  /**\n   * The controlled stateful value of the items that are pressed.\n   */\n  value?: string[];\n  /**\n   * The value of the items that are pressed when initially rendered. Use\n   * `defaultValue` if you do not need to control the state of a toggle group.\n   */\n  defaultValue?: string[];\n  /**\n   * The callback that fires when the state of the toggle group changes.\n   */\n  onValueChange?(value: string[]): void;\n}\n\nconst ToggleGroupImplMultiple = React.forwardRef<\n  ToggleGroupImplMultipleElement,\n  ToggleGroupImplMultipleProps\n>((props: ScopedProps<ToggleGroupImplMultipleProps>, forwardedRef) => {\n  const {\n    value: valueProp,\n    defaultValue,\n    onValueChange = () => {},\n    ...toggleGroupMultipleProps\n  } = props;\n\n  const [value = [], setValue] = useControllableState({\n    prop: valueProp,\n    defaultProp: defaultValue,\n    onChange: onValueChange,\n  });\n\n  const handleButtonActivate = React.useCallback(\n    (itemValue: string) => setValue((prevValue = []) => [...prevValue, itemValue]),\n    [setValue]\n  );\n\n  const handleButtonDeactivate = React.useCallback(\n    (itemValue: string) =>\n      setValue((prevValue = []) => prevValue.filter((value) => value !== itemValue)),\n    [setValue]\n  );\n\n  return (\n    <ToggleGroupValueProvider\n      scope={props.__scopeToggleGroup}\n      type=\"multiple\"\n      value={value}\n      onItemActivate={handleButtonActivate}\n      onItemDeactivate={handleButtonDeactivate}\n    >\n      <ToggleGroupImpl {...toggleGroupMultipleProps} ref={forwardedRef} />\n    </ToggleGroupValueProvider>\n  );\n});\n\nToggleGroup.displayName = TOGGLE_GROUP_NAME;\n\n/* -----------------------------------------------------------------------------------------------*/\n\ntype ToggleGroupContextValue = { rovingFocus: boolean; disabled: boolean };\n\nconst [ToggleGroupContext, useToggleGroupContext] =\n  createToggleGroupContext<ToggleGroupContextValue>(TOGGLE_GROUP_NAME);\n\ntype RovingFocusGroupProps = Radix.ComponentPropsWithoutRef<typeof RovingFocusGroup.Root>;\ntype ToggleGroupImplElement = React.ElementRef<typeof Primitive.div>;\ntype PrimitiveDivProps = Radix.ComponentPropsWithoutRef<typeof Primitive.div>;\ninterface ToggleGroupImplProps extends PrimitiveDivProps {\n  /**\n   * Whether the group is disabled from user interaction.\n   * @defaultValue false\n   */\n  disabled?: boolean;\n  /**\n   * Whether the group should maintain roving focus of its buttons.\n   * @defaultValue true\n   */\n  rovingFocus?: boolean;\n  loop?: RovingFocusGroupProps['loop'];\n  orientation?: RovingFocusGroupProps['orientation'];\n  dir?: RovingFocusGroupProps['dir'];\n}\n\nconst ToggleGroupImpl = React.forwardRef<ToggleGroupImplElement, ToggleGroupImplProps>(\n  (props: ScopedProps<ToggleGroupImplProps>, forwardedRef) => {\n    const {\n      __scopeToggleGroup,\n      disabled = false,\n      rovingFocus = true,\n      orientation,\n      dir,\n      loop = true,\n      ...toggleGroupProps\n    } = props;\n    const rovingFocusGroupScope = useRovingFocusGroupScope(__scopeToggleGroup);\n    const direction = useDirection(dir);\n    const commonProps = { role: 'group', dir: direction, ...toggleGroupProps };\n    return (\n      <ToggleGroupContext scope={__scopeToggleGroup} rovingFocus={rovingFocus} disabled={disabled}>\n        {rovingFocus ? (\n          <RovingFocusGroup.Root\n            asChild\n            {...rovingFocusGroupScope}\n            orientation={orientation}\n            dir={direction}\n            loop={loop}\n          >\n            <Primitive.div {...commonProps} ref={forwardedRef} />\n          </RovingFocusGroup.Root>\n        ) : (\n          <Primitive.div {...commonProps} ref={forwardedRef} />\n        )}\n      </ToggleGroupContext>\n    );\n  }\n);\n\n/* -------------------------------------------------------------------------------------------------\n * ToggleGroupItem\n * -----------------------------------------------------------------------------------------------*/\n\nconst ITEM_NAME = 'ToggleGroupItem';\n\ntype ToggleGroupItemElement = ToggleGroupItemImplElement;\ninterface ToggleGroupItemProps extends Omit<ToggleGroupItemImplProps, 'pressed'> {}\n\nconst ToggleGroupItem = React.forwardRef<ToggleGroupItemElement, ToggleGroupItemProps>(\n  (props: ScopedProps<ToggleGroupItemProps>, forwardedRef) => {\n    const valueContext = useToggleGroupValueContext(ITEM_NAME, props.__scopeToggleGroup);\n    const context = useToggleGroupContext(ITEM_NAME, props.__scopeToggleGroup);\n    const rovingFocusGroupScope = useRovingFocusGroupScope(props.__scopeToggleGroup);\n    const pressed = valueContext.value.includes(props.value);\n    const disabled = context.disabled || props.disabled;\n    const commonProps = { ...props, pressed, disabled };\n    const ref = React.useRef<HTMLDivElement>(null);\n    return context.rovingFocus ? (\n      <RovingFocusGroup.Item\n        asChild\n        {...rovingFocusGroupScope}\n        focusable={!disabled}\n        active={pressed}\n        ref={ref}\n      >\n        <ToggleGroupItemImpl {...commonProps} ref={forwardedRef} />\n      </RovingFocusGroup.Item>\n    ) : (\n      <ToggleGroupItemImpl {...commonProps} ref={forwardedRef} />\n    );\n  }\n);\n\nToggleGroupItem.displayName = ITEM_NAME;\n\n/* -----------------------------------------------------------------------------------------------*/\n\ntype ToggleGroupItemImplElement = React.ElementRef<typeof Toggle>;\ntype ToggleProps = Radix.ComponentPropsWithoutRef<typeof Toggle>;\ninterface ToggleGroupItemImplProps extends Omit<ToggleProps, 'defaultPressed' | 'onPressedChange'> {\n  /**\n   * A string value for the toggle group item. All items within a toggle group should use a unique value.\n   */\n  value: string;\n}\n\nconst ToggleGroupItemImpl = React.forwardRef<ToggleGroupItemImplElement, ToggleGroupItemImplProps>(\n  (props: ScopedProps<ToggleGroupItemImplProps>, forwardedRef) => {\n    const { __scopeToggleGroup, value, ...itemProps } = props;\n    const valueContext = useToggleGroupValueContext(ITEM_NAME, __scopeToggleGroup);\n    const singleProps = { role: 'radio', 'aria-checked': props.pressed, 'aria-pressed': undefined };\n    const typeProps = valueContext.type === 'single' ? singleProps : undefined;\n    return (\n      <Toggle\n        {...typeProps}\n        {...itemProps}\n        ref={forwardedRef}\n        onPressedChange={(pressed) => {\n          if (pressed) {\n            valueContext.onItemActivate(value);\n          } else {\n            valueContext.onItemDeactivate(value);\n          }\n        }}\n      />\n    );\n  }\n);\n\n/* -----------------------------------------------------------------------------------------------*/\n\nconst Root = ToggleGroup;\nconst Item = ToggleGroupItem;\n\nexport {\n  createToggleGroupScope,\n  //\n  ToggleGroup,\n  ToggleGroupItem,\n  //\n  Root,\n  Item,\n};\nexport type { ToggleGroupSingleProps, ToggleGroupMultipleProps, ToggleGroupItemProps };\n","import * as React from 'react';\nimport { composeEventHandlers } from '@radix-ui/primitive';\nimport { createContextScope } from '@radix-ui/react-context';\nimport * as RovingFocusGroup from '@radix-ui/react-roving-focus';\nimport { createRovingFocusGroupScope } from '@radix-ui/react-roving-focus';\nimport { Primitive } from '@radix-ui/react-primitive';\nimport * as SeparatorPrimitive from '@radix-ui/react-separator';\nimport * as ToggleGroupPrimitive from '@radix-ui/react-toggle-group';\nimport { createToggleGroupScope } from '@radix-ui/react-toggle-group';\nimport { useDirection } from '@radix-ui/react-direction';\n\nimport type * as Radix from '@radix-ui/react-primitive';\nimport type { Scope } from '@radix-ui/react-context';\n\n/* -------------------------------------------------------------------------------------------------\n * Toolbar\n * -----------------------------------------------------------------------------------------------*/\n\nconst TOOLBAR_NAME = 'Toolbar';\n\ntype ScopedProps<P> = P & { __scopeToolbar?: Scope };\nconst [createToolbarContext, createToolbarScope] = createContextScope(TOOLBAR_NAME, [\n  createRovingFocusGroupScope,\n  createToggleGroupScope,\n]);\nconst useRovingFocusGroupScope = createRovingFocusGroupScope();\nconst useToggleGroupScope = createToggleGroupScope();\n\ntype RovingFocusGroupProps = Radix.ComponentPropsWithoutRef<typeof RovingFocusGroup.Root>;\ntype ToolbarContextValue = {\n  orientation: RovingFocusGroupProps['orientation'];\n  dir: RovingFocusGroupProps['dir'];\n};\nconst [ToolbarProvider, useToolbarContext] =\n  createToolbarContext<ToolbarContextValue>(TOOLBAR_NAME);\n\ntype ToolbarElement = React.ElementRef<typeof Primitive.div>;\ntype PrimitiveDivProps = Radix.ComponentPropsWithoutRef<typeof Primitive.div>;\ninterface ToolbarProps extends PrimitiveDivProps {\n  orientation?: RovingFocusGroupProps['orientation'];\n  loop?: RovingFocusGroupProps['loop'];\n  dir?: RovingFocusGroupProps['dir'];\n}\n\nconst Toolbar = React.forwardRef<ToolbarElement, ToolbarProps>(\n  (props: ScopedProps<ToolbarProps>, forwardedRef) => {\n    const { __scopeToolbar, orientation = 'horizontal', dir, loop = true, ...toolbarProps } = props;\n    const rovingFocusGroupScope = useRovingFocusGroupScope(__scopeToolbar);\n    const direction = useDirection(dir);\n    return (\n      <ToolbarProvider scope={__scopeToolbar} orientation={orientation} dir={direction}>\n        <RovingFocusGroup.Root\n          asChild\n          {...rovingFocusGroupScope}\n          orientation={orientation}\n          dir={direction}\n          loop={loop}\n        >\n          <Primitive.div\n            role=\"toolbar\"\n            aria-orientation={orientation}\n            dir={direction}\n            {...toolbarProps}\n            ref={forwardedRef}\n          />\n        </RovingFocusGroup.Root>\n      </ToolbarProvider>\n    );\n  }\n);\n\nToolbar.displayName = TOOLBAR_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * ToolbarSeparator\n * -----------------------------------------------------------------------------------------------*/\n\nconst SEPARATOR_NAME = 'ToolbarSeparator';\n\ntype ToolbarSeparatorElement = React.ElementRef<typeof SeparatorPrimitive.Root>;\ntype SeparatorProps = Radix.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>;\ninterface ToolbarSeparatorProps extends SeparatorProps {}\n\nconst ToolbarSeparator = React.forwardRef<ToolbarSeparatorElement, ToolbarSeparatorProps>(\n  (props: ScopedProps<ToolbarSeparatorProps>, forwardedRef) => {\n    const { __scopeToolbar, ...separatorProps } = props;\n    const context = useToolbarContext(SEPARATOR_NAME, __scopeToolbar);\n    return (\n      <SeparatorPrimitive.Root\n        orientation={context.orientation === 'horizontal' ? 'vertical' : 'horizontal'}\n        {...separatorProps}\n        ref={forwardedRef}\n      />\n    );\n  }\n);\n\nToolbarSeparator.displayName = SEPARATOR_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * ToolbarButton\n * -----------------------------------------------------------------------------------------------*/\n\nconst BUTTON_NAME = 'ToolbarButton';\n\ntype ToolbarButtonElement = React.ElementRef<typeof Primitive.button>;\ntype PrimitiveButtonProps = Radix.ComponentPropsWithoutRef<typeof Primitive.button>;\ninterface ToolbarButtonProps extends PrimitiveButtonProps {}\n\nconst ToolbarButton = React.forwardRef<ToolbarButtonElement, ToolbarButtonProps>(\n  (props: ScopedProps<ToolbarButtonProps>, forwardedRef) => {\n    const { __scopeToolbar, ...buttonProps } = props;\n    const rovingFocusGroupScope = useRovingFocusGroupScope(__scopeToolbar);\n    return (\n      <RovingFocusGroup.Item asChild {...rovingFocusGroupScope} focusable={!props.disabled}>\n        <Primitive.button type=\"button\" {...buttonProps} ref={forwardedRef} />\n      </RovingFocusGroup.Item>\n    );\n  }\n);\n\nToolbarButton.displayName = BUTTON_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * ToolbarLink\n * -----------------------------------------------------------------------------------------------*/\n\nconst LINK_NAME = 'ToolbarLink';\n\ntype ToolbarLinkElement = React.ElementRef<typeof Primitive.a>;\ntype PrimitiveLinkProps = Radix.ComponentPropsWithoutRef<typeof Primitive.a>;\ninterface ToolbarLinkProps extends PrimitiveLinkProps {}\n\nconst ToolbarLink = React.forwardRef<ToolbarLinkElement, ToolbarLinkProps>(\n  (props: ScopedProps<ToolbarLinkProps>, forwardedRef) => {\n    const { __scopeToolbar, ...linkProps } = props;\n    const rovingFocusGroupScope = useRovingFocusGroupScope(__scopeToolbar);\n    return (\n      <RovingFocusGroup.Item asChild {...rovingFocusGroupScope} focusable>\n        <Primitive.a\n          {...linkProps}\n          ref={forwardedRef}\n          onKeyDown={composeEventHandlers(props.onKeyDown, (event) => {\n            if (event.key === ' ') event.currentTarget.click();\n          })}\n        />\n      </RovingFocusGroup.Item>\n    );\n  }\n);\n\nToolbarLink.displayName = LINK_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * ToolbarToggleGroup\n * -----------------------------------------------------------------------------------------------*/\n\nconst TOGGLE_GROUP_NAME = 'ToolbarToggleGroup';\n\ntype ToolbarToggleGroupElement = React.ElementRef<typeof ToggleGroupPrimitive.Root>;\ntype ToggleGroupProps = Radix.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Root>;\ninterface ToolbarToggleGroupSingleProps extends Extract<ToggleGroupProps, { type: 'single' }> {}\ninterface ToolbarToggleGroupMultipleProps extends Extract<ToggleGroupProps, { type: 'multiple' }> {}\n\nconst ToolbarToggleGroup = React.forwardRef<\n  ToolbarToggleGroupElement,\n  ToolbarToggleGroupSingleProps | ToolbarToggleGroupMultipleProps\n>(\n  (\n    props: ScopedProps<ToolbarToggleGroupSingleProps | ToolbarToggleGroupMultipleProps>,\n    forwardedRef\n  ) => {\n    const { __scopeToolbar, ...toggleGroupProps } = props;\n    const context = useToolbarContext(TOGGLE_GROUP_NAME, __scopeToolbar);\n    const toggleGroupScope = useToggleGroupScope(__scopeToolbar);\n    return (\n      <ToggleGroupPrimitive.Root\n        data-orientation={context.orientation}\n        dir={context.dir}\n        {...toggleGroupScope}\n        {...toggleGroupProps}\n        ref={forwardedRef}\n        rovingFocus={false}\n      />\n    );\n  }\n);\n\nToolbarToggleGroup.displayName = TOGGLE_GROUP_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * ToolbarToggleItem\n * -----------------------------------------------------------------------------------------------*/\n\nconst TOGGLE_ITEM_NAME = 'ToolbarToggleItem';\n\ntype ToolbarToggleItemElement = React.ElementRef<typeof ToggleGroupPrimitive.Item>;\ntype ToggleGroupItemProps = Radix.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Item>;\ninterface ToolbarToggleItemProps extends ToggleGroupItemProps {}\n\nconst ToolbarToggleItem = React.forwardRef<ToolbarToggleItemElement, ToolbarToggleItemProps>(\n  (props: ScopedProps<ToolbarToggleItemProps>, forwardedRef) => {\n    const { __scopeToolbar, ...toggleItemProps } = props;\n    const toggleGroupScope = useToggleGroupScope(__scopeToolbar);\n    const scope = { __scopeToolbar: props.__scopeToolbar };\n\n    return (\n      <ToolbarButton asChild {...scope}>\n        <ToggleGroupPrimitive.Item {...toggleGroupScope} {...toggleItemProps} ref={forwardedRef} />\n      </ToolbarButton>\n    );\n  }\n);\n\nToolbarToggleItem.displayName = TOGGLE_ITEM_NAME;\n\n/* ---------------------------------------------------------------------------------------------- */\n\nconst Root = Toolbar;\nconst Separator = ToolbarSeparator;\nconst Button = ToolbarButton;\nconst Link = ToolbarLink;\nconst ToggleGroup = ToolbarToggleGroup;\nconst ToggleItem = ToolbarToggleItem;\n\nexport {\n  createToolbarScope,\n  //\n  Toolbar,\n  ToolbarSeparator,\n  ToolbarButton,\n  ToolbarLink,\n  ToolbarToggleGroup,\n  ToolbarToggleItem,\n  //\n  Root,\n  Separator,\n  Button,\n  Link,\n  ToggleGroup,\n  ToggleItem,\n};\nexport type {\n  ToolbarProps,\n  ToolbarSeparatorProps,\n  ToolbarButtonProps,\n  ToolbarLinkProps,\n  ToolbarToggleGroupSingleProps,\n  ToolbarToggleGroupMultipleProps,\n  ToolbarToggleItemProps,\n};\n","function getNodeName(node) {\n  if (isNode(node)) {\n    return (node.nodeName || '').toLowerCase();\n  }\n  // Mocked nodes in testing environments may not be instances of Node. By\n  // returning `#document` an infinite loop won't occur.\n  // https://github.com/floating-ui/floating-ui/issues/2317\n  return '#document';\n}\nfunction getWindow(node) {\n  var _node$ownerDocument;\n  return (node == null || (_node$ownerDocument = node.ownerDocument) == null ? void 0 : _node$ownerDocument.defaultView) || window;\n}\nfunction getDocumentElement(node) {\n  var _ref;\n  return (_ref = (isNode(node) ? node.ownerDocument : node.document) || window.document) == null ? void 0 : _ref.documentElement;\n}\nfunction isNode(value) {\n  return value instanceof Node || value instanceof getWindow(value).Node;\n}\nfunction isElement(value) {\n  return value instanceof Element || value instanceof getWindow(value).Element;\n}\nfunction isHTMLElement(value) {\n  return value instanceof HTMLElement || value instanceof getWindow(value).HTMLElement;\n}\nfunction isShadowRoot(value) {\n  // Browsers without `ShadowRoot` support.\n  if (typeof ShadowRoot === 'undefined') {\n    return false;\n  }\n  return value instanceof ShadowRoot || value instanceof getWindow(value).ShadowRoot;\n}\nfunction isOverflowElement(element) {\n  const {\n    overflow,\n    overflowX,\n    overflowY,\n    display\n  } = getComputedStyle(element);\n  return /auto|scroll|overlay|hidden|clip/.test(overflow + overflowY + overflowX) && !['inline', 'contents'].includes(display);\n}\nfunction isTableElement(element) {\n  return ['table', 'td', 'th'].includes(getNodeName(element));\n}\nfunction isContainingBlock(element) {\n  const webkit = isWebKit();\n  const css = getComputedStyle(element);\n\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n  return css.transform !== 'none' || css.perspective !== 'none' || (css.containerType ? css.containerType !== 'normal' : false) || !webkit && (css.backdropFilter ? css.backdropFilter !== 'none' : false) || !webkit && (css.filter ? css.filter !== 'none' : false) || ['transform', 'perspective', 'filter'].some(value => (css.willChange || '').includes(value)) || ['paint', 'layout', 'strict', 'content'].some(value => (css.contain || '').includes(value));\n}\nfunction getContainingBlock(element) {\n  let currentNode = getParentNode(element);\n  while (isHTMLElement(currentNode) && !isLastTraversableNode(currentNode)) {\n    if (isContainingBlock(currentNode)) {\n      return currentNode;\n    } else {\n      currentNode = getParentNode(currentNode);\n    }\n  }\n  return null;\n}\nfunction isWebKit() {\n  if (typeof CSS === 'undefined' || !CSS.supports) return false;\n  return CSS.supports('-webkit-backdrop-filter', 'none');\n}\nfunction isLastTraversableNode(node) {\n  return ['html', 'body', '#document'].includes(getNodeName(node));\n}\nfunction getComputedStyle(element) {\n  return getWindow(element).getComputedStyle(element);\n}\nfunction getNodeScroll(element) {\n  if (isElement(element)) {\n    return {\n      scrollLeft: element.scrollLeft,\n      scrollTop: element.scrollTop\n    };\n  }\n  return {\n    scrollLeft: element.pageXOffset,\n    scrollTop: element.pageYOffset\n  };\n}\nfunction getParentNode(node) {\n  if (getNodeName(node) === 'html') {\n    return node;\n  }\n  const result =\n  // Step into the shadow DOM of the parent of a slotted node.\n  node.assignedSlot ||\n  // DOM Element detected.\n  node.parentNode ||\n  // ShadowRoot detected.\n  isShadowRoot(node) && node.host ||\n  // Fallback.\n  getDocumentElement(node);\n  return isShadowRoot(result) ? result.host : result;\n}\nfunction getNearestOverflowAncestor(node) {\n  const parentNode = getParentNode(node);\n  if (isLastTraversableNode(parentNode)) {\n    return node.ownerDocument ? node.ownerDocument.body : node.body;\n  }\n  if (isHTMLElement(parentNode) && isOverflowElement(parentNode)) {\n    return parentNode;\n  }\n  return getNearestOverflowAncestor(parentNode);\n}\nfunction getOverflowAncestors(node, list, traverseIframes) {\n  var _node$ownerDocument2;\n  if (list === void 0) {\n    list = [];\n  }\n  if (traverseIframes === void 0) {\n    traverseIframes = true;\n  }\n  const scrollableAncestor = getNearestOverflowAncestor(node);\n  const isBody = scrollableAncestor === ((_node$ownerDocument2 = node.ownerDocument) == null ? void 0 : _node$ownerDocument2.body);\n  const win = getWindow(scrollableAncestor);\n  if (isBody) {\n    return list.concat(win, win.visualViewport || [], isOverflowElement(scrollableAncestor) ? scrollableAncestor : [], win.frameElement && traverseIframes ? getOverflowAncestors(win.frameElement) : []);\n  }\n  return list.concat(scrollableAncestor, getOverflowAncestors(scrollableAncestor, [], traverseIframes));\n}\n\nexport { getComputedStyle, getContainingBlock, getDocumentElement, getNearestOverflowAncestor, getNodeName, getNodeScroll, getOverflowAncestors, getParentNode, getWindow, isContainingBlock, isElement, isHTMLElement, isLastTraversableNode, isNode, isOverflowElement, isShadowRoot, isTableElement, isWebKit };\n","/**\n * Custom positioning reference element.\n * @see https://floating-ui.com/docs/virtual-elements\n */\n\nconst sides = ['top', 'right', 'bottom', 'left'];\nconst alignments = ['start', 'end'];\nconst placements = /*#__PURE__*/sides.reduce((acc, side) => acc.concat(side, side + \"-\" + alignments[0], side + \"-\" + alignments[1]), []);\nconst min = Math.min;\nconst max = Math.max;\nconst round = Math.round;\nconst floor = Math.floor;\nconst createCoords = v => ({\n  x: v,\n  y: v\n});\nconst oppositeSideMap = {\n  left: 'right',\n  right: 'left',\n  bottom: 'top',\n  top: 'bottom'\n};\nconst oppositeAlignmentMap = {\n  start: 'end',\n  end: 'start'\n};\nfunction clamp(start, value, end) {\n  return max(start, min(value, end));\n}\nfunction evaluate(value, param) {\n  return typeof value === 'function' ? value(param) : value;\n}\nfunction getSide(placement) {\n  return placement.split('-')[0];\n}\nfunction getAlignment(placement) {\n  return placement.split('-')[1];\n}\nfunction getOppositeAxis(axis) {\n  return axis === 'x' ? 'y' : 'x';\n}\nfunction getAxisLength(axis) {\n  return axis === 'y' ? 'height' : 'width';\n}\nfunction getSideAxis(placement) {\n  return ['top', 'bottom'].includes(getSide(placement)) ? 'y' : 'x';\n}\nfunction getAlignmentAxis(placement) {\n  return getOppositeAxis(getSideAxis(placement));\n}\nfunction getAlignmentSides(placement, rects, rtl) {\n  if (rtl === void 0) {\n    rtl = false;\n  }\n  const alignment = getAlignment(placement);\n  const alignmentAxis = getAlignmentAxis(placement);\n  const length = getAxisLength(alignmentAxis);\n  let mainAlignmentSide = alignmentAxis === 'x' ? alignment === (rtl ? 'end' : 'start') ? 'right' : 'left' : alignment === 'start' ? 'bottom' : 'top';\n  if (rects.reference[length] > rects.floating[length]) {\n    mainAlignmentSide = getOppositePlacement(mainAlignmentSide);\n  }\n  return [mainAlignmentSide, getOppositePlacement(mainAlignmentSide)];\n}\nfunction getExpandedPlacements(placement) {\n  const oppositePlacement = getOppositePlacement(placement);\n  return [getOppositeAlignmentPlacement(placement), oppositePlacement, getOppositeAlignmentPlacement(oppositePlacement)];\n}\nfunction getOppositeAlignmentPlacement(placement) {\n  return placement.replace(/start|end/g, alignment => oppositeAlignmentMap[alignment]);\n}\nfunction getSideList(side, isStart, rtl) {\n  const lr = ['left', 'right'];\n  const rl = ['right', 'left'];\n  const tb = ['top', 'bottom'];\n  const bt = ['bottom', 'top'];\n  switch (side) {\n    case 'top':\n    case 'bottom':\n      if (rtl) return isStart ? rl : lr;\n      return isStart ? lr : rl;\n    case 'left':\n    case 'right':\n      return isStart ? tb : bt;\n    default:\n      return [];\n  }\n}\nfunction getOppositeAxisPlacements(placement, flipAlignment, direction, rtl) {\n  const alignment = getAlignment(placement);\n  let list = getSideList(getSide(placement), direction === 'start', rtl);\n  if (alignment) {\n    list = list.map(side => side + \"-\" + alignment);\n    if (flipAlignment) {\n      list = list.concat(list.map(getOppositeAlignmentPlacement));\n    }\n  }\n  return list;\n}\nfunction getOppositePlacement(placement) {\n  return placement.replace(/left|right|bottom|top/g, side => oppositeSideMap[side]);\n}\nfunction expandPaddingObject(padding) {\n  return {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n    ...padding\n  };\n}\nfunction getPaddingObject(padding) {\n  return typeof padding !== 'number' ? expandPaddingObject(padding) : {\n    top: padding,\n    right: padding,\n    bottom: padding,\n    left: padding\n  };\n}\nfunction rectToClientRect(rect) {\n  return {\n    ...rect,\n    top: rect.y,\n    left: rect.x,\n    right: rect.x + rect.width,\n    bottom: rect.y + rect.height\n  };\n}\n\nexport { alignments, clamp, createCoords, evaluate, expandPaddingObject, floor, getAlignment, getAlignmentAxis, getAlignmentSides, getAxisLength, getExpandedPlacements, getOppositeAlignmentPlacement, getOppositeAxis, getOppositeAxisPlacements, getOppositePlacement, getPaddingObject, getSide, getSideAxis, max, min, placements, rectToClientRect, round, sides };\n","import { getSideAxis, getAlignmentAxis, getAxisLength, getSide, getAlignment, evaluate, getPaddingObject, rectToClientRect, min, clamp, placements, getAlignmentSides, getOppositeAlignmentPlacement, getOppositePlacement, getExpandedPlacements, getOppositeAxisPlacements, sides, max, getOppositeAxis } from '@floating-ui/utils';\nexport { rectToClientRect } from '@floating-ui/utils';\n\nfunction computeCoordsFromPlacement(_ref, placement, rtl) {\n  let {\n    reference,\n    floating\n  } = _ref;\n  const sideAxis = getSideAxis(placement);\n  const alignmentAxis = getAlignmentAxis(placement);\n  const alignLength = getAxisLength(alignmentAxis);\n  const side = getSide(placement);\n  const isVertical = sideAxis === 'y';\n  const commonX = reference.x + reference.width / 2 - floating.width / 2;\n  const commonY = reference.y + reference.height / 2 - floating.height / 2;\n  const commonAlign = reference[alignLength] / 2 - floating[alignLength] / 2;\n  let coords;\n  switch (side) {\n    case 'top':\n      coords = {\n        x: commonX,\n        y: reference.y - floating.height\n      };\n      break;\n    case 'bottom':\n      coords = {\n        x: commonX,\n        y: reference.y + reference.height\n      };\n      break;\n    case 'right':\n      coords = {\n        x: reference.x + reference.width,\n        y: commonY\n      };\n      break;\n    case 'left':\n      coords = {\n        x: reference.x - floating.width,\n        y: commonY\n      };\n      break;\n    default:\n      coords = {\n        x: reference.x,\n        y: reference.y\n      };\n  }\n  switch (getAlignment(placement)) {\n    case 'start':\n      coords[alignmentAxis] -= commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n    case 'end':\n      coords[alignmentAxis] += commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n  }\n  return coords;\n}\n\n/**\n * Computes the `x` and `y` coordinates that will place the floating element\n * next to a given reference element.\n *\n * This export does not have any `platform` interface logic. You will need to\n * write one for the platform you are using Floating UI with.\n */\nconst computePosition = async (reference, floating, config) => {\n  const {\n    placement = 'bottom',\n    strategy = 'absolute',\n    middleware = [],\n    platform\n  } = config;\n  const validMiddleware = middleware.filter(Boolean);\n  const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(floating));\n  let rects = await platform.getElementRects({\n    reference,\n    floating,\n    strategy\n  });\n  let {\n    x,\n    y\n  } = computeCoordsFromPlacement(rects, placement, rtl);\n  let statefulPlacement = placement;\n  let middlewareData = {};\n  let resetCount = 0;\n  for (let i = 0; i < validMiddleware.length; i++) {\n    const {\n      name,\n      fn\n    } = validMiddleware[i];\n    const {\n      x: nextX,\n      y: nextY,\n      data,\n      reset\n    } = await fn({\n      x,\n      y,\n      initialPlacement: placement,\n      placement: statefulPlacement,\n      strategy,\n      middlewareData,\n      rects,\n      platform,\n      elements: {\n        reference,\n        floating\n      }\n    });\n    x = nextX != null ? nextX : x;\n    y = nextY != null ? nextY : y;\n    middlewareData = {\n      ...middlewareData,\n      [name]: {\n        ...middlewareData[name],\n        ...data\n      }\n    };\n    if (reset && resetCount <= 50) {\n      resetCount++;\n      if (typeof reset === 'object') {\n        if (reset.placement) {\n          statefulPlacement = reset.placement;\n        }\n        if (reset.rects) {\n          rects = reset.rects === true ? await platform.getElementRects({\n            reference,\n            floating,\n            strategy\n          }) : reset.rects;\n        }\n        ({\n          x,\n          y\n        } = computeCoordsFromPlacement(rects, statefulPlacement, rtl));\n      }\n      i = -1;\n    }\n  }\n  return {\n    x,\n    y,\n    placement: statefulPlacement,\n    strategy,\n    middlewareData\n  };\n};\n\n/**\n * Resolves with an object of overflow side offsets that determine how much the\n * element is overflowing a given clipping boundary on each side.\n * - positive = overflowing the boundary by that number of pixels\n * - negative = how many pixels left before it will overflow\n * - 0 = lies flush with the boundary\n * @see https://floating-ui.com/docs/detectOverflow\n */\nasync function detectOverflow(state, options) {\n  var _await$platform$isEle;\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    x,\n    y,\n    platform,\n    rects,\n    elements,\n    strategy\n  } = state;\n  const {\n    boundary = 'clippingAncestors',\n    rootBoundary = 'viewport',\n    elementContext = 'floating',\n    altBoundary = false,\n    padding = 0\n  } = evaluate(options, state);\n  const paddingObject = getPaddingObject(padding);\n  const altContext = elementContext === 'floating' ? 'reference' : 'floating';\n  const element = elements[altBoundary ? altContext : elementContext];\n  const clippingClientRect = rectToClientRect(await platform.getClippingRect({\n    element: ((_await$platform$isEle = await (platform.isElement == null ? void 0 : platform.isElement(element))) != null ? _await$platform$isEle : true) ? element : element.contextElement || (await (platform.getDocumentElement == null ? void 0 : platform.getDocumentElement(elements.floating))),\n    boundary,\n    rootBoundary,\n    strategy\n  }));\n  const rect = elementContext === 'floating' ? {\n    ...rects.floating,\n    x,\n    y\n  } : rects.reference;\n  const offsetParent = await (platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(elements.floating));\n  const offsetScale = (await (platform.isElement == null ? void 0 : platform.isElement(offsetParent))) ? (await (platform.getScale == null ? void 0 : platform.getScale(offsetParent))) || {\n    x: 1,\n    y: 1\n  } : {\n    x: 1,\n    y: 1\n  };\n  const elementClientRect = rectToClientRect(platform.convertOffsetParentRelativeRectToViewportRelativeRect ? await platform.convertOffsetParentRelativeRectToViewportRelativeRect({\n    elements,\n    rect,\n    offsetParent,\n    strategy\n  }) : rect);\n  return {\n    top: (clippingClientRect.top - elementClientRect.top + paddingObject.top) / offsetScale.y,\n    bottom: (elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom) / offsetScale.y,\n    left: (clippingClientRect.left - elementClientRect.left + paddingObject.left) / offsetScale.x,\n    right: (elementClientRect.right - clippingClientRect.right + paddingObject.right) / offsetScale.x\n  };\n}\n\n/**\n * Provides data to position an inner element of the floating element so that it\n * appears centered to the reference element.\n * @see https://floating-ui.com/docs/arrow\n */\nconst arrow = options => ({\n  name: 'arrow',\n  options,\n  async fn(state) {\n    const {\n      x,\n      y,\n      placement,\n      rects,\n      platform,\n      elements,\n      middlewareData\n    } = state;\n    // Since `element` is required, we don't Partial<> the type.\n    const {\n      element,\n      padding = 0\n    } = evaluate(options, state) || {};\n    if (element == null) {\n      return {};\n    }\n    const paddingObject = getPaddingObject(padding);\n    const coords = {\n      x,\n      y\n    };\n    const axis = getAlignmentAxis(placement);\n    const length = getAxisLength(axis);\n    const arrowDimensions = await platform.getDimensions(element);\n    const isYAxis = axis === 'y';\n    const minProp = isYAxis ? 'top' : 'left';\n    const maxProp = isYAxis ? 'bottom' : 'right';\n    const clientProp = isYAxis ? 'clientHeight' : 'clientWidth';\n    const endDiff = rects.reference[length] + rects.reference[axis] - coords[axis] - rects.floating[length];\n    const startDiff = coords[axis] - rects.reference[axis];\n    const arrowOffsetParent = await (platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(element));\n    let clientSize = arrowOffsetParent ? arrowOffsetParent[clientProp] : 0;\n\n    // DOM platform can return `window` as the `offsetParent`.\n    if (!clientSize || !(await (platform.isElement == null ? void 0 : platform.isElement(arrowOffsetParent)))) {\n      clientSize = elements.floating[clientProp] || rects.floating[length];\n    }\n    const centerToReference = endDiff / 2 - startDiff / 2;\n\n    // If the padding is large enough that it causes the arrow to no longer be\n    // centered, modify the padding so that it is centered.\n    const largestPossiblePadding = clientSize / 2 - arrowDimensions[length] / 2 - 1;\n    const minPadding = min(paddingObject[minProp], largestPossiblePadding);\n    const maxPadding = min(paddingObject[maxProp], largestPossiblePadding);\n\n    // Make sure the arrow doesn't overflow the floating element if the center\n    // point is outside the floating element's bounds.\n    const min$1 = minPadding;\n    const max = clientSize - arrowDimensions[length] - maxPadding;\n    const center = clientSize / 2 - arrowDimensions[length] / 2 + centerToReference;\n    const offset = clamp(min$1, center, max);\n\n    // If the reference is small enough that the arrow's padding causes it to\n    // to point to nothing for an aligned placement, adjust the offset of the\n    // floating element itself. To ensure `shift()` continues to take action,\n    // a single reset is performed when this is true.\n    const shouldAddOffset = !middlewareData.arrow && getAlignment(placement) != null && center !== offset && rects.reference[length] / 2 - (center < min$1 ? minPadding : maxPadding) - arrowDimensions[length] / 2 < 0;\n    const alignmentOffset = shouldAddOffset ? center < min$1 ? center - min$1 : center - max : 0;\n    return {\n      [axis]: coords[axis] + alignmentOffset,\n      data: {\n        [axis]: offset,\n        centerOffset: center - offset - alignmentOffset,\n        ...(shouldAddOffset && {\n          alignmentOffset\n        })\n      },\n      reset: shouldAddOffset\n    };\n  }\n});\n\nfunction getPlacementList(alignment, autoAlignment, allowedPlacements) {\n  const allowedPlacementsSortedByAlignment = alignment ? [...allowedPlacements.filter(placement => getAlignment(placement) === alignment), ...allowedPlacements.filter(placement => getAlignment(placement) !== alignment)] : allowedPlacements.filter(placement => getSide(placement) === placement);\n  return allowedPlacementsSortedByAlignment.filter(placement => {\n    if (alignment) {\n      return getAlignment(placement) === alignment || (autoAlignment ? getOppositeAlignmentPlacement(placement) !== placement : false);\n    }\n    return true;\n  });\n}\n/**\n * Optimizes the visibility of the floating element by choosing the placement\n * that has the most space available automatically, without needing to specify a\n * preferred placement. Alternative to `flip`.\n * @see https://floating-ui.com/docs/autoPlacement\n */\nconst autoPlacement = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'autoPlacement',\n    options,\n    async fn(state) {\n      var _middlewareData$autoP, _middlewareData$autoP2, _placementsThatFitOnE;\n      const {\n        rects,\n        middlewareData,\n        placement,\n        platform,\n        elements\n      } = state;\n      const {\n        crossAxis = false,\n        alignment,\n        allowedPlacements = placements,\n        autoAlignment = true,\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const placements$1 = alignment !== undefined || allowedPlacements === placements ? getPlacementList(alignment || null, autoAlignment, allowedPlacements) : allowedPlacements;\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const currentIndex = ((_middlewareData$autoP = middlewareData.autoPlacement) == null ? void 0 : _middlewareData$autoP.index) || 0;\n      const currentPlacement = placements$1[currentIndex];\n      if (currentPlacement == null) {\n        return {};\n      }\n      const alignmentSides = getAlignmentSides(currentPlacement, rects, await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating)));\n\n      // Make `computeCoords` start from the right place.\n      if (placement !== currentPlacement) {\n        return {\n          reset: {\n            placement: placements$1[0]\n          }\n        };\n      }\n      const currentOverflows = [overflow[getSide(currentPlacement)], overflow[alignmentSides[0]], overflow[alignmentSides[1]]];\n      const allOverflows = [...(((_middlewareData$autoP2 = middlewareData.autoPlacement) == null ? void 0 : _middlewareData$autoP2.overflows) || []), {\n        placement: currentPlacement,\n        overflows: currentOverflows\n      }];\n      const nextPlacement = placements$1[currentIndex + 1];\n\n      // There are more placements to check.\n      if (nextPlacement) {\n        return {\n          data: {\n            index: currentIndex + 1,\n            overflows: allOverflows\n          },\n          reset: {\n            placement: nextPlacement\n          }\n        };\n      }\n      const placementsSortedByMostSpace = allOverflows.map(d => {\n        const alignment = getAlignment(d.placement);\n        return [d.placement, alignment && crossAxis ?\n        // Check along the mainAxis and main crossAxis side.\n        d.overflows.slice(0, 2).reduce((acc, v) => acc + v, 0) :\n        // Check only the mainAxis.\n        d.overflows[0], d.overflows];\n      }).sort((a, b) => a[1] - b[1]);\n      const placementsThatFitOnEachSide = placementsSortedByMostSpace.filter(d => d[2].slice(0,\n      // Aligned placements should not check their opposite crossAxis\n      // side.\n      getAlignment(d[0]) ? 2 : 3).every(v => v <= 0));\n      const resetPlacement = ((_placementsThatFitOnE = placementsThatFitOnEachSide[0]) == null ? void 0 : _placementsThatFitOnE[0]) || placementsSortedByMostSpace[0][0];\n      if (resetPlacement !== placement) {\n        return {\n          data: {\n            index: currentIndex + 1,\n            overflows: allOverflows\n          },\n          reset: {\n            placement: resetPlacement\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\n/**\n * Optimizes the visibility of the floating element by flipping the `placement`\n * in order to keep it in view when the preferred placement(s) will overflow the\n * clipping boundary. Alternative to `autoPlacement`.\n * @see https://floating-ui.com/docs/flip\n */\nconst flip = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'flip',\n    options,\n    async fn(state) {\n      var _middlewareData$arrow, _middlewareData$flip;\n      const {\n        placement,\n        middlewareData,\n        rects,\n        initialPlacement,\n        platform,\n        elements\n      } = state;\n      const {\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = true,\n        fallbackPlacements: specifiedFallbackPlacements,\n        fallbackStrategy = 'bestFit',\n        fallbackAxisSideDirection = 'none',\n        flipAlignment = true,\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n\n      // If a reset by the arrow was caused due to an alignment offset being\n      // added, we should skip any logic now since `flip()` has already done its\n      // work.\n      // https://github.com/floating-ui/floating-ui/issues/2549#issuecomment-1719601643\n      if ((_middlewareData$arrow = middlewareData.arrow) != null && _middlewareData$arrow.alignmentOffset) {\n        return {};\n      }\n      const side = getSide(placement);\n      const isBasePlacement = getSide(initialPlacement) === initialPlacement;\n      const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating));\n      const fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipAlignment ? [getOppositePlacement(initialPlacement)] : getExpandedPlacements(initialPlacement));\n      if (!specifiedFallbackPlacements && fallbackAxisSideDirection !== 'none') {\n        fallbackPlacements.push(...getOppositeAxisPlacements(initialPlacement, flipAlignment, fallbackAxisSideDirection, rtl));\n      }\n      const placements = [initialPlacement, ...fallbackPlacements];\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const overflows = [];\n      let overflowsData = ((_middlewareData$flip = middlewareData.flip) == null ? void 0 : _middlewareData$flip.overflows) || [];\n      if (checkMainAxis) {\n        overflows.push(overflow[side]);\n      }\n      if (checkCrossAxis) {\n        const sides = getAlignmentSides(placement, rects, rtl);\n        overflows.push(overflow[sides[0]], overflow[sides[1]]);\n      }\n      overflowsData = [...overflowsData, {\n        placement,\n        overflows\n      }];\n\n      // One or more sides is overflowing.\n      if (!overflows.every(side => side <= 0)) {\n        var _middlewareData$flip2, _overflowsData$filter;\n        const nextIndex = (((_middlewareData$flip2 = middlewareData.flip) == null ? void 0 : _middlewareData$flip2.index) || 0) + 1;\n        const nextPlacement = placements[nextIndex];\n        if (nextPlacement) {\n          // Try next placement and re-run the lifecycle.\n          return {\n            data: {\n              index: nextIndex,\n              overflows: overflowsData\n            },\n            reset: {\n              placement: nextPlacement\n            }\n          };\n        }\n\n        // First, find the candidates that fit on the mainAxis side of overflow,\n        // then find the placement that fits the best on the main crossAxis side.\n        let resetPlacement = (_overflowsData$filter = overflowsData.filter(d => d.overflows[0] <= 0).sort((a, b) => a.overflows[1] - b.overflows[1])[0]) == null ? void 0 : _overflowsData$filter.placement;\n\n        // Otherwise fallback.\n        if (!resetPlacement) {\n          switch (fallbackStrategy) {\n            case 'bestFit':\n              {\n                var _overflowsData$map$so;\n                const placement = (_overflowsData$map$so = overflowsData.map(d => [d.placement, d.overflows.filter(overflow => overflow > 0).reduce((acc, overflow) => acc + overflow, 0)]).sort((a, b) => a[1] - b[1])[0]) == null ? void 0 : _overflowsData$map$so[0];\n                if (placement) {\n                  resetPlacement = placement;\n                }\n                break;\n              }\n            case 'initialPlacement':\n              resetPlacement = initialPlacement;\n              break;\n          }\n        }\n        if (placement !== resetPlacement) {\n          return {\n            reset: {\n              placement: resetPlacement\n            }\n          };\n        }\n      }\n      return {};\n    }\n  };\n};\n\nfunction getSideOffsets(overflow, rect) {\n  return {\n    top: overflow.top - rect.height,\n    right: overflow.right - rect.width,\n    bottom: overflow.bottom - rect.height,\n    left: overflow.left - rect.width\n  };\n}\nfunction isAnySideFullyClipped(overflow) {\n  return sides.some(side => overflow[side] >= 0);\n}\n/**\n * Provides data to hide the floating element in applicable situations, such as\n * when it is not in the same clipping context as the reference element.\n * @see https://floating-ui.com/docs/hide\n */\nconst hide = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'hide',\n    options,\n    async fn(state) {\n      const {\n        rects\n      } = state;\n      const {\n        strategy = 'referenceHidden',\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      switch (strategy) {\n        case 'referenceHidden':\n          {\n            const overflow = await detectOverflow(state, {\n              ...detectOverflowOptions,\n              elementContext: 'reference'\n            });\n            const offsets = getSideOffsets(overflow, rects.reference);\n            return {\n              data: {\n                referenceHiddenOffsets: offsets,\n                referenceHidden: isAnySideFullyClipped(offsets)\n              }\n            };\n          }\n        case 'escaped':\n          {\n            const overflow = await detectOverflow(state, {\n              ...detectOverflowOptions,\n              altBoundary: true\n            });\n            const offsets = getSideOffsets(overflow, rects.floating);\n            return {\n              data: {\n                escapedOffsets: offsets,\n                escaped: isAnySideFullyClipped(offsets)\n              }\n            };\n          }\n        default:\n          {\n            return {};\n          }\n      }\n    }\n  };\n};\n\nfunction getBoundingRect(rects) {\n  const minX = min(...rects.map(rect => rect.left));\n  const minY = min(...rects.map(rect => rect.top));\n  const maxX = max(...rects.map(rect => rect.right));\n  const maxY = max(...rects.map(rect => rect.bottom));\n  return {\n    x: minX,\n    y: minY,\n    width: maxX - minX,\n    height: maxY - minY\n  };\n}\nfunction getRectsByLine(rects) {\n  const sortedRects = rects.slice().sort((a, b) => a.y - b.y);\n  const groups = [];\n  let prevRect = null;\n  for (let i = 0; i < sortedRects.length; i++) {\n    const rect = sortedRects[i];\n    if (!prevRect || rect.y - prevRect.y > prevRect.height / 2) {\n      groups.push([rect]);\n    } else {\n      groups[groups.length - 1].push(rect);\n    }\n    prevRect = rect;\n  }\n  return groups.map(rect => rectToClientRect(getBoundingRect(rect)));\n}\n/**\n * Provides improved positioning for inline reference elements that can span\n * over multiple lines, such as hyperlinks or range selections.\n * @see https://floating-ui.com/docs/inline\n */\nconst inline = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'inline',\n    options,\n    async fn(state) {\n      const {\n        placement,\n        elements,\n        rects,\n        platform,\n        strategy\n      } = state;\n      // A MouseEvent's client{X,Y} coords can be up to 2 pixels off a\n      // ClientRect's bounds, despite the event listener being triggered. A\n      // padding of 2 seems to handle this issue.\n      const {\n        padding = 2,\n        x,\n        y\n      } = evaluate(options, state);\n      const nativeClientRects = Array.from((await (platform.getClientRects == null ? void 0 : platform.getClientRects(elements.reference))) || []);\n      const clientRects = getRectsByLine(nativeClientRects);\n      const fallback = rectToClientRect(getBoundingRect(nativeClientRects));\n      const paddingObject = getPaddingObject(padding);\n      function getBoundingClientRect() {\n        // There are two rects and they are disjoined.\n        if (clientRects.length === 2 && clientRects[0].left > clientRects[1].right && x != null && y != null) {\n          // Find the first rect in which the point is fully inside.\n          return clientRects.find(rect => x > rect.left - paddingObject.left && x < rect.right + paddingObject.right && y > rect.top - paddingObject.top && y < rect.bottom + paddingObject.bottom) || fallback;\n        }\n\n        // There are 2 or more connected rects.\n        if (clientRects.length >= 2) {\n          if (getSideAxis(placement) === 'y') {\n            const firstRect = clientRects[0];\n            const lastRect = clientRects[clientRects.length - 1];\n            const isTop = getSide(placement) === 'top';\n            const top = firstRect.top;\n            const bottom = lastRect.bottom;\n            const left = isTop ? firstRect.left : lastRect.left;\n            const right = isTop ? firstRect.right : lastRect.right;\n            const width = right - left;\n            const height = bottom - top;\n            return {\n              top,\n              bottom,\n              left,\n              right,\n              width,\n              height,\n              x: left,\n              y: top\n            };\n          }\n          const isLeftSide = getSide(placement) === 'left';\n          const maxRight = max(...clientRects.map(rect => rect.right));\n          const minLeft = min(...clientRects.map(rect => rect.left));\n          const measureRects = clientRects.filter(rect => isLeftSide ? rect.left === minLeft : rect.right === maxRight);\n          const top = measureRects[0].top;\n          const bottom = measureRects[measureRects.length - 1].bottom;\n          const left = minLeft;\n          const right = maxRight;\n          const width = right - left;\n          const height = bottom - top;\n          return {\n            top,\n            bottom,\n            left,\n            right,\n            width,\n            height,\n            x: left,\n            y: top\n          };\n        }\n        return fallback;\n      }\n      const resetRects = await platform.getElementRects({\n        reference: {\n          getBoundingClientRect\n        },\n        floating: elements.floating,\n        strategy\n      });\n      if (rects.reference.x !== resetRects.reference.x || rects.reference.y !== resetRects.reference.y || rects.reference.width !== resetRects.reference.width || rects.reference.height !== resetRects.reference.height) {\n        return {\n          reset: {\n            rects: resetRects\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\n// For type backwards-compatibility, the `OffsetOptions` type was also\n// Derivable.\n\nasync function convertValueToCoords(state, options) {\n  const {\n    placement,\n    platform,\n    elements\n  } = state;\n  const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating));\n  const side = getSide(placement);\n  const alignment = getAlignment(placement);\n  const isVertical = getSideAxis(placement) === 'y';\n  const mainAxisMulti = ['left', 'top'].includes(side) ? -1 : 1;\n  const crossAxisMulti = rtl && isVertical ? -1 : 1;\n  const rawValue = evaluate(options, state);\n  let {\n    mainAxis,\n    crossAxis,\n    alignmentAxis\n  } = typeof rawValue === 'number' ? {\n    mainAxis: rawValue,\n    crossAxis: 0,\n    alignmentAxis: null\n  } : {\n    mainAxis: 0,\n    crossAxis: 0,\n    alignmentAxis: null,\n    ...rawValue\n  };\n  if (alignment && typeof alignmentAxis === 'number') {\n    crossAxis = alignment === 'end' ? alignmentAxis * -1 : alignmentAxis;\n  }\n  return isVertical ? {\n    x: crossAxis * crossAxisMulti,\n    y: mainAxis * mainAxisMulti\n  } : {\n    x: mainAxis * mainAxisMulti,\n    y: crossAxis * crossAxisMulti\n  };\n}\n\n/**\n * Modifies the placement by translating the floating element along the\n * specified axes.\n * A number (shorthand for `mainAxis` or distance), or an axes configuration\n * object may be passed.\n * @see https://floating-ui.com/docs/offset\n */\nconst offset = function (options) {\n  if (options === void 0) {\n    options = 0;\n  }\n  return {\n    name: 'offset',\n    options,\n    async fn(state) {\n      var _middlewareData$offse, _middlewareData$arrow;\n      const {\n        x,\n        y,\n        placement,\n        middlewareData\n      } = state;\n      const diffCoords = await convertValueToCoords(state, options);\n\n      // If the placement is the same and the arrow caused an alignment offset\n      // then we don't need to change the positioning coordinates.\n      if (placement === ((_middlewareData$offse = middlewareData.offset) == null ? void 0 : _middlewareData$offse.placement) && (_middlewareData$arrow = middlewareData.arrow) != null && _middlewareData$arrow.alignmentOffset) {\n        return {};\n      }\n      return {\n        x: x + diffCoords.x,\n        y: y + diffCoords.y,\n        data: {\n          ...diffCoords,\n          placement\n        }\n      };\n    }\n  };\n};\n\n/**\n * Optimizes the visibility of the floating element by shifting it in order to\n * keep it in view when it will overflow the clipping boundary.\n * @see https://floating-ui.com/docs/shift\n */\nconst shift = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'shift',\n    options,\n    async fn(state) {\n      const {\n        x,\n        y,\n        placement\n      } = state;\n      const {\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = false,\n        limiter = {\n          fn: _ref => {\n            let {\n              x,\n              y\n            } = _ref;\n            return {\n              x,\n              y\n            };\n          }\n        },\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const coords = {\n        x,\n        y\n      };\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const crossAxis = getSideAxis(getSide(placement));\n      const mainAxis = getOppositeAxis(crossAxis);\n      let mainAxisCoord = coords[mainAxis];\n      let crossAxisCoord = coords[crossAxis];\n      if (checkMainAxis) {\n        const minSide = mainAxis === 'y' ? 'top' : 'left';\n        const maxSide = mainAxis === 'y' ? 'bottom' : 'right';\n        const min = mainAxisCoord + overflow[minSide];\n        const max = mainAxisCoord - overflow[maxSide];\n        mainAxisCoord = clamp(min, mainAxisCoord, max);\n      }\n      if (checkCrossAxis) {\n        const minSide = crossAxis === 'y' ? 'top' : 'left';\n        const maxSide = crossAxis === 'y' ? 'bottom' : 'right';\n        const min = crossAxisCoord + overflow[minSide];\n        const max = crossAxisCoord - overflow[maxSide];\n        crossAxisCoord = clamp(min, crossAxisCoord, max);\n      }\n      const limitedCoords = limiter.fn({\n        ...state,\n        [mainAxis]: mainAxisCoord,\n        [crossAxis]: crossAxisCoord\n      });\n      return {\n        ...limitedCoords,\n        data: {\n          x: limitedCoords.x - x,\n          y: limitedCoords.y - y\n        }\n      };\n    }\n  };\n};\n/**\n * Built-in `limiter` that will stop `shift()` at a certain point.\n */\nconst limitShift = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    options,\n    fn(state) {\n      const {\n        x,\n        y,\n        placement,\n        rects,\n        middlewareData\n      } = state;\n      const {\n        offset = 0,\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = true\n      } = evaluate(options, state);\n      const coords = {\n        x,\n        y\n      };\n      const crossAxis = getSideAxis(placement);\n      const mainAxis = getOppositeAxis(crossAxis);\n      let mainAxisCoord = coords[mainAxis];\n      let crossAxisCoord = coords[crossAxis];\n      const rawOffset = evaluate(offset, state);\n      const computedOffset = typeof rawOffset === 'number' ? {\n        mainAxis: rawOffset,\n        crossAxis: 0\n      } : {\n        mainAxis: 0,\n        crossAxis: 0,\n        ...rawOffset\n      };\n      if (checkMainAxis) {\n        const len = mainAxis === 'y' ? 'height' : 'width';\n        const limitMin = rects.reference[mainAxis] - rects.floating[len] + computedOffset.mainAxis;\n        const limitMax = rects.reference[mainAxis] + rects.reference[len] - computedOffset.mainAxis;\n        if (mainAxisCoord < limitMin) {\n          mainAxisCoord = limitMin;\n        } else if (mainAxisCoord > limitMax) {\n          mainAxisCoord = limitMax;\n        }\n      }\n      if (checkCrossAxis) {\n        var _middlewareData$offse, _middlewareData$offse2;\n        const len = mainAxis === 'y' ? 'width' : 'height';\n        const isOriginSide = ['top', 'left'].includes(getSide(placement));\n        const limitMin = rects.reference[crossAxis] - rects.floating[len] + (isOriginSide ? ((_middlewareData$offse = middlewareData.offset) == null ? void 0 : _middlewareData$offse[crossAxis]) || 0 : 0) + (isOriginSide ? 0 : computedOffset.crossAxis);\n        const limitMax = rects.reference[crossAxis] + rects.reference[len] + (isOriginSide ? 0 : ((_middlewareData$offse2 = middlewareData.offset) == null ? void 0 : _middlewareData$offse2[crossAxis]) || 0) - (isOriginSide ? computedOffset.crossAxis : 0);\n        if (crossAxisCoord < limitMin) {\n          crossAxisCoord = limitMin;\n        } else if (crossAxisCoord > limitMax) {\n          crossAxisCoord = limitMax;\n        }\n      }\n      return {\n        [mainAxis]: mainAxisCoord,\n        [crossAxis]: crossAxisCoord\n      };\n    }\n  };\n};\n\n/**\n * Provides data that allows you to change the size of the floating element â€”\n * for instance, prevent it from overflowing the clipping boundary or match the\n * width of the reference element.\n * @see https://floating-ui.com/docs/size\n */\nconst size = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'size',\n    options,\n    async fn(state) {\n      const {\n        placement,\n        rects,\n        platform,\n        elements\n      } = state;\n      const {\n        apply = () => {},\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const side = getSide(placement);\n      const alignment = getAlignment(placement);\n      const isYAxis = getSideAxis(placement) === 'y';\n      const {\n        width,\n        height\n      } = rects.floating;\n      let heightSide;\n      let widthSide;\n      if (side === 'top' || side === 'bottom') {\n        heightSide = side;\n        widthSide = alignment === ((await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating))) ? 'start' : 'end') ? 'left' : 'right';\n      } else {\n        widthSide = side;\n        heightSide = alignment === 'end' ? 'top' : 'bottom';\n      }\n      const overflowAvailableHeight = height - overflow[heightSide];\n      const overflowAvailableWidth = width - overflow[widthSide];\n      const noShift = !state.middlewareData.shift;\n      let availableHeight = overflowAvailableHeight;\n      let availableWidth = overflowAvailableWidth;\n      if (isYAxis) {\n        const maximumClippingWidth = width - overflow.left - overflow.right;\n        availableWidth = alignment || noShift ? min(overflowAvailableWidth, maximumClippingWidth) : maximumClippingWidth;\n      } else {\n        const maximumClippingHeight = height - overflow.top - overflow.bottom;\n        availableHeight = alignment || noShift ? min(overflowAvailableHeight, maximumClippingHeight) : maximumClippingHeight;\n      }\n      if (noShift && !alignment) {\n        const xMin = max(overflow.left, 0);\n        const xMax = max(overflow.right, 0);\n        const yMin = max(overflow.top, 0);\n        const yMax = max(overflow.bottom, 0);\n        if (isYAxis) {\n          availableWidth = width - 2 * (xMin !== 0 || xMax !== 0 ? xMin + xMax : max(overflow.left, overflow.right));\n        } else {\n          availableHeight = height - 2 * (yMin !== 0 || yMax !== 0 ? yMin + yMax : max(overflow.top, overflow.bottom));\n        }\n      }\n      await apply({\n        ...state,\n        availableWidth,\n        availableHeight\n      });\n      const nextDimensions = await platform.getDimensions(elements.floating);\n      if (width !== nextDimensions.width || height !== nextDimensions.height) {\n        return {\n          reset: {\n            rects: true\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\nexport { arrow, autoPlacement, computePosition, detectOverflow, flip, hide, inline, limitShift, offset, shift, size };\n","import { rectToClientRect, autoPlacement as autoPlacement$1, shift as shift$1, flip as flip$1, size as size$1, hide as hide$1, arrow as arrow$1, inline as inline$1, limitShift as limitShift$1, computePosition as computePosition$1 } from '@floating-ui/core';\nexport { detectOverflow, offset } from '@floating-ui/core';\nimport { round, createCoords, max, min, floor } from '@floating-ui/utils';\nimport { getComputedStyle, isHTMLElement, isElement, getWindow, isWebKit, getDocumentElement, getNodeName, isOverflowElement, getNodeScroll, getOverflowAncestors, getParentNode, isLastTraversableNode, isContainingBlock, isTableElement, getContainingBlock } from '@floating-ui/utils/dom';\nexport { getOverflowAncestors } from '@floating-ui/utils/dom';\n\nfunction getCssDimensions(element) {\n  const css = getComputedStyle(element);\n  // In testing environments, the `width` and `height` properties are empty\n  // strings for SVG elements, returning NaN. Fallback to `0` in this case.\n  let width = parseFloat(css.width) || 0;\n  let height = parseFloat(css.height) || 0;\n  const hasOffset = isHTMLElement(element);\n  const offsetWidth = hasOffset ? element.offsetWidth : width;\n  const offsetHeight = hasOffset ? element.offsetHeight : height;\n  const shouldFallback = round(width) !== offsetWidth || round(height) !== offsetHeight;\n  if (shouldFallback) {\n    width = offsetWidth;\n    height = offsetHeight;\n  }\n  return {\n    width,\n    height,\n    $: shouldFallback\n  };\n}\n\nfunction unwrapElement(element) {\n  return !isElement(element) ? element.contextElement : element;\n}\n\nfunction getScale(element) {\n  const domElement = unwrapElement(element);\n  if (!isHTMLElement(domElement)) {\n    return createCoords(1);\n  }\n  const rect = domElement.getBoundingClientRect();\n  const {\n    width,\n    height,\n    $\n  } = getCssDimensions(domElement);\n  let x = ($ ? round(rect.width) : rect.width) / width;\n  let y = ($ ? round(rect.height) : rect.height) / height;\n\n  // 0, NaN, or Infinity should always fallback to 1.\n\n  if (!x || !Number.isFinite(x)) {\n    x = 1;\n  }\n  if (!y || !Number.isFinite(y)) {\n    y = 1;\n  }\n  return {\n    x,\n    y\n  };\n}\n\nconst noOffsets = /*#__PURE__*/createCoords(0);\nfunction getVisualOffsets(element) {\n  const win = getWindow(element);\n  if (!isWebKit() || !win.visualViewport) {\n    return noOffsets;\n  }\n  return {\n    x: win.visualViewport.offsetLeft,\n    y: win.visualViewport.offsetTop\n  };\n}\nfunction shouldAddVisualOffsets(element, isFixed, floatingOffsetParent) {\n  if (isFixed === void 0) {\n    isFixed = false;\n  }\n  if (!floatingOffsetParent || isFixed && floatingOffsetParent !== getWindow(element)) {\n    return false;\n  }\n  return isFixed;\n}\n\nfunction getBoundingClientRect(element, includeScale, isFixedStrategy, offsetParent) {\n  if (includeScale === void 0) {\n    includeScale = false;\n  }\n  if (isFixedStrategy === void 0) {\n    isFixedStrategy = false;\n  }\n  const clientRect = element.getBoundingClientRect();\n  const domElement = unwrapElement(element);\n  let scale = createCoords(1);\n  if (includeScale) {\n    if (offsetParent) {\n      if (isElement(offsetParent)) {\n        scale = getScale(offsetParent);\n      }\n    } else {\n      scale = getScale(element);\n    }\n  }\n  const visualOffsets = shouldAddVisualOffsets(domElement, isFixedStrategy, offsetParent) ? getVisualOffsets(domElement) : createCoords(0);\n  let x = (clientRect.left + visualOffsets.x) / scale.x;\n  let y = (clientRect.top + visualOffsets.y) / scale.y;\n  let width = clientRect.width / scale.x;\n  let height = clientRect.height / scale.y;\n  if (domElement) {\n    const win = getWindow(domElement);\n    const offsetWin = offsetParent && isElement(offsetParent) ? getWindow(offsetParent) : offsetParent;\n    let currentWin = win;\n    let currentIFrame = currentWin.frameElement;\n    while (currentIFrame && offsetParent && offsetWin !== currentWin) {\n      const iframeScale = getScale(currentIFrame);\n      const iframeRect = currentIFrame.getBoundingClientRect();\n      const css = getComputedStyle(currentIFrame);\n      const left = iframeRect.left + (currentIFrame.clientLeft + parseFloat(css.paddingLeft)) * iframeScale.x;\n      const top = iframeRect.top + (currentIFrame.clientTop + parseFloat(css.paddingTop)) * iframeScale.y;\n      x *= iframeScale.x;\n      y *= iframeScale.y;\n      width *= iframeScale.x;\n      height *= iframeScale.y;\n      x += left;\n      y += top;\n      currentWin = getWindow(currentIFrame);\n      currentIFrame = currentWin.frameElement;\n    }\n  }\n  return rectToClientRect({\n    width,\n    height,\n    x,\n    y\n  });\n}\n\nconst topLayerSelectors = [':popover-open', ':modal'];\nfunction isTopLayer(floating) {\n  return topLayerSelectors.some(selector => {\n    try {\n      return floating.matches(selector);\n    } catch (e) {\n      return false;\n    }\n  });\n}\n\nfunction convertOffsetParentRelativeRectToViewportRelativeRect(_ref) {\n  let {\n    elements,\n    rect,\n    offsetParent,\n    strategy\n  } = _ref;\n  const isFixed = strategy === 'fixed';\n  const documentElement = getDocumentElement(offsetParent);\n  const topLayer = elements ? isTopLayer(elements.floating) : false;\n  if (offsetParent === documentElement || topLayer && isFixed) {\n    return rect;\n  }\n  let scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  let scale = createCoords(1);\n  const offsets = createCoords(0);\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== 'body' || isOverflowElement(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n    if (isHTMLElement(offsetParent)) {\n      const offsetRect = getBoundingClientRect(offsetParent);\n      scale = getScale(offsetParent);\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\n      offsets.y = offsetRect.y + offsetParent.clientTop;\n    }\n  }\n  return {\n    width: rect.width * scale.x,\n    height: rect.height * scale.y,\n    x: rect.x * scale.x - scroll.scrollLeft * scale.x + offsets.x,\n    y: rect.y * scale.y - scroll.scrollTop * scale.y + offsets.y\n  };\n}\n\nfunction getClientRects(element) {\n  return Array.from(element.getClientRects());\n}\n\nfunction getWindowScrollBarX(element) {\n  // If <html> has a CSS width greater than the viewport, then this will be\n  // incorrect for RTL.\n  return getBoundingClientRect(getDocumentElement(element)).left + getNodeScroll(element).scrollLeft;\n}\n\n// Gets the entire size of the scrollable document area, even extending outside\n// of the `<html>` and `<body>` rect bounds if horizontally scrollable.\nfunction getDocumentRect(element) {\n  const html = getDocumentElement(element);\n  const scroll = getNodeScroll(element);\n  const body = element.ownerDocument.body;\n  const width = max(html.scrollWidth, html.clientWidth, body.scrollWidth, body.clientWidth);\n  const height = max(html.scrollHeight, html.clientHeight, body.scrollHeight, body.clientHeight);\n  let x = -scroll.scrollLeft + getWindowScrollBarX(element);\n  const y = -scroll.scrollTop;\n  if (getComputedStyle(body).direction === 'rtl') {\n    x += max(html.clientWidth, body.clientWidth) - width;\n  }\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\n\nfunction getViewportRect(element, strategy) {\n  const win = getWindow(element);\n  const html = getDocumentElement(element);\n  const visualViewport = win.visualViewport;\n  let width = html.clientWidth;\n  let height = html.clientHeight;\n  let x = 0;\n  let y = 0;\n  if (visualViewport) {\n    width = visualViewport.width;\n    height = visualViewport.height;\n    const visualViewportBased = isWebKit();\n    if (!visualViewportBased || visualViewportBased && strategy === 'fixed') {\n      x = visualViewport.offsetLeft;\n      y = visualViewport.offsetTop;\n    }\n  }\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\n\n// Returns the inner client rect, subtracting scrollbars if present.\nfunction getInnerBoundingClientRect(element, strategy) {\n  const clientRect = getBoundingClientRect(element, true, strategy === 'fixed');\n  const top = clientRect.top + element.clientTop;\n  const left = clientRect.left + element.clientLeft;\n  const scale = isHTMLElement(element) ? getScale(element) : createCoords(1);\n  const width = element.clientWidth * scale.x;\n  const height = element.clientHeight * scale.y;\n  const x = left * scale.x;\n  const y = top * scale.y;\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\nfunction getClientRectFromClippingAncestor(element, clippingAncestor, strategy) {\n  let rect;\n  if (clippingAncestor === 'viewport') {\n    rect = getViewportRect(element, strategy);\n  } else if (clippingAncestor === 'document') {\n    rect = getDocumentRect(getDocumentElement(element));\n  } else if (isElement(clippingAncestor)) {\n    rect = getInnerBoundingClientRect(clippingAncestor, strategy);\n  } else {\n    const visualOffsets = getVisualOffsets(element);\n    rect = {\n      ...clippingAncestor,\n      x: clippingAncestor.x - visualOffsets.x,\n      y: clippingAncestor.y - visualOffsets.y\n    };\n  }\n  return rectToClientRect(rect);\n}\nfunction hasFixedPositionAncestor(element, stopNode) {\n  const parentNode = getParentNode(element);\n  if (parentNode === stopNode || !isElement(parentNode) || isLastTraversableNode(parentNode)) {\n    return false;\n  }\n  return getComputedStyle(parentNode).position === 'fixed' || hasFixedPositionAncestor(parentNode, stopNode);\n}\n\n// A \"clipping ancestor\" is an `overflow` element with the characteristic of\n// clipping (or hiding) child elements. This returns all clipping ancestors\n// of the given element up the tree.\nfunction getClippingElementAncestors(element, cache) {\n  const cachedResult = cache.get(element);\n  if (cachedResult) {\n    return cachedResult;\n  }\n  let result = getOverflowAncestors(element, [], false).filter(el => isElement(el) && getNodeName(el) !== 'body');\n  let currentContainingBlockComputedStyle = null;\n  const elementIsFixed = getComputedStyle(element).position === 'fixed';\n  let currentNode = elementIsFixed ? getParentNode(element) : element;\n\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n  while (isElement(currentNode) && !isLastTraversableNode(currentNode)) {\n    const computedStyle = getComputedStyle(currentNode);\n    const currentNodeIsContaining = isContainingBlock(currentNode);\n    if (!currentNodeIsContaining && computedStyle.position === 'fixed') {\n      currentContainingBlockComputedStyle = null;\n    }\n    const shouldDropCurrentNode = elementIsFixed ? !currentNodeIsContaining && !currentContainingBlockComputedStyle : !currentNodeIsContaining && computedStyle.position === 'static' && !!currentContainingBlockComputedStyle && ['absolute', 'fixed'].includes(currentContainingBlockComputedStyle.position) || isOverflowElement(currentNode) && !currentNodeIsContaining && hasFixedPositionAncestor(element, currentNode);\n    if (shouldDropCurrentNode) {\n      // Drop non-containing blocks.\n      result = result.filter(ancestor => ancestor !== currentNode);\n    } else {\n      // Record last containing block for next iteration.\n      currentContainingBlockComputedStyle = computedStyle;\n    }\n    currentNode = getParentNode(currentNode);\n  }\n  cache.set(element, result);\n  return result;\n}\n\n// Gets the maximum area that the element is visible in due to any number of\n// clipping ancestors.\nfunction getClippingRect(_ref) {\n  let {\n    element,\n    boundary,\n    rootBoundary,\n    strategy\n  } = _ref;\n  const elementClippingAncestors = boundary === 'clippingAncestors' ? getClippingElementAncestors(element, this._c) : [].concat(boundary);\n  const clippingAncestors = [...elementClippingAncestors, rootBoundary];\n  const firstClippingAncestor = clippingAncestors[0];\n  const clippingRect = clippingAncestors.reduce((accRect, clippingAncestor) => {\n    const rect = getClientRectFromClippingAncestor(element, clippingAncestor, strategy);\n    accRect.top = max(rect.top, accRect.top);\n    accRect.right = min(rect.right, accRect.right);\n    accRect.bottom = min(rect.bottom, accRect.bottom);\n    accRect.left = max(rect.left, accRect.left);\n    return accRect;\n  }, getClientRectFromClippingAncestor(element, firstClippingAncestor, strategy));\n  return {\n    width: clippingRect.right - clippingRect.left,\n    height: clippingRect.bottom - clippingRect.top,\n    x: clippingRect.left,\n    y: clippingRect.top\n  };\n}\n\nfunction getDimensions(element) {\n  const {\n    width,\n    height\n  } = getCssDimensions(element);\n  return {\n    width,\n    height\n  };\n}\n\nfunction getRectRelativeToOffsetParent(element, offsetParent, strategy) {\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\n  const documentElement = getDocumentElement(offsetParent);\n  const isFixed = strategy === 'fixed';\n  const rect = getBoundingClientRect(element, true, isFixed, offsetParent);\n  let scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  const offsets = createCoords(0);\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== 'body' || isOverflowElement(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n    if (isOffsetParentAnElement) {\n      const offsetRect = getBoundingClientRect(offsetParent, true, isFixed, offsetParent);\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\n      offsets.y = offsetRect.y + offsetParent.clientTop;\n    } else if (documentElement) {\n      offsets.x = getWindowScrollBarX(documentElement);\n    }\n  }\n  const x = rect.left + scroll.scrollLeft - offsets.x;\n  const y = rect.top + scroll.scrollTop - offsets.y;\n  return {\n    x,\n    y,\n    width: rect.width,\n    height: rect.height\n  };\n}\n\nfunction getTrueOffsetParent(element, polyfill) {\n  if (!isHTMLElement(element) || getComputedStyle(element).position === 'fixed') {\n    return null;\n  }\n  if (polyfill) {\n    return polyfill(element);\n  }\n  return element.offsetParent;\n}\n\n// Gets the closest ancestor positioned element. Handles some edge cases,\n// such as table ancestors and cross browser bugs.\nfunction getOffsetParent(element, polyfill) {\n  const window = getWindow(element);\n  if (!isHTMLElement(element) || isTopLayer(element)) {\n    return window;\n  }\n  let offsetParent = getTrueOffsetParent(element, polyfill);\n  while (offsetParent && isTableElement(offsetParent) && getComputedStyle(offsetParent).position === 'static') {\n    offsetParent = getTrueOffsetParent(offsetParent, polyfill);\n  }\n  if (offsetParent && (getNodeName(offsetParent) === 'html' || getNodeName(offsetParent) === 'body' && getComputedStyle(offsetParent).position === 'static' && !isContainingBlock(offsetParent))) {\n    return window;\n  }\n  return offsetParent || getContainingBlock(element) || window;\n}\n\nconst getElementRects = async function (data) {\n  const getOffsetParentFn = this.getOffsetParent || getOffsetParent;\n  const getDimensionsFn = this.getDimensions;\n  return {\n    reference: getRectRelativeToOffsetParent(data.reference, await getOffsetParentFn(data.floating), data.strategy),\n    floating: {\n      x: 0,\n      y: 0,\n      ...(await getDimensionsFn(data.floating))\n    }\n  };\n};\n\nfunction isRTL(element) {\n  return getComputedStyle(element).direction === 'rtl';\n}\n\nconst platform = {\n  convertOffsetParentRelativeRectToViewportRelativeRect,\n  getDocumentElement,\n  getClippingRect,\n  getOffsetParent,\n  getElementRects,\n  getClientRects,\n  getDimensions,\n  getScale,\n  isElement,\n  isRTL\n};\n\n// https://samthor.au/2021/observing-dom/\nfunction observeMove(element, onMove) {\n  let io = null;\n  let timeoutId;\n  const root = getDocumentElement(element);\n  function cleanup() {\n    var _io;\n    clearTimeout(timeoutId);\n    (_io = io) == null || _io.disconnect();\n    io = null;\n  }\n  function refresh(skip, threshold) {\n    if (skip === void 0) {\n      skip = false;\n    }\n    if (threshold === void 0) {\n      threshold = 1;\n    }\n    cleanup();\n    const {\n      left,\n      top,\n      width,\n      height\n    } = element.getBoundingClientRect();\n    if (!skip) {\n      onMove();\n    }\n    if (!width || !height) {\n      return;\n    }\n    const insetTop = floor(top);\n    const insetRight = floor(root.clientWidth - (left + width));\n    const insetBottom = floor(root.clientHeight - (top + height));\n    const insetLeft = floor(left);\n    const rootMargin = -insetTop + \"px \" + -insetRight + \"px \" + -insetBottom + \"px \" + -insetLeft + \"px\";\n    const options = {\n      rootMargin,\n      threshold: max(0, min(1, threshold)) || 1\n    };\n    let isFirstUpdate = true;\n    function handleObserve(entries) {\n      const ratio = entries[0].intersectionRatio;\n      if (ratio !== threshold) {\n        if (!isFirstUpdate) {\n          return refresh();\n        }\n        if (!ratio) {\n          timeoutId = setTimeout(() => {\n            refresh(false, 1e-7);\n          }, 100);\n        } else {\n          refresh(false, ratio);\n        }\n      }\n      isFirstUpdate = false;\n    }\n\n    // Older browsers don't support a `document` as the root and will throw an\n    // error.\n    try {\n      io = new IntersectionObserver(handleObserve, {\n        ...options,\n        // Handle <iframe>s\n        root: root.ownerDocument\n      });\n    } catch (e) {\n      io = new IntersectionObserver(handleObserve, options);\n    }\n    io.observe(element);\n  }\n  refresh(true);\n  return cleanup;\n}\n\n/**\n * Automatically updates the position of the floating element when necessary.\n * Should only be called when the floating element is mounted on the DOM or\n * visible on the screen.\n * @returns cleanup function that should be invoked when the floating element is\n * removed from the DOM or hidden from the screen.\n * @see https://floating-ui.com/docs/autoUpdate\n */\nfunction autoUpdate(reference, floating, update, options) {\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    ancestorScroll = true,\n    ancestorResize = true,\n    elementResize = typeof ResizeObserver === 'function',\n    layoutShift = typeof IntersectionObserver === 'function',\n    animationFrame = false\n  } = options;\n  const referenceEl = unwrapElement(reference);\n  const ancestors = ancestorScroll || ancestorResize ? [...(referenceEl ? getOverflowAncestors(referenceEl) : []), ...getOverflowAncestors(floating)] : [];\n  ancestors.forEach(ancestor => {\n    ancestorScroll && ancestor.addEventListener('scroll', update, {\n      passive: true\n    });\n    ancestorResize && ancestor.addEventListener('resize', update);\n  });\n  const cleanupIo = referenceEl && layoutShift ? observeMove(referenceEl, update) : null;\n  let reobserveFrame = -1;\n  let resizeObserver = null;\n  if (elementResize) {\n    resizeObserver = new ResizeObserver(_ref => {\n      let [firstEntry] = _ref;\n      if (firstEntry && firstEntry.target === referenceEl && resizeObserver) {\n        // Prevent update loops when using the `size` middleware.\n        // https://github.com/floating-ui/floating-ui/issues/1740\n        resizeObserver.unobserve(floating);\n        cancelAnimationFrame(reobserveFrame);\n        reobserveFrame = requestAnimationFrame(() => {\n          var _resizeObserver;\n          (_resizeObserver = resizeObserver) == null || _resizeObserver.observe(floating);\n        });\n      }\n      update();\n    });\n    if (referenceEl && !animationFrame) {\n      resizeObserver.observe(referenceEl);\n    }\n    resizeObserver.observe(floating);\n  }\n  let frameId;\n  let prevRefRect = animationFrame ? getBoundingClientRect(reference) : null;\n  if (animationFrame) {\n    frameLoop();\n  }\n  function frameLoop() {\n    const nextRefRect = getBoundingClientRect(reference);\n    if (prevRefRect && (nextRefRect.x !== prevRefRect.x || nextRefRect.y !== prevRefRect.y || nextRefRect.width !== prevRefRect.width || nextRefRect.height !== prevRefRect.height)) {\n      update();\n    }\n    prevRefRect = nextRefRect;\n    frameId = requestAnimationFrame(frameLoop);\n  }\n  update();\n  return () => {\n    var _resizeObserver2;\n    ancestors.forEach(ancestor => {\n      ancestorScroll && ancestor.removeEventListener('scroll', update);\n      ancestorResize && ancestor.removeEventListener('resize', update);\n    });\n    cleanupIo == null || cleanupIo();\n    (_resizeObserver2 = resizeObserver) == null || _resizeObserver2.disconnect();\n    resizeObserver = null;\n    if (animationFrame) {\n      cancelAnimationFrame(frameId);\n    }\n  };\n}\n\n/**\n * Optimizes the visibility of the floating element by choosing the placement\n * that has the most space available automatically, without needing to specify a\n * preferred placement. Alternative to `flip`.\n * @see https://floating-ui.com/docs/autoPlacement\n */\nconst autoPlacement = autoPlacement$1;\n\n/**\n * Optimizes the visibility of the floating element by shifting it in order to\n * keep it in view when it will overflow the clipping boundary.\n * @see https://floating-ui.com/docs/shift\n */\nconst shift = shift$1;\n\n/**\n * Optimizes the visibility of the floating element by flipping the `placement`\n * in order to keep it in view when the preferred placement(s) will overflow the\n * clipping boundary. Alternative to `autoPlacement`.\n * @see https://floating-ui.com/docs/flip\n */\nconst flip = flip$1;\n\n/**\n * Provides data that allows you to change the size of the floating element â€”\n * for instance, prevent it from overflowing the clipping boundary or match the\n * width of the reference element.\n * @see https://floating-ui.com/docs/size\n */\nconst size = size$1;\n\n/**\n * Provides data to hide the floating element in applicable situations, such as\n * when it is not in the same clipping context as the reference element.\n * @see https://floating-ui.com/docs/hide\n */\nconst hide = hide$1;\n\n/**\n * Provides data to position an inner element of the floating element so that it\n * appears centered to the reference element.\n * @see https://floating-ui.com/docs/arrow\n */\nconst arrow = arrow$1;\n\n/**\n * Provides improved positioning for inline reference elements that can span\n * over multiple lines, such as hyperlinks or range selections.\n * @see https://floating-ui.com/docs/inline\n */\nconst inline = inline$1;\n\n/**\n * Built-in `limiter` that will stop `shift()` at a certain point.\n */\nconst limitShift = limitShift$1;\n\n/**\n * Computes the `x` and `y` coordinates that will place the floating element\n * next to a given reference element.\n */\nconst computePosition = (reference, floating, options) => {\n  // This caches the expensive `getClippingElementAncestors` function so that\n  // multiple lifecycle resets re-use the same result. It only lives for a\n  // single call. If other functions become expensive, we can add them as well.\n  const cache = new Map();\n  const mergedOptions = {\n    platform,\n    ...options\n  };\n  const platformWithCache = {\n    ...mergedOptions.platform,\n    _c: cache\n  };\n  return computePosition$1(reference, floating, {\n    ...mergedOptions,\n    platform: platformWithCache\n  });\n};\n\nexport { arrow, autoPlacement, autoUpdate, computePosition, flip, hide, inline, limitShift, platform, shift, size };\n","import { arrow as arrow$1, computePosition } from '@floating-ui/dom';\nexport { autoPlacement, autoUpdate, computePosition, detectOverflow, flip, getOverflowAncestors, hide, inline, limitShift, offset, platform, shift, size } from '@floating-ui/dom';\nimport * as React from 'react';\nimport { useLayoutEffect, useEffect } from 'react';\nimport * as ReactDOM from 'react-dom';\n\n/**\n * Provides data to position an inner element of the floating element so that it\n * appears centered to the reference element.\n * This wraps the core `arrow` middleware to allow React refs as the element.\n * @see https://floating-ui.com/docs/arrow\n */\nconst arrow = options => {\n  function isRef(value) {\n    return {}.hasOwnProperty.call(value, 'current');\n  }\n  return {\n    name: 'arrow',\n    options,\n    fn(state) {\n      const {\n        element,\n        padding\n      } = typeof options === 'function' ? options(state) : options;\n      if (element && isRef(element)) {\n        if (element.current != null) {\n          return arrow$1({\n            element: element.current,\n            padding\n          }).fn(state);\n        }\n        return {};\n      }\n      if (element) {\n        return arrow$1({\n          element,\n          padding\n        }).fn(state);\n      }\n      return {};\n    }\n  };\n};\n\nvar index = typeof document !== 'undefined' ? useLayoutEffect : useEffect;\n\n// Fork of `fast-deep-equal` that only does the comparisons we need and compares\n// functions\nfunction deepEqual(a, b) {\n  if (a === b) {\n    return true;\n  }\n  if (typeof a !== typeof b) {\n    return false;\n  }\n  if (typeof a === 'function' && a.toString() === b.toString()) {\n    return true;\n  }\n  let length;\n  let i;\n  let keys;\n  if (a && b && typeof a === 'object') {\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length !== b.length) return false;\n      for (i = length; i-- !== 0;) {\n        if (!deepEqual(a[i], b[i])) {\n          return false;\n        }\n      }\n      return true;\n    }\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) {\n      return false;\n    }\n    for (i = length; i-- !== 0;) {\n      if (!{}.hasOwnProperty.call(b, keys[i])) {\n        return false;\n      }\n    }\n    for (i = length; i-- !== 0;) {\n      const key = keys[i];\n      if (key === '_owner' && a.$$typeof) {\n        continue;\n      }\n      if (!deepEqual(a[key], b[key])) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  // biome-ignore lint/suspicious/noSelfCompare: in source\n  return a !== a && b !== b;\n}\n\nfunction getDPR(element) {\n  if (typeof window === 'undefined') {\n    return 1;\n  }\n  const win = element.ownerDocument.defaultView || window;\n  return win.devicePixelRatio || 1;\n}\n\nfunction roundByDPR(element, value) {\n  const dpr = getDPR(element);\n  return Math.round(value * dpr) / dpr;\n}\n\nfunction useLatestRef(value) {\n  const ref = React.useRef(value);\n  index(() => {\n    ref.current = value;\n  });\n  return ref;\n}\n\n/**\n * Provides data to position a floating element.\n * @see https://floating-ui.com/docs/useFloating\n */\nfunction useFloating(options) {\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    placement = 'bottom',\n    strategy = 'absolute',\n    middleware = [],\n    platform,\n    elements: {\n      reference: externalReference,\n      floating: externalFloating\n    } = {},\n    transform = true,\n    whileElementsMounted,\n    open\n  } = options;\n  const [data, setData] = React.useState({\n    x: 0,\n    y: 0,\n    strategy,\n    placement,\n    middlewareData: {},\n    isPositioned: false\n  });\n  const [latestMiddleware, setLatestMiddleware] = React.useState(middleware);\n  if (!deepEqual(latestMiddleware, middleware)) {\n    setLatestMiddleware(middleware);\n  }\n  const [_reference, _setReference] = React.useState(null);\n  const [_floating, _setFloating] = React.useState(null);\n  const setReference = React.useCallback(node => {\n    if (node !== referenceRef.current) {\n      referenceRef.current = node;\n      _setReference(node);\n    }\n  }, []);\n  const setFloating = React.useCallback(node => {\n    if (node !== floatingRef.current) {\n      floatingRef.current = node;\n      _setFloating(node);\n    }\n  }, []);\n  const referenceEl = externalReference || _reference;\n  const floatingEl = externalFloating || _floating;\n  const referenceRef = React.useRef(null);\n  const floatingRef = React.useRef(null);\n  const dataRef = React.useRef(data);\n  const hasWhileElementsMounted = whileElementsMounted != null;\n  const whileElementsMountedRef = useLatestRef(whileElementsMounted);\n  const platformRef = useLatestRef(platform);\n  const update = React.useCallback(() => {\n    if (!referenceRef.current || !floatingRef.current) {\n      return;\n    }\n    const config = {\n      placement,\n      strategy,\n      middleware: latestMiddleware\n    };\n    if (platformRef.current) {\n      config.platform = platformRef.current;\n    }\n    computePosition(referenceRef.current, floatingRef.current, config).then(data => {\n      const fullData = {\n        ...data,\n        isPositioned: true\n      };\n      if (isMountedRef.current && !deepEqual(dataRef.current, fullData)) {\n        dataRef.current = fullData;\n        ReactDOM.flushSync(() => {\n          setData(fullData);\n        });\n      }\n    });\n  }, [latestMiddleware, placement, strategy, platformRef]);\n  index(() => {\n    if (open === false && dataRef.current.isPositioned) {\n      dataRef.current.isPositioned = false;\n      setData(data => ({\n        ...data,\n        isPositioned: false\n      }));\n    }\n  }, [open]);\n  const isMountedRef = React.useRef(false);\n  index(() => {\n    isMountedRef.current = true;\n    return () => {\n      isMountedRef.current = false;\n    };\n  }, []);\n\n  // biome-ignore lint/correctness/useExhaustiveDependencies: `hasWhileElementsMounted` is intentionally included.\n  index(() => {\n    if (referenceEl) referenceRef.current = referenceEl;\n    if (floatingEl) floatingRef.current = floatingEl;\n    if (referenceEl && floatingEl) {\n      if (whileElementsMountedRef.current) {\n        return whileElementsMountedRef.current(referenceEl, floatingEl, update);\n      }\n      update();\n    }\n  }, [referenceEl, floatingEl, update, whileElementsMountedRef, hasWhileElementsMounted]);\n  const refs = React.useMemo(() => ({\n    reference: referenceRef,\n    floating: floatingRef,\n    setReference,\n    setFloating\n  }), [setReference, setFloating]);\n  const elements = React.useMemo(() => ({\n    reference: referenceEl,\n    floating: floatingEl\n  }), [referenceEl, floatingEl]);\n  const floatingStyles = React.useMemo(() => {\n    const initialStyles = {\n      position: strategy,\n      left: 0,\n      top: 0\n    };\n    if (!elements.floating) {\n      return initialStyles;\n    }\n    const x = roundByDPR(elements.floating, data.x);\n    const y = roundByDPR(elements.floating, data.y);\n    if (transform) {\n      return {\n        ...initialStyles,\n        transform: \"translate(\" + x + \"px, \" + y + \"px)\",\n        ...(getDPR(elements.floating) >= 1.5 && {\n          willChange: 'transform'\n        })\n      };\n    }\n    return {\n      position: strategy,\n      left: x,\n      top: y\n    };\n  }, [strategy, transform, elements.floating, data.x, data.y]);\n  return React.useMemo(() => ({\n    ...data,\n    update,\n    refs,\n    elements,\n    floatingStyles\n  }), [data, update, refs, elements, floatingStyles]);\n}\n\nexport { arrow, useFloating };\n","import * as React from 'react';\nimport { useLayoutEffect, useEffect, useRef } from 'react';\nimport { stopEvent, getDocument, isMouseLikePointerType, contains, activeElement, isSafari, isTypeableCombobox, isVirtualClick, isVirtualPointerEvent, getTarget, getPlatform, isTypeableElement, isReactEvent, isRootElement, isEventTargetWithin, isMac, getUserAgent } from '@floating-ui/react/utils';\nimport { floor } from '@floating-ui/utils';\nimport { platform, getOverflowAncestors, useFloating as useFloating$1, offset, detectOverflow } from '@floating-ui/react-dom';\nexport { arrow, autoPlacement, autoUpdate, computePosition, detectOverflow, flip, getOverflowAncestors, hide, inline, limitShift, offset, platform, shift, size } from '@floating-ui/react-dom';\nimport { isElement, isHTMLElement, getNodeName, getWindow, isLastTraversableNode, getParentNode, getComputedStyle } from '@floating-ui/utils/dom';\nimport { tabbable } from 'tabbable';\nimport { createPortal, flushSync } from 'react-dom';\n\n/**\n * Merges an array of refs into a single memoized callback ref or `null`.\n * @see https://floating-ui.com/docs/react-utils#usemergerefs\n */\nfunction useMergeRefs(refs) {\n  // biome-ignore lint/correctness/useExhaustiveDependencies: intentional\n  return React.useMemo(() => {\n    if (refs.every(ref => ref == null)) {\n      return null;\n    }\n    return value => {\n      refs.forEach(ref => {\n        if (typeof ref === 'function') {\n          ref(value);\n        } else if (ref != null) {\n          ref.current = value;\n        }\n      });\n    };\n  }, refs);\n}\n\n// `toString()` prevents bundlers from trying to `import { useInsertionEffect } from 'react'`\nconst useInsertionEffect = React[/*#__PURE__*/'useInsertionEffect'.toString()];\nconst useSafeInsertionEffect = useInsertionEffect || (fn => fn());\nfunction useEffectEvent(callback) {\n  const ref = React.useRef(() => {\n    if (process.env.NODE_ENV !== \"production\") {\n      throw new Error('Cannot call an event handler while rendering.');\n    }\n  });\n  useSafeInsertionEffect(() => {\n    ref.current = callback;\n  });\n  return React.useCallback(function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    return ref.current == null ? void 0 : ref.current(...args);\n  }, []);\n}\n\nconst ARROW_UP = 'ArrowUp';\nconst ARROW_DOWN = 'ArrowDown';\nconst ARROW_LEFT = 'ArrowLeft';\nconst ARROW_RIGHT = 'ArrowRight';\nfunction isDifferentRow(index, cols, prevRow) {\n  return Math.floor(index / cols) !== prevRow;\n}\nfunction isIndexOutOfBounds(listRef, index) {\n  return index < 0 || index >= listRef.current.length;\n}\nfunction getMinIndex(listRef, disabledIndices) {\n  return findNonDisabledIndex(listRef, {\n    disabledIndices\n  });\n}\nfunction getMaxIndex(listRef, disabledIndices) {\n  return findNonDisabledIndex(listRef, {\n    decrement: true,\n    startingIndex: listRef.current.length,\n    disabledIndices\n  });\n}\nfunction findNonDisabledIndex(listRef, _temp) {\n  let {\n    startingIndex = -1,\n    decrement = false,\n    disabledIndices,\n    amount = 1\n  } = _temp === void 0 ? {} : _temp;\n  const list = listRef.current;\n  const isDisabledIndex = disabledIndices ? index => disabledIndices.includes(index) : index => {\n    const element = list[index];\n    return element == null || element.hasAttribute('disabled') || element.getAttribute('aria-disabled') === 'true';\n  };\n  let index = startingIndex;\n  do {\n    index += decrement ? -amount : amount;\n  } while (index >= 0 && index <= list.length - 1 && isDisabledIndex(index));\n  return index;\n}\nfunction getGridNavigatedIndex(elementsRef, _ref) {\n  let {\n    event,\n    orientation,\n    loop,\n    cols,\n    disabledIndices,\n    minIndex,\n    maxIndex,\n    prevIndex,\n    stopEvent: stop = false\n  } = _ref;\n  let nextIndex = prevIndex;\n  if (event.key === ARROW_UP) {\n    stop && stopEvent(event);\n    if (prevIndex === -1) {\n      nextIndex = maxIndex;\n    } else {\n      nextIndex = findNonDisabledIndex(elementsRef, {\n        startingIndex: nextIndex,\n        amount: cols,\n        decrement: true,\n        disabledIndices\n      });\n      if (loop && (prevIndex - cols < minIndex || nextIndex < 0)) {\n        const col = prevIndex % cols;\n        const maxCol = maxIndex % cols;\n        const offset = maxIndex - (maxCol - col);\n        if (maxCol === col) {\n          nextIndex = maxIndex;\n        } else {\n          nextIndex = maxCol > col ? offset : offset - cols;\n        }\n      }\n    }\n    if (isIndexOutOfBounds(elementsRef, nextIndex)) {\n      nextIndex = prevIndex;\n    }\n  }\n  if (event.key === ARROW_DOWN) {\n    stop && stopEvent(event);\n    if (prevIndex === -1) {\n      nextIndex = minIndex;\n    } else {\n      nextIndex = findNonDisabledIndex(elementsRef, {\n        startingIndex: prevIndex,\n        amount: cols,\n        disabledIndices\n      });\n      if (loop && prevIndex + cols > maxIndex) {\n        nextIndex = findNonDisabledIndex(elementsRef, {\n          startingIndex: prevIndex % cols - cols,\n          amount: cols,\n          disabledIndices\n        });\n      }\n    }\n    if (isIndexOutOfBounds(elementsRef, nextIndex)) {\n      nextIndex = prevIndex;\n    }\n  }\n\n  // Remains on the same row/column.\n  if (orientation === 'both') {\n    const prevRow = floor(prevIndex / cols);\n    if (event.key === ARROW_RIGHT) {\n      stop && stopEvent(event);\n      if (prevIndex % cols !== cols - 1) {\n        nextIndex = findNonDisabledIndex(elementsRef, {\n          startingIndex: prevIndex,\n          disabledIndices\n        });\n        if (loop && isDifferentRow(nextIndex, cols, prevRow)) {\n          nextIndex = findNonDisabledIndex(elementsRef, {\n            startingIndex: prevIndex - prevIndex % cols - 1,\n            disabledIndices\n          });\n        }\n      } else if (loop) {\n        nextIndex = findNonDisabledIndex(elementsRef, {\n          startingIndex: prevIndex - prevIndex % cols - 1,\n          disabledIndices\n        });\n      }\n      if (isDifferentRow(nextIndex, cols, prevRow)) {\n        nextIndex = prevIndex;\n      }\n    }\n    if (event.key === ARROW_LEFT) {\n      stop && stopEvent(event);\n      if (prevIndex % cols !== 0) {\n        nextIndex = findNonDisabledIndex(elementsRef, {\n          startingIndex: prevIndex,\n          disabledIndices,\n          decrement: true\n        });\n        if (loop && isDifferentRow(nextIndex, cols, prevRow)) {\n          nextIndex = findNonDisabledIndex(elementsRef, {\n            startingIndex: prevIndex + (cols - prevIndex % cols),\n            decrement: true,\n            disabledIndices\n          });\n        }\n      } else if (loop) {\n        nextIndex = findNonDisabledIndex(elementsRef, {\n          startingIndex: prevIndex + (cols - prevIndex % cols),\n          decrement: true,\n          disabledIndices\n        });\n      }\n      if (isDifferentRow(nextIndex, cols, prevRow)) {\n        nextIndex = prevIndex;\n      }\n    }\n    const lastRow = floor(maxIndex / cols) === prevRow;\n    if (isIndexOutOfBounds(elementsRef, nextIndex)) {\n      if (loop && lastRow) {\n        nextIndex = event.key === ARROW_LEFT ? maxIndex : findNonDisabledIndex(elementsRef, {\n          startingIndex: prevIndex - prevIndex % cols - 1,\n          disabledIndices\n        });\n      } else {\n        nextIndex = prevIndex;\n      }\n    }\n  }\n  return nextIndex;\n}\n\n/** For each cell index, gets the item index that occupies that cell */\nfunction buildCellMap(sizes, cols, dense) {\n  const cellMap = [];\n  let startIndex = 0;\n  sizes.forEach((_ref2, index) => {\n    let {\n      width,\n      height\n    } = _ref2;\n    if (width > cols) {\n      if (process.env.NODE_ENV !== \"production\") {\n        throw new Error(\"[Floating UI]: Invalid grid - item width at index \" + index + \" is greater than grid columns\");\n      }\n    }\n    let itemPlaced = false;\n    if (dense) {\n      startIndex = 0;\n    }\n    while (!itemPlaced) {\n      const targetCells = [];\n      for (let i = 0; i < width; i++) {\n        for (let j = 0; j < height; j++) {\n          targetCells.push(startIndex + i + j * cols);\n        }\n      }\n      if (startIndex % cols + width <= cols && targetCells.every(cell => cellMap[cell] == null)) {\n        targetCells.forEach(cell => {\n          cellMap[cell] = index;\n        });\n        itemPlaced = true;\n      } else {\n        startIndex++;\n      }\n    }\n  });\n\n  // convert into a non-sparse array\n  return [...cellMap];\n}\n\n/** Gets cell index of an item's corner or -1 when index is -1. */\nfunction getCellIndexOfCorner(index, sizes, cellMap, cols, corner) {\n  if (index === -1) return -1;\n  const firstCellIndex = cellMap.indexOf(index);\n  switch (corner) {\n    case 'tl':\n      return firstCellIndex;\n    case 'tr':\n      return firstCellIndex + sizes[index].width - 1;\n    case 'bl':\n      return firstCellIndex + (sizes[index].height - 1) * cols;\n    case 'br':\n      return cellMap.lastIndexOf(index);\n  }\n}\n\n/** Gets all cell indices that correspond to the specified indices */\nfunction getCellIndices(indices, cellMap) {\n  return cellMap.flatMap((index, cellIndex) => indices.includes(index) ? [cellIndex] : []);\n}\n\nlet rafId = 0;\nfunction enqueueFocus(el, options) {\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    preventScroll = false,\n    cancelPrevious = true,\n    sync = false\n  } = options;\n  cancelPrevious && cancelAnimationFrame(rafId);\n  const exec = () => el == null ? void 0 : el.focus({\n    preventScroll\n  });\n  if (sync) {\n    exec();\n  } else {\n    rafId = requestAnimationFrame(exec);\n  }\n}\n\nvar index = typeof document !== 'undefined' ? useLayoutEffect : useEffect;\n\nfunction sortByDocumentPosition(a, b) {\n  const position = a.compareDocumentPosition(b);\n  if (position & Node.DOCUMENT_POSITION_FOLLOWING || position & Node.DOCUMENT_POSITION_CONTAINED_BY) {\n    return -1;\n  }\n  if (position & Node.DOCUMENT_POSITION_PRECEDING || position & Node.DOCUMENT_POSITION_CONTAINS) {\n    return 1;\n  }\n  return 0;\n}\nfunction areMapsEqual(map1, map2) {\n  if (map1.size !== map2.size) {\n    return false;\n  }\n  for (const [key, value] of map1.entries()) {\n    if (value !== map2.get(key)) {\n      return false;\n    }\n  }\n  return true;\n}\nconst FloatingListContext = /*#__PURE__*/React.createContext({\n  register: () => {},\n  unregister: () => {},\n  map: /*#__PURE__*/new Map(),\n  elementsRef: {\n    current: []\n  }\n});\n/**\n * Provides context for a list of items within the floating element.\n * @see https://floating-ui.com/docs/FloatingList\n */\nfunction FloatingList(_ref) {\n  let {\n    children,\n    elementsRef,\n    labelsRef\n  } = _ref;\n  const [map, setMap] = React.useState(() => new Map());\n  const register = React.useCallback(node => {\n    setMap(prevMap => new Map(prevMap).set(node, null));\n  }, []);\n  const unregister = React.useCallback(node => {\n    setMap(prevMap => {\n      const map = new Map(prevMap);\n      map.delete(node);\n      return map;\n    });\n  }, []);\n  index(() => {\n    const newMap = new Map(map);\n    const nodes = Array.from(newMap.keys()).sort(sortByDocumentPosition);\n    nodes.forEach((node, index) => {\n      newMap.set(node, index);\n    });\n    if (!areMapsEqual(map, newMap)) {\n      setMap(newMap);\n    }\n  }, [map]);\n  return /*#__PURE__*/React.createElement(FloatingListContext.Provider, {\n    value: React.useMemo(() => ({\n      register,\n      unregister,\n      map,\n      elementsRef,\n      labelsRef\n    }), [register, unregister, map, elementsRef, labelsRef])\n  }, children);\n}\n/**\n * Used to register a list item and its index (DOM position) in the\n * `FloatingList`.\n * @see https://floating-ui.com/docs/FloatingList#uselistitem\n */\nfunction useListItem(_temp) {\n  let {\n    label\n  } = _temp === void 0 ? {} : _temp;\n  const [index$1, setIndex] = React.useState(null);\n  const componentRef = React.useRef(null);\n  const {\n    register,\n    unregister,\n    map,\n    elementsRef,\n    labelsRef\n  } = React.useContext(FloatingListContext);\n  const ref = React.useCallback(node => {\n    componentRef.current = node;\n    if (index$1 !== null) {\n      elementsRef.current[index$1] = node;\n      if (labelsRef) {\n        var _node$textContent;\n        const isLabelDefined = label !== undefined;\n        labelsRef.current[index$1] = isLabelDefined ? label : (_node$textContent = node == null ? void 0 : node.textContent) != null ? _node$textContent : null;\n      }\n    }\n  }, [index$1, elementsRef, labelsRef, label]);\n  index(() => {\n    const node = componentRef.current;\n    if (node) {\n      register(node);\n      return () => {\n        unregister(node);\n      };\n    }\n  }, [register, unregister]);\n  index(() => {\n    const index = componentRef.current ? map.get(componentRef.current) : null;\n    if (index != null) {\n      setIndex(index);\n    }\n  }, [map]);\n  return React.useMemo(() => ({\n    ref,\n    index: index$1 == null ? -1 : index$1\n  }), [index$1, ref]);\n}\n\nfunction renderJsx(render, computedProps) {\n  if (typeof render === 'function') {\n    return render(computedProps);\n  }\n  if (render) {\n    return /*#__PURE__*/React.cloneElement(render, computedProps);\n  }\n  return /*#__PURE__*/React.createElement(\"div\", computedProps);\n}\nconst CompositeContext = /*#__PURE__*/React.createContext({\n  activeIndex: 0,\n  onNavigate: () => {}\n});\nconst horizontalKeys = [ARROW_LEFT, ARROW_RIGHT];\nconst verticalKeys = [ARROW_UP, ARROW_DOWN];\nconst allKeys = [...horizontalKeys, ...verticalKeys];\n\n/**\n * Creates a single tab stop whose items are navigated by arrow keys, which\n * provides list navigation outside of floating element contexts.\n *\n * This is useful to enable navigation of a list of items that arenâ€™t part of a\n * floating element. A menubar is an example of a composite, with each reference\n * element being an item.\n * @see https://floating-ui.com/docs/Composite\n */\nconst Composite = /*#__PURE__*/React.forwardRef(function Composite(_ref, forwardedRef) {\n  let {\n    render,\n    orientation = 'both',\n    loop = true,\n    cols = 1,\n    disabledIndices = [],\n    activeIndex: externalActiveIndex,\n    onNavigate: externalSetActiveIndex,\n    itemSizes,\n    dense = false,\n    ...props\n  } = _ref;\n  const [internalActiveIndex, internalSetActiveIndex] = React.useState(0);\n  const activeIndex = externalActiveIndex != null ? externalActiveIndex : internalActiveIndex;\n  const onNavigate = useEffectEvent(externalSetActiveIndex != null ? externalSetActiveIndex : internalSetActiveIndex);\n  const elementsRef = React.useRef([]);\n  const renderElementProps = render && typeof render !== 'function' ? render.props : {};\n  const contextValue = React.useMemo(() => ({\n    activeIndex,\n    onNavigate\n  }), [activeIndex, onNavigate]);\n  const isGrid = cols > 1;\n  function handleKeyDown(event) {\n    if (!allKeys.includes(event.key)) return;\n    let nextIndex = activeIndex;\n    if (isGrid) {\n      const sizes = itemSizes || Array.from({\n        length: elementsRef.current.length\n      }, () => ({\n        width: 1,\n        height: 1\n      }));\n      // To calculate movements on the grid, we use hypothetical cell indices\n      // as if every item was 1x1, then convert back to real indices.\n      const cellMap = buildCellMap(sizes, cols, dense);\n      const minGridIndex = cellMap.findIndex(index => index != null && !disabledIndices.includes(index));\n      // last enabled index\n      const maxGridIndex = cellMap.reduce((foundIndex, index, cellIndex) => index != null && !(disabledIndices != null && disabledIndices.includes(index)) ? cellIndex : foundIndex, -1);\n      nextIndex = cellMap[getGridNavigatedIndex({\n        current: cellMap.map(itemIndex => itemIndex ? elementsRef.current[itemIndex] : null)\n      }, {\n        event,\n        orientation,\n        loop,\n        cols,\n        // treat undefined (empty grid spaces) as disabled indices so we\n        // don't end up in them\n        disabledIndices: getCellIndices([...disabledIndices, undefined], cellMap),\n        minIndex: minGridIndex,\n        maxIndex: maxGridIndex,\n        prevIndex: getCellIndexOfCorner(activeIndex, sizes, cellMap, cols,\n        // use a corner matching the edge closest to the direction we're\n        // moving in so we don't end up in the same item. Prefer\n        // top/left over bottom/right.\n        event.key === ARROW_DOWN ? 'bl' : event.key === ARROW_RIGHT ? 'tr' : 'tl')\n      })]; // navigated cell will never be nullish\n    }\n    const minIndex = getMinIndex(elementsRef, disabledIndices);\n    const maxIndex = getMaxIndex(elementsRef, disabledIndices);\n    const toEndKeys = {\n      horizontal: [ARROW_RIGHT],\n      vertical: [ARROW_DOWN],\n      both: [ARROW_RIGHT, ARROW_DOWN]\n    }[orientation];\n    const toStartKeys = {\n      horizontal: [ARROW_LEFT],\n      vertical: [ARROW_UP],\n      both: [ARROW_LEFT, ARROW_UP]\n    }[orientation];\n    const preventedKeys = isGrid ? allKeys : {\n      horizontal: horizontalKeys,\n      vertical: verticalKeys,\n      both: allKeys\n    }[orientation];\n    if (nextIndex === activeIndex && [...toEndKeys, ...toStartKeys].includes(event.key)) {\n      if (loop && nextIndex === maxIndex && toEndKeys.includes(event.key)) {\n        nextIndex = minIndex;\n      } else if (loop && nextIndex === minIndex && toStartKeys.includes(event.key)) {\n        nextIndex = maxIndex;\n      } else {\n        nextIndex = findNonDisabledIndex(elementsRef, {\n          startingIndex: nextIndex,\n          decrement: toStartKeys.includes(event.key),\n          disabledIndices\n        });\n      }\n    }\n    if (nextIndex !== activeIndex && !isIndexOutOfBounds(elementsRef, nextIndex)) {\n      event.stopPropagation();\n      if (preventedKeys.includes(event.key)) {\n        event.preventDefault();\n      }\n      onNavigate(nextIndex);\n\n      // Wait for FocusManager `returnFocus` to execute.\n      queueMicrotask(() => {\n        enqueueFocus(elementsRef.current[nextIndex]);\n      });\n    }\n  }\n  const computedProps = {\n    ...props,\n    ...renderElementProps,\n    ref: forwardedRef,\n    'aria-orientation': orientation === 'both' ? undefined : orientation,\n    onKeyDown(e) {\n      props.onKeyDown == null || props.onKeyDown(e);\n      renderElementProps.onKeyDown == null || renderElementProps.onKeyDown(e);\n      handleKeyDown(e);\n    }\n  };\n  return /*#__PURE__*/React.createElement(CompositeContext.Provider, {\n    value: contextValue\n  }, /*#__PURE__*/React.createElement(FloatingList, {\n    elementsRef: elementsRef\n  }, renderJsx(render, computedProps)));\n});\n/**\n * @see https://floating-ui.com/docs/Composite\n */\nconst CompositeItem = /*#__PURE__*/React.forwardRef(function CompositeItem(_ref2, forwardedRef) {\n  let {\n    render,\n    ...props\n  } = _ref2;\n  const renderElementProps = render && typeof render !== 'function' ? render.props : {};\n  const {\n    activeIndex,\n    onNavigate\n  } = React.useContext(CompositeContext);\n  const {\n    ref,\n    index\n  } = useListItem();\n  const mergedRef = useMergeRefs([ref, forwardedRef, renderElementProps.ref]);\n  const isActive = activeIndex === index;\n  const computedProps = {\n    ...props,\n    ...renderElementProps,\n    ref: mergedRef,\n    tabIndex: isActive ? 0 : -1,\n    'data-active': isActive ? '' : undefined,\n    onFocus(e) {\n      props.onFocus == null || props.onFocus(e);\n      renderElementProps.onFocus == null || renderElementProps.onFocus(e);\n      onNavigate(index);\n    }\n  };\n  return renderJsx(render, computedProps);\n});\n\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n\nlet serverHandoffComplete = false;\nlet count = 0;\nconst genId = () => \"floating-ui-\" + count++;\nfunction useFloatingId() {\n  const [id, setId] = React.useState(() => serverHandoffComplete ? genId() : undefined);\n\n  // biome-ignore lint/correctness/useExhaustiveDependencies: intentional\n  index(() => {\n    if (id == null) {\n      setId(genId());\n    }\n  }, []);\n  React.useEffect(() => {\n    if (!serverHandoffComplete) {\n      serverHandoffComplete = true;\n    }\n  }, []);\n  return id;\n}\n\n// `toString()` prevents bundlers from trying to `import { useId } from 'react'`\nconst useReactId = React[/*#__PURE__*/'useId'.toString()];\n\n/**\n * Uses React 18's built-in `useId()` when available, or falls back to a\n * slightly less performant (requiring a double render) implementation for\n * earlier React versions.\n * @see https://floating-ui.com/docs/react-utils#useid\n */\nconst useId = useReactId || useFloatingId;\n\n/**\n * Renders a pointing arrow triangle.\n * @see https://floating-ui.com/docs/FloatingArrow\n */\nconst FloatingArrow = /*#__PURE__*/React.forwardRef(function FloatingArrow(_ref, ref) {\n  let {\n    context: {\n      placement,\n      elements: {\n        floating\n      },\n      middlewareData: {\n        arrow\n      }\n    },\n    width = 14,\n    height = 7,\n    tipRadius = 0,\n    strokeWidth = 0,\n    staticOffset,\n    stroke,\n    d,\n    style: {\n      transform,\n      ...restStyle\n    } = {},\n    ...rest\n  } = _ref;\n  if (process.env.NODE_ENV !== \"production\") {\n    if (!ref) {\n      console.warn('Floating UI: The `ref` prop is required for the `FloatingArrow`', 'component.');\n    }\n  }\n  const clipPathId = useId();\n  if (!floating) {\n    return null;\n  }\n\n  // Strokes must be double the border width, this ensures the stroke's width\n  // works as you'd expect.\n  strokeWidth *= 2;\n  const halfStrokeWidth = strokeWidth / 2;\n  const svgX = width / 2 * (tipRadius / -8 + 1);\n  const svgY = height / 2 * tipRadius / 4;\n  const [side, alignment] = placement.split('-');\n  const isRTL = platform.isRTL(floating);\n  const isCustomShape = !!d;\n  const isVerticalSide = side === 'top' || side === 'bottom';\n  const yOffsetProp = staticOffset && alignment === 'end' ? 'bottom' : 'top';\n  let xOffsetProp = staticOffset && alignment === 'end' ? 'right' : 'left';\n  if (staticOffset && isRTL) {\n    xOffsetProp = alignment === 'end' ? 'left' : 'right';\n  }\n  const arrowX = (arrow == null ? void 0 : arrow.x) != null ? staticOffset || arrow.x : '';\n  const arrowY = (arrow == null ? void 0 : arrow.y) != null ? staticOffset || arrow.y : '';\n  const dValue = d ||\n  // biome-ignore lint/style/useTemplate: readability\n  'M0,0' + (\" H\" + width) + (\" L\" + (width - svgX) + \",\" + (height - svgY)) + (\" Q\" + width / 2 + \",\" + height + \" \" + svgX + \",\" + (height - svgY)) + ' Z';\n  const rotation = {\n    top: isCustomShape ? 'rotate(180deg)' : '',\n    left: isCustomShape ? 'rotate(90deg)' : 'rotate(-90deg)',\n    bottom: isCustomShape ? '' : 'rotate(180deg)',\n    right: isCustomShape ? 'rotate(-90deg)' : 'rotate(90deg)'\n  }[side];\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({}, rest, {\n    \"aria-hidden\": true,\n    ref: ref,\n    width: isCustomShape ? width : width + strokeWidth,\n    height: width,\n    viewBox: \"0 0 \" + width + \" \" + (height > width ? height : width),\n    style: {\n      position: 'absolute',\n      pointerEvents: 'none',\n      [xOffsetProp]: arrowX,\n      [yOffsetProp]: arrowY,\n      [side]: isVerticalSide || isCustomShape ? '100%' : \"calc(100% - \" + strokeWidth / 2 + \"px)\",\n      transform: \"\" + rotation + (transform != null ? transform : ''),\n      ...restStyle\n    }\n  }), strokeWidth > 0 && /*#__PURE__*/React.createElement(\"path\", {\n    clipPath: \"url(#\" + clipPathId + \")\",\n    fill: \"none\",\n    stroke: stroke\n    // Account for the stroke on the fill path rendered below.\n    ,\n    strokeWidth: strokeWidth + (d ? 0 : 1),\n    d: dValue\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    stroke: strokeWidth && !d ? rest.fill : 'none',\n    d: dValue\n  }), /*#__PURE__*/React.createElement(\"clipPath\", {\n    id: clipPathId\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    x: -halfStrokeWidth,\n    y: halfStrokeWidth * (isCustomShape ? -1 : 1),\n    width: width + strokeWidth,\n    height: width\n  })));\n});\n\nfunction createPubSub() {\n  const map = new Map();\n  return {\n    emit(event, data) {\n      var _map$get;\n      (_map$get = map.get(event)) == null || _map$get.forEach(handler => handler(data));\n    },\n    on(event, listener) {\n      map.set(event, [...(map.get(event) || []), listener]);\n    },\n    off(event, listener) {\n      var _map$get2;\n      map.set(event, ((_map$get2 = map.get(event)) == null ? void 0 : _map$get2.filter(l => l !== listener)) || []);\n    }\n  };\n}\n\nconst FloatingNodeContext = /*#__PURE__*/React.createContext(null);\nconst FloatingTreeContext = /*#__PURE__*/React.createContext(null);\n\n/**\n * Returns the parent node id for nested floating elements, if available.\n * Returns `null` for top-level floating elements.\n */\nconst useFloatingParentNodeId = () => {\n  var _React$useContext;\n  return ((_React$useContext = React.useContext(FloatingNodeContext)) == null ? void 0 : _React$useContext.id) || null;\n};\n\n/**\n * Returns the nearest floating tree context, if available.\n */\nconst useFloatingTree = () => React.useContext(FloatingTreeContext);\n\n/**\n * Registers a node into the `FloatingTree`, returning its id.\n * @see https://floating-ui.com/docs/FloatingTree\n */\nfunction useFloatingNodeId(customParentId) {\n  const id = useId();\n  const tree = useFloatingTree();\n  const reactParentId = useFloatingParentNodeId();\n  const parentId = customParentId || reactParentId;\n  index(() => {\n    const node = {\n      id,\n      parentId\n    };\n    tree == null || tree.addNode(node);\n    return () => {\n      tree == null || tree.removeNode(node);\n    };\n  }, [tree, id, parentId]);\n  return id;\n}\n\n/**\n * Provides parent node context for nested floating elements.\n * @see https://floating-ui.com/docs/FloatingTree\n */\nfunction FloatingNode(_ref) {\n  let {\n    children,\n    id\n  } = _ref;\n  const parentId = useFloatingParentNodeId();\n  return /*#__PURE__*/React.createElement(FloatingNodeContext.Provider, {\n    value: React.useMemo(() => ({\n      id,\n      parentId\n    }), [id, parentId])\n  }, children);\n}\n\n/**\n * Provides context for nested floating elements when they are not children of\n * each other on the DOM.\n * This is not necessary in all cases, except when there must be explicit communication between parent and child floating elements. It is necessary for:\n * - The `bubbles` option in the `useDismiss()` Hook\n * - Nested virtual list navigation\n * - Nested floating elements that each open on hover\n * - Custom communication between parent and child floating elements\n * @see https://floating-ui.com/docs/FloatingTree\n */\nfunction FloatingTree(_ref2) {\n  let {\n    children\n  } = _ref2;\n  const nodesRef = React.useRef([]);\n  const addNode = React.useCallback(node => {\n    nodesRef.current = [...nodesRef.current, node];\n  }, []);\n  const removeNode = React.useCallback(node => {\n    nodesRef.current = nodesRef.current.filter(n => n !== node);\n  }, []);\n  const events = React.useState(() => createPubSub())[0];\n  return /*#__PURE__*/React.createElement(FloatingTreeContext.Provider, {\n    value: React.useMemo(() => ({\n      nodesRef,\n      addNode,\n      removeNode,\n      events\n    }), [addNode, removeNode, events])\n  }, children);\n}\n\nfunction createAttribute(name) {\n  return \"data-floating-ui-\" + name;\n}\n\nfunction useLatestRef(value) {\n  const ref = useRef(value);\n  index(() => {\n    ref.current = value;\n  });\n  return ref;\n}\n\nconst safePolygonIdentifier = /*#__PURE__*/createAttribute('safe-polygon');\nfunction getDelay(value, prop, pointerType) {\n  if (pointerType && !isMouseLikePointerType(pointerType)) {\n    return 0;\n  }\n  if (typeof value === 'number') {\n    return value;\n  }\n  return value == null ? void 0 : value[prop];\n}\n/**\n * Opens the floating element while hovering over the reference element, like\n * CSS `:hover`.\n * @see https://floating-ui.com/docs/useHover\n */\nfunction useHover(context, props) {\n  if (props === void 0) {\n    props = {};\n  }\n  const {\n    open,\n    onOpenChange,\n    dataRef,\n    events,\n    elements: {\n      domReference,\n      floating\n    },\n    refs\n  } = context;\n  const {\n    enabled = true,\n    delay = 0,\n    handleClose = null,\n    mouseOnly = false,\n    restMs = 0,\n    move = true\n  } = props;\n  const tree = useFloatingTree();\n  const parentId = useFloatingParentNodeId();\n  const handleCloseRef = useLatestRef(handleClose);\n  const delayRef = useLatestRef(delay);\n  const pointerTypeRef = React.useRef();\n  const timeoutRef = React.useRef();\n  const handlerRef = React.useRef();\n  const restTimeoutRef = React.useRef();\n  const blockMouseMoveRef = React.useRef(true);\n  const performedPointerEventsMutationRef = React.useRef(false);\n  const unbindMouseMoveRef = React.useRef(() => {});\n  const isHoverOpen = React.useCallback(() => {\n    var _dataRef$current$open;\n    const type = (_dataRef$current$open = dataRef.current.openEvent) == null ? void 0 : _dataRef$current$open.type;\n    return (type == null ? void 0 : type.includes('mouse')) && type !== 'mousedown';\n  }, [dataRef]);\n\n  // When closing before opening, clear the delay timeouts to cancel it\n  // from showing.\n  React.useEffect(() => {\n    if (!enabled) {\n      return;\n    }\n    function onOpenChange(_ref) {\n      let {\n        open\n      } = _ref;\n      if (!open) {\n        clearTimeout(timeoutRef.current);\n        clearTimeout(restTimeoutRef.current);\n        blockMouseMoveRef.current = true;\n      }\n    }\n    events.on('openchange', onOpenChange);\n    return () => {\n      events.off('openchange', onOpenChange);\n    };\n  }, [enabled, events]);\n  React.useEffect(() => {\n    if (!enabled || !handleCloseRef.current || !open) {\n      return;\n    }\n    function onLeave(event) {\n      if (isHoverOpen()) {\n        onOpenChange(false, event, 'hover');\n      }\n    }\n    const html = getDocument(floating).documentElement;\n    html.addEventListener('mouseleave', onLeave);\n    return () => {\n      html.removeEventListener('mouseleave', onLeave);\n    };\n  }, [floating, open, onOpenChange, enabled, handleCloseRef, isHoverOpen]);\n  const closeWithDelay = React.useCallback(function (event, runElseBranch, reason) {\n    if (runElseBranch === void 0) {\n      runElseBranch = true;\n    }\n    if (reason === void 0) {\n      reason = 'hover';\n    }\n    const closeDelay = getDelay(delayRef.current, 'close', pointerTypeRef.current);\n    if (closeDelay && !handlerRef.current) {\n      clearTimeout(timeoutRef.current);\n      timeoutRef.current = setTimeout(() => onOpenChange(false, event, reason), closeDelay);\n    } else if (runElseBranch) {\n      clearTimeout(timeoutRef.current);\n      onOpenChange(false, event, reason);\n    }\n  }, [delayRef, onOpenChange]);\n  const cleanupMouseMoveHandler = React.useCallback(() => {\n    unbindMouseMoveRef.current();\n    handlerRef.current = undefined;\n  }, []);\n  const clearPointerEvents = React.useCallback(() => {\n    if (performedPointerEventsMutationRef.current) {\n      const body = getDocument(refs.floating.current).body;\n      body.style.pointerEvents = '';\n      body.removeAttribute(safePolygonIdentifier);\n      performedPointerEventsMutationRef.current = false;\n    }\n  }, [refs]);\n\n  // Registering the mouse events on the reference directly to bypass React's\n  // delegation system. If the cursor was on a disabled element and then entered\n  // the reference (no gap), `mouseenter` doesn't fire in the delegation system.\n  React.useEffect(() => {\n    if (!enabled) {\n      return;\n    }\n    function isClickLikeOpenEvent() {\n      return dataRef.current.openEvent ? ['click', 'mousedown'].includes(dataRef.current.openEvent.type) : false;\n    }\n    function onMouseEnter(event) {\n      clearTimeout(timeoutRef.current);\n      blockMouseMoveRef.current = false;\n      if (mouseOnly && !isMouseLikePointerType(pointerTypeRef.current) || restMs > 0 && getDelay(delayRef.current, 'open') === 0) {\n        return;\n      }\n      const openDelay = getDelay(delayRef.current, 'open', pointerTypeRef.current);\n      if (openDelay) {\n        timeoutRef.current = setTimeout(() => {\n          onOpenChange(true, event, 'hover');\n        }, openDelay);\n      } else {\n        onOpenChange(true, event, 'hover');\n      }\n    }\n    function onMouseLeave(event) {\n      if (isClickLikeOpenEvent()) {\n        return;\n      }\n      unbindMouseMoveRef.current();\n      const doc = getDocument(floating);\n      clearTimeout(restTimeoutRef.current);\n      if (handleCloseRef.current) {\n        // Prevent clearing `onScrollMouseLeave` timeout.\n        if (!open) {\n          clearTimeout(timeoutRef.current);\n        }\n        handlerRef.current = handleCloseRef.current({\n          ...context,\n          tree,\n          x: event.clientX,\n          y: event.clientY,\n          onClose() {\n            clearPointerEvents();\n            cleanupMouseMoveHandler();\n            closeWithDelay(event, true, 'safe-polygon');\n          }\n        });\n        const handler = handlerRef.current;\n        doc.addEventListener('mousemove', handler);\n        unbindMouseMoveRef.current = () => {\n          doc.removeEventListener('mousemove', handler);\n        };\n        return;\n      }\n\n      // Allow interactivity without `safePolygon` on touch devices. With a\n      // pointer, a short close delay is an alternative, so it should work\n      // consistently.\n      const shouldClose = pointerTypeRef.current === 'touch' ? !contains(floating, event.relatedTarget) : true;\n      if (shouldClose) {\n        closeWithDelay(event);\n      }\n    }\n\n    // Ensure the floating element closes after scrolling even if the pointer\n    // did not move.\n    // https://github.com/floating-ui/floating-ui/discussions/1692\n    function onScrollMouseLeave(event) {\n      if (isClickLikeOpenEvent()) {\n        return;\n      }\n      handleCloseRef.current == null || handleCloseRef.current({\n        ...context,\n        tree,\n        x: event.clientX,\n        y: event.clientY,\n        onClose() {\n          clearPointerEvents();\n          cleanupMouseMoveHandler();\n          closeWithDelay(event);\n        }\n      })(event);\n    }\n    if (isElement(domReference)) {\n      const ref = domReference;\n      open && ref.addEventListener('mouseleave', onScrollMouseLeave);\n      floating == null || floating.addEventListener('mouseleave', onScrollMouseLeave);\n      move && ref.addEventListener('mousemove', onMouseEnter, {\n        once: true\n      });\n      ref.addEventListener('mouseenter', onMouseEnter);\n      ref.addEventListener('mouseleave', onMouseLeave);\n      return () => {\n        open && ref.removeEventListener('mouseleave', onScrollMouseLeave);\n        floating == null || floating.removeEventListener('mouseleave', onScrollMouseLeave);\n        move && ref.removeEventListener('mousemove', onMouseEnter);\n        ref.removeEventListener('mouseenter', onMouseEnter);\n        ref.removeEventListener('mouseleave', onMouseLeave);\n      };\n    }\n  }, [domReference, floating, enabled, context, mouseOnly, restMs, move, closeWithDelay, cleanupMouseMoveHandler, clearPointerEvents, onOpenChange, open, tree, delayRef, handleCloseRef, dataRef]);\n\n  // Block pointer-events of every element other than the reference and floating\n  // while the floating element is open and has a `handleClose` handler. Also\n  // handles nested floating elements.\n  // https://github.com/floating-ui/floating-ui/issues/1722\n  index(() => {\n    var _handleCloseRef$curre;\n    if (!enabled) {\n      return;\n    }\n    if (open && (_handleCloseRef$curre = handleCloseRef.current) != null && _handleCloseRef$curre.__options.blockPointerEvents && isHoverOpen()) {\n      const body = getDocument(floating).body;\n      body.setAttribute(safePolygonIdentifier, '');\n      body.style.pointerEvents = 'none';\n      performedPointerEventsMutationRef.current = true;\n      if (isElement(domReference) && floating) {\n        var _tree$nodesRef$curren;\n        const ref = domReference;\n        const parentFloating = tree == null || (_tree$nodesRef$curren = tree.nodesRef.current.find(node => node.id === parentId)) == null || (_tree$nodesRef$curren = _tree$nodesRef$curren.context) == null ? void 0 : _tree$nodesRef$curren.elements.floating;\n        if (parentFloating) {\n          parentFloating.style.pointerEvents = '';\n        }\n        ref.style.pointerEvents = 'auto';\n        floating.style.pointerEvents = 'auto';\n        return () => {\n          ref.style.pointerEvents = '';\n          floating.style.pointerEvents = '';\n        };\n      }\n    }\n  }, [enabled, open, parentId, floating, domReference, tree, handleCloseRef, isHoverOpen]);\n  index(() => {\n    if (!open) {\n      pointerTypeRef.current = undefined;\n      cleanupMouseMoveHandler();\n      clearPointerEvents();\n    }\n  }, [open, cleanupMouseMoveHandler, clearPointerEvents]);\n\n  // biome-ignore lint/correctness/useExhaustiveDependencies: intentional\n  React.useEffect(() => {\n    return () => {\n      cleanupMouseMoveHandler();\n      clearTimeout(timeoutRef.current);\n      clearTimeout(restTimeoutRef.current);\n      clearPointerEvents();\n    };\n  }, [enabled, domReference, cleanupMouseMoveHandler, clearPointerEvents]);\n  return React.useMemo(() => {\n    if (!enabled) {\n      return {};\n    }\n    function setPointerRef(event) {\n      pointerTypeRef.current = event.pointerType;\n    }\n    return {\n      reference: {\n        onPointerDown: setPointerRef,\n        onPointerEnter: setPointerRef,\n        onMouseMove(event) {\n          if (open || restMs === 0) {\n            return;\n          }\n          clearTimeout(restTimeoutRef.current);\n          restTimeoutRef.current = setTimeout(() => {\n            if (!blockMouseMoveRef.current) {\n              onOpenChange(true, event.nativeEvent, 'hover');\n            }\n          }, restMs);\n        }\n      },\n      floating: {\n        onMouseEnter() {\n          clearTimeout(timeoutRef.current);\n        },\n        onMouseLeave(event) {\n          closeWithDelay(event.nativeEvent, false);\n        }\n      }\n    };\n  }, [enabled, restMs, open, onOpenChange, closeWithDelay]);\n}\n\nconst FloatingDelayGroupContext = /*#__PURE__*/React.createContext({\n  delay: 0,\n  initialDelay: 0,\n  timeoutMs: 0,\n  currentId: null,\n  setCurrentId: () => {},\n  setState: () => {},\n  isInstantPhase: false\n});\nconst useDelayGroupContext = () => React.useContext(FloatingDelayGroupContext);\n/**\n * Provides context for a group of floating elements that should share a\n * `delay`.\n * @see https://floating-ui.com/docs/FloatingDelayGroup\n */\nconst FloatingDelayGroup = _ref => {\n  let {\n    children,\n    delay,\n    timeoutMs = 0\n  } = _ref;\n  const [state, setState] = React.useReducer((prev, next) => ({\n    ...prev,\n    ...next\n  }), {\n    delay,\n    timeoutMs,\n    initialDelay: delay,\n    currentId: null,\n    isInstantPhase: false\n  });\n  const initialCurrentIdRef = React.useRef(null);\n  const setCurrentId = React.useCallback(currentId => {\n    setState({\n      currentId\n    });\n  }, []);\n  index(() => {\n    if (state.currentId) {\n      if (initialCurrentIdRef.current === null) {\n        initialCurrentIdRef.current = state.currentId;\n      } else {\n        setState({\n          isInstantPhase: true\n        });\n      }\n    } else {\n      setState({\n        isInstantPhase: false\n      });\n      initialCurrentIdRef.current = null;\n    }\n  }, [state.currentId]);\n  return /*#__PURE__*/React.createElement(FloatingDelayGroupContext.Provider, {\n    value: React.useMemo(() => ({\n      ...state,\n      setState,\n      setCurrentId\n    }), [state, setCurrentId])\n  }, children);\n};\n/**\n * Enables grouping when called inside a component that's a child of a\n * `FloatingDelayGroup`.\n * @see https://floating-ui.com/docs/FloatingDelayGroup\n */\nconst useDelayGroup = (_ref2, _ref3) => {\n  let {\n    open,\n    onOpenChange\n  } = _ref2;\n  let {\n    id\n  } = _ref3;\n  const {\n    currentId,\n    setCurrentId,\n    initialDelay,\n    setState,\n    timeoutMs\n  } = useDelayGroupContext();\n  index(() => {\n    if (currentId) {\n      setState({\n        delay: {\n          open: 1,\n          close: getDelay(initialDelay, 'close')\n        }\n      });\n      if (currentId !== id) {\n        onOpenChange(false);\n      }\n    }\n  }, [id, onOpenChange, setState, currentId, initialDelay]);\n  index(() => {\n    function unset() {\n      onOpenChange(false);\n      setState({\n        delay: initialDelay,\n        currentId: null\n      });\n    }\n    if (!open && currentId === id) {\n      if (timeoutMs) {\n        const timeout = window.setTimeout(unset, timeoutMs);\n        return () => {\n          clearTimeout(timeout);\n        };\n      }\n      unset();\n    }\n  }, [open, setState, currentId, id, onOpenChange, initialDelay, timeoutMs]);\n  index(() => {\n    if (open) {\n      setCurrentId(id);\n    }\n  }, [open, setCurrentId, id]);\n};\n\nfunction getAncestors(nodes, id) {\n  var _nodes$find;\n  let allAncestors = [];\n  let currentParentId = (_nodes$find = nodes.find(node => node.id === id)) == null ? void 0 : _nodes$find.parentId;\n  while (currentParentId) {\n    const currentNode = nodes.find(node => node.id === currentParentId);\n    currentParentId = currentNode == null ? void 0 : currentNode.parentId;\n    if (currentNode) {\n      allAncestors = allAncestors.concat(currentNode);\n    }\n  }\n  return allAncestors;\n}\n\nfunction getChildren(nodes, id) {\n  let allChildren = nodes.filter(node => {\n    var _node$context;\n    return node.parentId === id && ((_node$context = node.context) == null ? void 0 : _node$context.open);\n  });\n  let currentChildren = allChildren;\n  while (currentChildren.length) {\n    currentChildren = nodes.filter(node => {\n      var _currentChildren;\n      return (_currentChildren = currentChildren) == null ? void 0 : _currentChildren.some(n => {\n        var _node$context2;\n        return node.parentId === n.id && ((_node$context2 = node.context) == null ? void 0 : _node$context2.open);\n      });\n    });\n    allChildren = allChildren.concat(currentChildren);\n  }\n  return allChildren;\n}\nfunction getDeepestNode(nodes, id) {\n  let deepestNodeId;\n  let maxDepth = -1;\n  function findDeepest(nodeId, depth) {\n    if (depth > maxDepth) {\n      deepestNodeId = nodeId;\n      maxDepth = depth;\n    }\n    const children = getChildren(nodes, nodeId);\n    children.forEach(child => {\n      findDeepest(child.id, depth + 1);\n    });\n  }\n  findDeepest(id, 0);\n  return nodes.find(node => node.id === deepestNodeId);\n}\n\n// Modified to add conditional `aria-hidden` support:\n// https://github.com/theKashey/aria-hidden/blob/9220c8f4a4fd35f63bee5510a9f41a37264382d4/src/index.ts\nlet counterMap = /*#__PURE__*/new WeakMap();\nlet uncontrolledElementsSet = /*#__PURE__*/new WeakSet();\nlet markerMap = {};\nlet lockCount = 0;\nconst supportsInert = () => typeof HTMLElement !== 'undefined' && 'inert' in HTMLElement.prototype;\nconst unwrapHost = node => node && (node.host || unwrapHost(node.parentNode));\nconst correctElements = (parent, targets) => targets.map(target => {\n  if (parent.contains(target)) {\n    return target;\n  }\n  const correctedTarget = unwrapHost(target);\n  if (parent.contains(correctedTarget)) {\n    return correctedTarget;\n  }\n  return null;\n}).filter(x => x != null);\nfunction applyAttributeToOthers(uncorrectedAvoidElements, body, ariaHidden, inert) {\n  const markerName = 'data-floating-ui-inert';\n  const controlAttribute = inert ? 'inert' : ariaHidden ? 'aria-hidden' : null;\n  const avoidElements = correctElements(body, uncorrectedAvoidElements);\n  const elementsToKeep = new Set();\n  const elementsToStop = new Set(avoidElements);\n  const hiddenElements = [];\n  if (!markerMap[markerName]) {\n    markerMap[markerName] = new WeakMap();\n  }\n  const markerCounter = markerMap[markerName];\n  avoidElements.forEach(keep);\n  deep(body);\n  elementsToKeep.clear();\n  function keep(el) {\n    if (!el || elementsToKeep.has(el)) {\n      return;\n    }\n    elementsToKeep.add(el);\n    el.parentNode && keep(el.parentNode);\n  }\n  function deep(parent) {\n    if (!parent || elementsToStop.has(parent)) {\n      return;\n    }\n    Array.prototype.forEach.call(parent.children, node => {\n      if (elementsToKeep.has(node)) {\n        deep(node);\n      } else {\n        const attr = controlAttribute ? node.getAttribute(controlAttribute) : null;\n        const alreadyHidden = attr !== null && attr !== 'false';\n        const counterValue = (counterMap.get(node) || 0) + 1;\n        const markerValue = (markerCounter.get(node) || 0) + 1;\n        counterMap.set(node, counterValue);\n        markerCounter.set(node, markerValue);\n        hiddenElements.push(node);\n        if (counterValue === 1 && alreadyHidden) {\n          uncontrolledElementsSet.add(node);\n        }\n        if (markerValue === 1) {\n          node.setAttribute(markerName, '');\n        }\n        if (!alreadyHidden && controlAttribute) {\n          node.setAttribute(controlAttribute, 'true');\n        }\n      }\n    });\n  }\n  lockCount++;\n  return () => {\n    hiddenElements.forEach(element => {\n      const counterValue = (counterMap.get(element) || 0) - 1;\n      const markerValue = (markerCounter.get(element) || 0) - 1;\n      counterMap.set(element, counterValue);\n      markerCounter.set(element, markerValue);\n      if (!counterValue) {\n        if (!uncontrolledElementsSet.has(element) && controlAttribute) {\n          element.removeAttribute(controlAttribute);\n        }\n        uncontrolledElementsSet.delete(element);\n      }\n      if (!markerValue) {\n        element.removeAttribute(markerName);\n      }\n    });\n    lockCount--;\n    if (!lockCount) {\n      counterMap = new WeakMap();\n      counterMap = new WeakMap();\n      uncontrolledElementsSet = new WeakSet();\n      markerMap = {};\n    }\n  };\n}\nfunction markOthers(avoidElements, ariaHidden, inert) {\n  if (ariaHidden === void 0) {\n    ariaHidden = false;\n  }\n  if (inert === void 0) {\n    inert = false;\n  }\n  const body = getDocument(avoidElements[0]).body;\n  return applyAttributeToOthers(avoidElements.concat(Array.from(body.querySelectorAll('[aria-live]'))), body, ariaHidden, inert);\n}\n\nconst getTabbableOptions = () => ({\n  getShadowRoot: true,\n  displayCheck:\n  // JSDOM does not support the `tabbable` library. To solve this we can\n  // check if `ResizeObserver` is a real function (not polyfilled), which\n  // determines if the current environment is JSDOM-like.\n  typeof ResizeObserver === 'function' && ResizeObserver.toString().includes('[native code]') ? 'full' : 'none'\n});\nfunction getTabbableIn(container, direction) {\n  const allTabbable = tabbable(container, getTabbableOptions());\n  if (direction === 'prev') {\n    allTabbable.reverse();\n  }\n  const activeIndex = allTabbable.indexOf(activeElement(getDocument(container)));\n  const nextTabbableElements = allTabbable.slice(activeIndex + 1);\n  return nextTabbableElements[0];\n}\nfunction getNextTabbable() {\n  return getTabbableIn(document.body, 'next');\n}\nfunction getPreviousTabbable() {\n  return getTabbableIn(document.body, 'prev');\n}\nfunction isOutsideEvent(event, container) {\n  const containerElement = container || event.currentTarget;\n  const relatedTarget = event.relatedTarget;\n  return !relatedTarget || !contains(containerElement, relatedTarget);\n}\nfunction disableFocusInside(container) {\n  const tabbableElements = tabbable(container, getTabbableOptions());\n  tabbableElements.forEach(element => {\n    element.dataset.tabindex = element.getAttribute('tabindex') || '';\n    element.setAttribute('tabindex', '-1');\n  });\n}\nfunction enableFocusInside(container) {\n  const elements = container.querySelectorAll('[data-tabindex]');\n  elements.forEach(element => {\n    const tabindex = element.dataset.tabindex;\n    // biome-ignore lint/performance/noDelete: purity\n    delete element.dataset.tabindex;\n    if (tabindex) {\n      element.setAttribute('tabindex', tabindex);\n    } else {\n      element.removeAttribute('tabindex');\n    }\n  });\n}\n\n// See Diego Haz's Sandbox for making this logic work well on Safari/iOS:\n// https://codesandbox.io/s/tabbable-portal-f4tng?file=/src/FocusTrap.tsx\n\nconst HIDDEN_STYLES = {\n  border: 0,\n  clip: 'rect(0 0 0 0)',\n  height: '1px',\n  margin: '-1px',\n  overflow: 'hidden',\n  padding: 0,\n  position: 'fixed',\n  whiteSpace: 'nowrap',\n  width: '1px',\n  top: 0,\n  left: 0\n};\nlet timeoutId;\nfunction setActiveElementOnTab(event) {\n  if (event.key === 'Tab') {\n    event.target;\n    clearTimeout(timeoutId);\n  }\n}\nconst FocusGuard = /*#__PURE__*/React.forwardRef(function FocusGuard(props, ref) {\n  const [role, setRole] = React.useState();\n  index(() => {\n    if (isSafari()) {\n      // Unlike other screen readers such as NVDA and JAWS, the virtual cursor\n      // on VoiceOver does trigger the onFocus event, so we can use the focus\n      // trap element. On Safari, only buttons trigger the onFocus event.\n      // NB: \"group\" role in the Sandbox no longer appears to work, must be a\n      // button role.\n      setRole('button');\n    }\n    document.addEventListener('keydown', setActiveElementOnTab);\n    return () => {\n      document.removeEventListener('keydown', setActiveElementOnTab);\n    };\n  }, []);\n  const restProps = {\n    ref,\n    tabIndex: 0,\n    // Role is only for VoiceOver\n    role,\n    'aria-hidden': role ? undefined : true,\n    [createAttribute('focus-guard')]: '',\n    style: HIDDEN_STYLES\n  };\n  return /*#__PURE__*/React.createElement(\"span\", _extends({}, props, restProps));\n});\n\nconst PortalContext = /*#__PURE__*/React.createContext(null);\nconst attr = /*#__PURE__*/createAttribute('portal');\n\n/**\n * @see https://floating-ui.com/docs/FloatingPortal#usefloatingportalnode\n */\nfunction useFloatingPortalNode(_temp) {\n  let {\n    id,\n    root\n  } = _temp === void 0 ? {} : _temp;\n  const [portalNode, setPortalNode] = React.useState(null);\n  const uniqueId = useId();\n  const portalContext = usePortalContext();\n  const portalNodeRef = React.useRef(null);\n  index(() => {\n    return () => {\n      portalNode == null || portalNode.remove();\n      // Allow the subsequent layout effects to create a new node on updates.\n      // The portal node will still be cleaned up on unmount.\n      // https://github.com/floating-ui/floating-ui/issues/2454\n      queueMicrotask(() => {\n        portalNodeRef.current = null;\n      });\n    };\n  }, [portalNode]);\n  index(() => {\n    if (portalNodeRef.current) return;\n    const existingIdRoot = id ? document.getElementById(id) : null;\n    if (!existingIdRoot) return;\n    const subRoot = document.createElement('div');\n    subRoot.id = uniqueId;\n    subRoot.setAttribute(attr, '');\n    existingIdRoot.appendChild(subRoot);\n    portalNodeRef.current = subRoot;\n    setPortalNode(subRoot);\n  }, [id, uniqueId]);\n  index(() => {\n    if (portalNodeRef.current) return;\n    let container = root || (portalContext == null ? void 0 : portalContext.portalNode);\n    if (container && !isElement(container)) container = container.current;\n    container = container || document.body;\n    let idWrapper = null;\n    if (id) {\n      idWrapper = document.createElement('div');\n      idWrapper.id = id;\n      container.appendChild(idWrapper);\n    }\n    const subRoot = document.createElement('div');\n    subRoot.id = uniqueId;\n    subRoot.setAttribute(attr, '');\n    container = idWrapper || container;\n    container.appendChild(subRoot);\n    portalNodeRef.current = subRoot;\n    setPortalNode(subRoot);\n  }, [id, root, uniqueId, portalContext]);\n  return portalNode;\n}\n/**\n * Portals the floating element into a given container element â€” by default,\n * outside of the app root and into the body.\n * This is necessary to ensure the floating element can appear outside any\n * potential parent containers that cause clipping (such as `overflow: hidden`),\n * while retaining its location in the React tree.\n * @see https://floating-ui.com/docs/FloatingPortal\n */\nfunction FloatingPortal(_ref) {\n  let {\n    children,\n    id,\n    root = null,\n    preserveTabOrder = true\n  } = _ref;\n  const portalNode = useFloatingPortalNode({\n    id,\n    root\n  });\n  const [focusManagerState, setFocusManagerState] = React.useState(null);\n  const beforeOutsideRef = React.useRef(null);\n  const afterOutsideRef = React.useRef(null);\n  const beforeInsideRef = React.useRef(null);\n  const afterInsideRef = React.useRef(null);\n  const shouldRenderGuards =\n  // The FocusManager and therefore floating element are currently open/\n  // rendered.\n  !!focusManagerState &&\n  // Guards are only for non-modal focus management.\n  !focusManagerState.modal &&\n  // Don't render if unmount is transitioning.\n  focusManagerState.open && preserveTabOrder && !!(root || portalNode);\n\n  // https://codesandbox.io/s/tabbable-portal-f4tng?file=/src/TabbablePortal.tsx\n  React.useEffect(() => {\n    if (!portalNode || !preserveTabOrder || focusManagerState != null && focusManagerState.modal) {\n      return;\n    }\n\n    // Make sure elements inside the portal element are tabbable only when the\n    // portal has already been focused, either by tabbing into a focus trap\n    // element outside or using the mouse.\n    function onFocus(event) {\n      if (portalNode && isOutsideEvent(event)) {\n        const focusing = event.type === 'focusin';\n        const manageFocus = focusing ? enableFocusInside : disableFocusInside;\n        manageFocus(portalNode);\n      }\n    }\n    // Listen to the event on the capture phase so they run before the focus\n    // trap elements onFocus prop is called.\n    portalNode.addEventListener('focusin', onFocus, true);\n    portalNode.addEventListener('focusout', onFocus, true);\n    return () => {\n      portalNode.removeEventListener('focusin', onFocus, true);\n      portalNode.removeEventListener('focusout', onFocus, true);\n    };\n  }, [portalNode, preserveTabOrder, focusManagerState == null ? void 0 : focusManagerState.modal]);\n  return /*#__PURE__*/React.createElement(PortalContext.Provider, {\n    value: React.useMemo(() => ({\n      preserveTabOrder,\n      beforeOutsideRef,\n      afterOutsideRef,\n      beforeInsideRef,\n      afterInsideRef,\n      portalNode,\n      setFocusManagerState\n    }), [preserveTabOrder, portalNode])\n  }, shouldRenderGuards && portalNode && /*#__PURE__*/React.createElement(FocusGuard, {\n    \"data-type\": \"outside\",\n    ref: beforeOutsideRef,\n    onFocus: event => {\n      if (isOutsideEvent(event, portalNode)) {\n        var _beforeInsideRef$curr;\n        (_beforeInsideRef$curr = beforeInsideRef.current) == null || _beforeInsideRef$curr.focus();\n      } else {\n        const prevTabbable = getPreviousTabbable() || (focusManagerState == null ? void 0 : focusManagerState.refs.domReference.current);\n        prevTabbable == null || prevTabbable.focus();\n      }\n    }\n  }), shouldRenderGuards && portalNode && /*#__PURE__*/React.createElement(\"span\", {\n    \"aria-owns\": portalNode.id,\n    style: HIDDEN_STYLES\n  }), portalNode && /*#__PURE__*/createPortal(children, portalNode), shouldRenderGuards && portalNode && /*#__PURE__*/React.createElement(FocusGuard, {\n    \"data-type\": \"outside\",\n    ref: afterOutsideRef,\n    onFocus: event => {\n      if (isOutsideEvent(event, portalNode)) {\n        var _afterInsideRef$curre;\n        (_afterInsideRef$curre = afterInsideRef.current) == null || _afterInsideRef$curre.focus();\n      } else {\n        const nextTabbable = getNextTabbable() || (focusManagerState == null ? void 0 : focusManagerState.refs.domReference.current);\n        nextTabbable == null || nextTabbable.focus();\n        (focusManagerState == null ? void 0 : focusManagerState.closeOnFocusOut) && (focusManagerState == null ? void 0 : focusManagerState.onOpenChange(false, event.nativeEvent));\n      }\n    }\n  }));\n}\nconst usePortalContext = () => React.useContext(PortalContext);\n\nconst LIST_LIMIT = 20;\nlet previouslyFocusedElements = [];\nfunction addPreviouslyFocusedElement(element) {\n  previouslyFocusedElements = previouslyFocusedElements.filter(el => el.isConnected);\n  if (element && getNodeName(element) !== 'body') {\n    previouslyFocusedElements.push(element);\n    if (previouslyFocusedElements.length > LIST_LIMIT) {\n      previouslyFocusedElements = previouslyFocusedElements.slice(-LIST_LIMIT);\n    }\n  }\n}\nfunction getPreviouslyFocusedElement() {\n  return previouslyFocusedElements.slice().reverse().find(el => el.isConnected);\n}\nconst VisuallyHiddenDismiss = /*#__PURE__*/React.forwardRef(function VisuallyHiddenDismiss(props, ref) {\n  return /*#__PURE__*/React.createElement(\"button\", _extends({}, props, {\n    type: \"button\",\n    ref: ref,\n    tabIndex: -1,\n    style: HIDDEN_STYLES\n  }));\n});\n/**\n * Provides focus management for the floating element.\n * @see https://floating-ui.com/docs/FloatingFocusManager\n */\nfunction FloatingFocusManager(props) {\n  const {\n    context,\n    children,\n    disabled = false,\n    order = ['content'],\n    guards: _guards = true,\n    initialFocus = 0,\n    returnFocus = true,\n    modal = true,\n    visuallyHiddenDismiss = false,\n    closeOnFocusOut = true\n  } = props;\n  const {\n    open,\n    refs,\n    nodeId,\n    onOpenChange,\n    events,\n    dataRef,\n    elements: {\n      domReference,\n      floating\n    }\n  } = context;\n  const ignoreInitialFocus = typeof initialFocus === 'number' && initialFocus < 0;\n  // If the reference is a combobox and is typeable (e.g. input/textarea),\n  // there are different focus semantics. The guards should not be rendered, but\n  // aria-hidden should be applied to all nodes still. Further, the visually\n  // hidden dismiss button should only appear at the end of the list, not the\n  // start.\n  const isUntrappedTypeableCombobox = isTypeableCombobox(domReference) && ignoreInitialFocus;\n\n  // Force the guards to be rendered if the `inert` attribute is not supported.\n  const guards = supportsInert() ? _guards : true;\n  const orderRef = useLatestRef(order);\n  const initialFocusRef = useLatestRef(initialFocus);\n  const returnFocusRef = useLatestRef(returnFocus);\n  const tree = useFloatingTree();\n  const portalContext = usePortalContext();\n  const startDismissButtonRef = React.useRef(null);\n  const endDismissButtonRef = React.useRef(null);\n  const preventReturnFocusRef = React.useRef(false);\n  const isPointerDownRef = React.useRef(false);\n  const isInsidePortal = portalContext != null;\n  const getTabbableContent = React.useCallback(function (container) {\n    if (container === void 0) {\n      container = floating;\n    }\n    return container ? tabbable(container, getTabbableOptions()) : [];\n  }, [floating]);\n  const getTabbableElements = React.useCallback(container => {\n    const content = getTabbableContent(container);\n    return orderRef.current.map(type => {\n      if (domReference && type === 'reference') {\n        return domReference;\n      }\n      if (floating && type === 'floating') {\n        return floating;\n      }\n      return content;\n    }).filter(Boolean).flat();\n  }, [domReference, floating, orderRef, getTabbableContent]);\n  React.useEffect(() => {\n    if (disabled || !modal) return;\n    function onKeyDown(event) {\n      if (event.key === 'Tab') {\n        // The focus guards have nothing to focus, so we need to stop the event.\n        if (contains(floating, activeElement(getDocument(floating))) && getTabbableContent().length === 0 && !isUntrappedTypeableCombobox) {\n          stopEvent(event);\n        }\n        const els = getTabbableElements();\n        const target = getTarget(event);\n        if (orderRef.current[0] === 'reference' && target === domReference) {\n          stopEvent(event);\n          if (event.shiftKey) {\n            enqueueFocus(els[els.length - 1]);\n          } else {\n            enqueueFocus(els[1]);\n          }\n        }\n        if (orderRef.current[1] === 'floating' && target === floating && event.shiftKey) {\n          stopEvent(event);\n          enqueueFocus(els[0]);\n        }\n      }\n    }\n    const doc = getDocument(floating);\n    doc.addEventListener('keydown', onKeyDown);\n    return () => {\n      doc.removeEventListener('keydown', onKeyDown);\n    };\n  }, [disabled, domReference, floating, modal, orderRef, isUntrappedTypeableCombobox, getTabbableContent, getTabbableElements]);\n  React.useEffect(() => {\n    if (disabled || !closeOnFocusOut) return;\n\n    // In Safari, buttons lose focus when pressing them.\n    function handlePointerDown() {\n      isPointerDownRef.current = true;\n      setTimeout(() => {\n        isPointerDownRef.current = false;\n      });\n    }\n    function handleFocusOutside(event) {\n      const relatedTarget = event.relatedTarget;\n      queueMicrotask(() => {\n        const movedToUnrelatedNode = !(contains(domReference, relatedTarget) || contains(floating, relatedTarget) || contains(relatedTarget, floating) || contains(portalContext == null ? void 0 : portalContext.portalNode, relatedTarget) || relatedTarget != null && relatedTarget.hasAttribute(createAttribute('focus-guard')) || tree && (getChildren(tree.nodesRef.current, nodeId).find(node => {\n          var _node$context, _node$context2;\n          return contains((_node$context = node.context) == null ? void 0 : _node$context.elements.floating, relatedTarget) || contains((_node$context2 = node.context) == null ? void 0 : _node$context2.elements.domReference, relatedTarget);\n        }) || getAncestors(tree.nodesRef.current, nodeId).find(node => {\n          var _node$context3, _node$context4;\n          return ((_node$context3 = node.context) == null ? void 0 : _node$context3.elements.floating) === relatedTarget || ((_node$context4 = node.context) == null ? void 0 : _node$context4.elements.domReference) === relatedTarget;\n        })));\n\n        // Focus did not move inside the floating tree, and there are no tabbable\n        // portal guards to handle closing.\n        if (relatedTarget && movedToUnrelatedNode && !isPointerDownRef.current &&\n        // Fix React 18 Strict Mode returnFocus due to double rendering.\n        relatedTarget !== getPreviouslyFocusedElement()) {\n          preventReturnFocusRef.current = true;\n          onOpenChange(false, event);\n        }\n      });\n    }\n    if (floating && isHTMLElement(domReference)) {\n      domReference.addEventListener('focusout', handleFocusOutside);\n      domReference.addEventListener('pointerdown', handlePointerDown);\n      !modal && floating.addEventListener('focusout', handleFocusOutside);\n      return () => {\n        domReference.removeEventListener('focusout', handleFocusOutside);\n        domReference.removeEventListener('pointerdown', handlePointerDown);\n        !modal && floating.removeEventListener('focusout', handleFocusOutside);\n      };\n    }\n  }, [disabled, domReference, floating, modal, nodeId, tree, portalContext, onOpenChange, closeOnFocusOut]);\n  React.useEffect(() => {\n    var _portalContext$portal;\n    if (disabled) return;\n\n    // Don't hide portals nested within the parent portal.\n    const portalNodes = Array.from((portalContext == null || (_portalContext$portal = portalContext.portalNode) == null ? void 0 : _portalContext$portal.querySelectorAll(\"[\" + createAttribute('portal') + \"]\")) || []);\n    if (floating) {\n      const insideElements = [floating, ...portalNodes, startDismissButtonRef.current, endDismissButtonRef.current, orderRef.current.includes('reference') || isUntrappedTypeableCombobox ? domReference : null].filter(x => x != null);\n      const cleanup = modal || isUntrappedTypeableCombobox ? markOthers(insideElements, guards, !guards) : markOthers(insideElements);\n      return () => {\n        cleanup();\n      };\n    }\n  }, [disabled, domReference, floating, modal, orderRef, portalContext, isUntrappedTypeableCombobox, guards]);\n  index(() => {\n    if (disabled || !floating) return;\n    const doc = getDocument(floating);\n    const previouslyFocusedElement = activeElement(doc);\n\n    // Wait for any layout effect state setters to execute to set `tabIndex`.\n    queueMicrotask(() => {\n      const focusableElements = getTabbableElements(floating);\n      const initialFocusValue = initialFocusRef.current;\n      const elToFocus = (typeof initialFocusValue === 'number' ? focusableElements[initialFocusValue] : initialFocusValue.current) || floating;\n      const focusAlreadyInsideFloatingEl = contains(floating, previouslyFocusedElement);\n      if (!ignoreInitialFocus && !focusAlreadyInsideFloatingEl && open) {\n        enqueueFocus(elToFocus, {\n          preventScroll: elToFocus === floating\n        });\n      }\n    });\n  }, [disabled, open, floating, ignoreInitialFocus, getTabbableElements, initialFocusRef]);\n  index(() => {\n    if (disabled || !floating) return;\n    let preventReturnFocusScroll = false;\n    const doc = getDocument(floating);\n    const previouslyFocusedElement = activeElement(doc);\n    const contextData = dataRef.current;\n    addPreviouslyFocusedElement(previouslyFocusedElement);\n\n    // Dismissing via outside press should always ignore `returnFocus` to\n    // prevent unwanted scrolling.\n    function onOpenChange(_ref) {\n      let {\n        reason,\n        event,\n        nested\n      } = _ref;\n      if (reason === 'escape-key' && refs.domReference.current) {\n        addPreviouslyFocusedElement(refs.domReference.current);\n      }\n      if (reason === 'hover' && event.type === 'mouseleave') {\n        preventReturnFocusRef.current = true;\n      }\n      if (reason !== 'outside-press') return;\n      if (nested) {\n        preventReturnFocusRef.current = false;\n        preventReturnFocusScroll = true;\n      } else {\n        preventReturnFocusRef.current = !(isVirtualClick(event) || isVirtualPointerEvent(event));\n      }\n    }\n    events.on('openchange', onOpenChange);\n    return () => {\n      events.off('openchange', onOpenChange);\n      const activeEl = activeElement(doc);\n      const isFocusInsideFloatingTree = contains(floating, activeEl) || tree && getChildren(tree.nodesRef.current, nodeId).some(node => {\n        var _node$context5;\n        return contains((_node$context5 = node.context) == null ? void 0 : _node$context5.elements.floating, activeEl);\n      });\n      const shouldFocusReference = isFocusInsideFloatingTree || contextData.openEvent && ['click', 'mousedown'].includes(contextData.openEvent.type);\n      if (shouldFocusReference && refs.domReference.current) {\n        addPreviouslyFocusedElement(refs.domReference.current);\n      }\n      const returnElement = getPreviouslyFocusedElement();\n      if (returnFocusRef.current && !preventReturnFocusRef.current && isHTMLElement(returnElement) && (\n      // If the focus moved somewhere else after mount, avoid returning focus\n      // since it likely entered a different element which should be\n      // respected: https://github.com/floating-ui/floating-ui/issues/2607\n      returnElement !== activeEl && activeEl !== doc.body ? isFocusInsideFloatingTree : true)) {\n        enqueueFocus(returnElement, {\n          // When dismissing nested floating elements, by the time the rAF has\n          // executed, the menus will all have been unmounted. When they try\n          // to get focused, the calls get ignored â€” leaving the root\n          // reference focused as desired.\n          cancelPrevious: false,\n          preventScroll: preventReturnFocusScroll\n        });\n      }\n    };\n  }, [disabled, floating, returnFocusRef, dataRef, refs, events, tree, nodeId]);\n\n  // Synchronize the `context` & `modal` value to the FloatingPortal context.\n  // It will decide whether or not it needs to render its own guards.\n  index(() => {\n    if (disabled || !portalContext) return;\n    portalContext.setFocusManagerState({\n      modal,\n      closeOnFocusOut,\n      open,\n      onOpenChange,\n      refs\n    });\n    return () => {\n      portalContext.setFocusManagerState(null);\n    };\n  }, [disabled, portalContext, modal, open, onOpenChange, refs, closeOnFocusOut]);\n  index(() => {\n    if (disabled || !floating || typeof MutationObserver !== 'function' || ignoreInitialFocus) {\n      return;\n    }\n    const handleMutation = () => {\n      const tabIndex = floating.getAttribute('tabindex');\n      if (orderRef.current.includes('floating') || activeElement(getDocument(floating)) !== refs.domReference.current && getTabbableContent().length === 0) {\n        if (tabIndex !== '0') {\n          floating.setAttribute('tabindex', '0');\n        }\n      } else if (tabIndex !== '-1') {\n        floating.setAttribute('tabindex', '-1');\n      }\n    };\n    handleMutation();\n    const observer = new MutationObserver(handleMutation);\n    observer.observe(floating, {\n      childList: true,\n      subtree: true,\n      attributes: true\n    });\n    return () => {\n      observer.disconnect();\n    };\n  }, [disabled, floating, refs, orderRef, getTabbableContent, ignoreInitialFocus]);\n  function renderDismissButton(location) {\n    if (disabled || !visuallyHiddenDismiss || !modal) {\n      return null;\n    }\n    return /*#__PURE__*/React.createElement(VisuallyHiddenDismiss, {\n      ref: location === 'start' ? startDismissButtonRef : endDismissButtonRef,\n      onClick: event => onOpenChange(false, event.nativeEvent)\n    }, typeof visuallyHiddenDismiss === 'string' ? visuallyHiddenDismiss : 'Dismiss');\n  }\n  const shouldRenderGuards = !disabled && guards && (isInsidePortal || modal);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, shouldRenderGuards && /*#__PURE__*/React.createElement(FocusGuard, {\n    \"data-type\": \"inside\",\n    ref: portalContext == null ? void 0 : portalContext.beforeInsideRef,\n    onFocus: event => {\n      if (modal) {\n        const els = getTabbableElements();\n        enqueueFocus(order[0] === 'reference' ? els[0] : els[els.length - 1]);\n      } else if (portalContext != null && portalContext.preserveTabOrder && portalContext.portalNode) {\n        preventReturnFocusRef.current = false;\n        if (isOutsideEvent(event, portalContext.portalNode)) {\n          const nextTabbable = getNextTabbable() || domReference;\n          nextTabbable == null || nextTabbable.focus();\n        } else {\n          var _portalContext$before;\n          (_portalContext$before = portalContext.beforeOutsideRef.current) == null || _portalContext$before.focus();\n        }\n      }\n    }\n  }), !isUntrappedTypeableCombobox && renderDismissButton('start'), children, renderDismissButton('end'), shouldRenderGuards && /*#__PURE__*/React.createElement(FocusGuard, {\n    \"data-type\": \"inside\",\n    ref: portalContext == null ? void 0 : portalContext.afterInsideRef,\n    onFocus: event => {\n      if (modal) {\n        enqueueFocus(getTabbableElements()[0]);\n      } else if (portalContext != null && portalContext.preserveTabOrder && portalContext.portalNode) {\n        if (closeOnFocusOut) {\n          preventReturnFocusRef.current = true;\n        }\n        if (isOutsideEvent(event, portalContext.portalNode)) {\n          const prevTabbable = getPreviousTabbable() || domReference;\n          prevTabbable == null || prevTabbable.focus();\n        } else {\n          var _portalContext$afterO;\n          (_portalContext$afterO = portalContext.afterOutsideRef.current) == null || _portalContext$afterO.focus();\n        }\n      }\n    }\n  }));\n}\n\nconst activeLocks = /*#__PURE__*/new Set();\n/**\n * Provides base styling for a fixed overlay element to dim content or block\n * pointer events behind a floating element.\n * It's a regular `<div>`, so it can be styled via any CSS solution you prefer.\n * @see https://floating-ui.com/docs/FloatingOverlay\n */\nconst FloatingOverlay = /*#__PURE__*/React.forwardRef(function FloatingOverlay(_ref, ref) {\n  let {\n    lockScroll = false,\n    ...rest\n  } = _ref;\n  const lockId = useId();\n  index(() => {\n    if (!lockScroll) return;\n    activeLocks.add(lockId);\n    const isIOS = /iP(hone|ad|od)|iOS/.test(getPlatform());\n    const bodyStyle = document.body.style;\n    // RTL <body> scrollbar\n    const scrollbarX = Math.round(document.documentElement.getBoundingClientRect().left) + document.documentElement.scrollLeft;\n    const paddingProp = scrollbarX ? 'paddingLeft' : 'paddingRight';\n    const scrollbarWidth = window.innerWidth - document.documentElement.clientWidth;\n    const scrollX = bodyStyle.left ? parseFloat(bodyStyle.left) : window.pageXOffset;\n    const scrollY = bodyStyle.top ? parseFloat(bodyStyle.top) : window.pageYOffset;\n    bodyStyle.overflow = 'hidden';\n    if (scrollbarWidth) {\n      bodyStyle[paddingProp] = scrollbarWidth + \"px\";\n    }\n\n    // Only iOS doesn't respect `overflow: hidden` on document.body, and this\n    // technique has fewer side effects.\n    if (isIOS) {\n      var _window$visualViewpor, _window$visualViewpor2;\n      // iOS 12 does not support `visualViewport`.\n      const offsetLeft = ((_window$visualViewpor = window.visualViewport) == null ? void 0 : _window$visualViewpor.offsetLeft) || 0;\n      const offsetTop = ((_window$visualViewpor2 = window.visualViewport) == null ? void 0 : _window$visualViewpor2.offsetTop) || 0;\n      Object.assign(bodyStyle, {\n        position: 'fixed',\n        top: -(scrollY - Math.floor(offsetTop)) + \"px\",\n        left: -(scrollX - Math.floor(offsetLeft)) + \"px\",\n        right: '0'\n      });\n    }\n    return () => {\n      activeLocks.delete(lockId);\n      if (activeLocks.size === 0) {\n        Object.assign(bodyStyle, {\n          overflow: '',\n          [paddingProp]: ''\n        });\n        if (isIOS) {\n          Object.assign(bodyStyle, {\n            position: '',\n            top: '',\n            left: '',\n            right: ''\n          });\n          window.scrollTo(scrollX, scrollY);\n        }\n      }\n    };\n  }, [lockId, lockScroll]);\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    ref: ref\n  }, rest, {\n    style: {\n      position: 'fixed',\n      overflow: 'auto',\n      top: 0,\n      right: 0,\n      bottom: 0,\n      left: 0,\n      ...rest.style\n    }\n  }));\n});\n\nfunction isButtonTarget(event) {\n  return isHTMLElement(event.target) && event.target.tagName === 'BUTTON';\n}\nfunction isSpaceIgnored(element) {\n  return isTypeableElement(element);\n}\n/**\n * Opens or closes the floating element when clicking the reference element.\n * @see https://floating-ui.com/docs/useClick\n */\nfunction useClick(context, props) {\n  if (props === void 0) {\n    props = {};\n  }\n  const {\n    open,\n    onOpenChange,\n    dataRef,\n    elements: {\n      domReference\n    }\n  } = context;\n  const {\n    enabled = true,\n    event: eventOption = 'click',\n    toggle = true,\n    ignoreMouse = false,\n    keyboardHandlers = true\n  } = props;\n  const pointerTypeRef = React.useRef();\n  const didKeyDownRef = React.useRef(false);\n  return React.useMemo(() => {\n    if (!enabled) return {};\n    return {\n      reference: {\n        onPointerDown(event) {\n          pointerTypeRef.current = event.pointerType;\n        },\n        onMouseDown(event) {\n          // Ignore all buttons except for the \"main\" button.\n          // https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/button\n          if (event.button !== 0) {\n            return;\n          }\n          if (isMouseLikePointerType(pointerTypeRef.current, true) && ignoreMouse) {\n            return;\n          }\n          if (eventOption === 'click') {\n            return;\n          }\n          if (open && toggle && (dataRef.current.openEvent ? dataRef.current.openEvent.type === 'mousedown' : true)) {\n            onOpenChange(false, event.nativeEvent, 'click');\n          } else {\n            // Prevent stealing focus from the floating element\n            event.preventDefault();\n            onOpenChange(true, event.nativeEvent, 'click');\n          }\n        },\n        onClick(event) {\n          if (eventOption === 'mousedown' && pointerTypeRef.current) {\n            pointerTypeRef.current = undefined;\n            return;\n          }\n          if (isMouseLikePointerType(pointerTypeRef.current, true) && ignoreMouse) {\n            return;\n          }\n          if (open && toggle && (dataRef.current.openEvent ? dataRef.current.openEvent.type === 'click' : true)) {\n            onOpenChange(false, event.nativeEvent, 'click');\n          } else {\n            onOpenChange(true, event.nativeEvent, 'click');\n          }\n        },\n        onKeyDown(event) {\n          pointerTypeRef.current = undefined;\n          if (event.defaultPrevented || !keyboardHandlers || isButtonTarget(event)) {\n            return;\n          }\n          if (event.key === ' ' && !isSpaceIgnored(domReference)) {\n            // Prevent scrolling\n            event.preventDefault();\n            didKeyDownRef.current = true;\n          }\n          if (event.key === 'Enter') {\n            if (open && toggle) {\n              onOpenChange(false, event.nativeEvent, 'click');\n            } else {\n              onOpenChange(true, event.nativeEvent, 'click');\n            }\n          }\n        },\n        onKeyUp(event) {\n          if (event.defaultPrevented || !keyboardHandlers || isButtonTarget(event) || isSpaceIgnored(domReference)) {\n            return;\n          }\n          if (event.key === ' ' && didKeyDownRef.current) {\n            didKeyDownRef.current = false;\n            if (open && toggle) {\n              onOpenChange(false, event.nativeEvent, 'click');\n            } else {\n              onOpenChange(true, event.nativeEvent, 'click');\n            }\n          }\n        }\n      }\n    };\n  }, [enabled, dataRef, eventOption, ignoreMouse, keyboardHandlers, domReference, toggle, open, onOpenChange]);\n}\n\nfunction createVirtualElement(domRef, data) {\n  let offsetX = null;\n  let offsetY = null;\n  let isAutoUpdateEvent = false;\n  return {\n    contextElement: domRef.current || undefined,\n    getBoundingClientRect() {\n      var _domRef$current, _data$dataRef$current;\n      const domRect = ((_domRef$current = domRef.current) == null ? void 0 : _domRef$current.getBoundingClientRect()) || {\n        width: 0,\n        height: 0,\n        x: 0,\n        y: 0\n      };\n      const isXAxis = data.axis === 'x' || data.axis === 'both';\n      const isYAxis = data.axis === 'y' || data.axis === 'both';\n      const canTrackCursorOnAutoUpdate = ['mouseenter', 'mousemove'].includes(((_data$dataRef$current = data.dataRef.current.openEvent) == null ? void 0 : _data$dataRef$current.type) || '') && data.pointerType !== 'touch';\n      let width = domRect.width;\n      let height = domRect.height;\n      let x = domRect.x;\n      let y = domRect.y;\n      if (offsetX == null && data.x && isXAxis) {\n        offsetX = domRect.x - data.x;\n      }\n      if (offsetY == null && data.y && isYAxis) {\n        offsetY = domRect.y - data.y;\n      }\n      x -= offsetX || 0;\n      y -= offsetY || 0;\n      width = 0;\n      height = 0;\n      if (!isAutoUpdateEvent || canTrackCursorOnAutoUpdate) {\n        width = data.axis === 'y' ? domRect.width : 0;\n        height = data.axis === 'x' ? domRect.height : 0;\n        x = isXAxis && data.x != null ? data.x : x;\n        y = isYAxis && data.y != null ? data.y : y;\n      } else if (isAutoUpdateEvent && !canTrackCursorOnAutoUpdate) {\n        height = data.axis === 'x' ? domRect.height : height;\n        width = data.axis === 'y' ? domRect.width : width;\n      }\n      isAutoUpdateEvent = true;\n      return {\n        width,\n        height,\n        x,\n        y,\n        top: y,\n        right: x + width,\n        bottom: y + height,\n        left: x\n      };\n    }\n  };\n}\nfunction isMouseBasedEvent(event) {\n  return event != null && event.clientX != null;\n}\n/**\n * Positions the floating element relative to a client point (in the viewport),\n * such as the mouse position. By default, it follows the mouse cursor.\n * @see https://floating-ui.com/docs/useClientPoint\n */\nfunction useClientPoint(context, props) {\n  if (props === void 0) {\n    props = {};\n  }\n  const {\n    open,\n    refs,\n    dataRef,\n    elements: {\n      floating\n    }\n  } = context;\n  const {\n    enabled = true,\n    axis = 'both',\n    x = null,\n    y = null\n  } = props;\n  const initialRef = React.useRef(false);\n  const cleanupListenerRef = React.useRef(null);\n  const [pointerType, setPointerType] = React.useState();\n  const [reactive, setReactive] = React.useState([]);\n  const setReference = useEffectEvent((x, y) => {\n    if (initialRef.current) return;\n\n    // Prevent setting if the open event was not a mouse-like one\n    // (e.g. focus to open, then hover over the reference element).\n    // Only apply if the event exists.\n    if (dataRef.current.openEvent && !isMouseBasedEvent(dataRef.current.openEvent)) {\n      return;\n    }\n    refs.setPositionReference(createVirtualElement(refs.domReference, {\n      x,\n      y,\n      axis,\n      dataRef,\n      pointerType\n    }));\n  });\n  const handleReferenceEnterOrMove = useEffectEvent(event => {\n    if (x != null || y != null) return;\n    if (!open) {\n      setReference(event.clientX, event.clientY);\n    } else if (!cleanupListenerRef.current) {\n      // If there's no cleanup, there's no listener, but we want to ensure\n      // we add the listener if the cursor landed on the floating element and\n      // then back on the reference (i.e. it's interactive).\n      setReactive([]);\n    }\n  });\n\n  // If the pointer is a mouse-like pointer, we want to continue following the\n  // mouse even if the floating element is transitioning out. On touch\n  // devices, this is undesirable because the floating element will move to\n  // the dismissal touch point.\n  const openCheck = isMouseLikePointerType(pointerType) ? floating : open;\n  const addListener = React.useCallback(() => {\n    // Explicitly specified `x`/`y` coordinates shouldn't add a listener.\n    if (!openCheck || !enabled || x != null || y != null) return;\n    const win = getWindow(refs.floating.current);\n    function handleMouseMove(event) {\n      const target = getTarget(event);\n      if (!contains(refs.floating.current, target)) {\n        setReference(event.clientX, event.clientY);\n      } else {\n        win.removeEventListener('mousemove', handleMouseMove);\n        cleanupListenerRef.current = null;\n      }\n    }\n    if (!dataRef.current.openEvent || isMouseBasedEvent(dataRef.current.openEvent)) {\n      win.addEventListener('mousemove', handleMouseMove);\n      const cleanup = () => {\n        win.removeEventListener('mousemove', handleMouseMove);\n        cleanupListenerRef.current = null;\n      };\n      cleanupListenerRef.current = cleanup;\n      return cleanup;\n    }\n    refs.setPositionReference(refs.domReference.current);\n  }, [dataRef, enabled, openCheck, refs, setReference, x, y]);\n\n  // biome-ignore lint/correctness/useExhaustiveDependencies: intentionally specifying `reactive`\n  React.useEffect(() => {\n    return addListener();\n  }, [addListener, reactive]);\n  React.useEffect(() => {\n    if (enabled && !floating) {\n      initialRef.current = false;\n    }\n  }, [enabled, floating]);\n  React.useEffect(() => {\n    if (!enabled && open) {\n      initialRef.current = true;\n    }\n  }, [enabled, open]);\n  index(() => {\n    if (enabled && (x != null || y != null)) {\n      initialRef.current = false;\n      setReference(x, y);\n    }\n  }, [enabled, x, y, setReference]);\n  return React.useMemo(() => {\n    if (!enabled) return {};\n    function setPointerTypeRef(_ref) {\n      let {\n        pointerType\n      } = _ref;\n      setPointerType(pointerType);\n    }\n    return {\n      reference: {\n        onPointerDown: setPointerTypeRef,\n        onPointerEnter: setPointerTypeRef,\n        onMouseMove: handleReferenceEnterOrMove,\n        onMouseEnter: handleReferenceEnterOrMove\n      }\n    };\n  }, [enabled, handleReferenceEnterOrMove]);\n}\n\nconst bubbleHandlerKeys = {\n  pointerdown: 'onPointerDown',\n  mousedown: 'onMouseDown',\n  click: 'onClick'\n};\nconst captureHandlerKeys = {\n  pointerdown: 'onPointerDownCapture',\n  mousedown: 'onMouseDownCapture',\n  click: 'onClickCapture'\n};\nconst normalizeProp = normalizable => {\n  var _normalizable$escapeK, _normalizable$outside;\n  return {\n    escapeKey: typeof normalizable === 'boolean' ? normalizable : (_normalizable$escapeK = normalizable == null ? void 0 : normalizable.escapeKey) != null ? _normalizable$escapeK : false,\n    outsidePress: typeof normalizable === 'boolean' ? normalizable : (_normalizable$outside = normalizable == null ? void 0 : normalizable.outsidePress) != null ? _normalizable$outside : true\n  };\n};\n/**\n * Closes the floating element when a dismissal is requested â€” by default, when\n * the user presses the `escape` key or outside of the floating element.\n * @see https://floating-ui.com/docs/useDismiss\n */\nfunction useDismiss(context, props) {\n  if (props === void 0) {\n    props = {};\n  }\n  const {\n    open,\n    onOpenChange,\n    nodeId,\n    elements: {\n      reference,\n      domReference,\n      floating\n    },\n    dataRef\n  } = context;\n  const {\n    enabled = true,\n    escapeKey = true,\n    outsidePress: unstable_outsidePress = true,\n    outsidePressEvent = 'pointerdown',\n    referencePress = false,\n    referencePressEvent = 'pointerdown',\n    ancestorScroll = false,\n    bubbles,\n    capture\n  } = props;\n  const tree = useFloatingTree();\n  const outsidePressFn = useEffectEvent(typeof unstable_outsidePress === 'function' ? unstable_outsidePress : () => false);\n  const outsidePress = typeof unstable_outsidePress === 'function' ? outsidePressFn : unstable_outsidePress;\n  const insideReactTreeRef = React.useRef(false);\n  const endedOrStartedInsideRef = React.useRef(false);\n  const {\n    escapeKey: escapeKeyBubbles,\n    outsidePress: outsidePressBubbles\n  } = normalizeProp(bubbles);\n  const {\n    escapeKey: escapeKeyCapture,\n    outsidePress: outsidePressCapture\n  } = normalizeProp(capture);\n  const closeOnEscapeKeyDown = useEffectEvent(event => {\n    if (!open || !enabled || !escapeKey || event.key !== 'Escape') {\n      return;\n    }\n    const children = tree ? getChildren(tree.nodesRef.current, nodeId) : [];\n    if (!escapeKeyBubbles) {\n      event.stopPropagation();\n      if (children.length > 0) {\n        let shouldDismiss = true;\n        children.forEach(child => {\n          var _child$context;\n          if ((_child$context = child.context) != null && _child$context.open && !child.context.dataRef.current.__escapeKeyBubbles) {\n            shouldDismiss = false;\n            return;\n          }\n        });\n        if (!shouldDismiss) {\n          return;\n        }\n      }\n    }\n    onOpenChange(false, isReactEvent(event) ? event.nativeEvent : event, 'escape-key');\n  });\n  const closeOnEscapeKeyDownCapture = useEffectEvent(event => {\n    var _getTarget2;\n    const callback = () => {\n      var _getTarget;\n      closeOnEscapeKeyDown(event);\n      (_getTarget = getTarget(event)) == null || _getTarget.removeEventListener('keydown', callback);\n    };\n    (_getTarget2 = getTarget(event)) == null || _getTarget2.addEventListener('keydown', callback);\n  });\n  const closeOnPressOutside = useEffectEvent(event => {\n    // Given developers can stop the propagation of the synthetic event,\n    // we can only be confident with a positive value.\n    const insideReactTree = insideReactTreeRef.current;\n    insideReactTreeRef.current = false;\n\n    // When click outside is lazy (`click` event), handle dragging.\n    // Don't close if:\n    // - The click started inside the floating element.\n    // - The click ended inside the floating element.\n    const endedOrStartedInside = endedOrStartedInsideRef.current;\n    endedOrStartedInsideRef.current = false;\n    if (outsidePressEvent === 'click' && endedOrStartedInside) {\n      return;\n    }\n    if (insideReactTree) {\n      return;\n    }\n    if (typeof outsidePress === 'function' && !outsidePress(event)) {\n      return;\n    }\n    const target = getTarget(event);\n    const inertSelector = \"[\" + createAttribute('inert') + \"]\";\n    const markers = getDocument(floating).querySelectorAll(inertSelector);\n    let targetRootAncestor = isElement(target) ? target : null;\n    while (targetRootAncestor && !isLastTraversableNode(targetRootAncestor)) {\n      const nextParent = getParentNode(targetRootAncestor);\n      if (isLastTraversableNode(nextParent) || !isElement(nextParent)) {\n        break;\n      }\n      targetRootAncestor = nextParent;\n    }\n\n    // Check if the click occurred on a third-party element injected after the\n    // floating element rendered.\n    if (markers.length && isElement(target) && !isRootElement(target) &&\n    // Clicked on a direct ancestor (e.g. FloatingOverlay).\n    !contains(target, floating) &&\n    // If the target root element contains none of the markers, then the\n    // element was injected after the floating element rendered.\n    Array.from(markers).every(marker => !contains(targetRootAncestor, marker))) {\n      return;\n    }\n\n    // Check if the click occurred on the scrollbar\n    if (isHTMLElement(target) && floating) {\n      // In Firefox, `target.scrollWidth > target.clientWidth` for inline\n      // elements.\n      const canScrollX = target.clientWidth > 0 && target.scrollWidth > target.clientWidth;\n      const canScrollY = target.clientHeight > 0 && target.scrollHeight > target.clientHeight;\n      let xCond = canScrollY && event.offsetX > target.clientWidth;\n\n      // In some browsers it is possible to change the <body> (or window)\n      // scrollbar to the left side, but is very rare and is difficult to\n      // check for. Plus, for modal dialogs with backdrops, it is more\n      // important that the backdrop is checked but not so much the window.\n      if (canScrollY) {\n        const isRTL = getComputedStyle(target).direction === 'rtl';\n        if (isRTL) {\n          xCond = event.offsetX <= target.offsetWidth - target.clientWidth;\n        }\n      }\n      if (xCond || canScrollX && event.offsetY > target.clientHeight) {\n        return;\n      }\n    }\n    const targetIsInsideChildren = tree && getChildren(tree.nodesRef.current, nodeId).some(node => {\n      var _node$context;\n      return isEventTargetWithin(event, (_node$context = node.context) == null ? void 0 : _node$context.elements.floating);\n    });\n    if (isEventTargetWithin(event, floating) || isEventTargetWithin(event, domReference) || targetIsInsideChildren) {\n      return;\n    }\n    const children = tree ? getChildren(tree.nodesRef.current, nodeId) : [];\n    if (children.length > 0) {\n      let shouldDismiss = true;\n      children.forEach(child => {\n        var _child$context2;\n        if ((_child$context2 = child.context) != null && _child$context2.open && !child.context.dataRef.current.__outsidePressBubbles) {\n          shouldDismiss = false;\n          return;\n        }\n      });\n      if (!shouldDismiss) {\n        return;\n      }\n    }\n    onOpenChange(false, event, 'outside-press');\n  });\n  const closeOnPressOutsideCapture = useEffectEvent(event => {\n    var _getTarget4;\n    const callback = () => {\n      var _getTarget3;\n      closeOnPressOutside(event);\n      (_getTarget3 = getTarget(event)) == null || _getTarget3.removeEventListener(outsidePressEvent, callback);\n    };\n    (_getTarget4 = getTarget(event)) == null || _getTarget4.addEventListener(outsidePressEvent, callback);\n  });\n  React.useEffect(() => {\n    if (!open || !enabled) {\n      return;\n    }\n    dataRef.current.__escapeKeyBubbles = escapeKeyBubbles;\n    dataRef.current.__outsidePressBubbles = outsidePressBubbles;\n    function onScroll(event) {\n      onOpenChange(false, event, 'ancestor-scroll');\n    }\n    const doc = getDocument(floating);\n    escapeKey && doc.addEventListener('keydown', escapeKeyCapture ? closeOnEscapeKeyDownCapture : closeOnEscapeKeyDown, escapeKeyCapture);\n    outsidePress && doc.addEventListener(outsidePressEvent, outsidePressCapture ? closeOnPressOutsideCapture : closeOnPressOutside, outsidePressCapture);\n    let ancestors = [];\n    if (ancestorScroll) {\n      if (isElement(domReference)) {\n        ancestors = getOverflowAncestors(domReference);\n      }\n      if (isElement(floating)) {\n        ancestors = ancestors.concat(getOverflowAncestors(floating));\n      }\n      if (!isElement(reference) && reference && reference.contextElement) {\n        ancestors = ancestors.concat(getOverflowAncestors(reference.contextElement));\n      }\n    }\n\n    // Ignore the visual viewport for scrolling dismissal (allow pinch-zoom)\n    ancestors = ancestors.filter(ancestor => {\n      var _doc$defaultView;\n      return ancestor !== ((_doc$defaultView = doc.defaultView) == null ? void 0 : _doc$defaultView.visualViewport);\n    });\n    ancestors.forEach(ancestor => {\n      ancestor.addEventListener('scroll', onScroll, {\n        passive: true\n      });\n    });\n    return () => {\n      escapeKey && doc.removeEventListener('keydown', escapeKeyCapture ? closeOnEscapeKeyDownCapture : closeOnEscapeKeyDown, escapeKeyCapture);\n      outsidePress && doc.removeEventListener(outsidePressEvent, outsidePressCapture ? closeOnPressOutsideCapture : closeOnPressOutside, outsidePressCapture);\n      ancestors.forEach(ancestor => {\n        ancestor.removeEventListener('scroll', onScroll);\n      });\n    };\n  }, [dataRef, floating, domReference, reference, escapeKey, outsidePress, outsidePressEvent, open, onOpenChange, ancestorScroll, enabled, escapeKeyBubbles, outsidePressBubbles, closeOnEscapeKeyDown, escapeKeyCapture, closeOnEscapeKeyDownCapture, closeOnPressOutside, outsidePressCapture, closeOnPressOutsideCapture]);\n\n  // biome-ignore lint/correctness/useExhaustiveDependencies: intentional\n  React.useEffect(() => {\n    insideReactTreeRef.current = false;\n  }, [outsidePress, outsidePressEvent]);\n  return React.useMemo(() => {\n    if (!enabled) {\n      return {};\n    }\n    return {\n      reference: {\n        onKeyDown: closeOnEscapeKeyDown,\n        [bubbleHandlerKeys[referencePressEvent]]: event => {\n          if (referencePress) {\n            onOpenChange(false, event.nativeEvent, 'reference-press');\n          }\n        }\n      },\n      floating: {\n        onKeyDown: closeOnEscapeKeyDown,\n        onMouseDown() {\n          endedOrStartedInsideRef.current = true;\n        },\n        onMouseUp() {\n          endedOrStartedInsideRef.current = true;\n        },\n        [captureHandlerKeys[outsidePressEvent]]: () => {\n          insideReactTreeRef.current = true;\n        }\n      }\n    };\n  }, [enabled, referencePress, outsidePressEvent, referencePressEvent, onOpenChange, closeOnEscapeKeyDown]);\n}\n\nlet devMessageSet;\nif (process.env.NODE_ENV !== \"production\") {\n  devMessageSet = /*#__PURE__*/new Set();\n}\n\n/**\n * Provides data to position a floating element and context to add interactions.\n * @see https://floating-ui.com/docs/useFloating\n */\nfunction useFloating(options) {\n  var _options$elements2;\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    open = false,\n    onOpenChange: unstable_onOpenChange,\n    nodeId\n  } = options;\n  if (process.env.NODE_ENV !== \"production\") {\n    var _options$elements;\n    const err = 'Floating UI: Cannot pass a virtual element to the ' + '`elements.reference` option, as it must be a real DOM element. ' + 'Use `refs.setPositionReference` instead.';\n    if ((_options$elements = options.elements) != null && _options$elements.reference && !isElement(options.elements.reference)) {\n      var _devMessageSet;\n      if (!((_devMessageSet = devMessageSet) != null && _devMessageSet.has(err))) {\n        var _devMessageSet2;\n        (_devMessageSet2 = devMessageSet) == null || _devMessageSet2.add(err);\n        console.error(err);\n      }\n    }\n  }\n  const [_domReference, setDomReference] = React.useState(null);\n  const domReference = ((_options$elements2 = options.elements) == null ? void 0 : _options$elements2.reference) || _domReference;\n  const position = useFloating$1(options);\n  const tree = useFloatingTree();\n  const nested = useFloatingParentNodeId() != null;\n  const onOpenChange = useEffectEvent((open, event, reason) => {\n    if (open) {\n      dataRef.current.openEvent = event;\n    }\n    events.emit('openchange', {\n      open,\n      event,\n      reason,\n      nested\n    });\n    unstable_onOpenChange == null || unstable_onOpenChange(open, event, reason);\n  });\n  const domReferenceRef = React.useRef(null);\n  const dataRef = React.useRef({});\n  const events = React.useState(() => createPubSub())[0];\n  const floatingId = useId();\n  const setPositionReference = React.useCallback(node => {\n    const positionReference = isElement(node) ? {\n      getBoundingClientRect: () => node.getBoundingClientRect(),\n      contextElement: node\n    } : node;\n    position.refs.setReference(positionReference);\n  }, [position.refs]);\n  const setReference = React.useCallback(node => {\n    if (isElement(node) || node === null) {\n      domReferenceRef.current = node;\n      setDomReference(node);\n    }\n\n    // Backwards-compatibility for passing a virtual element to `reference`\n    // after it has set the DOM reference.\n    if (isElement(position.refs.reference.current) || position.refs.reference.current === null ||\n    // Don't allow setting virtual elements using the old technique back to\n    // `null` to support `positionReference` + an unstable `reference`\n    // callback ref.\n    node !== null && !isElement(node)) {\n      position.refs.setReference(node);\n    }\n  }, [position.refs]);\n  const refs = React.useMemo(() => ({\n    ...position.refs,\n    setReference,\n    setPositionReference,\n    domReference: domReferenceRef\n  }), [position.refs, setReference, setPositionReference]);\n  const elements = React.useMemo(() => ({\n    ...position.elements,\n    domReference: domReference\n  }), [position.elements, domReference]);\n  const context = React.useMemo(() => ({\n    ...position,\n    refs,\n    elements,\n    dataRef,\n    nodeId,\n    floatingId,\n    events,\n    open,\n    onOpenChange\n  }), [position, nodeId, floatingId, events, open, onOpenChange, refs, elements]);\n  index(() => {\n    const node = tree == null ? void 0 : tree.nodesRef.current.find(node => node.id === nodeId);\n    if (node) {\n      node.context = context;\n    }\n  });\n  return React.useMemo(() => ({\n    ...position,\n    context,\n    refs,\n    elements\n  }), [position, refs, elements, context]);\n}\n\n/**\n * Opens the floating element while the reference element has focus, like CSS\n * `:focus`.\n * @see https://floating-ui.com/docs/useFocus\n */\nfunction useFocus(context, props) {\n  if (props === void 0) {\n    props = {};\n  }\n  const {\n    open,\n    onOpenChange,\n    events,\n    refs,\n    elements: {\n      domReference\n    }\n  } = context;\n  const {\n    enabled = true,\n    visibleOnly = true\n  } = props;\n  const blockFocusRef = React.useRef(false);\n  const timeoutRef = React.useRef();\n  const keyboardModalityRef = React.useRef(true);\n  React.useEffect(() => {\n    if (!enabled) {\n      return;\n    }\n    const win = getWindow(domReference);\n\n    // If the reference was focused and the user left the tab/window, and the\n    // floating element was not open, the focus should be blocked when they\n    // return to the tab/window.\n    function onBlur() {\n      if (!open && isHTMLElement(domReference) && domReference === activeElement(getDocument(domReference))) {\n        blockFocusRef.current = true;\n      }\n    }\n    function onKeyDown() {\n      keyboardModalityRef.current = true;\n    }\n    win.addEventListener('blur', onBlur);\n    win.addEventListener('keydown', onKeyDown, true);\n    return () => {\n      win.removeEventListener('blur', onBlur);\n      win.removeEventListener('keydown', onKeyDown, true);\n    };\n  }, [domReference, open, enabled]);\n  React.useEffect(() => {\n    if (!enabled) {\n      return;\n    }\n    function onOpenChange(_ref) {\n      let {\n        reason\n      } = _ref;\n      if (reason === 'reference-press' || reason === 'escape-key') {\n        blockFocusRef.current = true;\n      }\n    }\n    events.on('openchange', onOpenChange);\n    return () => {\n      events.off('openchange', onOpenChange);\n    };\n  }, [events, enabled]);\n  React.useEffect(() => {\n    return () => {\n      clearTimeout(timeoutRef.current);\n    };\n  }, []);\n  return React.useMemo(() => {\n    if (!enabled) {\n      return {};\n    }\n    return {\n      reference: {\n        onPointerDown(event) {\n          if (isVirtualPointerEvent(event.nativeEvent)) return;\n          keyboardModalityRef.current = false;\n        },\n        onMouseLeave() {\n          blockFocusRef.current = false;\n        },\n        onFocus(event) {\n          if (blockFocusRef.current) return;\n          const target = getTarget(event.nativeEvent);\n          if (visibleOnly && isElement(target)) {\n            try {\n              // Mac Safari unreliably matches `:focus-visible` on the reference\n              // if focus was outside the page initially - use the fallback\n              // instead.\n              if (isSafari() && isMac()) throw Error();\n              if (!target.matches(':focus-visible')) return;\n            } catch (e) {\n              // Old browsers will throw an error when using `:focus-visible`.\n              if (!keyboardModalityRef.current && !isTypeableElement(target)) {\n                return;\n              }\n            }\n          }\n          onOpenChange(true, event.nativeEvent, 'focus');\n        },\n        onBlur(event) {\n          blockFocusRef.current = false;\n          const relatedTarget = event.relatedTarget;\n\n          // Hit the non-modal focus management portal guard. Focus will be\n          // moved into the floating element immediately after.\n          const movedToFocusGuard = isElement(relatedTarget) && relatedTarget.hasAttribute(createAttribute('focus-guard')) && relatedTarget.getAttribute('data-type') === 'outside';\n\n          // Wait for the window blur listener to fire.\n          timeoutRef.current = window.setTimeout(() => {\n            const activeEl = activeElement(domReference ? domReference.ownerDocument : document);\n\n            // Focus left the page, keep it open.\n            if (!relatedTarget && activeEl === domReference) return;\n\n            // When focusing the reference element (e.g. regular click), then\n            // clicking into the floating element, prevent it from hiding.\n            // Note: it must be focusable, e.g. `tabindex=\"-1\"`.\n            // We can not rely on relatedTarget to point to the correct element\n            // as it will only point to the shadow host of the newly focused element\n            // and not the element that actually has received focus if it is located\n            // inside a shadow root.\n            if (contains(refs.floating.current, activeEl) || contains(domReference, activeEl) || movedToFocusGuard) {\n              return;\n            }\n            onOpenChange(false, event.nativeEvent, 'focus');\n          });\n        }\n      }\n    };\n  }, [enabled, visibleOnly, domReference, refs, onOpenChange]);\n}\n\nconst ACTIVE_KEY = 'active';\nconst SELECTED_KEY = 'selected';\nfunction mergeProps(userProps, propsList, elementKey) {\n  const map = new Map();\n  const isItem = elementKey === 'item';\n  let domUserProps = userProps;\n  if (isItem && userProps) {\n    const {\n      [ACTIVE_KEY]: _,\n      [SELECTED_KEY]: __,\n      ...validProps\n    } = userProps;\n    domUserProps = validProps;\n  }\n  return {\n    ...(elementKey === 'floating' && {\n      tabIndex: -1\n    }),\n    ...domUserProps,\n    ...propsList.map(value => {\n      const propsOrGetProps = value ? value[elementKey] : null;\n      if (typeof propsOrGetProps === 'function') {\n        return userProps ? propsOrGetProps(userProps) : null;\n      }\n      return propsOrGetProps;\n    }).concat(userProps).reduce((acc, props) => {\n      if (!props) {\n        return acc;\n      }\n      Object.entries(props).forEach(_ref => {\n        let [key, value] = _ref;\n        if (isItem && [ACTIVE_KEY, SELECTED_KEY].includes(key)) {\n          return;\n        }\n        if (key.indexOf('on') === 0) {\n          if (!map.has(key)) {\n            map.set(key, []);\n          }\n          if (typeof value === 'function') {\n            var _map$get;\n            (_map$get = map.get(key)) == null || _map$get.push(value);\n            acc[key] = function () {\n              var _map$get2;\n              for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n                args[_key] = arguments[_key];\n              }\n              return (_map$get2 = map.get(key)) == null ? void 0 : _map$get2.map(fn => fn(...args)).find(val => val !== undefined);\n            };\n          }\n        } else {\n          acc[key] = value;\n        }\n      });\n      return acc;\n    }, {})\n  };\n}\n\n/**\n * Merges an array of interaction hooks' props into prop getters, allowing\n * event handler functions to be composed together without overwriting one\n * another.\n * @see https://floating-ui.com/docs/useInteractions\n */\nfunction useInteractions(propsList) {\n  if (propsList === void 0) {\n    propsList = [];\n  }\n  // The dependencies are a dynamic array, so we can't use the linter's\n  // suggestion to add it to the deps array.\n  const deps = propsList;\n\n  // biome-ignore lint/correctness/useExhaustiveDependencies: intentional\n  const getReferenceProps = React.useCallback(userProps => mergeProps(userProps, propsList, 'reference'), deps);\n\n  // biome-ignore lint/correctness/useExhaustiveDependencies: intentional\n  const getFloatingProps = React.useCallback(userProps => mergeProps(userProps, propsList, 'floating'), deps);\n\n  // biome-ignore lint/correctness/useExhaustiveDependencies: intentional\n  const getItemProps = React.useCallback(userProps => mergeProps(userProps, propsList, 'item'),\n  // Granularly check for `item` changes, because the `getItemProps` getter\n  // should be as referentially stable as possible since it may be passed as\n  // a prop to many components. All `item` key values must therefore be\n  // memoized.\n  propsList.map(key => key == null ? void 0 : key.item));\n  return React.useMemo(() => ({\n    getReferenceProps,\n    getFloatingProps,\n    getItemProps\n  }), [getReferenceProps, getFloatingProps, getItemProps]);\n}\n\nlet isPreventScrollSupported = false;\nfunction doSwitch(orientation, vertical, horizontal) {\n  switch (orientation) {\n    case 'vertical':\n      return vertical;\n    case 'horizontal':\n      return horizontal;\n    default:\n      return vertical || horizontal;\n  }\n}\nfunction isMainOrientationKey(key, orientation) {\n  const vertical = key === ARROW_UP || key === ARROW_DOWN;\n  const horizontal = key === ARROW_LEFT || key === ARROW_RIGHT;\n  return doSwitch(orientation, vertical, horizontal);\n}\nfunction isMainOrientationToEndKey(key, orientation, rtl) {\n  const vertical = key === ARROW_DOWN;\n  const horizontal = rtl ? key === ARROW_LEFT : key === ARROW_RIGHT;\n  return doSwitch(orientation, vertical, horizontal) || key === 'Enter' || key === ' ' || key === '';\n}\nfunction isCrossOrientationOpenKey(key, orientation, rtl) {\n  const vertical = rtl ? key === ARROW_LEFT : key === ARROW_RIGHT;\n  const horizontal = key === ARROW_DOWN;\n  return doSwitch(orientation, vertical, horizontal);\n}\nfunction isCrossOrientationCloseKey(key, orientation, rtl) {\n  const vertical = rtl ? key === ARROW_RIGHT : key === ARROW_LEFT;\n  const horizontal = key === ARROW_UP;\n  return doSwitch(orientation, vertical, horizontal);\n}\n/**\n * Adds arrow key-based navigation of a list of items, either using real DOM\n * focus or virtual focus.\n * @see https://floating-ui.com/docs/useListNavigation\n */\nfunction useListNavigation(context, props) {\n  const {\n    open,\n    onOpenChange,\n    refs,\n    elements: {\n      domReference,\n      floating\n    }\n  } = context;\n  const {\n    listRef,\n    activeIndex,\n    onNavigate: unstable_onNavigate = () => {},\n    enabled = true,\n    selectedIndex = null,\n    allowEscape = false,\n    loop = false,\n    nested = false,\n    rtl = false,\n    virtual = false,\n    focusItemOnOpen = 'auto',\n    focusItemOnHover = true,\n    openOnArrowKeyDown = true,\n    disabledIndices = undefined,\n    orientation = 'vertical',\n    cols = 1,\n    scrollItemIntoView = true,\n    virtualItemRef,\n    itemSizes,\n    dense = false\n  } = props;\n  if (process.env.NODE_ENV !== \"production\") {\n    if (allowEscape) {\n      if (!loop) {\n        console.warn(['Floating UI: `useListNavigation` looping must be enabled to allow', 'escaping.'].join(' '));\n      }\n      if (!virtual) {\n        console.warn(['Floating UI: `useListNavigation` must be virtual to allow', 'escaping.'].join(' '));\n      }\n    }\n    if (orientation === 'vertical' && cols > 1) {\n      console.warn(['Floating UI: In grid list navigation mode (`cols` > 1), the', '`orientation` should be either \"horizontal\" or \"both\".'].join(' '));\n    }\n  }\n  const parentId = useFloatingParentNodeId();\n  const tree = useFloatingTree();\n  const onNavigate = useEffectEvent(unstable_onNavigate);\n  const focusItemOnOpenRef = React.useRef(focusItemOnOpen);\n  const indexRef = React.useRef(selectedIndex != null ? selectedIndex : -1);\n  const keyRef = React.useRef(null);\n  const isPointerModalityRef = React.useRef(true);\n  const previousOnNavigateRef = React.useRef(onNavigate);\n  const previousMountedRef = React.useRef(!!floating);\n  const forceSyncFocus = React.useRef(false);\n  const forceScrollIntoViewRef = React.useRef(false);\n  const disabledIndicesRef = useLatestRef(disabledIndices);\n  const latestOpenRef = useLatestRef(open);\n  const scrollItemIntoViewRef = useLatestRef(scrollItemIntoView);\n  const [activeId, setActiveId] = React.useState();\n  const [virtualId, setVirtualId] = React.useState();\n  const focusItem = useEffectEvent(function (listRef, indexRef, forceScrollIntoView) {\n    if (forceScrollIntoView === void 0) {\n      forceScrollIntoView = false;\n    }\n    const item = listRef.current[indexRef.current];\n    if (!item) return;\n    if (virtual) {\n      setActiveId(item.id);\n      tree == null || tree.events.emit('virtualfocus', item);\n      if (virtualItemRef) {\n        virtualItemRef.current = item;\n      }\n    } else {\n      enqueueFocus(item, {\n        preventScroll: true,\n        // Mac Safari does not move the virtual cursor unless the focus call\n        // is sync. However, for the very first focus call, we need to wait\n        // for the position to be ready in order to prevent unwanted\n        // scrolling. This means the virtual cursor will not move to the first\n        // item when first opening the floating element, but will on\n        // subsequent calls. `preventScroll` is supported in modern Safari,\n        // so we can use that instead.\n        // iOS Safari must be async or the first item will not be focused.\n        sync: isMac() && isSafari() ? isPreventScrollSupported || forceSyncFocus.current : false\n      });\n    }\n    requestAnimationFrame(() => {\n      const scrollIntoViewOptions = scrollItemIntoViewRef.current;\n      const shouldScrollIntoView = scrollIntoViewOptions && item && (forceScrollIntoView || !isPointerModalityRef.current);\n      if (shouldScrollIntoView) {\n        // JSDOM doesn't support `.scrollIntoView()` but it's widely supported\n        // by all browsers.\n        item.scrollIntoView == null || item.scrollIntoView(typeof scrollIntoViewOptions === 'boolean' ? {\n          block: 'nearest',\n          inline: 'nearest'\n        } : scrollIntoViewOptions);\n      }\n    });\n  });\n  index(() => {\n    document.createElement('div').focus({\n      get preventScroll() {\n        isPreventScrollSupported = true;\n        return false;\n      }\n    });\n  }, []);\n\n  // Sync `selectedIndex` to be the `activeIndex` upon opening the floating\n  // element. Also, reset `activeIndex` upon closing the floating element.\n  index(() => {\n    if (!enabled) {\n      return;\n    }\n    if (open && floating) {\n      if (focusItemOnOpenRef.current && selectedIndex != null) {\n        // Regardless of the pointer modality, we want to ensure the selected\n        // item comes into view when the floating element is opened.\n        forceScrollIntoViewRef.current = true;\n        indexRef.current = selectedIndex;\n        onNavigate(selectedIndex);\n      }\n    } else if (previousMountedRef.current) {\n      // Since the user can specify `onNavigate` conditionally\n      // (onNavigate: open ? setActiveIndex : setSelectedIndex),\n      // we store and call the previous function.\n      indexRef.current = -1;\n      previousOnNavigateRef.current(null);\n    }\n  }, [enabled, open, floating, selectedIndex, onNavigate]);\n\n  // Sync `activeIndex` to be the focused item while the floating element is\n  // open.\n  index(() => {\n    if (!enabled) {\n      return;\n    }\n    if (open && floating) {\n      if (activeIndex == null) {\n        forceSyncFocus.current = false;\n        if (selectedIndex != null) {\n          return;\n        }\n\n        // Reset while the floating element was open (e.g. the list changed).\n        if (previousMountedRef.current) {\n          indexRef.current = -1;\n          focusItem(listRef, indexRef);\n        }\n\n        // Initial sync.\n        if (!previousMountedRef.current && focusItemOnOpenRef.current && (keyRef.current != null || focusItemOnOpenRef.current === true && keyRef.current == null)) {\n          let runs = 0;\n          const waitForListPopulated = () => {\n            if (listRef.current[0] == null) {\n              // Avoid letting the browser paint if possible on the first try,\n              // otherwise use rAF. Don't try more than twice, since something\n              // is wrong otherwise.\n              if (runs < 2) {\n                const scheduler = runs ? requestAnimationFrame : queueMicrotask;\n                scheduler(waitForListPopulated);\n              }\n              runs++;\n            } else {\n              indexRef.current = keyRef.current == null || isMainOrientationToEndKey(keyRef.current, orientation, rtl) || nested ? getMinIndex(listRef, disabledIndicesRef.current) : getMaxIndex(listRef, disabledIndicesRef.current);\n              keyRef.current = null;\n              onNavigate(indexRef.current);\n            }\n          };\n          waitForListPopulated();\n        }\n      } else if (!isIndexOutOfBounds(listRef, activeIndex)) {\n        indexRef.current = activeIndex;\n        focusItem(listRef, indexRef, forceScrollIntoViewRef.current);\n        forceScrollIntoViewRef.current = false;\n      }\n    }\n  }, [enabled, open, floating, activeIndex, selectedIndex, nested, listRef, orientation, rtl, onNavigate, focusItem, disabledIndicesRef]);\n\n  // Ensure the parent floating element has focus when a nested child closes\n  // to allow arrow key navigation to work after the pointer leaves the child.\n  index(() => {\n    var _nodes$find;\n    if (!enabled || floating || !tree || virtual || !previousMountedRef.current) {\n      return;\n    }\n    const nodes = tree.nodesRef.current;\n    const parent = (_nodes$find = nodes.find(node => node.id === parentId)) == null || (_nodes$find = _nodes$find.context) == null ? void 0 : _nodes$find.elements.floating;\n    const activeEl = activeElement(getDocument(floating));\n    const treeContainsActiveEl = nodes.some(node => node.context && contains(node.context.elements.floating, activeEl));\n    if (parent && !treeContainsActiveEl && isPointerModalityRef.current) {\n      parent.focus({\n        preventScroll: true\n      });\n    }\n  }, [enabled, floating, tree, parentId, virtual]);\n  index(() => {\n    if (!enabled || !tree || !virtual || parentId) return;\n    function handleVirtualFocus(item) {\n      setVirtualId(item.id);\n      if (virtualItemRef) {\n        virtualItemRef.current = item;\n      }\n    }\n    tree.events.on('virtualfocus', handleVirtualFocus);\n    return () => {\n      tree.events.off('virtualfocus', handleVirtualFocus);\n    };\n  }, [enabled, tree, virtual, parentId, virtualItemRef]);\n  index(() => {\n    previousOnNavigateRef.current = onNavigate;\n    previousMountedRef.current = !!floating;\n  });\n  index(() => {\n    if (!open) {\n      keyRef.current = null;\n    }\n  }, [open]);\n  const hasActiveIndex = activeIndex != null;\n  const item = React.useMemo(() => {\n    function syncCurrentTarget(currentTarget) {\n      if (!open) return;\n      const index = listRef.current.indexOf(currentTarget);\n      if (index !== -1) {\n        onNavigate(index);\n      }\n    }\n    const props = {\n      onFocus(_ref) {\n        let {\n          currentTarget\n        } = _ref;\n        syncCurrentTarget(currentTarget);\n      },\n      onClick: _ref2 => {\n        let {\n          currentTarget\n        } = _ref2;\n        return currentTarget.focus({\n          preventScroll: true\n        });\n      },\n      // Safari\n      ...(focusItemOnHover && {\n        onMouseMove(_ref3) {\n          let {\n            currentTarget\n          } = _ref3;\n          syncCurrentTarget(currentTarget);\n        },\n        onPointerLeave(_ref4) {\n          let {\n            pointerType\n          } = _ref4;\n          if (!isPointerModalityRef.current || pointerType === 'touch') {\n            return;\n          }\n          indexRef.current = -1;\n          focusItem(listRef, indexRef);\n          onNavigate(null);\n          if (!virtual) {\n            enqueueFocus(refs.floating.current, {\n              preventScroll: true\n            });\n          }\n        }\n      })\n    };\n    return props;\n  }, [open, refs, focusItem, focusItemOnHover, listRef, onNavigate, virtual]);\n  return React.useMemo(() => {\n    if (!enabled) {\n      return {};\n    }\n    const disabledIndices = disabledIndicesRef.current;\n    function onKeyDown(event) {\n      isPointerModalityRef.current = false;\n      forceSyncFocus.current = true;\n\n      // If the floating element is animating out, ignore navigation. Otherwise,\n      // the `activeIndex` gets set to 0 despite not being open so the next time\n      // the user ArrowDowns, the first item won't be focused.\n      if (!latestOpenRef.current && event.currentTarget === refs.floating.current) {\n        return;\n      }\n      if (nested && isCrossOrientationCloseKey(event.key, orientation, rtl)) {\n        stopEvent(event);\n        onOpenChange(false, event.nativeEvent, 'list-navigation');\n        if (isHTMLElement(domReference) && !virtual) {\n          domReference.focus();\n        }\n        return;\n      }\n      const currentIndex = indexRef.current;\n      const minIndex = getMinIndex(listRef, disabledIndices);\n      const maxIndex = getMaxIndex(listRef, disabledIndices);\n      if (event.key === 'Home') {\n        stopEvent(event);\n        indexRef.current = minIndex;\n        onNavigate(indexRef.current);\n      }\n      if (event.key === 'End') {\n        stopEvent(event);\n        indexRef.current = maxIndex;\n        onNavigate(indexRef.current);\n      }\n\n      // Grid navigation.\n      if (cols > 1) {\n        const sizes = itemSizes || Array.from({\n          length: listRef.current.length\n        }, () => ({\n          width: 1,\n          height: 1\n        }));\n        // To calculate movements on the grid, we use hypothetical cell indices\n        // as if every item was 1x1, then convert back to real indices.\n        const cellMap = buildCellMap(sizes, cols, dense);\n        const minGridIndex = cellMap.findIndex(index => index != null && !(disabledIndices != null && disabledIndices.includes(index)));\n        // last enabled index\n        const maxGridIndex = cellMap.reduce((foundIndex, index, cellIndex) => index != null && !(disabledIndices != null && disabledIndices.includes(index)) ? cellIndex : foundIndex, -1);\n        indexRef.current = cellMap[getGridNavigatedIndex({\n          current: cellMap.map(itemIndex => itemIndex != null ? listRef.current[itemIndex] : null)\n        }, {\n          event,\n          orientation,\n          loop,\n          cols,\n          // treat undefined (empty grid spaces) as disabled indices so we\n          // don't end up in them\n          disabledIndices: getCellIndices([...(disabledIndices || []), undefined], cellMap),\n          minIndex: minGridIndex,\n          maxIndex: maxGridIndex,\n          prevIndex: getCellIndexOfCorner(indexRef.current, sizes, cellMap, cols,\n          // use a corner matching the edge closest to the direction\n          // we're moving in so we don't end up in the same item. Prefer\n          // top/left over bottom/right.\n          event.key === ARROW_DOWN ? 'bl' : event.key === ARROW_RIGHT ? 'tr' : 'tl'),\n          stopEvent: true\n        })]; // navigated cell will never be nullish\n\n        onNavigate(indexRef.current);\n        if (orientation === 'both') {\n          return;\n        }\n      }\n      if (isMainOrientationKey(event.key, orientation)) {\n        stopEvent(event);\n\n        // Reset the index if no item is focused.\n        if (open && !virtual && activeElement(event.currentTarget.ownerDocument) === event.currentTarget) {\n          indexRef.current = isMainOrientationToEndKey(event.key, orientation, rtl) ? minIndex : maxIndex;\n          onNavigate(indexRef.current);\n          return;\n        }\n        if (isMainOrientationToEndKey(event.key, orientation, rtl)) {\n          if (loop) {\n            indexRef.current = currentIndex >= maxIndex ? allowEscape && currentIndex !== listRef.current.length ? -1 : minIndex : findNonDisabledIndex(listRef, {\n              startingIndex: currentIndex,\n              disabledIndices\n            });\n          } else {\n            indexRef.current = Math.min(maxIndex, findNonDisabledIndex(listRef, {\n              startingIndex: currentIndex,\n              disabledIndices\n            }));\n          }\n        } else {\n          if (loop) {\n            indexRef.current = currentIndex <= minIndex ? allowEscape && currentIndex !== -1 ? listRef.current.length : maxIndex : findNonDisabledIndex(listRef, {\n              startingIndex: currentIndex,\n              decrement: true,\n              disabledIndices\n            });\n          } else {\n            indexRef.current = Math.max(minIndex, findNonDisabledIndex(listRef, {\n              startingIndex: currentIndex,\n              decrement: true,\n              disabledIndices\n            }));\n          }\n        }\n        if (isIndexOutOfBounds(listRef, indexRef.current)) {\n          onNavigate(null);\n        } else {\n          onNavigate(indexRef.current);\n        }\n      }\n    }\n    function checkVirtualMouse(event) {\n      if (focusItemOnOpen === 'auto' && isVirtualClick(event.nativeEvent)) {\n        focusItemOnOpenRef.current = true;\n      }\n    }\n    function checkVirtualPointer(event) {\n      // `pointerdown` fires first, reset the state then perform the checks.\n      focusItemOnOpenRef.current = focusItemOnOpen;\n      if (focusItemOnOpen === 'auto' && isVirtualPointerEvent(event.nativeEvent)) {\n        focusItemOnOpenRef.current = true;\n      }\n    }\n    const ariaActiveDescendantProp = virtual && open && hasActiveIndex && {\n      'aria-activedescendant': virtualId || activeId\n    };\n    const activeItem = listRef.current.find(item => (item == null ? void 0 : item.id) === activeId);\n    return {\n      reference: {\n        ...ariaActiveDescendantProp,\n        onKeyDown(event) {\n          isPointerModalityRef.current = false;\n          const isArrowKey = event.key.indexOf('Arrow') === 0;\n          const isCrossOpenKey = isCrossOrientationOpenKey(event.key, orientation, rtl);\n          const isCrossCloseKey = isCrossOrientationCloseKey(event.key, orientation, rtl);\n          const isMainKey = isMainOrientationKey(event.key, orientation);\n          const isNavigationKey = (nested ? isCrossOpenKey : isMainKey) || event.key === 'Enter' || event.key.trim() === '';\n          if (virtual && open) {\n            const rootNode = tree == null ? void 0 : tree.nodesRef.current.find(node => node.parentId == null);\n            const deepestNode = tree && rootNode ? getDeepestNode(tree.nodesRef.current, rootNode.id) : null;\n            if (isArrowKey && deepestNode && virtualItemRef) {\n              const eventObject = new KeyboardEvent('keydown', {\n                key: event.key,\n                bubbles: true\n              });\n              if (isCrossOpenKey || isCrossCloseKey) {\n                var _deepestNode$context, _deepestNode$context2;\n                const isCurrentTarget = ((_deepestNode$context = deepestNode.context) == null ? void 0 : _deepestNode$context.elements.domReference) === event.currentTarget;\n                const dispatchItem = isCrossCloseKey && !isCurrentTarget ? (_deepestNode$context2 = deepestNode.context) == null ? void 0 : _deepestNode$context2.elements.domReference : isCrossOpenKey ? activeItem : null;\n                if (dispatchItem) {\n                  stopEvent(event);\n                  dispatchItem.dispatchEvent(eventObject);\n                  setVirtualId(undefined);\n                }\n              }\n              if (isMainKey && deepestNode.context) {\n                if (deepestNode.context.open && deepestNode.parentId && event.currentTarget !== deepestNode.context.elements.domReference) {\n                  var _deepestNode$context$;\n                  stopEvent(event);\n                  (_deepestNode$context$ = deepestNode.context.elements.domReference) == null || _deepestNode$context$.dispatchEvent(eventObject);\n                  return;\n                }\n              }\n            }\n            return onKeyDown(event);\n          }\n\n          // If a floating element should not open on arrow key down, avoid\n          // setting `activeIndex` while it's closed.\n          if (!open && !openOnArrowKeyDown && isArrowKey) {\n            return;\n          }\n          if (isNavigationKey) {\n            keyRef.current = nested && isMainKey ? null : event.key;\n          }\n          if (nested) {\n            if (isCrossOpenKey) {\n              stopEvent(event);\n              if (open) {\n                indexRef.current = getMinIndex(listRef, disabledIndices);\n                onNavigate(indexRef.current);\n              } else {\n                onOpenChange(true, event.nativeEvent, 'list-navigation');\n              }\n            }\n            return;\n          }\n          if (isMainKey) {\n            if (selectedIndex != null) {\n              indexRef.current = selectedIndex;\n            }\n            stopEvent(event);\n            if (!open && openOnArrowKeyDown) {\n              onOpenChange(true, event.nativeEvent, 'list-navigation');\n            } else {\n              onKeyDown(event);\n            }\n            if (open) {\n              onNavigate(indexRef.current);\n            }\n          }\n        },\n        onFocus() {\n          if (open) {\n            onNavigate(null);\n          }\n        },\n        onPointerDown: checkVirtualPointer,\n        onMouseDown: checkVirtualMouse,\n        onClick: checkVirtualMouse\n      },\n      floating: {\n        'aria-orientation': orientation === 'both' ? undefined : orientation,\n        ...(!isTypeableCombobox(domReference) && ariaActiveDescendantProp),\n        onKeyDown,\n        onPointerMove() {\n          isPointerModalityRef.current = true;\n        }\n      },\n      item\n    };\n  }, [domReference, refs, activeId, virtualId, disabledIndicesRef, latestOpenRef, listRef, enabled, orientation, rtl, virtual, open, hasActiveIndex, nested, selectedIndex, openOnArrowKeyDown, allowEscape, cols, loop, focusItemOnOpen, onNavigate, onOpenChange, item, tree, virtualItemRef, itemSizes, dense]);\n}\n\nconst componentRoleToAriaRoleMap = /*#__PURE__*/new Map([['select', 'listbox'], ['combobox', 'listbox'], ['label', false]]);\n\n/**\n * Adds base screen reader props to the reference and floating elements for a\n * given floating element `role`.\n * @see https://floating-ui.com/docs/useRole\n */\nfunction useRole(context, props) {\n  var _componentRoleToAriaR;\n  if (props === void 0) {\n    props = {};\n  }\n  const {\n    open,\n    floatingId\n  } = context;\n  const {\n    enabled = true,\n    role = 'dialog'\n  } = props;\n  const ariaRole = (_componentRoleToAriaR = componentRoleToAriaRoleMap.get(role)) != null ? _componentRoleToAriaR : role;\n  const referenceId = useId();\n  const parentId = useFloatingParentNodeId();\n  const isNested = parentId != null;\n  return React.useMemo(() => {\n    if (!enabled) return {};\n    const floatingProps = {\n      id: floatingId,\n      ...(ariaRole && {\n        role: ariaRole\n      })\n    };\n    if (ariaRole === 'tooltip' || role === 'label') {\n      return {\n        reference: {\n          [\"aria-\" + (role === 'label' ? 'labelledby' : 'describedby')]: open ? floatingId : undefined\n        },\n        floating: floatingProps\n      };\n    }\n    return {\n      reference: {\n        'aria-expanded': open ? 'true' : 'false',\n        'aria-haspopup': ariaRole === 'alertdialog' ? 'dialog' : ariaRole,\n        'aria-controls': open ? floatingId : undefined,\n        ...(ariaRole === 'listbox' && {\n          role: 'combobox'\n        }),\n        ...(ariaRole === 'menu' && {\n          id: referenceId\n        }),\n        ...(ariaRole === 'menu' && isNested && {\n          role: 'menuitem'\n        }),\n        ...(role === 'select' && {\n          'aria-autocomplete': 'none'\n        }),\n        ...(role === 'combobox' && {\n          'aria-autocomplete': 'list'\n        })\n      },\n      floating: {\n        ...floatingProps,\n        ...(ariaRole === 'menu' && {\n          'aria-labelledby': referenceId\n        })\n      },\n      item(_ref) {\n        let {\n          active,\n          selected\n        } = _ref;\n        const commonProps = {\n          role: 'option',\n          ...(active && {\n            id: floatingId + \"-option\"\n          })\n        };\n\n        // For `menu`, we are unable to tell if the item is a `menuitemradio`\n        // or `menuitemcheckbox`. For backwards-compatibility reasons, also\n        // avoid defaulting to `menuitem` as it may overwrite custom role props.\n        switch (role) {\n          case 'select':\n            return {\n              ...commonProps,\n              'aria-selected': active && selected\n            };\n          case 'combobox':\n            {\n              return {\n                ...commonProps,\n                ...(active && {\n                  'aria-selected': true\n                })\n              };\n            }\n        }\n        return {};\n      }\n    };\n  }, [enabled, role, ariaRole, open, floatingId, referenceId, isNested]);\n}\n\n// Converts a JS style key like `backgroundColor` to a CSS transition-property\n// like `background-color`.\nconst camelCaseToKebabCase = str => str.replace(/[A-Z]+(?![a-z])|[A-Z]/g, ($, ofs) => (ofs ? '-' : '') + $.toLowerCase());\nfunction execWithArgsOrReturn(valueOrFn, args) {\n  return typeof valueOrFn === 'function' ? valueOrFn(args) : valueOrFn;\n}\nfunction useDelayUnmount(open, durationMs) {\n  const [isMounted, setIsMounted] = React.useState(open);\n  if (open && !isMounted) {\n    setIsMounted(true);\n  }\n  React.useEffect(() => {\n    if (!open) {\n      const timeout = setTimeout(() => setIsMounted(false), durationMs);\n      return () => clearTimeout(timeout);\n    }\n  }, [open, durationMs]);\n  return isMounted;\n}\n/**\n * Provides a status string to apply CSS transitions to a floating element,\n * correctly handling placement-aware transitions.\n * @see https://floating-ui.com/docs/useTransition#usetransitionstatus\n */\nfunction useTransitionStatus(context, props) {\n  if (props === void 0) {\n    props = {};\n  }\n  const {\n    open,\n    elements: {\n      floating\n    }\n  } = context;\n  const {\n    duration = 250\n  } = props;\n  const isNumberDuration = typeof duration === 'number';\n  const closeDuration = (isNumberDuration ? duration : duration.close) || 0;\n  const [initiated, setInitiated] = React.useState(false);\n  const [status, setStatus] = React.useState('unmounted');\n  const isMounted = useDelayUnmount(open, closeDuration);\n\n  // `initiated` check prevents this `setState` call from breaking\n  // <FloatingPortal />. This call is necessary to ensure subsequent opens\n  // after the initial one allows the correct side animation to play when the\n  // placement has changed.\n  index(() => {\n    if (initiated && !isMounted) {\n      setStatus('unmounted');\n    }\n  }, [initiated, isMounted]);\n  index(() => {\n    if (!floating) return;\n    if (open) {\n      setStatus('initial');\n      const frame = requestAnimationFrame(() => {\n        setStatus('open');\n      });\n      return () => {\n        cancelAnimationFrame(frame);\n      };\n    }\n    setInitiated(true);\n    setStatus('close');\n  }, [open, floating]);\n  return {\n    isMounted,\n    status\n  };\n}\n/**\n * Provides styles to apply CSS transitions to a floating element, correctly\n * handling placement-aware transitions. Wrapper around `useTransitionStatus`.\n * @see https://floating-ui.com/docs/useTransition#usetransitionstyles\n */\nfunction useTransitionStyles(context, props) {\n  if (props === void 0) {\n    props = {};\n  }\n  const {\n    initial: unstable_initial = {\n      opacity: 0\n    },\n    open: unstable_open,\n    close: unstable_close,\n    common: unstable_common,\n    duration = 250\n  } = props;\n  const placement = context.placement;\n  const side = placement.split('-')[0];\n  const fnArgs = React.useMemo(() => ({\n    side,\n    placement\n  }), [side, placement]);\n  const isNumberDuration = typeof duration === 'number';\n  const openDuration = (isNumberDuration ? duration : duration.open) || 0;\n  const closeDuration = (isNumberDuration ? duration : duration.close) || 0;\n  const [styles, setStyles] = React.useState(() => ({\n    ...execWithArgsOrReturn(unstable_common, fnArgs),\n    ...execWithArgsOrReturn(unstable_initial, fnArgs)\n  }));\n  const {\n    isMounted,\n    status\n  } = useTransitionStatus(context, {\n    duration\n  });\n  const initialRef = useLatestRef(unstable_initial);\n  const openRef = useLatestRef(unstable_open);\n  const closeRef = useLatestRef(unstable_close);\n  const commonRef = useLatestRef(unstable_common);\n  index(() => {\n    const initialStyles = execWithArgsOrReturn(initialRef.current, fnArgs);\n    const closeStyles = execWithArgsOrReturn(closeRef.current, fnArgs);\n    const commonStyles = execWithArgsOrReturn(commonRef.current, fnArgs);\n    const openStyles = execWithArgsOrReturn(openRef.current, fnArgs) || Object.keys(initialStyles).reduce((acc, key) => {\n      acc[key] = '';\n      return acc;\n    }, {});\n    if (status === 'initial') {\n      setStyles(styles => ({\n        transitionProperty: styles.transitionProperty,\n        ...commonStyles,\n        ...initialStyles\n      }));\n    }\n    if (status === 'open') {\n      setStyles({\n        transitionProperty: Object.keys(openStyles).map(camelCaseToKebabCase).join(','),\n        transitionDuration: openDuration + \"ms\",\n        ...commonStyles,\n        ...openStyles\n      });\n    }\n    if (status === 'close') {\n      const styles = closeStyles || initialStyles;\n      setStyles({\n        transitionProperty: Object.keys(styles).map(camelCaseToKebabCase).join(','),\n        transitionDuration: closeDuration + \"ms\",\n        ...commonStyles,\n        ...styles\n      });\n    }\n  }, [closeDuration, closeRef, initialRef, openRef, commonRef, openDuration, status, fnArgs]);\n  return {\n    isMounted,\n    styles\n  };\n}\n\n/**\n * Provides a matching callback that can be used to focus an item as the user\n * types, often used in tandem with `useListNavigation()`.\n * @see https://floating-ui.com/docs/useTypeahead\n */\nfunction useTypeahead(context, props) {\n  var _ref;\n  const {\n    open,\n    dataRef\n  } = context;\n  const {\n    listRef,\n    activeIndex,\n    onMatch: unstable_onMatch,\n    onTypingChange: unstable_onTypingChange,\n    enabled = true,\n    findMatch = null,\n    resetMs = 750,\n    ignoreKeys = [],\n    selectedIndex = null\n  } = props;\n  const timeoutIdRef = React.useRef();\n  const stringRef = React.useRef('');\n  const prevIndexRef = React.useRef((_ref = selectedIndex != null ? selectedIndex : activeIndex) != null ? _ref : -1);\n  const matchIndexRef = React.useRef(null);\n  const onMatch = useEffectEvent(unstable_onMatch);\n  const onTypingChange = useEffectEvent(unstable_onTypingChange);\n  const findMatchRef = useLatestRef(findMatch);\n  const ignoreKeysRef = useLatestRef(ignoreKeys);\n  index(() => {\n    if (open) {\n      clearTimeout(timeoutIdRef.current);\n      matchIndexRef.current = null;\n      stringRef.current = '';\n    }\n  }, [open]);\n  index(() => {\n    // Sync arrow key navigation but not typeahead navigation.\n    if (open && stringRef.current === '') {\n      var _ref2;\n      prevIndexRef.current = (_ref2 = selectedIndex != null ? selectedIndex : activeIndex) != null ? _ref2 : -1;\n    }\n  }, [open, selectedIndex, activeIndex]);\n  return React.useMemo(() => {\n    if (!enabled) {\n      return {};\n    }\n    function setTypingChange(value) {\n      if (value) {\n        if (!dataRef.current.typing) {\n          dataRef.current.typing = value;\n          onTypingChange(value);\n        }\n      } else {\n        if (dataRef.current.typing) {\n          dataRef.current.typing = value;\n          onTypingChange(value);\n        }\n      }\n    }\n    function getMatchingIndex(list, orderedList, string) {\n      const str = findMatchRef.current ? findMatchRef.current(orderedList, string) : orderedList.find(text => (text == null ? void 0 : text.toLocaleLowerCase().indexOf(string.toLocaleLowerCase())) === 0);\n      return str ? list.indexOf(str) : -1;\n    }\n    function onKeyDown(event) {\n      const listContent = listRef.current;\n      if (stringRef.current.length > 0 && stringRef.current[0] !== ' ') {\n        if (getMatchingIndex(listContent, listContent, stringRef.current) === -1) {\n          setTypingChange(false);\n        } else if (event.key === ' ') {\n          stopEvent(event);\n        }\n      }\n      if (listContent == null || ignoreKeysRef.current.includes(event.key) ||\n      // Character key.\n      event.key.length !== 1 ||\n      // Modifier key.\n      event.ctrlKey || event.metaKey || event.altKey) {\n        return;\n      }\n      if (open && event.key !== ' ') {\n        stopEvent(event);\n        setTypingChange(true);\n      }\n\n      // Bail out if the list contains a word like \"llama\" or \"aaron\". TODO:\n      // allow it in this case, too.\n      const allowRapidSuccessionOfFirstLetter = listContent.every(text => {\n        var _text$, _text$2;\n        return text ? ((_text$ = text[0]) == null ? void 0 : _text$.toLocaleLowerCase()) !== ((_text$2 = text[1]) == null ? void 0 : _text$2.toLocaleLowerCase()) : true;\n      });\n\n      // Allows the user to cycle through items that start with the same letter\n      // in rapid succession.\n      if (allowRapidSuccessionOfFirstLetter && stringRef.current === event.key) {\n        stringRef.current = '';\n        prevIndexRef.current = matchIndexRef.current;\n      }\n      stringRef.current += event.key;\n      clearTimeout(timeoutIdRef.current);\n      timeoutIdRef.current = setTimeout(() => {\n        stringRef.current = '';\n        prevIndexRef.current = matchIndexRef.current;\n        setTypingChange(false);\n      }, resetMs);\n      const prevIndex = prevIndexRef.current;\n      const index = getMatchingIndex(listContent, [...listContent.slice((prevIndex || 0) + 1), ...listContent.slice(0, (prevIndex || 0) + 1)], stringRef.current);\n      if (index !== -1) {\n        onMatch(index);\n        matchIndexRef.current = index;\n      } else if (event.key !== ' ') {\n        stringRef.current = '';\n        setTypingChange(false);\n      }\n    }\n    return {\n      reference: {\n        onKeyDown\n      },\n      floating: {\n        onKeyDown,\n        onKeyUp(event) {\n          if (event.key === ' ') {\n            setTypingChange(false);\n          }\n        }\n      }\n    };\n  }, [enabled, open, dataRef, listRef, resetMs, ignoreKeysRef, findMatchRef, onMatch, onTypingChange]);\n}\n\nfunction getArgsWithCustomFloatingHeight(state, height) {\n  return {\n    ...state,\n    rects: {\n      ...state.rects,\n      floating: {\n        ...state.rects.floating,\n        height\n      }\n    }\n  };\n}\n/**\n * Positions the floating element such that an inner element inside\n * of it is anchored to the reference element.\n * @see https://floating-ui.com/docs/inner\n */\nconst inner = props => ({\n  name: 'inner',\n  options: props,\n  async fn(state) {\n    const {\n      listRef,\n      overflowRef,\n      onFallbackChange,\n      offset: innerOffset = 0,\n      index = 0,\n      minItemsVisible = 4,\n      referenceOverflowThreshold = 0,\n      scrollRef,\n      ...detectOverflowOptions\n    } = props;\n    const {\n      rects,\n      elements: {\n        floating\n      }\n    } = state;\n    const item = listRef.current[index];\n    if (process.env.NODE_ENV !== \"production\") {\n      if (!state.placement.startsWith('bottom')) {\n        console.warn(['Floating UI: `placement` side must be \"bottom\" when using the', '`inner` middleware.'].join(' '));\n      }\n    }\n    if (!item) {\n      return {};\n    }\n    const nextArgs = {\n      ...state,\n      ...(await offset(-item.offsetTop - floating.clientTop - rects.reference.height / 2 - item.offsetHeight / 2 - innerOffset).fn(state))\n    };\n    const el = (scrollRef == null ? void 0 : scrollRef.current) || floating;\n    const overflow = await detectOverflow(getArgsWithCustomFloatingHeight(nextArgs, el.scrollHeight), detectOverflowOptions);\n    const refOverflow = await detectOverflow(nextArgs, {\n      ...detectOverflowOptions,\n      elementContext: 'reference'\n    });\n    const diffY = Math.max(0, overflow.top);\n    const nextY = nextArgs.y + diffY;\n    const maxHeight = Math.max(0, el.scrollHeight - diffY - Math.max(0, overflow.bottom));\n    el.style.maxHeight = maxHeight + \"px\";\n    el.scrollTop = diffY;\n\n    // There is not enough space, fallback to standard anchored positioning\n    if (onFallbackChange) {\n      if (el.offsetHeight < item.offsetHeight * Math.min(minItemsVisible, listRef.current.length - 1) - 1 || refOverflow.top >= -referenceOverflowThreshold || refOverflow.bottom >= -referenceOverflowThreshold) {\n        flushSync(() => onFallbackChange(true));\n      } else {\n        flushSync(() => onFallbackChange(false));\n      }\n    }\n    if (overflowRef) {\n      overflowRef.current = await detectOverflow(getArgsWithCustomFloatingHeight({\n        ...nextArgs,\n        y: nextY\n      }, el.offsetHeight), detectOverflowOptions);\n    }\n    return {\n      y: nextY\n    };\n  }\n});\n/**\n * Changes the `inner` middleware's `offset` upon a `wheel` event to\n * expand the floating element's height, revealing more list items.\n * @see https://floating-ui.com/docs/inner\n */\nfunction useInnerOffset(context, props) {\n  const {\n    open,\n    elements\n  } = context;\n  const {\n    enabled = true,\n    overflowRef,\n    scrollRef,\n    onChange: unstable_onChange\n  } = props;\n  const onChange = useEffectEvent(unstable_onChange);\n  const controlledScrollingRef = React.useRef(false);\n  const prevScrollTopRef = React.useRef(null);\n  const initialOverflowRef = React.useRef(null);\n  React.useEffect(() => {\n    if (!enabled) {\n      return;\n    }\n    function onWheel(e) {\n      if (e.ctrlKey || !el || overflowRef.current == null) {\n        return;\n      }\n      const dY = e.deltaY;\n      const isAtTop = overflowRef.current.top >= -0.5;\n      const isAtBottom = overflowRef.current.bottom >= -0.5;\n      const remainingScroll = el.scrollHeight - el.clientHeight;\n      const sign = dY < 0 ? -1 : 1;\n      const method = dY < 0 ? 'max' : 'min';\n      if (el.scrollHeight <= el.clientHeight) {\n        return;\n      }\n      if (!isAtTop && dY > 0 || !isAtBottom && dY < 0) {\n        e.preventDefault();\n        flushSync(() => {\n          onChange(d => d + Math[method](dY, remainingScroll * sign));\n        });\n      } else if (/firefox/i.test(getUserAgent())) {\n        // Needed to propagate scrolling during momentum scrolling phase once\n        // it gets limited by the boundary. UX improvement, not critical.\n        el.scrollTop += dY;\n      }\n    }\n    const el = (scrollRef == null ? void 0 : scrollRef.current) || elements.floating;\n    if (open && el) {\n      el.addEventListener('wheel', onWheel);\n\n      // Wait for the position to be ready.\n      requestAnimationFrame(() => {\n        prevScrollTopRef.current = el.scrollTop;\n        if (overflowRef.current != null) {\n          initialOverflowRef.current = {\n            ...overflowRef.current\n          };\n        }\n      });\n      return () => {\n        prevScrollTopRef.current = null;\n        initialOverflowRef.current = null;\n        el.removeEventListener('wheel', onWheel);\n      };\n    }\n  }, [enabled, open, elements.floating, overflowRef, scrollRef, onChange]);\n  return React.useMemo(() => {\n    if (!enabled) {\n      return {};\n    }\n    return {\n      floating: {\n        onKeyDown() {\n          controlledScrollingRef.current = true;\n        },\n        onWheel() {\n          controlledScrollingRef.current = false;\n        },\n        onPointerMove() {\n          controlledScrollingRef.current = false;\n        },\n        onScroll() {\n          const el = (scrollRef == null ? void 0 : scrollRef.current) || elements.floating;\n          if (!overflowRef.current || !el || !controlledScrollingRef.current) {\n            return;\n          }\n          if (prevScrollTopRef.current !== null) {\n            const scrollDiff = el.scrollTop - prevScrollTopRef.current;\n            if (overflowRef.current.bottom < -0.5 && scrollDiff < -1 || overflowRef.current.top < -0.5 && scrollDiff > 1) {\n              flushSync(() => onChange(d => d + scrollDiff));\n            }\n          }\n\n          // [Firefox] Wait for the height change to have been applied.\n          requestAnimationFrame(() => {\n            prevScrollTopRef.current = el.scrollTop;\n          });\n        }\n      }\n    };\n  }, [enabled, overflowRef, elements.floating, scrollRef, onChange]);\n}\n\nfunction isPointInPolygon(point, polygon) {\n  const [x, y] = point;\n  let isInside = false;\n  const length = polygon.length;\n  for (let i = 0, j = length - 1; i < length; j = i++) {\n    const [xi, yi] = polygon[i] || [0, 0];\n    const [xj, yj] = polygon[j] || [0, 0];\n    const intersect = yi >= y !== yj >= y && x <= (xj - xi) * (y - yi) / (yj - yi) + xi;\n    if (intersect) {\n      isInside = !isInside;\n    }\n  }\n  return isInside;\n}\nfunction isInside(point, rect) {\n  return point[0] >= rect.x && point[0] <= rect.x + rect.width && point[1] >= rect.y && point[1] <= rect.y + rect.height;\n}\n/**\n * Generates a safe polygon area that the user can traverse without closing the\n * floating element once leaving the reference element.\n * @see https://floating-ui.com/docs/useHover#safepolygon\n */\nfunction safePolygon(options) {\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    buffer = 0.5,\n    blockPointerEvents = false,\n    requireIntent = true\n  } = options;\n  let timeoutId;\n  let hasLanded = false;\n  let lastX = null;\n  let lastY = null;\n  let lastCursorTime = performance.now();\n  function getCursorSpeed(x, y) {\n    const currentTime = performance.now();\n    const elapsedTime = currentTime - lastCursorTime;\n    if (lastX === null || lastY === null || elapsedTime === 0) {\n      lastX = x;\n      lastY = y;\n      lastCursorTime = currentTime;\n      return null;\n    }\n    const deltaX = x - lastX;\n    const deltaY = y - lastY;\n    const distance = Math.sqrt(deltaX * deltaX + deltaY * deltaY);\n    const speed = distance / elapsedTime; // px / ms\n\n    lastX = x;\n    lastY = y;\n    lastCursorTime = currentTime;\n    return speed;\n  }\n  const fn = _ref => {\n    let {\n      x,\n      y,\n      placement,\n      elements,\n      onClose,\n      nodeId,\n      tree\n    } = _ref;\n    return function onMouseMove(event) {\n      function close() {\n        clearTimeout(timeoutId);\n        onClose();\n      }\n      clearTimeout(timeoutId);\n      if (!elements.domReference || !elements.floating || placement == null || x == null || y == null) {\n        return;\n      }\n      const {\n        clientX,\n        clientY\n      } = event;\n      const clientPoint = [clientX, clientY];\n      const target = getTarget(event);\n      const isLeave = event.type === 'mouseleave';\n      const isOverFloatingEl = contains(elements.floating, target);\n      const isOverReferenceEl = contains(elements.domReference, target);\n      const refRect = elements.domReference.getBoundingClientRect();\n      const rect = elements.floating.getBoundingClientRect();\n      const side = placement.split('-')[0];\n      const cursorLeaveFromRight = x > rect.right - rect.width / 2;\n      const cursorLeaveFromBottom = y > rect.bottom - rect.height / 2;\n      const isOverReferenceRect = isInside(clientPoint, refRect);\n      const isFloatingWider = rect.width > refRect.width;\n      const isFloatingTaller = rect.height > refRect.height;\n      const left = (isFloatingWider ? refRect : rect).left;\n      const right = (isFloatingWider ? refRect : rect).right;\n      const top = (isFloatingTaller ? refRect : rect).top;\n      const bottom = (isFloatingTaller ? refRect : rect).bottom;\n      if (isOverFloatingEl) {\n        hasLanded = true;\n        if (!isLeave) {\n          return;\n        }\n      }\n      if (isOverReferenceEl) {\n        hasLanded = false;\n      }\n      if (isOverReferenceEl && !isLeave) {\n        hasLanded = true;\n        return;\n      }\n\n      // Prevent overlapping floating element from being stuck in an open-close\n      // loop: https://github.com/floating-ui/floating-ui/issues/1910\n      if (isLeave && isElement(event.relatedTarget) && contains(elements.floating, event.relatedTarget)) {\n        return;\n      }\n\n      // If any nested child is open, abort.\n      if (tree && getChildren(tree.nodesRef.current, nodeId).some(_ref2 => {\n        let {\n          context\n        } = _ref2;\n        return context == null ? void 0 : context.open;\n      })) {\n        return;\n      }\n\n      // If the pointer is leaving from the opposite side, the \"buffer\" logic\n      // creates a point where the floating element remains open, but should be\n      // ignored.\n      // A constant of 1 handles floating point rounding errors.\n      if (side === 'top' && y >= refRect.bottom - 1 || side === 'bottom' && y <= refRect.top + 1 || side === 'left' && x >= refRect.right - 1 || side === 'right' && x <= refRect.left + 1) {\n        return close();\n      }\n\n      // Ignore when the cursor is within the rectangular trough between the\n      // two elements. Since the triangle is created from the cursor point,\n      // which can start beyond the ref element's edge, traversing back and\n      // forth from the ref to the floating element can cause it to close. This\n      // ensures it always remains open in that case.\n      let rectPoly = [];\n      switch (side) {\n        case 'top':\n          rectPoly = [[left, refRect.top + 1], [left, rect.bottom - 1], [right, rect.bottom - 1], [right, refRect.top + 1]];\n          break;\n        case 'bottom':\n          rectPoly = [[left, rect.top + 1], [left, refRect.bottom - 1], [right, refRect.bottom - 1], [right, rect.top + 1]];\n          break;\n        case 'left':\n          rectPoly = [[rect.right - 1, bottom], [rect.right - 1, top], [refRect.left + 1, top], [refRect.left + 1, bottom]];\n          break;\n        case 'right':\n          rectPoly = [[refRect.right - 1, bottom], [refRect.right - 1, top], [rect.left + 1, top], [rect.left + 1, bottom]];\n          break;\n      }\n      function getPolygon(_ref3) {\n        let [x, y] = _ref3;\n        switch (side) {\n          case 'top':\n            {\n              const cursorPointOne = [isFloatingWider ? x + buffer / 2 : cursorLeaveFromRight ? x + buffer * 4 : x - buffer * 4, y + buffer + 1];\n              const cursorPointTwo = [isFloatingWider ? x - buffer / 2 : cursorLeaveFromRight ? x + buffer * 4 : x - buffer * 4, y + buffer + 1];\n              const commonPoints = [[rect.left, cursorLeaveFromRight ? rect.bottom - buffer : isFloatingWider ? rect.bottom - buffer : rect.top], [rect.right, cursorLeaveFromRight ? isFloatingWider ? rect.bottom - buffer : rect.top : rect.bottom - buffer]];\n              return [cursorPointOne, cursorPointTwo, ...commonPoints];\n            }\n          case 'bottom':\n            {\n              const cursorPointOne = [isFloatingWider ? x + buffer / 2 : cursorLeaveFromRight ? x + buffer * 4 : x - buffer * 4, y - buffer];\n              const cursorPointTwo = [isFloatingWider ? x - buffer / 2 : cursorLeaveFromRight ? x + buffer * 4 : x - buffer * 4, y - buffer];\n              const commonPoints = [[rect.left, cursorLeaveFromRight ? rect.top + buffer : isFloatingWider ? rect.top + buffer : rect.bottom], [rect.right, cursorLeaveFromRight ? isFloatingWider ? rect.top + buffer : rect.bottom : rect.top + buffer]];\n              return [cursorPointOne, cursorPointTwo, ...commonPoints];\n            }\n          case 'left':\n            {\n              const cursorPointOne = [x + buffer + 1, isFloatingTaller ? y + buffer / 2 : cursorLeaveFromBottom ? y + buffer * 4 : y - buffer * 4];\n              const cursorPointTwo = [x + buffer + 1, isFloatingTaller ? y - buffer / 2 : cursorLeaveFromBottom ? y + buffer * 4 : y - buffer * 4];\n              const commonPoints = [[cursorLeaveFromBottom ? rect.right - buffer : isFloatingTaller ? rect.right - buffer : rect.left, rect.top], [cursorLeaveFromBottom ? isFloatingTaller ? rect.right - buffer : rect.left : rect.right - buffer, rect.bottom]];\n              return [...commonPoints, cursorPointOne, cursorPointTwo];\n            }\n          case 'right':\n            {\n              const cursorPointOne = [x - buffer, isFloatingTaller ? y + buffer / 2 : cursorLeaveFromBottom ? y + buffer * 4 : y - buffer * 4];\n              const cursorPointTwo = [x - buffer, isFloatingTaller ? y - buffer / 2 : cursorLeaveFromBottom ? y + buffer * 4 : y - buffer * 4];\n              const commonPoints = [[cursorLeaveFromBottom ? rect.left + buffer : isFloatingTaller ? rect.left + buffer : rect.right, rect.top], [cursorLeaveFromBottom ? isFloatingTaller ? rect.left + buffer : rect.right : rect.left + buffer, rect.bottom]];\n              return [cursorPointOne, cursorPointTwo, ...commonPoints];\n            }\n        }\n      }\n      if (isPointInPolygon([clientX, clientY], rectPoly)) {\n        return;\n      }\n      if (hasLanded && !isOverReferenceRect) {\n        return close();\n      }\n      if (!isLeave && requireIntent) {\n        const cursorSpeed = getCursorSpeed(event.clientX, event.clientY);\n        const cursorSpeedThreshold = 0.1;\n        if (cursorSpeed !== null && cursorSpeed < cursorSpeedThreshold) {\n          return close();\n        }\n      }\n      if (!isPointInPolygon([clientX, clientY], getPolygon([x, y]))) {\n        close();\n      } else if (!hasLanded && requireIntent) {\n        timeoutId = window.setTimeout(close, 40);\n      }\n    };\n  };\n  fn.__options = {\n    blockPointerEvents\n  };\n  return fn;\n}\n\nexport { Composite, CompositeItem, FloatingArrow, FloatingDelayGroup, FloatingFocusManager, FloatingList, FloatingNode, FloatingOverlay, FloatingPortal, FloatingTree, inner, safePolygon, useClick, useClientPoint, useDelayGroup, useDelayGroupContext, useDismiss, useFloating, useFloatingNodeId, useFloatingParentNodeId, useFloatingPortalNode, useFloatingTree, useFocus, useHover, useId, useInnerOffset, useInteractions, useListItem, useListNavigation, useMergeRefs, useRole, useTransitionStatus, useTransitionStyles, useTypeahead };\n","import { useRef } from \"react\";\n\n// Saves incoming handler to the ref in order to avoid \"useCallback hell\"\nexport function useEventCallback<T>(handler?: (value: T) => void): (value: T) => void {\n  const callbackRef = useRef(handler);\n  const fn = useRef((value: T) => {\n    callbackRef.current && callbackRef.current(value);\n  });\n  callbackRef.current = handler;\n\n  return fn.current;\n}\n","// Clamps a value between an upper and lower bound.\n// We use ternary operators because it makes the minified code\n// 2 times shorter then `Math.min(Math.max(a,b),c)`\nexport const clamp = (number: number, min = 0, max = 1): number => {\n  return number > max ? max : number < min ? min : number;\n};\n","import React, { useRef, useMemo, useEffect } from \"react\";\n\nimport { useEventCallback } from \"../../hooks/useEventCallback\";\nimport { clamp } from \"../../utils/clamp\";\n\nexport interface Interaction {\n  left: number;\n  top: number;\n}\n\n// Check if an event was triggered by touch\nconst isTouch = (event: MouseEvent | TouchEvent): event is TouchEvent => \"touches\" in event;\n\n// Finds a proper touch point by its identifier\nconst getTouchPoint = (touches: TouchList, touchId: null | number): Touch => {\n  for (let i = 0; i < touches.length; i++) {\n    if (touches[i].identifier === touchId) return touches[i];\n  }\n  return touches[0];\n};\n\n// Finds the proper window object to fix iframe embedding issues\nconst getParentWindow = (node?: HTMLDivElement | null): Window => {\n  return (node && node.ownerDocument.defaultView) || self;\n};\n\n// Returns a relative position of the pointer inside the node's bounding box\nconst getRelativePosition = (\n  node: HTMLDivElement,\n  event: MouseEvent | TouchEvent,\n  touchId: null | number\n): Interaction => {\n  const rect = node.getBoundingClientRect();\n\n  // Get user's pointer position from `touches` array if it's a `TouchEvent`\n  const pointer = isTouch(event) ? getTouchPoint(event.touches, touchId) : (event as MouseEvent);\n\n  return {\n    left: clamp((pointer.pageX - (rect.left + getParentWindow(node).pageXOffset)) / rect.width),\n    top: clamp((pointer.pageY - (rect.top + getParentWindow(node).pageYOffset)) / rect.height),\n  };\n};\n\n// Browsers introduced an intervention, making touch events passive by default.\n// This workaround removes `preventDefault` call from the touch handlers.\n// https://github.com/facebook/react/issues/19651\nconst preventDefaultMove = (event: MouseEvent | TouchEvent): void => {\n  !isTouch(event) && event.preventDefault();\n};\n\n// Prevent mobile browsers from handling mouse events (conflicting with touch ones).\n// If we detected a touch interaction before, we prefer reacting to touch events only.\nconst isInvalid = (event: MouseEvent | TouchEvent, hasTouch: boolean): boolean => {\n  return hasTouch && !isTouch(event);\n};\n\ninterface Props {\n  onMove: (interaction: Interaction) => void;\n  onKey: (offset: Interaction) => void;\n  children: React.ReactNode;\n}\n\nconst InteractiveBase = ({ onMove, onKey, ...rest }: Props) => {\n  const container = useRef<HTMLDivElement>(null);\n  const onMoveCallback = useEventCallback<Interaction>(onMove);\n  const onKeyCallback = useEventCallback<Interaction>(onKey);\n  const touchId = useRef<null | number>(null);\n  const hasTouch = useRef(false);\n\n  const [handleMoveStart, handleKeyDown, toggleDocumentEvents] = useMemo(() => {\n    const handleMoveStart = ({ nativeEvent }: React.MouseEvent | React.TouchEvent) => {\n      const el = container.current;\n      if (!el) return;\n\n      // Prevent text selection\n      preventDefaultMove(nativeEvent);\n\n      if (isInvalid(nativeEvent, hasTouch.current) || !el) return;\n\n      if (isTouch(nativeEvent)) {\n        hasTouch.current = true;\n        const changedTouches = nativeEvent.changedTouches || [];\n        if (changedTouches.length) touchId.current = changedTouches[0].identifier;\n      }\n\n      el.focus();\n      onMoveCallback(getRelativePosition(el, nativeEvent, touchId.current));\n      toggleDocumentEvents(true);\n    };\n\n    const handleMove = (event: MouseEvent | TouchEvent) => {\n      // Prevent text selection\n      preventDefaultMove(event);\n\n      // If user moves the pointer outside of the window or iframe bounds and release it there,\n      // `mouseup`/`touchend` won't be fired. In order to stop the picker from following the cursor\n      // after the user has moved the mouse/finger back to the document, we check `event.buttons`\n      // and `event.touches`. It allows us to detect that the user is just moving his pointer\n      // without pressing it down\n      const isDown = isTouch(event) ? event.touches.length > 0 : event.buttons > 0;\n\n      if (isDown && container.current) {\n        onMoveCallback(getRelativePosition(container.current, event, touchId.current));\n      } else {\n        toggleDocumentEvents(false);\n      }\n    };\n\n    const handleMoveEnd = () => toggleDocumentEvents(false);\n\n    const handleKeyDown = (event: React.KeyboardEvent) => {\n      const keyCode = event.which || event.keyCode;\n\n      // Ignore all keys except arrow ones\n      if (keyCode < 37 || keyCode > 40) return;\n      // Do not scroll page by arrow keys when document is focused on the element\n      event.preventDefault();\n      // Send relative offset to the parent component.\n      // We use codes (37â†, 38â†‘, 39â†’, 40â†“) instead of keys ('ArrowRight', 'ArrowDown', etc)\n      // to reduce the size of the library\n      onKeyCallback({\n        left: keyCode === 39 ? 0.05 : keyCode === 37 ? -0.05 : 0,\n        top: keyCode === 40 ? 0.05 : keyCode === 38 ? -0.05 : 0,\n      });\n    };\n\n    function toggleDocumentEvents(state?: boolean) {\n      const touch = hasTouch.current;\n      const el = container.current;\n      const parentWindow = getParentWindow(el);\n\n      // Add or remove additional pointer event listeners\n      const toggleEvent = state ? parentWindow.addEventListener : parentWindow.removeEventListener;\n      toggleEvent(touch ? \"touchmove\" : \"mousemove\", handleMove);\n      toggleEvent(touch ? \"touchend\" : \"mouseup\", handleMoveEnd);\n    }\n\n    return [handleMoveStart, handleKeyDown, toggleDocumentEvents];\n  }, [onKeyCallback, onMoveCallback]);\n\n  // Remove window event listeners before unmounting\n  useEffect(() => toggleDocumentEvents, [toggleDocumentEvents]);\n\n  return (\n    <div\n      {...rest}\n      onTouchStart={handleMoveStart}\n      onMouseDown={handleMoveStart}\n      className=\"react-colorful__interactive\"\n      ref={container}\n      onKeyDown={handleKeyDown}\n      tabIndex={0}\n      role=\"slider\"\n    />\n  );\n};\n\nexport const Interactive = React.memo(InteractiveBase);\n","export const formatClassName = (names: unknown[]): string => names.filter(Boolean).join(\" \");\n","import React from \"react\";\nimport { formatClassName } from \"../../utils/format\";\n\ninterface Props {\n  className?: string;\n  top?: number;\n  left: number;\n  color: string;\n}\n\nexport const Pointer = ({ className, color, left, top = 0.5 }: Props): JSX.Element => {\n  const nodeClassName = formatClassName([\"react-colorful__pointer\", className]);\n\n  const style = {\n    top: `${top * 100}%`,\n    left: `${left * 100}%`,\n  };\n\n  return (\n    <div className={nodeClassName} style={style}>\n      <div className=\"react-colorful__pointer-fill\" style={{ backgroundColor: color }} />\n    </div>\n  );\n};\n","export const round = (number: number, digits = 0, base = Math.pow(10, digits)): number => {\n  return Math.round(base * number) / base;\n};\n","import { round } from \"./round\";\nimport { RgbaColor, RgbColor, HslaColor, HslColor, HsvaColor, HsvColor } from \"../types\";\n\n/**\n * Valid CSS <angle> units.\n * https://developer.mozilla.org/en-US/docs/Web/CSS/angle\n */\nconst angleUnits: Record<string, number> = {\n  grad: 360 / 400,\n  turn: 360,\n  rad: 360 / (Math.PI * 2),\n};\n\nexport const hexToHsva = (hex: string): HsvaColor => rgbaToHsva(hexToRgba(hex));\n\nexport const hexToRgba = (hex: string): RgbaColor => {\n  if (hex[0] === \"#\") hex = hex.substring(1);\n\n  if (hex.length < 6) {\n    return {\n      r: parseInt(hex[0] + hex[0], 16),\n      g: parseInt(hex[1] + hex[1], 16),\n      b: parseInt(hex[2] + hex[2], 16),\n      a: hex.length === 4 ? round(parseInt(hex[3] + hex[3], 16) / 255, 2) : 1,\n    };\n  }\n\n  return {\n    r: parseInt(hex.substring(0, 2), 16),\n    g: parseInt(hex.substring(2, 4), 16),\n    b: parseInt(hex.substring(4, 6), 16),\n    a: hex.length === 8 ? round(parseInt(hex.substring(6, 8), 16) / 255, 2) : 1,\n  };\n};\n\nexport const parseHue = (value: string, unit = \"deg\"): number => {\n  return Number(value) * (angleUnits[unit] || 1);\n};\n\nexport const hslaStringToHsva = (hslString: string): HsvaColor => {\n  const matcher = /hsla?\\(?\\s*(-?\\d*\\.?\\d+)(deg|rad|grad|turn)?[,\\s]+(-?\\d*\\.?\\d+)%?[,\\s]+(-?\\d*\\.?\\d+)%?,?\\s*[/\\s]*(-?\\d*\\.?\\d+)?(%)?\\s*\\)?/i;\n  const match = matcher.exec(hslString);\n\n  if (!match) return { h: 0, s: 0, v: 0, a: 1 };\n\n  return hslaToHsva({\n    h: parseHue(match[1], match[2]),\n    s: Number(match[3]),\n    l: Number(match[4]),\n    a: match[5] === undefined ? 1 : Number(match[5]) / (match[6] ? 100 : 1),\n  });\n};\n\nexport const hslStringToHsva = hslaStringToHsva;\n\nexport const hslaToHsva = ({ h, s, l, a }: HslaColor): HsvaColor => {\n  s *= (l < 50 ? l : 100 - l) / 100;\n\n  return {\n    h: h,\n    s: s > 0 ? ((2 * s) / (l + s)) * 100 : 0,\n    v: l + s,\n    a,\n  };\n};\n\nexport const hsvaToHex = (hsva: HsvaColor): string => rgbaToHex(hsvaToRgba(hsva));\n\nexport const hsvaToHsla = ({ h, s, v, a }: HsvaColor): HslaColor => {\n  const hh = ((200 - s) * v) / 100;\n\n  return {\n    h: round(h),\n    s: round(hh > 0 && hh < 200 ? ((s * v) / 100 / (hh <= 100 ? hh : 200 - hh)) * 100 : 0),\n    l: round(hh / 2),\n    a: round(a, 2),\n  };\n};\n\nexport const hsvaToHslString = (hsva: HsvaColor): string => {\n  const { h, s, l } = hsvaToHsla(hsva);\n  return `hsl(${h}, ${s}%, ${l}%)`;\n};\n\nexport const hsvaToHsvString = (hsva: HsvaColor): string => {\n  const { h, s, v } = roundHsva(hsva);\n  return `hsv(${h}, ${s}%, ${v}%)`;\n};\n\nexport const hsvaToHsvaString = (hsva: HsvaColor): string => {\n  const { h, s, v, a } = roundHsva(hsva);\n  return `hsva(${h}, ${s}%, ${v}%, ${a})`;\n};\n\nexport const hsvaToHslaString = (hsva: HsvaColor): string => {\n  const { h, s, l, a } = hsvaToHsla(hsva);\n  return `hsla(${h}, ${s}%, ${l}%, ${a})`;\n};\n\nexport const hsvaToRgba = ({ h, s, v, a }: HsvaColor): RgbaColor => {\n  h = (h / 360) * 6;\n  s = s / 100;\n  v = v / 100;\n\n  const hh = Math.floor(h),\n    b = v * (1 - s),\n    c = v * (1 - (h - hh) * s),\n    d = v * (1 - (1 - h + hh) * s),\n    module = hh % 6;\n\n  return {\n    r: round([v, c, b, b, d, v][module] * 255),\n    g: round([d, v, v, c, b, b][module] * 255),\n    b: round([b, b, d, v, v, c][module] * 255),\n    a: round(a, 2),\n  };\n};\n\nexport const hsvaToRgbString = (hsva: HsvaColor): string => {\n  const { r, g, b } = hsvaToRgba(hsva);\n  return `rgb(${r}, ${g}, ${b})`;\n};\n\nexport const hsvaToRgbaString = (hsva: HsvaColor): string => {\n  const { r, g, b, a } = hsvaToRgba(hsva);\n  return `rgba(${r}, ${g}, ${b}, ${a})`;\n};\n\nexport const hsvaStringToHsva = (hsvString: string): HsvaColor => {\n  const matcher = /hsva?\\(?\\s*(-?\\d*\\.?\\d+)(deg|rad|grad|turn)?[,\\s]+(-?\\d*\\.?\\d+)%?[,\\s]+(-?\\d*\\.?\\d+)%?,?\\s*[/\\s]*(-?\\d*\\.?\\d+)?(%)?\\s*\\)?/i;\n  const match = matcher.exec(hsvString);\n\n  if (!match) return { h: 0, s: 0, v: 0, a: 1 };\n\n  return roundHsva({\n    h: parseHue(match[1], match[2]),\n    s: Number(match[3]),\n    v: Number(match[4]),\n    a: match[5] === undefined ? 1 : Number(match[5]) / (match[6] ? 100 : 1),\n  });\n};\n\nexport const hsvStringToHsva = hsvaStringToHsva;\n\nexport const rgbaStringToHsva = (rgbaString: string): HsvaColor => {\n  const matcher = /rgba?\\(?\\s*(-?\\d*\\.?\\d+)(%)?[,\\s]+(-?\\d*\\.?\\d+)(%)?[,\\s]+(-?\\d*\\.?\\d+)(%)?,?\\s*[/\\s]*(-?\\d*\\.?\\d+)?(%)?\\s*\\)?/i;\n  const match = matcher.exec(rgbaString);\n\n  if (!match) return { h: 0, s: 0, v: 0, a: 1 };\n\n  return rgbaToHsva({\n    r: Number(match[1]) / (match[2] ? 100 / 255 : 1),\n    g: Number(match[3]) / (match[4] ? 100 / 255 : 1),\n    b: Number(match[5]) / (match[6] ? 100 / 255 : 1),\n    a: match[7] === undefined ? 1 : Number(match[7]) / (match[8] ? 100 : 1),\n  });\n};\n\nexport const rgbStringToHsva = rgbaStringToHsva;\n\nconst format = (number: number) => {\n  const hex = number.toString(16);\n  return hex.length < 2 ? \"0\" + hex : hex;\n};\n\nexport const rgbaToHex = ({ r, g, b, a }: RgbaColor): string => {\n  const alphaHex = a < 1 ? format(round(a * 255)) : \"\";\n  return \"#\" + format(r) + format(g) + format(b) + alphaHex;\n};\n\nexport const rgbaToHsva = ({ r, g, b, a }: RgbaColor): HsvaColor => {\n  const max = Math.max(r, g, b);\n  const delta = max - Math.min(r, g, b);\n\n  // prettier-ignore\n  const hh = delta\n    ? max === r\n      ? (g - b) / delta\n      : max === g\n        ? 2 + (b - r) / delta\n        : 4 + (r - g) / delta\n    : 0;\n\n  return {\n    h: round(60 * (hh < 0 ? hh + 6 : hh)),\n    s: round(max ? (delta / max) * 100 : 0),\n    v: round((max / 255) * 100),\n    a,\n  };\n};\n\nexport const roundHsva = (hsva: HsvaColor): HsvaColor => ({\n  h: round(hsva.h),\n  s: round(hsva.s),\n  v: round(hsva.v),\n  a: round(hsva.a, 2),\n});\n\nexport const rgbaToRgb = ({ r, g, b }: RgbaColor): RgbColor => ({ r, g, b });\n\nexport const hslaToHsl = ({ h, s, l }: HslaColor): HslColor => ({ h, s, l });\n\nexport const hsvaToHsv = (hsva: HsvaColor): HsvColor => {\n  const { h, s, v } = roundHsva(hsva);\n  return { h, s, v };\n};\n","import React from \"react\";\n\nimport { Interactive, Interaction } from \"./Interactive\";\nimport { Pointer } from \"./Pointer\";\n\nimport { hsvaToHslString } from \"../../utils/convert\";\nimport { formatClassName } from \"../../utils/format\";\nimport { clamp } from \"../../utils/clamp\";\nimport { round } from \"../../utils/round\";\n\ninterface Props {\n  className?: string;\n  hue: number;\n  onChange: (newHue: { h: number }) => void;\n}\n\nconst HueBase = ({ className, hue, onChange }: Props) => {\n  const handleMove = (interaction: Interaction) => {\n    onChange({ h: 360 * interaction.left });\n  };\n\n  const handleKey = (offset: Interaction) => {\n    // Hue measured in degrees of the color circle ranging from 0 to 360\n    onChange({\n      h: clamp(hue + offset.left * 360, 0, 360),\n    });\n  };\n\n  const nodeClassName = formatClassName([\"react-colorful__hue\", className]);\n\n  return (\n    <div className={nodeClassName}>\n      <Interactive\n        onMove={handleMove}\n        onKey={handleKey}\n        aria-label=\"Hue\"\n        aria-valuenow={round(hue)}\n        aria-valuemax=\"360\"\n        aria-valuemin=\"0\"\n      >\n        <Pointer\n          className=\"react-colorful__hue-pointer\"\n          left={hue / 360}\n          color={hsvaToHslString({ h: hue, s: 100, v: 100, a: 1 })}\n        />\n      </Interactive>\n    </div>\n  );\n};\n\nexport const Hue = React.memo(HueBase);\n","import React from \"react\";\nimport { Interactive, Interaction } from \"./Interactive\";\nimport { Pointer } from \"./Pointer\";\nimport { HsvaColor } from \"../../types\";\nimport { hsvaToHslString } from \"../../utils/convert\";\nimport { clamp } from \"../../utils/clamp\";\nimport { round } from \"../../utils/round\";\n\ninterface Props {\n  hsva: HsvaColor;\n  onChange: (newColor: { s: number; v: number }) => void;\n}\n\nconst SaturationBase = ({ hsva, onChange }: Props) => {\n  const handleMove = (interaction: Interaction) => {\n    onChange({\n      s: interaction.left * 100,\n      v: 100 - interaction.top * 100,\n    });\n  };\n\n  const handleKey = (offset: Interaction) => {\n    // Saturation and brightness always fit into [0, 100] range\n    onChange({\n      s: clamp(hsva.s + offset.left * 100, 0, 100),\n      v: clamp(hsva.v - offset.top * 100, 0, 100),\n    });\n  };\n\n  const containerStyle = {\n    backgroundColor: hsvaToHslString({ h: hsva.h, s: 100, v: 100, a: 1 }),\n  };\n\n  return (\n    <div className=\"react-colorful__saturation\" style={containerStyle}>\n      <Interactive\n        onMove={handleMove}\n        onKey={handleKey}\n        aria-label=\"Color\"\n        aria-valuetext={`Saturation ${round(hsva.s)}%, Brightness ${round(hsva.v)}%`}\n      >\n        <Pointer\n          className=\"react-colorful__saturation-pointer\"\n          top={1 - hsva.v / 100}\n          left={hsva.s / 100}\n          color={hsvaToHslString(hsva)}\n        />\n      </Interactive>\n    </div>\n  );\n};\n\nexport const Saturation = React.memo(SaturationBase);\n","import { hexToRgba } from \"./convert\";\nimport { ObjectColor } from \"../types\";\n\nexport const equalColorObjects = (first: ObjectColor, second: ObjectColor): boolean => {\n  if (first === second) return true;\n\n  for (const prop in first) {\n    // The following allows for a type-safe calling of this function (first & second have to be HSL, HSV, or RGB)\n    // with type-unsafe iterating over object keys. TS does not allow this without an index (`[key: string]: number`)\n    // on an object to define how iteration is normally done. To ensure extra keys are not allowed on our types,\n    // we must cast our object to unknown (as RGB demands `r` be a key, while `Record<string, x>` does not care if\n    // there is or not), and then as a type TS can iterate over.\n    if (\n      ((first as unknown) as Record<string, number>)[prop] !==\n      ((second as unknown) as Record<string, number>)[prop]\n    )\n      return false;\n  }\n\n  return true;\n};\n\nexport const equalColorString = (first: string, second: string): boolean => {\n  return first.replace(/\\s/g, \"\") === second.replace(/\\s/g, \"\");\n};\n\nexport const equalHex = (first: string, second: string): boolean => {\n  if (first.toLowerCase() === second.toLowerCase()) return true;\n\n  // To compare colors like `#FFF` and `ffffff` we convert them into RGB objects\n  return equalColorObjects(hexToRgba(first), hexToRgba(second));\n};\n","import { useState, useEffect, useCallback, useRef } from \"react\";\nimport { ColorModel, AnyColor, HsvaColor } from \"../types\";\nimport { equalColorObjects } from \"../utils/compare\";\nimport { useEventCallback } from \"./useEventCallback\";\n\nexport function useColorManipulation<T extends AnyColor>(\n  colorModel: ColorModel<T>,\n  color: T,\n  onChange?: (color: T) => void\n): [HsvaColor, (color: Partial<HsvaColor>) => void] {\n  // Save onChange callback in the ref for avoiding \"useCallback hell\"\n  const onChangeCallback = useEventCallback<T>(onChange);\n\n  // No matter which color model is used (HEX, RGB(A) or HSL(A)),\n  // all internal calculations are based on HSVA model\n  const [hsva, updateHsva] = useState<HsvaColor>(() => colorModel.toHsva(color));\n\n  // By using this ref we're able to prevent extra updates\n  // and the effects recursion during the color conversion\n  const cache = useRef({ color, hsva });\n\n  // Update local HSVA-value if `color` property value is changed,\n  // but only if that's not the same color that we just sent to the parent\n  useEffect(() => {\n    if (!colorModel.equal(color, cache.current.color)) {\n      const newHsva = colorModel.toHsva(color);\n      cache.current = { hsva: newHsva, color };\n      updateHsva(newHsva);\n    }\n  }, [color, colorModel]);\n\n  // Trigger `onChange` callback only if an updated color is different from cached one;\n  // save the new color to the ref to prevent unnecessary updates\n  useEffect(() => {\n    let newColor;\n    if (\n      !equalColorObjects(hsva, cache.current.hsva) &&\n      !colorModel.equal((newColor = colorModel.fromHsva(hsva)), cache.current.color)\n    ) {\n      cache.current = { hsva, color: newColor };\n      onChangeCallback(newColor);\n    }\n  }, [hsva, colorModel, onChangeCallback]);\n\n  // Merge the current HSVA color object with updated params.\n  // For example, when a child component sends `h` or `s` only\n  const handleChange = useCallback((params: Partial<HsvaColor>) => {\n    updateHsva((current) => Object.assign({}, current, params));\n  }, []);\n\n  return [hsva, handleChange];\n}\n","import { useLayoutEffect, useEffect } from \"react\";\n\n// React currently throws a warning when using useLayoutEffect on the server.\n// To get around it, we can conditionally useEffect on the server (no-op) and\n// useLayoutEffect in the browser.\nexport const useIsomorphicLayoutEffect =\n  typeof window !== \"undefined\" ? useLayoutEffect : useEffect;\n","declare const __webpack_nonce__: string | undefined;\nlet nonce: string | undefined;\n\n/**\n * Returns a nonce hash included by Webpack or the one defined manually by developer.\n * https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/nonce\n * https://webpack.js.org/guides/csp/\n */\nexport const getNonce = (): string | undefined => {\n  if (nonce) return nonce;\n  if (typeof __webpack_nonce__ !== \"undefined\") return __webpack_nonce__;\n  return undefined;\n};\n\n/**\n * Signs the style tag with a base64-encoded string (nonce) to conforms to Content Security Policies.\n * This function has to be invoked before any picker is rendered if you aren't using Webpack for CSP.\n */\nexport const setNonce = (hash: string): void => {\n  nonce = hash;\n};\n","import { RefObject } from \"react\";\n\nimport { useIsomorphicLayoutEffect } from \"./useIsomorphicLayoutEffect\";\nimport { getNonce } from \"../utils/nonce\";\n\n// Bundler is configured to load this as a processed minified CSS-string\nimport styles from \"../css/styles.css\";\n\nconst styleElementMap: Map<Document, HTMLStyleElement> = new Map();\n\n/**\n * Injects CSS code into the document's <head>\n */\nexport const useStyleSheet = (nodeRef: RefObject<HTMLDivElement>): void => {\n  useIsomorphicLayoutEffect(() => {\n    const parentDocument = nodeRef.current ? nodeRef.current.ownerDocument : document;\n\n    if (typeof parentDocument !== \"undefined\" && !styleElementMap.has(parentDocument)) {\n      const styleElement = parentDocument.createElement(\"style\");\n      styleElement.innerHTML = styles;\n      styleElementMap.set(parentDocument, styleElement);\n\n      // Conform to CSP rules by setting `nonce` attribute to the inline styles\n      const nonce = getNonce();\n      if (nonce) styleElement.setAttribute(\"nonce\", nonce);\n\n      parentDocument.head.appendChild(styleElement);\n    }\n  }, []);\n};\n","import React, { useRef } from \"react\";\n\nimport { Hue } from \"./Hue\";\nimport { Saturation } from \"./Saturation\";\n\nimport { ColorModel, ColorPickerBaseProps, AnyColor } from \"../../types\";\nimport { useColorManipulation } from \"../../hooks/useColorManipulation\";\nimport { useStyleSheet } from \"../../hooks/useStyleSheet\";\nimport { formatClassName } from \"../../utils/format\";\n\ninterface Props<T extends AnyColor> extends Partial<ColorPickerBaseProps<T>> {\n  colorModel: ColorModel<T>;\n}\n\nexport const ColorPicker = <T extends AnyColor>({\n  className,\n  colorModel,\n  color = colorModel.defaultColor,\n  onChange,\n  ...rest\n}: Props<T>): JSX.Element => {\n  const nodeRef = useRef<HTMLDivElement>(null);\n  useStyleSheet(nodeRef);\n\n  const [hsva, updateHsva] = useColorManipulation<T>(colorModel, color, onChange);\n\n  const nodeClassName = formatClassName([\"react-colorful\", className]);\n\n  return (\n    <div {...rest} ref={nodeRef} className={nodeClassName}>\n      <Saturation hsva={hsva} onChange={updateHsva} />\n      <Hue hue={hsva.h} onChange={updateHsva} className=\"react-colorful__last-control\" />\n    </div>\n  );\n};\n","import React from \"react\";\n\nimport { ColorPicker } from \"./common/ColorPicker\";\nimport { ColorModel, ColorPickerBaseProps } from \"../types\";\nimport { equalHex } from \"../utils/compare\";\nimport { hexToHsva, hsvaToHex } from \"../utils/convert\";\n\nconst colorModel: ColorModel<string> = {\n  defaultColor: \"000\",\n  toHsva: hexToHsva,\n  fromHsva: ({ h, s, v }) => hsvaToHex({ h, s, v, a: 1 }),\n  equal: equalHex,\n};\n\nexport const HexColorPicker = (props: Partial<ColorPickerBaseProps<string>>): JSX.Element => (\n  <ColorPicker {...props} colorModel={colorModel} />\n);\n","import React from \"react\";\n\nimport { Interactive, Interaction } from \"./Interactive\";\nimport { Pointer } from \"./Pointer\";\n\nimport { hsvaToHslaString } from \"../../utils/convert\";\nimport { formatClassName } from \"../../utils/format\";\nimport { clamp } from \"../../utils/clamp\";\nimport { round } from \"../../utils/round\";\nimport { HsvaColor } from \"../../types\";\n\ninterface Props {\n  className?: string;\n  hsva: HsvaColor;\n  onChange: (newAlpha: { a: number }) => void;\n}\n\nexport const Alpha = ({ className, hsva, onChange }: Props): JSX.Element => {\n  const handleMove = (interaction: Interaction) => {\n    onChange({ a: interaction.left });\n  };\n\n  const handleKey = (offset: Interaction) => {\n    // Alpha always fit into [0, 1] range\n    onChange({ a: clamp(hsva.a + offset.left) });\n  };\n\n  // We use `Object.assign` instead of the spread operator\n  // to prevent adding the polyfill (about 150 bytes gzipped)\n  const colorFrom = hsvaToHslaString(Object.assign({}, hsva, { a: 0 }));\n  const colorTo = hsvaToHslaString(Object.assign({}, hsva, { a: 1 }));\n\n  const gradientStyle = {\n    backgroundImage: `linear-gradient(90deg, ${colorFrom}, ${colorTo})`,\n  };\n\n  const nodeClassName = formatClassName([\"react-colorful__alpha\", className]);\n  const ariaValue = round(hsva.a * 100);\n\n  return (\n    <div className={nodeClassName}>\n      <div className=\"react-colorful__alpha-gradient\" style={gradientStyle} />\n      <Interactive\n        onMove={handleMove}\n        onKey={handleKey}\n        aria-label=\"Alpha\"\n        aria-valuetext={`${ariaValue}%`}\n        aria-valuenow={ariaValue}\n        aria-valuemin=\"0\"\n        aria-valuemax=\"100\"\n      >\n        <Pointer\n          className=\"react-colorful__alpha-pointer\"\n          left={hsva.a}\n          color={hsvaToHslaString(hsva)}\n        />\n      </Interactive>\n    </div>\n  );\n};\n","import { CamelToPascal } from './utility-types';\n\n/**\n * Converts string to kebab case\n *\n * @param {string} string\n * @returns {string} A kebabized string\n */\nexport const toKebabCase = (string: string) =>\n  string.replace(/([a-z0-9])([A-Z])/g, '$1-$2').toLowerCase();\n\n/**\n * Converts string to camel case\n *\n * @param {string} string\n * @returns {string} A camelized string\n */\nexport const toCamelCase = <T extends string>(string: T) =>\n  string.replace(/^([A-Z])|[\\s-_]+(\\w)/g, (match, p1, p2) =>\n    p2 ? p2.toUpperCase() : p1.toLowerCase(),\n  );\n\n/**\n * Converts string to pascal case\n *\n * @param {string} string\n * @returns {string} A pascalized string\n */\nexport const toPascalCase = <T extends string>(string: T): CamelToPascal<T> => {\n  const camelCase = toCamelCase(string);\n\n  return (camelCase.charAt(0).toUpperCase() + camelCase.slice(1)) as CamelToPascal<T>;\n};\n\n/**\n * Merges classes into a single string\n *\n * @param {array} classes\n * @returns {string} A string of classes\n */\nexport const mergeClasses = <ClassType = string | undefined | null>(...classes: ClassType[]) =>\n  classes\n    .filter((className, index, array) => {\n      return (\n        Boolean(className) &&\n        (className as string).trim() !== '' &&\n        array.indexOf(className) === index\n      );\n    })\n    .join(' ')\n    .trim();\n","export default {\n  xmlns: 'http://www.w3.org/2000/svg',\n  width: 24,\n  height: 24,\n  viewBox: '0 0 24 24',\n  fill: 'none',\n  stroke: 'currentColor',\n  strokeWidth: 2,\n  strokeLinecap: 'round',\n  strokeLinejoin: 'round',\n};\n","import { createElement, forwardRef } from 'react';\nimport defaultAttributes from './defaultAttributes';\nimport { IconNode, LucideProps } from './types';\nimport { mergeClasses } from '@lucide/shared';\n\ninterface IconComponentProps extends LucideProps {\n  iconNode: IconNode;\n}\n\n/**\n * Lucide icon component\n *\n * @component Icon\n * @param {object} props\n * @param {string} props.color - The color of the icon\n * @param {number} props.size - The size of the icon\n * @param {number} props.strokeWidth - The stroke width of the icon\n * @param {boolean} props.absoluteStrokeWidth - Whether to use absolute stroke width\n * @param {string} props.className - The class name of the icon\n * @param {IconNode} props.children - The children of the icon\n * @param {IconNode} props.iconNode - The icon node of the icon\n *\n * @returns {ForwardRefExoticComponent} LucideIcon\n */\nconst Icon = forwardRef<SVGSVGElement, IconComponentProps>(\n  (\n    {\n      color = 'currentColor',\n      size = 24,\n      strokeWidth = 2,\n      absoluteStrokeWidth,\n      className = '',\n      children,\n      iconNode,\n      ...rest\n    },\n    ref,\n  ) => {\n    return createElement(\n      'svg',\n      {\n        ref,\n        ...defaultAttributes,\n        width: size,\n        height: size,\n        stroke: color,\n        strokeWidth: absoluteStrokeWidth ? (Number(strokeWidth) * 24) / Number(size) : strokeWidth,\n        className: mergeClasses('lucide', className),\n        ...rest,\n      },\n      [\n        ...iconNode.map(([tag, attrs]) => createElement(tag, attrs)),\n        ...(Array.isArray(children) ? children : [children]),\n      ],\n    );\n  },\n);\n\nexport default Icon;\n","import { createElement, forwardRef } from 'react';\nimport { mergeClasses, toKebabCase } from '@lucide/shared';\nimport { IconNode, LucideProps } from './types';\nimport Icon from './Icon';\n\n/**\n * Create a Lucide icon component\n * @param {string} iconName\n * @param {array} iconNode\n * @returns {ForwardRefExoticComponent} LucideIcon\n */\nconst createLucideIcon = (iconName: string, iconNode: IconNode) => {\n  const Component = forwardRef<SVGSVGElement, LucideProps>(({ className, ...props }, ref) =>\n    createElement(Icon, {\n      ref,\n      iconNode,\n      className: mergeClasses(`lucide-${toKebabCase(iconName)}`, className),\n      ...props,\n    }),\n  );\n\n  Component.displayName = `${iconName}`;\n\n  return Component;\n};\n\nexport default createLucideIcon;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Palette\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMy41IiBjeT0iNi41IiByPSIuNSIgZmlsbD0iY3VycmVudENvbG9yIiAvPgogIDxjaXJjbGUgY3g9IjE3LjUiIGN5PSIxMC41IiByPSIuNSIgZmlsbD0iY3VycmVudENvbG9yIiAvPgogIDxjaXJjbGUgY3g9IjguNSIgY3k9IjcuNSIgcj0iLjUiIGZpbGw9ImN1cnJlbnRDb2xvciIgLz4KICA8Y2lyY2xlIGN4PSI2LjUiIGN5PSIxMi41IiByPSIuNSIgZmlsbD0iY3VycmVudENvbG9yIiAvPgogIDxwYXRoIGQ9Ik0xMiAyQzYuNSAyIDIgNi41IDIgMTJzNC41IDEwIDEwIDEwYy45MjYgMCAxLjY0OC0uNzQ2IDEuNjQ4LTEuNjg4IDAtLjQzNy0uMTgtLjgzNS0uNDM3LTEuMTI1LS4yOS0uMjg5LS40MzgtLjY1Mi0uNDM4LTEuMTI1YTEuNjQgMS42NCAwIDAgMSAxLjY2OC0xLjY2OGgxLjk5NmMzLjA1MSAwIDUuNTU1LTIuNTAzIDUuNTU1LTUuNTU0QzIxLjk2NSA2LjAxMiAxNy40NjEgMiAxMiAyeiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/palette\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Palette = createLucideIcon('Palette', [\n  ['circle', { cx: '13.5', cy: '6.5', r: '.5', fill: 'currentColor', key: '1okk4w' }],\n  ['circle', { cx: '17.5', cy: '10.5', r: '.5', fill: 'currentColor', key: 'f64h9f' }],\n  ['circle', { cx: '8.5', cy: '7.5', r: '.5', fill: 'currentColor', key: 'fotxhn' }],\n  ['circle', { cx: '6.5', cy: '12.5', r: '.5', fill: 'currentColor', key: 'qy21gx' }],\n  [\n    'path',\n    {\n      d: 'M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z',\n      key: '12rzf8',\n    },\n  ],\n]);\n\nexport default Palette;\n","import { useRef, useEffect, useMemo } from 'react';\n\nexport interface CallOptions {\n  /**\n   * Controls if the function should be invoked on the leading edge of the timeout.\n   */\n  leading?: boolean;\n  /**\n   * Controls if the function should be invoked on the trailing edge of the timeout.\n   */\n  trailing?: boolean;\n}\n\nexport interface Options extends CallOptions {\n  /**\n   * The maximum time the given function is allowed to be delayed before it's invoked.\n   */\n  maxWait?: number;\n  /**\n   * If the setting is set to true, all debouncing and timers will happen on the server side as well\n   */\n  debounceOnServer?: boolean;\n}\n\nexport interface ControlFunctions<ReturnT> {\n  /**\n   * Cancel pending function invocations\n   */\n  cancel: () => void;\n  /**\n   * Immediately invoke pending function invocations\n   */\n  flush: () => ReturnT | undefined;\n  /**\n   * Returns `true` if there are any pending function invocations\n   */\n  isPending: () => boolean;\n}\n\n/**\n * Subsequent calls to the debounced function return the result of the last func invocation.\n * Note, that if there are no previous invocations you will get undefined. You should check it in your code properly.\n */\nexport interface DebouncedState<T extends (...args: any) => ReturnType<T>>\n  extends ControlFunctions<ReturnType<T>> {\n  (...args: Parameters<T>): ReturnType<T> | undefined;\n}\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked, or until the next browser frame is drawn.\n *\n * The debounced function comes with a `cancel` method to cancel delayed `func`\n * invocations and a `flush` method to immediately invoke them.\n *\n * Provide `options` to indicate whether `func` should be invoked on the leading\n * and/or trailing edge of the `wait` timeout. The `func` is invoked with the\n * last arguments provided to the debounced function.\n *\n * Subsequent calls to the debounced function return the result of the last\n * `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * If `wait` is omitted in an environment with `requestAnimationFrame`, `func`\n * invocation will be deferred until the next frame is drawn (typically about\n * 16ms).\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `debounce` and `throttle`.\n *\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0]\n *  The number of milliseconds to delay; if omitted, `requestAnimationFrame` is\n *  used (if available, otherwise it will be setTimeout(...,0)).\n * @param {Object} [options={}] The options object.\n *  Controls if `func` should be invoked on the leading edge of the timeout.\n * @param {boolean} [options.leading=false]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {number} [options.maxWait]\n *  Controls if `func` should be invoked the trailing edge of the timeout.\n * @param {boolean} [options.trailing=true]\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * const resizeHandler = useDebouncedCallback(calculateLayout, 150);\n * window.addEventListener('resize', resizeHandler)\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * const clickHandler = useDebouncedCallback(sendMail, 300, {\n *   leading: true,\n *   trailing: false,\n * })\n * <button onClick={clickHandler}>click me</button>\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * const debounced = useDebouncedCallback(batchLog, 250, { 'maxWait': 1000 })\n * const source = new EventSource('/stream')\n * source.addEventListener('message', debounced)\n *\n * // Cancel the trailing debounced invocation.\n * window.addEventListener('popstate', debounced.cancel)\n *\n * // Check for pending invocations.\n * const status = debounced.pending() ? \"Pending...\" : \"Ready\"\n */\nexport default function useDebouncedCallback<\n  T extends (...args: any) => ReturnType<T>,\n>(func: T, wait?: number, options?: Options): DebouncedState<T> {\n  const lastCallTime = useRef(null);\n  const lastInvokeTime = useRef(0);\n  const timerId = useRef(null);\n  const lastArgs = useRef<unknown[]>([]);\n  const lastThis = useRef<unknown>();\n  const result = useRef<ReturnType<T>>();\n  const funcRef = useRef(func);\n  const mounted = useRef(true);\n  // Always keep the latest version of debounce callback, with no wait time.\n  funcRef.current = func;\n\n  const isClientSide = typeof window !== 'undefined';\n  // Bypass `requestAnimationFrame` by explicitly setting `wait=0`.\n  const useRAF = !wait && wait !== 0 && isClientSide;\n\n  if (typeof func !== 'function') {\n    throw new TypeError('Expected a function');\n  }\n\n  wait = +wait || 0;\n  options = options || {};\n\n  const leading = !!options.leading;\n  const trailing = 'trailing' in options ? !!options.trailing : true; // `true` by default\n  const maxing = 'maxWait' in options;\n  const debounceOnServer =\n    'debounceOnServer' in options ? !!options.debounceOnServer : false; // `false` by default\n  const maxWait = maxing ? Math.max(+options.maxWait || 0, wait) : null;\n\n  useEffect(() => {\n    mounted.current = true;\n    return () => {\n      mounted.current = false;\n    };\n  }, []);\n\n  // You may have a question, why we have so many code under the useMemo definition.\n  //\n  // This was made as we want to escape from useCallback hell and\n  // not to initialize a number of functions each time useDebouncedCallback is called.\n  //\n  // It means that we have less garbage for our GC calls which improves performance.\n  // Also, it makes this library smaller.\n  //\n  // And the last reason, that the code without lots of useCallback with deps is easier to read.\n  // You have only one place for that.\n  const debounced = useMemo(() => {\n    const invokeFunc = (time: number) => {\n      const args = lastArgs.current;\n      const thisArg = lastThis.current;\n\n      lastArgs.current = lastThis.current = null;\n      lastInvokeTime.current = time;\n      return (result.current = funcRef.current.apply(thisArg, args));\n    };\n\n    const startTimer = (pendingFunc: () => void, wait: number) => {\n      if (useRAF) cancelAnimationFrame(timerId.current);\n      timerId.current = useRAF\n        ? requestAnimationFrame(pendingFunc)\n        : setTimeout(pendingFunc, wait);\n    };\n\n    const shouldInvoke = (time: number) => {\n      if (!mounted.current) return false;\n\n      const timeSinceLastCall = time - lastCallTime.current;\n      const timeSinceLastInvoke = time - lastInvokeTime.current;\n\n      // Either this is the first call, activity has stopped and we're at the\n      // trailing edge, the system time has gone backwards and we're treating\n      // it as the trailing edge, or we've hit the `maxWait` limit.\n      return (\n        !lastCallTime.current ||\n        timeSinceLastCall >= wait ||\n        timeSinceLastCall < 0 ||\n        (maxing && timeSinceLastInvoke >= maxWait)\n      );\n    };\n\n    const trailingEdge = (time: number) => {\n      timerId.current = null;\n\n      // Only invoke if we have `lastArgs` which means `func` has been\n      // debounced at least once.\n      if (trailing && lastArgs.current) {\n        return invokeFunc(time);\n      }\n      lastArgs.current = lastThis.current = null;\n      return result.current;\n    };\n\n    const timerExpired = () => {\n      const time = Date.now();\n      if (shouldInvoke(time)) {\n        return trailingEdge(time);\n      }\n      // https://github.com/xnimorz/use-debounce/issues/97\n      if (!mounted.current) {\n        return;\n      }\n      // Remaining wait calculation\n      const timeSinceLastCall = time - lastCallTime.current;\n      const timeSinceLastInvoke = time - lastInvokeTime.current;\n      const timeWaiting = wait - timeSinceLastCall;\n      const remainingWait = maxing\n        ? Math.min(timeWaiting, maxWait - timeSinceLastInvoke)\n        : timeWaiting;\n\n      // Restart the timer\n      startTimer(timerExpired, remainingWait);\n    };\n\n    const func: DebouncedState<T> = (...args: Parameters<T>): ReturnType<T> => {\n      if (!isClientSide && !debounceOnServer) {\n        return;\n      }\n      const time = Date.now();\n      const isInvoking = shouldInvoke(time);\n\n      lastArgs.current = args;\n      lastThis.current = this;\n      lastCallTime.current = time;\n\n      if (isInvoking) {\n        if (!timerId.current && mounted.current) {\n          // Reset any `maxWait` timer.\n          lastInvokeTime.current = lastCallTime.current;\n          // Start the timer for the trailing edge.\n          startTimer(timerExpired, wait);\n          // Invoke the leading edge.\n          return leading ? invokeFunc(lastCallTime.current) : result.current;\n        }\n        if (maxing) {\n          // Handle invocations in a tight loop.\n          startTimer(timerExpired, wait);\n          return invokeFunc(lastCallTime.current);\n        }\n      }\n      if (!timerId.current) {\n        startTimer(timerExpired, wait);\n      }\n      return result.current;\n    };\n\n    func.cancel = () => {\n      if (timerId.current) {\n        useRAF\n          ? cancelAnimationFrame(timerId.current)\n          : clearTimeout(timerId.current);\n      }\n      lastInvokeTime.current = 0;\n      lastArgs.current =\n        lastCallTime.current =\n        lastThis.current =\n        timerId.current =\n          null;\n    };\n\n    func.isPending = () => {\n      return !!timerId.current;\n    };\n\n    func.flush = () => {\n      return !timerId.current ? result.current : trailingEdge(Date.now());\n    };\n\n    return func;\n  }, [\n    leading,\n    maxing,\n    wait,\n    maxWait,\n    trailing,\n    useRAF,\n    isClientSide,\n    debounceOnServer,\n  ]);\n\n  return debounced;\n}\n","import { HexColorPicker } from 'react-colorful';\r\nimport { CSSProperties, MouseEvent, useState } from 'react';\r\nimport { YooEditor, UI } from '@yoopta/editor';\r\nimport { PaletteIcon } from 'lucide-react';\r\nimport { useDebouncedCallback } from 'use-debounce';\r\n\r\nconst { Portal } = UI;\r\n\r\nconst COLOR_PRESETS = {\r\n  text: [\r\n    { name: 'Default', value: 'black' },\r\n    { name: 'Gray', value: '#787774' },\r\n    { name: 'Brown', value: '#976D57' },\r\n    { name: 'Orange', value: '#CC772F' },\r\n    { name: 'Yellow', value: '#C29243' },\r\n    { name: 'Green', value: '#548064' },\r\n    { name: 'Blue', value: '#477DA5' },\r\n    { name: 'Purple', value: '#A48BBE' },\r\n    { name: 'Pink', value: '#B35588' },\r\n    { name: 'Red', value: '#C4554D' },\r\n  ],\r\n  background: [\r\n    { name: 'Default', value: 'unset' },\r\n    { name: 'Gray', value: '#F1F1EF' },\r\n    { name: 'Brown', value: '#F3EEEE' },\r\n    { name: 'Orange', value: '#F8ECDF' },\r\n    { name: 'Yellow', value: '#FAF3DD' },\r\n    { name: 'Green', value: '#EEF3ED' },\r\n    { name: 'Blue', value: '#E9F3F7' },\r\n    { name: 'Purple', value: '#F6F3F8' },\r\n    { name: 'Pink', value: '#F9F2F5' },\r\n    { name: 'Red', value: '#FAECEC' },\r\n  ],\r\n};\r\n\r\ntype Props = {\r\n  editor: YooEditor;\r\n  highlightColors: CSSProperties;\r\n  onClose: () => void;\r\n  refs: { setFloating: (el: any) => void };\r\n  floatingStyles: React.CSSProperties;\r\n};\r\n\r\nconst COLOR_PICKER_STYLES = {\r\n  width: '100%',\r\n  height: 170,\r\n};\r\n\r\nconst HighlightColor = ({ editor, refs, floatingStyles, highlightColors = {} }: Props) => {\r\n  const [tab, setTab] = useState<'text' | 'background'>('text');\r\n  const [showColorPicker, setShowColorPicker] = useState(true);\r\n  const [localColor, setLocalColor] = useState<string | null>(null);\r\n\r\n  const debouncedUpdateColor = useDebouncedCallback((type: 'color' | 'backgroundColor', color: string) => {\r\n    const value = editor.formats.highlight.getValue();\r\n    if (value?.[type] === color) {\r\n      editor.formats.highlight.update({ ...highlightColors, [type]: undefined });\r\n    } else {\r\n      editor.formats.highlight.update({ ...highlightColors, [type]: color });\r\n    }\r\n\r\n    setLocalColor(null);\r\n  }, 500);\r\n\r\n  const handleColorChange = (type: 'color' | 'backgroundColor', color: string, shouldDebounce?: boolean) => {\r\n    if (shouldDebounce) {\r\n      setLocalColor(color);\r\n      debouncedUpdateColor(type, color);\r\n    } else {\r\n      const value = editor.formats.highlight.getValue();\r\n      if (value?.[type] === color) {\r\n        editor.formats.highlight.update({ ...highlightColors, [type]: undefined });\r\n      } else {\r\n        editor.formats.highlight.update({ ...highlightColors, [type]: color });\r\n      }\r\n    }\r\n  };\r\n\r\n  const getItemStyles = (type: 'color' | 'backgroundColor', color: string) => {\r\n    const currentColor = localColor || highlightColors?.[type];\r\n    const isActive = currentColor === color;\r\n    return {\r\n      backgroundColor: color,\r\n      border: isActive ? '2px solid #3b82f6' : '1px solid #e3e3e3',\r\n      position: 'relative' as const,\r\n    };\r\n  };\r\n\r\n  return (\r\n    <Portal id=\"yoo-highlight-color-portal\">\r\n      <div\r\n        style={floatingStyles}\r\n        ref={refs.setFloating}\r\n        onClick={(e: MouseEvent) => e.stopPropagation()}\r\n        className=\"yoo-toolbar-z-50\"\r\n      >\r\n        <div className=\"yoo-toolbar-bg-[#FFFFFF] yoo-toolbar-p-2 yoo-toolbar-rounded-md yoo-toolbar-shadow-md yoo-toolbar-border yoo-toolbar-border-solid yoo-toolbar-border-[#e5e7eb]\">\r\n          {/* Tabs */}\r\n          <div className=\"yoo-toolbar-flex yoo-toolbar-space-x-2 yoo-toolbar-mb-3\">\r\n            <button\r\n              className={`yoo-toolbar-px-3 yoo-toolbar-py-1 yoo-toolbar-text-sm yoo-toolbar-rounded ${\r\n                tab === 'text'\r\n                  ? 'yoo-toolbar-bg-blue-50 yoo-toolbar-text-blue-600'\r\n                  : 'yoo-toolbar-text-gray-600 hover:yoo-toolbar-bg-gray-50'\r\n              }`}\r\n              onClick={() => setTab('text')}\r\n            >\r\n              Text\r\n            </button>\r\n            <button\r\n              className={`yoo-toolbar-px-3 yoo-toolbar-py-1 yoo-toolbar-text-sm yoo-toolbar-rounded ${\r\n                tab === 'background'\r\n                  ? 'yoo-toolbar-bg-blue-50 yoo-toolbar-text-blue-600'\r\n                  : 'yoo-toolbar-text-gray-600 hover:yoo-toolbar-bg-gray-50'\r\n              }`}\r\n              onClick={() => setTab('background')}\r\n            >\r\n              Background\r\n            </button>\r\n          </div>\r\n\r\n          {/* Presets Grid */}\r\n          <div className=\"yoo-toolbar-grid yoo-toolbar-justify-items-center yoo-toolbar-grid-cols-5 yoo-toolbar-gap-1 yoo-toolbar-mb-3\">\r\n            {COLOR_PRESETS[tab].map(({ name, value }) => (\r\n              <button\r\n                key={name}\r\n                title={name}\r\n                type=\"button\"\r\n                className=\"yoo-toolbar-w-6 yoo-toolbar-h-6 yoo-toolbar-rounded yoo-toolbar-transition-all hover:yoo-toolbar-scale-110\"\r\n                style={getItemStyles(tab === 'text' ? 'color' : 'backgroundColor', value)}\r\n                onClick={() => handleColorChange(tab === 'text' ? 'color' : 'backgroundColor', value)}\r\n              />\r\n            ))}\r\n          </div>\r\n\r\n          {/* Custom Color Section */}\r\n          <div className=\"yoo-toolbar-border-t yoo-toolbar-pt-2\">\r\n            <button\r\n              className=\"yoo-toolbar-text-sm yoo-toolbar-text-gray-600 hover:yoo-toolbar-text-gray-900 yoo-toolbar-flex yoo-toolbar-items-center\"\r\n              onClick={() => setShowColorPicker(!showColorPicker)}\r\n            >\r\n              Color Picker\r\n              <PaletteIcon className=\"yoo-toolbar-w-4 yoo-toolbar-h-4 yoo-toolbar-ml-1\" />\r\n            </button>\r\n\r\n            {showColorPicker && (\r\n              <div className=\"yoo-toolbar-mt-2\">\r\n                <HexColorPicker\r\n                  color={localColor || highlightColors[tab === 'text' ? 'color' : 'backgroundColor'] || '#000000'}\r\n                  onChange={(color) => handleColorChange(tab === 'text' ? 'color' : 'backgroundColor', color, true)}\r\n                  style={COLOR_PICKER_STYLES}\r\n                />\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Portal>\r\n  );\r\n};\r\n\r\nexport { HighlightColor };\r\n","/*!\n * is-plain-object <https://github.com/jonschlinkert/is-plain-object>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\nfunction isObject(o) {\n  return Object.prototype.toString.call(o) === '[object Object]';\n}\n\nfunction isPlainObject(o) {\n  var ctor,prot;\n\n  if (isObject(o) === false) return false;\n\n  // If has modified constructor\n  ctor = o.constructor;\n  if (ctor === undefined) return true;\n\n  // If has modified prototype\n  prot = ctor.prototype;\n  if (isObject(prot) === false) return false;\n\n  // If constructor does not have an Object-specific method\n  if (prot.hasOwnProperty('isPrototypeOf') === false) {\n    return false;\n  }\n\n  // Most likely a plain Object\n  return true;\n}\n\nexport { isPlainObject };\n","// Should be no imports here!\n\n/**\n * The sentinel value returned by producers to replace the draft with undefined.\n */\nexport const NOTHING: unique symbol = Symbol.for(\"immer-nothing\")\n\n/**\n * To let Immer treat your class instances as plain immutable objects\n * (albeit with a custom prototype), you must define either an instance property\n * or a static property on each of your custom classes.\n *\n * Otherwise, your class instance will never be drafted, which means it won't be\n * safe to mutate in a produce callback.\n */\nexport const DRAFTABLE: unique symbol = Symbol.for(\"immer-draftable\")\n\nexport const DRAFT_STATE: unique symbol = Symbol.for(\"immer-state\")\n","export const errors =\n\tprocess.env.NODE_ENV !== \"production\"\n\t\t? [\n\t\t\t\t// All error codes, starting by 0:\n\t\t\t\tfunction(plugin: string) {\n\t\t\t\t\treturn `The plugin for '${plugin}' has not been loaded into Immer. To enable the plugin, import and call \\`enable${plugin}()\\` when initializing your application.`\n\t\t\t\t},\n\t\t\t\tfunction(thing: string) {\n\t\t\t\t\treturn `produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '${thing}'`\n\t\t\t\t},\n\t\t\t\t\"This object has been frozen and should not be mutated\",\n\t\t\t\tfunction(data: any) {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t\"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? \" +\n\t\t\t\t\t\tdata\n\t\t\t\t\t)\n\t\t\t\t},\n\t\t\t\t\"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.\",\n\t\t\t\t\"Immer forbids circular references\",\n\t\t\t\t\"The first or second argument to `produce` must be a function\",\n\t\t\t\t\"The third argument to `produce` must be a function or undefined\",\n\t\t\t\t\"First argument to `createDraft` must be a plain object, an array, or an immerable object\",\n\t\t\t\t\"First argument to `finishDraft` must be a draft returned by `createDraft`\",\n\t\t\t\tfunction(thing: string) {\n\t\t\t\t\treturn `'current' expects a draft, got: ${thing}`\n\t\t\t\t},\n\t\t\t\t\"Object.defineProperty() cannot be used on an Immer draft\",\n\t\t\t\t\"Object.setPrototypeOf() cannot be used on an Immer draft\",\n\t\t\t\t\"Immer only supports deleting array indices\",\n\t\t\t\t\"Immer only supports setting array indices and the 'length' property\",\n\t\t\t\tfunction(thing: string) {\n\t\t\t\t\treturn `'original' expects a draft, got: ${thing}`\n\t\t\t\t}\n\t\t\t\t// Note: if more errors are added, the errorOffset in Patches.ts should be increased\n\t\t\t\t// See Patches.ts for additional errors\n\t\t  ]\n\t\t: []\n\nexport function die(error: number, ...args: any[]): never {\n\tif (process.env.NODE_ENV !== \"production\") {\n\t\tconst e = errors[error]\n\t\tconst msg = typeof e === \"function\" ? e.apply(null, args as any) : e\n\t\tthrow new Error(`[Immer] ${msg}`)\n\t}\n\tthrow new Error(\n\t\t`[Immer] minified error nr: ${error}. Full error at: https://bit.ly/3cXEKWf`\n\t)\n}\n","import {\n\tDRAFT_STATE,\n\tDRAFTABLE,\n\tObjectish,\n\tDrafted,\n\tAnyObject,\n\tAnyMap,\n\tAnySet,\n\tImmerState,\n\tArchType,\n\tdie\n} from \"../internal\"\n\nexport const getPrototypeOf = Object.getPrototypeOf\n\n/** Returns true if the given value is an Immer draft */\n/*#__PURE__*/\nexport function isDraft(value: any): boolean {\n\treturn !!value && !!value[DRAFT_STATE]\n}\n\n/** Returns true if the given value can be drafted by Immer */\n/*#__PURE__*/\nexport function isDraftable(value: any): boolean {\n\tif (!value) return false\n\treturn (\n\t\tisPlainObject(value) ||\n\t\tArray.isArray(value) ||\n\t\t!!value[DRAFTABLE] ||\n\t\t!!value.constructor?.[DRAFTABLE] ||\n\t\tisMap(value) ||\n\t\tisSet(value)\n\t)\n}\n\nconst objectCtorString = Object.prototype.constructor.toString()\n/*#__PURE__*/\nexport function isPlainObject(value: any): boolean {\n\tif (!value || typeof value !== \"object\") return false\n\tconst proto = getPrototypeOf(value)\n\tif (proto === null) {\n\t\treturn true\n\t}\n\tconst Ctor =\n\t\tObject.hasOwnProperty.call(proto, \"constructor\") && proto.constructor\n\n\tif (Ctor === Object) return true\n\n\treturn (\n\t\ttypeof Ctor == \"function\" &&\n\t\tFunction.toString.call(Ctor) === objectCtorString\n\t)\n}\n\n/** Get the underlying object that is represented by the given draft */\n/*#__PURE__*/\nexport function original<T>(value: T): T | undefined\nexport function original(value: Drafted<any>): any {\n\tif (!isDraft(value)) die(15, value)\n\treturn value[DRAFT_STATE].base_\n}\n\n/**\n * Each iterates a map, set or array.\n * Or, if any other kind of of object all it's own properties.\n * Regardless whether they are enumerable or symbols\n */\nexport function each<T extends Objectish>(\n\tobj: T,\n\titer: (key: string | number, value: any, source: T) => void\n): void\nexport function each(obj: any, iter: any) {\n\tif (getArchtype(obj) === ArchType.Object) {\n\t\tReflect.ownKeys(obj).forEach(key => {\n\t\t\titer(key, obj[key], obj)\n\t\t})\n\t} else {\n\t\tobj.forEach((entry: any, index: any) => iter(index, entry, obj))\n\t}\n}\n\n/*#__PURE__*/\nexport function getArchtype(thing: any): ArchType {\n\tconst state: undefined | ImmerState = thing[DRAFT_STATE]\n\treturn state\n\t\t? state.type_\n\t\t: Array.isArray(thing)\n\t\t? ArchType.Array\n\t\t: isMap(thing)\n\t\t? ArchType.Map\n\t\t: isSet(thing)\n\t\t? ArchType.Set\n\t\t: ArchType.Object\n}\n\n/*#__PURE__*/\nexport function has(thing: any, prop: PropertyKey): boolean {\n\treturn getArchtype(thing) === ArchType.Map\n\t\t? thing.has(prop)\n\t\t: Object.prototype.hasOwnProperty.call(thing, prop)\n}\n\n/*#__PURE__*/\nexport function get(thing: AnyMap | AnyObject, prop: PropertyKey): any {\n\t// @ts-ignore\n\treturn getArchtype(thing) === ArchType.Map ? thing.get(prop) : thing[prop]\n}\n\n/*#__PURE__*/\nexport function set(thing: any, propOrOldValue: PropertyKey, value: any) {\n\tconst t = getArchtype(thing)\n\tif (t === ArchType.Map) thing.set(propOrOldValue, value)\n\telse if (t === ArchType.Set) {\n\t\tthing.add(value)\n\t} else thing[propOrOldValue] = value\n}\n\n/*#__PURE__*/\nexport function is(x: any, y: any): boolean {\n\t// From: https://github.com/facebook/fbjs/blob/c69904a511b900266935168223063dd8772dfc40/packages/fbjs/src/core/shallowEqual.js\n\tif (x === y) {\n\t\treturn x !== 0 || 1 / x === 1 / y\n\t} else {\n\t\treturn x !== x && y !== y\n\t}\n}\n\n/*#__PURE__*/\nexport function isMap(target: any): target is AnyMap {\n\treturn target instanceof Map\n}\n\n/*#__PURE__*/\nexport function isSet(target: any): target is AnySet {\n\treturn target instanceof Set\n}\n/*#__PURE__*/\nexport function latest(state: ImmerState): any {\n\treturn state.copy_ || state.base_\n}\n\n/*#__PURE__*/\nexport function shallowCopy(base: any, strict: boolean) {\n\tif (isMap(base)) {\n\t\treturn new Map(base)\n\t}\n\tif (isSet(base)) {\n\t\treturn new Set(base)\n\t}\n\tif (Array.isArray(base)) return Array.prototype.slice.call(base)\n\n\tif (!strict && isPlainObject(base)) {\n\t\tif (!getPrototypeOf(base)) {\n\t\t\tconst obj = Object.create(null)\n\t\t\treturn Object.assign(obj, base)\n\t\t}\n\t\treturn {...base}\n\t}\n\n\tconst descriptors = Object.getOwnPropertyDescriptors(base)\n\tdelete descriptors[DRAFT_STATE as any]\n\tlet keys = Reflect.ownKeys(descriptors)\n\tfor (let i = 0; i < keys.length; i++) {\n\t\tconst key: any = keys[i]\n\t\tconst desc = descriptors[key]\n\t\tif (desc.writable === false) {\n\t\t\tdesc.writable = true\n\t\t\tdesc.configurable = true\n\t\t}\n\t\t// like object.assign, we will read any _own_, get/set accessors. This helps in dealing\n\t\t// with libraries that trap values, like mobx or vue\n\t\t// unlike object.assign, non-enumerables will be copied as well\n\t\tif (desc.get || desc.set)\n\t\t\tdescriptors[key] = {\n\t\t\t\tconfigurable: true,\n\t\t\t\twritable: true, // could live with !!desc.set as well here...\n\t\t\t\tenumerable: desc.enumerable,\n\t\t\t\tvalue: base[key]\n\t\t\t}\n\t}\n\treturn Object.create(getPrototypeOf(base), descriptors)\n}\n\n/**\n * Freezes draftable objects. Returns the original object.\n * By default freezes shallowly, but if the second argument is `true` it will freeze recursively.\n *\n * @param obj\n * @param deep\n */\nexport function freeze<T>(obj: T, deep?: boolean): T\nexport function freeze<T>(obj: any, deep: boolean = false): T {\n\tif (isFrozen(obj) || isDraft(obj) || !isDraftable(obj)) return obj\n\tif (getArchtype(obj) > 1 /* Map or Set */) {\n\t\tobj.set = obj.add = obj.clear = obj.delete = dontMutateFrozenCollections as any\n\t}\n\tObject.freeze(obj)\n\tif (deep)\n\t\t// See #590, don't recurse into non-enumerable / Symbol properties when freezing\n\t\t// So use Object.entries (only string-like, enumerables) instead of each()\n\t\tObject.entries(obj).forEach(([key, value]) => freeze(value, true))\n\treturn obj\n}\n\nfunction dontMutateFrozenCollections() {\n\tdie(2)\n}\n\nexport function isFrozen(obj: any): boolean {\n\treturn Object.isFrozen(obj)\n}\n","import {\n\tImmerState,\n\tPatch,\n\tDrafted,\n\tImmerBaseState,\n\tAnyMap,\n\tAnySet,\n\tArchType,\n\tdie\n} from \"../internal\"\n\n/** Plugin utilities */\nconst plugins: {\n\tPatches?: {\n\t\tgeneratePatches_(\n\t\t\tstate: ImmerState,\n\t\t\tbasePath: PatchPath,\n\t\t\tpatches: Patch[],\n\t\t\tinversePatches: Patch[]\n\t\t): void\n\t\tgenerateReplacementPatches_(\n\t\t\tbase: any,\n\t\t\treplacement: any,\n\t\t\tpatches: Patch[],\n\t\t\tinversePatches: Patch[]\n\t\t): void\n\t\tapplyPatches_<T>(draft: T, patches: Patch[]): T\n\t}\n\tMapSet?: {\n\t\tproxyMap_<T extends AnyMap>(target: T, parent?: ImmerState): T\n\t\tproxySet_<T extends AnySet>(target: T, parent?: ImmerState): T\n\t}\n} = {}\n\ntype Plugins = typeof plugins\n\nexport function getPlugin<K extends keyof Plugins>(\n\tpluginKey: K\n): Exclude<Plugins[K], undefined> {\n\tconst plugin = plugins[pluginKey]\n\tif (!plugin) {\n\t\tdie(0, pluginKey)\n\t}\n\t// @ts-ignore\n\treturn plugin\n}\n\nexport function loadPlugin<K extends keyof Plugins>(\n\tpluginKey: K,\n\timplementation: Plugins[K]\n): void {\n\tif (!plugins[pluginKey]) plugins[pluginKey] = implementation\n}\n/** Map / Set plugin */\n\nexport interface MapState extends ImmerBaseState {\n\ttype_: ArchType.Map\n\tcopy_: AnyMap | undefined\n\tassigned_: Map<any, boolean> | undefined\n\tbase_: AnyMap\n\trevoked_: boolean\n\tdraft_: Drafted<AnyMap, MapState>\n}\n\nexport interface SetState extends ImmerBaseState {\n\ttype_: ArchType.Set\n\tcopy_: AnySet | undefined\n\tbase_: AnySet\n\tdrafts_: Map<any, Drafted> // maps the original value to the draft value in the new set\n\trevoked_: boolean\n\tdraft_: Drafted<AnySet, SetState>\n}\n\n/** Patches plugin */\n\nexport type PatchPath = (string | number)[]\n","import {\n\tPatch,\n\tPatchListener,\n\tDrafted,\n\tImmer,\n\tDRAFT_STATE,\n\tImmerState,\n\tArchType,\n\tgetPlugin\n} from \"../internal\"\n\n/** Each scope represents a `produce` call. */\n\nexport interface ImmerScope {\n\tpatches_?: Patch[]\n\tinversePatches_?: Patch[]\n\tcanAutoFreeze_: boolean\n\tdrafts_: any[]\n\tparent_?: ImmerScope\n\tpatchListener_?: PatchListener\n\timmer_: Immer\n\tunfinalizedDrafts_: number\n}\n\nlet currentScope: ImmerScope | undefined\n\nexport function getCurrentScope() {\n\treturn currentScope!\n}\n\nfunction createScope(\n\tparent_: ImmerScope | undefined,\n\timmer_: Immer\n): ImmerScope {\n\treturn {\n\t\tdrafts_: [],\n\t\tparent_,\n\t\timmer_,\n\t\t// Whenever the modified draft contains a draft from another scope, we\n\t\t// need to prevent auto-freezing so the unowned draft can be finalized.\n\t\tcanAutoFreeze_: true,\n\t\tunfinalizedDrafts_: 0\n\t}\n}\n\nexport function usePatchesInScope(\n\tscope: ImmerScope,\n\tpatchListener?: PatchListener\n) {\n\tif (patchListener) {\n\t\tgetPlugin(\"Patches\") // assert we have the plugin\n\t\tscope.patches_ = []\n\t\tscope.inversePatches_ = []\n\t\tscope.patchListener_ = patchListener\n\t}\n}\n\nexport function revokeScope(scope: ImmerScope) {\n\tleaveScope(scope)\n\tscope.drafts_.forEach(revokeDraft)\n\t// @ts-ignore\n\tscope.drafts_ = null\n}\n\nexport function leaveScope(scope: ImmerScope) {\n\tif (scope === currentScope) {\n\t\tcurrentScope = scope.parent_\n\t}\n}\n\nexport function enterScope(immer: Immer) {\n\treturn (currentScope = createScope(currentScope, immer))\n}\n\nfunction revokeDraft(draft: Drafted) {\n\tconst state: ImmerState = draft[DRAFT_STATE]\n\tif (state.type_ === ArchType.Object || state.type_ === ArchType.Array)\n\t\tstate.revoke_()\n\telse state.revoked_ = true\n}\n","import {\n\tImmerScope,\n\tDRAFT_STATE,\n\tisDraftable,\n\tNOTHING,\n\tPatchPath,\n\teach,\n\thas,\n\tfreeze,\n\tImmerState,\n\tisDraft,\n\tSetState,\n\tset,\n\tArchType,\n\tgetPlugin,\n\tdie,\n\trevokeScope,\n\tisFrozen\n} from \"../internal\"\n\nexport function processResult(result: any, scope: ImmerScope) {\n\tscope.unfinalizedDrafts_ = scope.drafts_.length\n\tconst baseDraft = scope.drafts_![0]\n\tconst isReplaced = result !== undefined && result !== baseDraft\n\tif (isReplaced) {\n\t\tif (baseDraft[DRAFT_STATE].modified_) {\n\t\t\trevokeScope(scope)\n\t\t\tdie(4)\n\t\t}\n\t\tif (isDraftable(result)) {\n\t\t\t// Finalize the result in case it contains (or is) a subset of the draft.\n\t\t\tresult = finalize(scope, result)\n\t\t\tif (!scope.parent_) maybeFreeze(scope, result)\n\t\t}\n\t\tif (scope.patches_) {\n\t\t\tgetPlugin(\"Patches\").generateReplacementPatches_(\n\t\t\t\tbaseDraft[DRAFT_STATE].base_,\n\t\t\t\tresult,\n\t\t\t\tscope.patches_,\n\t\t\t\tscope.inversePatches_!\n\t\t\t)\n\t\t}\n\t} else {\n\t\t// Finalize the base draft.\n\t\tresult = finalize(scope, baseDraft, [])\n\t}\n\trevokeScope(scope)\n\tif (scope.patches_) {\n\t\tscope.patchListener_!(scope.patches_, scope.inversePatches_!)\n\t}\n\treturn result !== NOTHING ? result : undefined\n}\n\nfunction finalize(rootScope: ImmerScope, value: any, path?: PatchPath) {\n\t// Don't recurse in tho recursive data structures\n\tif (isFrozen(value)) return value\n\n\tconst state: ImmerState = value[DRAFT_STATE]\n\t// A plain object, might need freezing, might contain drafts\n\tif (!state) {\n\t\teach(value, (key, childValue) =>\n\t\t\tfinalizeProperty(rootScope, state, value, key, childValue, path)\n\t\t)\n\t\treturn value\n\t}\n\t// Never finalize drafts owned by another scope.\n\tif (state.scope_ !== rootScope) return value\n\t// Unmodified draft, return the (frozen) original\n\tif (!state.modified_) {\n\t\tmaybeFreeze(rootScope, state.base_, true)\n\t\treturn state.base_\n\t}\n\t// Not finalized yet, let's do that now\n\tif (!state.finalized_) {\n\t\tstate.finalized_ = true\n\t\tstate.scope_.unfinalizedDrafts_--\n\t\tconst result = state.copy_\n\t\t// Finalize all children of the copy\n\t\t// For sets we clone before iterating, otherwise we can get in endless loop due to modifying during iteration, see #628\n\t\t// To preserve insertion order in all cases we then clear the set\n\t\t// And we let finalizeProperty know it needs to re-add non-draft children back to the target\n\t\tlet resultEach = result\n\t\tlet isSet = false\n\t\tif (state.type_ === ArchType.Set) {\n\t\t\tresultEach = new Set(result)\n\t\t\tresult.clear()\n\t\t\tisSet = true\n\t\t}\n\t\teach(resultEach, (key, childValue) =>\n\t\t\tfinalizeProperty(rootScope, state, result, key, childValue, path, isSet)\n\t\t)\n\t\t// everything inside is frozen, we can freeze here\n\t\tmaybeFreeze(rootScope, result, false)\n\t\t// first time finalizing, let's create those patches\n\t\tif (path && rootScope.patches_) {\n\t\t\tgetPlugin(\"Patches\").generatePatches_(\n\t\t\t\tstate,\n\t\t\t\tpath,\n\t\t\t\trootScope.patches_,\n\t\t\t\trootScope.inversePatches_!\n\t\t\t)\n\t\t}\n\t}\n\treturn state.copy_\n}\n\nfunction finalizeProperty(\n\trootScope: ImmerScope,\n\tparentState: undefined | ImmerState,\n\ttargetObject: any,\n\tprop: string | number,\n\tchildValue: any,\n\trootPath?: PatchPath,\n\ttargetIsSet?: boolean\n) {\n\tif (process.env.NODE_ENV !== \"production\" && childValue === targetObject)\n\t\tdie(5)\n\tif (isDraft(childValue)) {\n\t\tconst path =\n\t\t\trootPath &&\n\t\t\tparentState &&\n\t\t\tparentState!.type_ !== ArchType.Set && // Set objects are atomic since they have no keys.\n\t\t\t!has((parentState as Exclude<ImmerState, SetState>).assigned_!, prop) // Skip deep patches for assigned keys.\n\t\t\t\t? rootPath!.concat(prop)\n\t\t\t\t: undefined\n\t\t// Drafts owned by `scope` are finalized here.\n\t\tconst res = finalize(rootScope, childValue, path)\n\t\tset(targetObject, prop, res)\n\t\t// Drafts from another scope must prevented to be frozen\n\t\t// if we got a draft back from finalize, we're in a nested produce and shouldn't freeze\n\t\tif (isDraft(res)) {\n\t\t\trootScope.canAutoFreeze_ = false\n\t\t} else return\n\t} else if (targetIsSet) {\n\t\ttargetObject.add(childValue)\n\t}\n\t// Search new objects for unfinalized drafts. Frozen objects should never contain drafts.\n\tif (isDraftable(childValue) && !isFrozen(childValue)) {\n\t\tif (!rootScope.immer_.autoFreeze_ && rootScope.unfinalizedDrafts_ < 1) {\n\t\t\t// optimization: if an object is not a draft, and we don't have to\n\t\t\t// deepfreeze everything, and we are sure that no drafts are left in the remaining object\n\t\t\t// cause we saw and finalized all drafts already; we can stop visiting the rest of the tree.\n\t\t\t// This benefits especially adding large data tree's without further processing.\n\t\t\t// See add-data.js perf test\n\t\t\treturn\n\t\t}\n\t\tfinalize(rootScope, childValue)\n\t\t// Immer deep freezes plain objects, so if there is no parent state, we freeze as well\n\t\t// Per #590, we never freeze symbolic properties. Just to make sure don't accidentally interfere\n\t\t// with other frameworks.\n\t\tif (\n\t\t\t(!parentState || !parentState.scope_.parent_) &&\n\t\t\ttypeof prop !== \"symbol\" &&\n\t\t\tObject.prototype.propertyIsEnumerable.call(targetObject, prop)\n\t\t)\n\t\t\tmaybeFreeze(rootScope, childValue)\n\t}\n}\n\nfunction maybeFreeze(scope: ImmerScope, value: any, deep = false) {\n\t// we never freeze for a non-root scope; as it would prevent pruning for drafts inside wrapping objects\n\tif (!scope.parent_ && scope.immer_.autoFreeze_ && scope.canAutoFreeze_) {\n\t\tfreeze(value, deep)\n\t}\n}\n","import {\n\teach,\n\thas,\n\tis,\n\tisDraftable,\n\tshallowCopy,\n\tlatest,\n\tImmerBaseState,\n\tImmerState,\n\tDrafted,\n\tAnyObject,\n\tAnyArray,\n\tObjectish,\n\tgetCurrentScope,\n\tgetPrototypeOf,\n\tDRAFT_STATE,\n\tdie,\n\tcreateProxy,\n\tArchType,\n\tImmerScope\n} from \"../internal\"\n\ninterface ProxyBaseState extends ImmerBaseState {\n\tassigned_: {\n\t\t[property: string]: boolean\n\t}\n\tparent_?: ImmerState\n\trevoke_(): void\n}\n\nexport interface ProxyObjectState extends ProxyBaseState {\n\ttype_: ArchType.Object\n\tbase_: any\n\tcopy_: any\n\tdraft_: Drafted<AnyObject, ProxyObjectState>\n}\n\nexport interface ProxyArrayState extends ProxyBaseState {\n\ttype_: ArchType.Array\n\tbase_: AnyArray\n\tcopy_: AnyArray | null\n\tdraft_: Drafted<AnyArray, ProxyArrayState>\n}\n\ntype ProxyState = ProxyObjectState | ProxyArrayState\n\n/**\n * Returns a new draft of the `base` object.\n *\n * The second argument is the parent draft-state (used internally).\n */\nexport function createProxyProxy<T extends Objectish>(\n\tbase: T,\n\tparent?: ImmerState\n): Drafted<T, ProxyState> {\n\tconst isArray = Array.isArray(base)\n\tconst state: ProxyState = {\n\t\ttype_: isArray ? ArchType.Array : (ArchType.Object as any),\n\t\t// Track which produce call this is associated with.\n\t\tscope_: parent ? parent.scope_ : getCurrentScope()!,\n\t\t// True for both shallow and deep changes.\n\t\tmodified_: false,\n\t\t// Used during finalization.\n\t\tfinalized_: false,\n\t\t// Track which properties have been assigned (true) or deleted (false).\n\t\tassigned_: {},\n\t\t// The parent draft state.\n\t\tparent_: parent,\n\t\t// The base state.\n\t\tbase_: base,\n\t\t// The base proxy.\n\t\tdraft_: null as any, // set below\n\t\t// The base copy with any updated values.\n\t\tcopy_: null,\n\t\t// Called by the `produce` function.\n\t\trevoke_: null as any,\n\t\tisManual_: false\n\t}\n\n\t// the traps must target something, a bit like the 'real' base.\n\t// but also, we need to be able to determine from the target what the relevant state is\n\t// (to avoid creating traps per instance to capture the state in closure,\n\t// and to avoid creating weird hidden properties as well)\n\t// So the trick is to use 'state' as the actual 'target'! (and make sure we intercept everything)\n\t// Note that in the case of an array, we put the state in an array to have better Reflect defaults ootb\n\tlet target: T = state as any\n\tlet traps: ProxyHandler<object | Array<any>> = objectTraps\n\tif (isArray) {\n\t\ttarget = [state] as any\n\t\ttraps = arrayTraps\n\t}\n\n\tconst {revoke, proxy} = Proxy.revocable(target, traps)\n\tstate.draft_ = proxy as any\n\tstate.revoke_ = revoke\n\treturn proxy as any\n}\n\n/**\n * Object drafts\n */\nexport const objectTraps: ProxyHandler<ProxyState> = {\n\tget(state, prop) {\n\t\tif (prop === DRAFT_STATE) return state\n\n\t\tconst source = latest(state)\n\t\tif (!has(source, prop)) {\n\t\t\t// non-existing or non-own property...\n\t\t\treturn readPropFromProto(state, source, prop)\n\t\t}\n\t\tconst value = source[prop]\n\t\tif (state.finalized_ || !isDraftable(value)) {\n\t\t\treturn value\n\t\t}\n\t\t// Check for existing draft in modified state.\n\t\t// Assigned values are never drafted. This catches any drafts we created, too.\n\t\tif (value === peek(state.base_, prop)) {\n\t\t\tprepareCopy(state)\n\t\t\treturn (state.copy_![prop as any] = createProxy(value, state))\n\t\t}\n\t\treturn value\n\t},\n\thas(state, prop) {\n\t\treturn prop in latest(state)\n\t},\n\townKeys(state) {\n\t\treturn Reflect.ownKeys(latest(state))\n\t},\n\tset(\n\t\tstate: ProxyObjectState,\n\t\tprop: string /* strictly not, but helps TS */,\n\t\tvalue\n\t) {\n\t\tconst desc = getDescriptorFromProto(latest(state), prop)\n\t\tif (desc?.set) {\n\t\t\t// special case: if this write is captured by a setter, we have\n\t\t\t// to trigger it with the correct context\n\t\t\tdesc.set.call(state.draft_, value)\n\t\t\treturn true\n\t\t}\n\t\tif (!state.modified_) {\n\t\t\t// the last check is because we need to be able to distinguish setting a non-existing to undefined (which is a change)\n\t\t\t// from setting an existing property with value undefined to undefined (which is not a change)\n\t\t\tconst current = peek(latest(state), prop)\n\t\t\t// special case, if we assigning the original value to a draft, we can ignore the assignment\n\t\t\tconst currentState: ProxyObjectState = current?.[DRAFT_STATE]\n\t\t\tif (currentState && currentState.base_ === value) {\n\t\t\t\tstate.copy_![prop] = value\n\t\t\t\tstate.assigned_[prop] = false\n\t\t\t\treturn true\n\t\t\t}\n\t\t\tif (is(value, current) && (value !== undefined || has(state.base_, prop)))\n\t\t\t\treturn true\n\t\t\tprepareCopy(state)\n\t\t\tmarkChanged(state)\n\t\t}\n\n\t\tif (\n\t\t\t(state.copy_![prop] === value &&\n\t\t\t\t// special case: handle new props with value 'undefined'\n\t\t\t\t(value !== undefined || prop in state.copy_)) ||\n\t\t\t// special case: NaN\n\t\t\t(Number.isNaN(value) && Number.isNaN(state.copy_![prop]))\n\t\t)\n\t\t\treturn true\n\n\t\t// @ts-ignore\n\t\tstate.copy_![prop] = value\n\t\tstate.assigned_[prop] = true\n\t\treturn true\n\t},\n\tdeleteProperty(state, prop: string) {\n\t\t// The `undefined` check is a fast path for pre-existing keys.\n\t\tif (peek(state.base_, prop) !== undefined || prop in state.base_) {\n\t\t\tstate.assigned_[prop] = false\n\t\t\tprepareCopy(state)\n\t\t\tmarkChanged(state)\n\t\t} else {\n\t\t\t// if an originally not assigned property was deleted\n\t\t\tdelete state.assigned_[prop]\n\t\t}\n\t\tif (state.copy_) {\n\t\t\tdelete state.copy_[prop]\n\t\t}\n\t\treturn true\n\t},\n\t// Note: We never coerce `desc.value` into an Immer draft, because we can't make\n\t// the same guarantee in ES5 mode.\n\tgetOwnPropertyDescriptor(state, prop) {\n\t\tconst owner = latest(state)\n\t\tconst desc = Reflect.getOwnPropertyDescriptor(owner, prop)\n\t\tif (!desc) return desc\n\t\treturn {\n\t\t\twritable: true,\n\t\t\tconfigurable: state.type_ !== ArchType.Array || prop !== \"length\",\n\t\t\tenumerable: desc.enumerable,\n\t\t\tvalue: owner[prop]\n\t\t}\n\t},\n\tdefineProperty() {\n\t\tdie(11)\n\t},\n\tgetPrototypeOf(state) {\n\t\treturn getPrototypeOf(state.base_)\n\t},\n\tsetPrototypeOf() {\n\t\tdie(12)\n\t}\n}\n\n/**\n * Array drafts\n */\n\nconst arrayTraps: ProxyHandler<[ProxyArrayState]> = {}\neach(objectTraps, (key, fn) => {\n\t// @ts-ignore\n\tarrayTraps[key] = function() {\n\t\targuments[0] = arguments[0][0]\n\t\treturn fn.apply(this, arguments)\n\t}\n})\narrayTraps.deleteProperty = function(state, prop) {\n\tif (process.env.NODE_ENV !== \"production\" && isNaN(parseInt(prop as any)))\n\t\tdie(13)\n\t// @ts-ignore\n\treturn arrayTraps.set!.call(this, state, prop, undefined)\n}\narrayTraps.set = function(state, prop, value) {\n\tif (\n\t\tprocess.env.NODE_ENV !== \"production\" &&\n\t\tprop !== \"length\" &&\n\t\tisNaN(parseInt(prop as any))\n\t)\n\t\tdie(14)\n\treturn objectTraps.set!.call(this, state[0], prop, value, state[0])\n}\n\n// Access a property without creating an Immer draft.\nfunction peek(draft: Drafted, prop: PropertyKey) {\n\tconst state = draft[DRAFT_STATE]\n\tconst source = state ? latest(state) : draft\n\treturn source[prop]\n}\n\nfunction readPropFromProto(state: ImmerState, source: any, prop: PropertyKey) {\n\tconst desc = getDescriptorFromProto(source, prop)\n\treturn desc\n\t\t? `value` in desc\n\t\t\t? desc.value\n\t\t\t: // This is a very special case, if the prop is a getter defined by the\n\t\t\t  // prototype, we should invoke it with the draft as context!\n\t\t\t  desc.get?.call(state.draft_)\n\t\t: undefined\n}\n\nfunction getDescriptorFromProto(\n\tsource: any,\n\tprop: PropertyKey\n): PropertyDescriptor | undefined {\n\t// 'in' checks proto!\n\tif (!(prop in source)) return undefined\n\tlet proto = getPrototypeOf(source)\n\twhile (proto) {\n\t\tconst desc = Object.getOwnPropertyDescriptor(proto, prop)\n\t\tif (desc) return desc\n\t\tproto = getPrototypeOf(proto)\n\t}\n\treturn undefined\n}\n\nexport function markChanged(state: ImmerState) {\n\tif (!state.modified_) {\n\t\tstate.modified_ = true\n\t\tif (state.parent_) {\n\t\t\tmarkChanged(state.parent_)\n\t\t}\n\t}\n}\n\nexport function prepareCopy(state: {\n\tbase_: any\n\tcopy_: any\n\tscope_: ImmerScope\n}) {\n\tif (!state.copy_) {\n\t\tstate.copy_ = shallowCopy(\n\t\t\tstate.base_,\n\t\t\tstate.scope_.immer_.useStrictShallowCopy_\n\t\t)\n\t}\n}\n","import {\n\tIProduceWithPatches,\n\tIProduce,\n\tImmerState,\n\tDrafted,\n\tisDraftable,\n\tprocessResult,\n\tPatch,\n\tObjectish,\n\tDRAFT_STATE,\n\tDraft,\n\tPatchListener,\n\tisDraft,\n\tisMap,\n\tisSet,\n\tcreateProxyProxy,\n\tgetPlugin,\n\tdie,\n\tenterScope,\n\trevokeScope,\n\tleaveScope,\n\tusePatchesInScope,\n\tgetCurrentScope,\n\tNOTHING,\n\tfreeze,\n\tcurrent\n} from \"../internal\"\n\ninterface ProducersFns {\n\tproduce: IProduce\n\tproduceWithPatches: IProduceWithPatches\n}\n\nexport class Immer implements ProducersFns {\n\tautoFreeze_: boolean = true\n\tuseStrictShallowCopy_: boolean = false\n\n\tconstructor(config?: {autoFreeze?: boolean; useStrictShallowCopy?: boolean}) {\n\t\tif (typeof config?.autoFreeze === \"boolean\")\n\t\t\tthis.setAutoFreeze(config!.autoFreeze)\n\t\tif (typeof config?.useStrictShallowCopy === \"boolean\")\n\t\t\tthis.setUseStrictShallowCopy(config!.useStrictShallowCopy)\n\t}\n\n\t/**\n\t * The `produce` function takes a value and a \"recipe function\" (whose\n\t * return value often depends on the base state). The recipe function is\n\t * free to mutate its first argument however it wants. All mutations are\n\t * only ever applied to a __copy__ of the base state.\n\t *\n\t * Pass only a function to create a \"curried producer\" which relieves you\n\t * from passing the recipe function every time.\n\t *\n\t * Only plain objects and arrays are made mutable. All other objects are\n\t * considered uncopyable.\n\t *\n\t * Note: This function is __bound__ to its `Immer` instance.\n\t *\n\t * @param {any} base - the initial state\n\t * @param {Function} recipe - function that receives a proxy of the base state as first argument and which can be freely modified\n\t * @param {Function} patchListener - optional function that will be called with all the patches produced here\n\t * @returns {any} a new state, or the initial state if nothing was modified\n\t */\n\tproduce: IProduce = (base: any, recipe?: any, patchListener?: any) => {\n\t\t// curried invocation\n\t\tif (typeof base === \"function\" && typeof recipe !== \"function\") {\n\t\t\tconst defaultBase = recipe\n\t\t\trecipe = base\n\n\t\t\tconst self = this\n\t\t\treturn function curriedProduce(\n\t\t\t\tthis: any,\n\t\t\t\tbase = defaultBase,\n\t\t\t\t...args: any[]\n\t\t\t) {\n\t\t\t\treturn self.produce(base, (draft: Drafted) => recipe.call(this, draft, ...args)) // prettier-ignore\n\t\t\t}\n\t\t}\n\n\t\tif (typeof recipe !== \"function\") die(6)\n\t\tif (patchListener !== undefined && typeof patchListener !== \"function\")\n\t\t\tdie(7)\n\n\t\tlet result\n\n\t\t// Only plain objects, arrays, and \"immerable classes\" are drafted.\n\t\tif (isDraftable(base)) {\n\t\t\tconst scope = enterScope(this)\n\t\t\tconst proxy = createProxy(base, undefined)\n\t\t\tlet hasError = true\n\t\t\ttry {\n\t\t\t\tresult = recipe(proxy)\n\t\t\t\thasError = false\n\t\t\t} finally {\n\t\t\t\t// finally instead of catch + rethrow better preserves original stack\n\t\t\t\tif (hasError) revokeScope(scope)\n\t\t\t\telse leaveScope(scope)\n\t\t\t}\n\t\t\tusePatchesInScope(scope, patchListener)\n\t\t\treturn processResult(result, scope)\n\t\t} else if (!base || typeof base !== \"object\") {\n\t\t\tresult = recipe(base)\n\t\t\tif (result === undefined) result = base\n\t\t\tif (result === NOTHING) result = undefined\n\t\t\tif (this.autoFreeze_) freeze(result, true)\n\t\t\tif (patchListener) {\n\t\t\t\tconst p: Patch[] = []\n\t\t\t\tconst ip: Patch[] = []\n\t\t\t\tgetPlugin(\"Patches\").generateReplacementPatches_(base, result, p, ip)\n\t\t\t\tpatchListener(p, ip)\n\t\t\t}\n\t\t\treturn result\n\t\t} else die(1, base)\n\t}\n\n\tproduceWithPatches: IProduceWithPatches = (base: any, recipe?: any): any => {\n\t\t// curried invocation\n\t\tif (typeof base === \"function\") {\n\t\t\treturn (state: any, ...args: any[]) =>\n\t\t\t\tthis.produceWithPatches(state, (draft: any) => base(draft, ...args))\n\t\t}\n\n\t\tlet patches: Patch[], inversePatches: Patch[]\n\t\tconst result = this.produce(base, recipe, (p: Patch[], ip: Patch[]) => {\n\t\t\tpatches = p\n\t\t\tinversePatches = ip\n\t\t})\n\t\treturn [result, patches!, inversePatches!]\n\t}\n\n\tcreateDraft<T extends Objectish>(base: T): Draft<T> {\n\t\tif (!isDraftable(base)) die(8)\n\t\tif (isDraft(base)) base = current(base)\n\t\tconst scope = enterScope(this)\n\t\tconst proxy = createProxy(base, undefined)\n\t\tproxy[DRAFT_STATE].isManual_ = true\n\t\tleaveScope(scope)\n\t\treturn proxy as any\n\t}\n\n\tfinishDraft<D extends Draft<any>>(\n\t\tdraft: D,\n\t\tpatchListener?: PatchListener\n\t): D extends Draft<infer T> ? T : never {\n\t\tconst state: ImmerState = draft && (draft as any)[DRAFT_STATE]\n\t\tif (!state || !state.isManual_) die(9)\n\t\tconst {scope_: scope} = state\n\t\tusePatchesInScope(scope, patchListener)\n\t\treturn processResult(undefined, scope)\n\t}\n\n\t/**\n\t * Pass true to automatically freeze all copies created by Immer.\n\t *\n\t * By default, auto-freezing is enabled.\n\t */\n\tsetAutoFreeze(value: boolean) {\n\t\tthis.autoFreeze_ = value\n\t}\n\n\t/**\n\t * Pass true to enable strict shallow copy.\n\t *\n\t * By default, immer does not copy the object descriptors such as getter, setter and non-enumrable properties.\n\t */\n\tsetUseStrictShallowCopy(value: boolean) {\n\t\tthis.useStrictShallowCopy_ = value\n\t}\n\n\tapplyPatches<T extends Objectish>(base: T, patches: Patch[]): T {\n\t\t// If a patch replaces the entire state, take that replacement as base\n\t\t// before applying patches\n\t\tlet i: number\n\t\tfor (i = patches.length - 1; i >= 0; i--) {\n\t\t\tconst patch = patches[i]\n\t\t\tif (patch.path.length === 0 && patch.op === \"replace\") {\n\t\t\t\tbase = patch.value\n\t\t\t\tbreak\n\t\t\t}\n\t\t}\n\t\t// If there was a patch that replaced the entire state, start from the\n\t\t// patch after that.\n\t\tif (i > -1) {\n\t\t\tpatches = patches.slice(i + 1)\n\t\t}\n\n\t\tconst applyPatchesImpl = getPlugin(\"Patches\").applyPatches_\n\t\tif (isDraft(base)) {\n\t\t\t// N.B: never hits if some patch a replacement, patches are never drafts\n\t\t\treturn applyPatchesImpl(base, patches)\n\t\t}\n\t\t// Otherwise, produce a copy of the base state.\n\t\treturn this.produce(base, (draft: Drafted) =>\n\t\t\tapplyPatchesImpl(draft, patches)\n\t\t)\n\t}\n}\n\nexport function createProxy<T extends Objectish>(\n\tvalue: T,\n\tparent?: ImmerState\n): Drafted<T, ImmerState> {\n\t// precondition: createProxy should be guarded by isDraftable, so we know we can safely draft\n\tconst draft: Drafted = isMap(value)\n\t\t? getPlugin(\"MapSet\").proxyMap_(value, parent)\n\t\t: isSet(value)\n\t\t? getPlugin(\"MapSet\").proxySet_(value, parent)\n\t\t: createProxyProxy(value, parent)\n\n\tconst scope = parent ? parent.scope_ : getCurrentScope()\n\tscope.drafts_.push(draft)\n\treturn draft\n}\n","import {\n\tdie,\n\tisDraft,\n\tshallowCopy,\n\teach,\n\tDRAFT_STATE,\n\tset,\n\tImmerState,\n\tisDraftable,\n\tisFrozen\n} from \"../internal\"\n\n/** Takes a snapshot of the current state of a draft and finalizes it (but without freezing). This is a great utility to print the current state during debugging (no Proxies in the way). The output of current can also be safely leaked outside the producer. */\nexport function current<T>(value: T): T\nexport function current(value: any): any {\n\tif (!isDraft(value)) die(10, value)\n\treturn currentImpl(value)\n}\n\nfunction currentImpl(value: any): any {\n\tif (!isDraftable(value) || isFrozen(value)) return value\n\tconst state: ImmerState | undefined = value[DRAFT_STATE]\n\tlet copy: any\n\tif (state) {\n\t\tif (!state.modified_) return state.base_\n\t\t// Optimization: avoid generating new drafts during copying\n\t\tstate.finalized_ = true\n\t\tcopy = shallowCopy(value, state.scope_.immer_.useStrictShallowCopy_)\n\t} else {\n\t\tcopy = shallowCopy(value, true)\n\t}\n\t// recurse\n\teach(copy, (key, childValue) => {\n\t\tset(copy, key, currentImpl(childValue))\n\t})\n\tif (state) {\n\t\tstate.finalized_ = false\n\t}\n\treturn copy\n}\n","import {\n\tIProduce,\n\tIProduceWithPatches,\n\tImmer,\n\tDraft,\n\tImmutable\n} from \"./internal\"\n\nexport {\n\tDraft,\n\tImmutable,\n\tPatch,\n\tPatchListener,\n\toriginal,\n\tcurrent,\n\tisDraft,\n\tisDraftable,\n\tNOTHING as nothing,\n\tDRAFTABLE as immerable,\n\tfreeze,\n\tObjectish\n} from \"./internal\"\n\nconst immer = new Immer()\n\n/**\n * The `produce` function takes a value and a \"recipe function\" (whose\n * return value often depends on the base state). The recipe function is\n * free to mutate its first argument however it wants. All mutations are\n * only ever applied to a __copy__ of the base state.\n *\n * Pass only a function to create a \"curried producer\" which relieves you\n * from passing the recipe function every time.\n *\n * Only plain objects and arrays are made mutable. All other objects are\n * considered uncopyable.\n *\n * Note: This function is __bound__ to its `Immer` instance.\n *\n * @param {any} base - the initial state\n * @param {Function} producer - function that receives a proxy of the base state as first argument and which can be freely modified\n * @param {Function} patchListener - optional function that will be called with all the patches produced here\n * @returns {any} a new state, or the initial state if nothing was modified\n */\nexport const produce: IProduce = immer.produce\n\n/**\n * Like `produce`, but `produceWithPatches` always returns a tuple\n * [nextState, patches, inversePatches] (instead of just the next state)\n */\nexport const produceWithPatches: IProduceWithPatches = immer.produceWithPatches.bind(\n\timmer\n)\n\n/**\n * Pass true to automatically freeze all copies created by Immer.\n *\n * Always freeze by default, even in production mode\n */\nexport const setAutoFreeze = immer.setAutoFreeze.bind(immer)\n\n/**\n * Pass true to enable strict shallow copy.\n *\n * By default, immer does not copy the object descriptors such as getter, setter and non-enumrable properties.\n */\nexport const setUseStrictShallowCopy = immer.setUseStrictShallowCopy.bind(immer)\n\n/**\n * Apply an array of Immer patches to the first argument.\n *\n * This function is a producer, which means copy-on-write is in effect.\n */\nexport const applyPatches = immer.applyPatches.bind(immer)\n\n/**\n * Create an Immer draft from the given base state, which may be a draft itself.\n * The draft can be modified until you finalize it with the `finishDraft` function.\n */\nexport const createDraft = immer.createDraft.bind(immer)\n\n/**\n * Finalize an Immer draft from a `createDraft` call, returning the base state\n * (if no changes were made) or a modified copy. The draft must *not* be\n * mutated afterwards.\n *\n * Pass a function as the 2nd argument to generate Immer patches based on the\n * changes that were made.\n */\nexport const finishDraft = immer.finishDraft.bind(immer)\n\n/**\n * This function is actually a no-op, but can be used to cast an immutable type\n * to an draft type and make TypeScript happy\n *\n * @param value\n */\nexport function castDraft<T>(value: T): Draft<T> {\n\treturn value as any\n}\n\n/**\n * This function is actually a no-op, but can be used to cast a mutable type\n * to an immutable type and make TypeScript happy\n * @param value\n */\nexport function castImmutable<T>(value: T): Immutable<T> {\n\treturn value as any\n}\n\nexport {Immer}\n\nexport {enablePatches} from \"./plugins/patches\"\nexport {enableMapSet} from \"./plugins/mapset\"\n","import {\n  InsertNodeOperation,\n  MergeNodeOperation,\n  MoveNodeOperation,\n  Operation,\n  RemoveNodeOperation,\n  SplitNodeOperation,\n} from '..'\nimport { TextDirection } from '../types/types'\n\n/**\n * `Path` arrays are a list of indexes that describe a node's exact position in\n * a Slate node tree. Although they are usually relative to the root `Editor`\n * object, they can be relative to any `Node` object.\n */\n\nexport type Path = number[]\n\nexport interface PathAncestorsOptions {\n  reverse?: boolean\n}\n\nexport interface PathLevelsOptions {\n  reverse?: boolean\n}\n\nexport interface PathTransformOptions {\n  affinity?: TextDirection | null\n}\n\nexport interface PathInterface {\n  /**\n   * Get a list of ancestor paths for a given path.\n   *\n   * The paths are sorted from shallowest to deepest ancestor. However, if the\n   * `reverse: true` option is passed, they are reversed.\n   */\n  ancestors: (path: Path, options?: PathAncestorsOptions) => Path[]\n\n  /**\n   * Get the common ancestor path of two paths.\n   */\n  common: (path: Path, another: Path) => Path\n\n  /**\n   * Compare a path to another, returning an integer indicating whether the path\n   * was before, at, or after the other.\n   *\n   * Note: Two paths of unequal length can still receive a `0` result if one is\n   * directly above or below the other. If you want exact matching, use\n   * [[Path.equals]] instead.\n   */\n  compare: (path: Path, another: Path) => -1 | 0 | 1\n\n  /**\n   * Check if a path ends after one of the indexes in another.\n   */\n  endsAfter: (path: Path, another: Path) => boolean\n\n  /**\n   * Check if a path ends at one of the indexes in another.\n   */\n  endsAt: (path: Path, another: Path) => boolean\n\n  /**\n   * Check if a path ends before one of the indexes in another.\n   */\n  endsBefore: (path: Path, another: Path) => boolean\n\n  /**\n   * Check if a path is exactly equal to another.\n   */\n  equals: (path: Path, another: Path) => boolean\n\n  /**\n   * Check if the path of previous sibling node exists\n   */\n  hasPrevious: (path: Path) => boolean\n\n  /**\n   * Check if a path is after another.\n   */\n  isAfter: (path: Path, another: Path) => boolean\n\n  /**\n   * Check if a path is an ancestor of another.\n   */\n  isAncestor: (path: Path, another: Path) => boolean\n\n  /**\n   * Check if a path is before another.\n   */\n  isBefore: (path: Path, another: Path) => boolean\n\n  /**\n   * Check if a path is a child of another.\n   */\n  isChild: (path: Path, another: Path) => boolean\n\n  /**\n   * Check if a path is equal to or an ancestor of another.\n   */\n  isCommon: (path: Path, another: Path) => boolean\n\n  /**\n   * Check if a path is a descendant of another.\n   */\n  isDescendant: (path: Path, another: Path) => boolean\n\n  /**\n   * Check if a path is the parent of another.\n   */\n  isParent: (path: Path, another: Path) => boolean\n\n  /**\n   * Check is a value implements the `Path` interface.\n   */\n  isPath: (value: any) => value is Path\n\n  /**\n   * Check if a path is a sibling of another.\n   */\n  isSibling: (path: Path, another: Path) => boolean\n\n  /**\n   * Get a list of paths at every level down to a path. Note: this is the same\n   * as `Path.ancestors`, but including the path itself.\n   *\n   * The paths are sorted from shallowest to deepest. However, if the `reverse:\n   * true` option is passed, they are reversed.\n   */\n  levels: (path: Path, options?: PathLevelsOptions) => Path[]\n\n  /**\n   * Given a path, get the path to the next sibling node.\n   */\n  next: (path: Path) => Path\n\n  /**\n   * Returns whether this operation can affect paths or not. Used as an\n   * optimization when updating dirty paths during normalization\n   *\n   * NOTE: This *must* be kept in sync with the implementation of 'transform'\n   * below\n   */\n  operationCanTransformPath: (\n    operation: Operation\n  ) => operation is\n    | InsertNodeOperation\n    | RemoveNodeOperation\n    | MergeNodeOperation\n    | SplitNodeOperation\n    | MoveNodeOperation\n\n  /**\n   * Given a path, return a new path referring to the parent node above it.\n   */\n  parent: (path: Path) => Path\n\n  /**\n   * Given a path, get the path to the previous sibling node.\n   */\n  previous: (path: Path) => Path\n\n  /**\n   * Get a path relative to an ancestor.\n   */\n  relative: (path: Path, ancestor: Path) => Path\n\n  /**\n   * Transform a path by an operation.\n   */\n  transform: (\n    path: Path,\n    operation: Operation,\n    options?: PathTransformOptions\n  ) => Path | null\n}\n\n// eslint-disable-next-line no-redeclare\nexport const Path: PathInterface = {\n  ancestors(path: Path, options: PathAncestorsOptions = {}): Path[] {\n    const { reverse = false } = options\n    let paths = Path.levels(path, options)\n\n    if (reverse) {\n      paths = paths.slice(1)\n    } else {\n      paths = paths.slice(0, -1)\n    }\n\n    return paths\n  },\n\n  common(path: Path, another: Path): Path {\n    const common: Path = []\n\n    for (let i = 0; i < path.length && i < another.length; i++) {\n      const av = path[i]\n      const bv = another[i]\n\n      if (av !== bv) {\n        break\n      }\n\n      common.push(av)\n    }\n\n    return common\n  },\n\n  compare(path: Path, another: Path): -1 | 0 | 1 {\n    const min = Math.min(path.length, another.length)\n\n    for (let i = 0; i < min; i++) {\n      if (path[i] < another[i]) return -1\n      if (path[i] > another[i]) return 1\n    }\n\n    return 0\n  },\n\n  endsAfter(path: Path, another: Path): boolean {\n    const i = path.length - 1\n    const as = path.slice(0, i)\n    const bs = another.slice(0, i)\n    const av = path[i]\n    const bv = another[i]\n    return Path.equals(as, bs) && av > bv\n  },\n\n  endsAt(path: Path, another: Path): boolean {\n    const i = path.length\n    const as = path.slice(0, i)\n    const bs = another.slice(0, i)\n    return Path.equals(as, bs)\n  },\n\n  endsBefore(path: Path, another: Path): boolean {\n    const i = path.length - 1\n    const as = path.slice(0, i)\n    const bs = another.slice(0, i)\n    const av = path[i]\n    const bv = another[i]\n    return Path.equals(as, bs) && av < bv\n  },\n\n  equals(path: Path, another: Path): boolean {\n    return (\n      path.length === another.length && path.every((n, i) => n === another[i])\n    )\n  },\n\n  hasPrevious(path: Path): boolean {\n    return path[path.length - 1] > 0\n  },\n\n  isAfter(path: Path, another: Path): boolean {\n    return Path.compare(path, another) === 1\n  },\n\n  isAncestor(path: Path, another: Path): boolean {\n    return path.length < another.length && Path.compare(path, another) === 0\n  },\n\n  isBefore(path: Path, another: Path): boolean {\n    return Path.compare(path, another) === -1\n  },\n\n  isChild(path: Path, another: Path): boolean {\n    return (\n      path.length === another.length + 1 && Path.compare(path, another) === 0\n    )\n  },\n\n  isCommon(path: Path, another: Path): boolean {\n    return path.length <= another.length && Path.compare(path, another) === 0\n  },\n\n  isDescendant(path: Path, another: Path): boolean {\n    return path.length > another.length && Path.compare(path, another) === 0\n  },\n\n  isParent(path: Path, another: Path): boolean {\n    return (\n      path.length + 1 === another.length && Path.compare(path, another) === 0\n    )\n  },\n\n  isPath(value: any): value is Path {\n    return (\n      Array.isArray(value) &&\n      (value.length === 0 || typeof value[0] === 'number')\n    )\n  },\n\n  isSibling(path: Path, another: Path): boolean {\n    if (path.length !== another.length) {\n      return false\n    }\n\n    const as = path.slice(0, -1)\n    const bs = another.slice(0, -1)\n    const al = path[path.length - 1]\n    const bl = another[another.length - 1]\n    return al !== bl && Path.equals(as, bs)\n  },\n\n  levels(path: Path, options: PathLevelsOptions = {}): Path[] {\n    const { reverse = false } = options\n    const list: Path[] = []\n\n    for (let i = 0; i <= path.length; i++) {\n      list.push(path.slice(0, i))\n    }\n\n    if (reverse) {\n      list.reverse()\n    }\n\n    return list\n  },\n\n  next(path: Path): Path {\n    if (path.length === 0) {\n      throw new Error(\n        `Cannot get the next path of a root path [${path}], because it has no next index.`\n      )\n    }\n\n    const last = path[path.length - 1]\n    return path.slice(0, -1).concat(last + 1)\n  },\n\n  operationCanTransformPath(\n    operation: Operation\n  ): operation is\n    | InsertNodeOperation\n    | RemoveNodeOperation\n    | MergeNodeOperation\n    | SplitNodeOperation\n    | MoveNodeOperation {\n    switch (operation.type) {\n      case 'insert_node':\n      case 'remove_node':\n      case 'merge_node':\n      case 'split_node':\n      case 'move_node':\n        return true\n      default:\n        return false\n    }\n  },\n\n  parent(path: Path): Path {\n    if (path.length === 0) {\n      throw new Error(`Cannot get the parent path of the root path [${path}].`)\n    }\n\n    return path.slice(0, -1)\n  },\n\n  previous(path: Path): Path {\n    if (path.length === 0) {\n      throw new Error(\n        `Cannot get the previous path of a root path [${path}], because it has no previous index.`\n      )\n    }\n\n    const last = path[path.length - 1]\n\n    if (last <= 0) {\n      throw new Error(\n        `Cannot get the previous path of a first child path [${path}] because it would result in a negative index.`\n      )\n    }\n\n    return path.slice(0, -1).concat(last - 1)\n  },\n\n  relative(path: Path, ancestor: Path): Path {\n    if (!Path.isAncestor(ancestor, path) && !Path.equals(path, ancestor)) {\n      throw new Error(\n        `Cannot get the relative path of [${path}] inside ancestor [${ancestor}], because it is not above or equal to the path.`\n      )\n    }\n\n    return path.slice(ancestor.length)\n  },\n\n  transform(\n    path: Path | null,\n    operation: Operation,\n    options: PathTransformOptions = {}\n  ): Path | null {\n    if (!path) return null\n\n    // PERF: use destructing instead of immer\n    const p = [...path]\n    const { affinity = 'forward' } = options\n\n    // PERF: Exit early if the operation is guaranteed not to have an effect.\n    if (path.length === 0) {\n      return p\n    }\n\n    switch (operation.type) {\n      case 'insert_node': {\n        const { path: op } = operation\n\n        if (\n          Path.equals(op, p) ||\n          Path.endsBefore(op, p) ||\n          Path.isAncestor(op, p)\n        ) {\n          p[op.length - 1] += 1\n        }\n\n        break\n      }\n\n      case 'remove_node': {\n        const { path: op } = operation\n\n        if (Path.equals(op, p) || Path.isAncestor(op, p)) {\n          return null\n        } else if (Path.endsBefore(op, p)) {\n          p[op.length - 1] -= 1\n        }\n\n        break\n      }\n\n      case 'merge_node': {\n        const { path: op, position } = operation\n\n        if (Path.equals(op, p) || Path.endsBefore(op, p)) {\n          p[op.length - 1] -= 1\n        } else if (Path.isAncestor(op, p)) {\n          p[op.length - 1] -= 1\n          p[op.length] += position\n        }\n\n        break\n      }\n\n      case 'split_node': {\n        const { path: op, position } = operation\n\n        if (Path.equals(op, p)) {\n          if (affinity === 'forward') {\n            p[p.length - 1] += 1\n          } else if (affinity === 'backward') {\n            // Nothing, because it still refers to the right path.\n          } else {\n            return null\n          }\n        } else if (Path.endsBefore(op, p)) {\n          p[op.length - 1] += 1\n        } else if (Path.isAncestor(op, p) && path[op.length] >= position) {\n          p[op.length - 1] += 1\n          p[op.length] -= position\n        }\n\n        break\n      }\n\n      case 'move_node': {\n        const { path: op, newPath: onp } = operation\n\n        // If the old and new path are the same, it's a no-op.\n        if (Path.equals(op, onp)) {\n          return p\n        }\n\n        if (Path.isAncestor(op, p) || Path.equals(op, p)) {\n          const copy = onp.slice()\n\n          if (Path.endsBefore(op, onp) && op.length < onp.length) {\n            copy[op.length - 1] -= 1\n          }\n\n          return copy.concat(p.slice(op.length))\n        } else if (\n          Path.isSibling(op, onp) &&\n          (Path.isAncestor(onp, p) || Path.equals(onp, p))\n        ) {\n          if (Path.endsBefore(op, p)) {\n            p[op.length - 1] -= 1\n          } else {\n            p[op.length - 1] += 1\n          }\n        } else if (\n          Path.endsBefore(onp, p) ||\n          Path.equals(onp, p) ||\n          Path.isAncestor(onp, p)\n        ) {\n          if (Path.endsBefore(op, p)) {\n            p[op.length - 1] -= 1\n          }\n\n          p[onp.length - 1] += 1\n        } else if (Path.endsBefore(op, p)) {\n          if (Path.equals(onp, p)) {\n            p[onp.length - 1] += 1\n          }\n\n          p[op.length - 1] -= 1\n        }\n\n        break\n      }\n    }\n\n    return p\n  },\n}\n","export default function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}","import _typeof from \"./typeof.js\";\nexport default function _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nexport default function _toPropertyKey(arg) {\n  var key = toPrimitive(arg, \"string\");\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}","import toPropertyKey from \"./toPropertyKey.js\";\nexport default function _defineProperty(obj, key, value) {\n  key = toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}","import { createDraft, finishDraft, isDraft } from 'immer'\nimport {\n  Ancestor,\n  Descendant,\n  Editor,\n  Element,\n  Node,\n  NodeEntry,\n  Operation,\n  Path,\n  Point,\n  Range,\n  Scrubber,\n  Selection,\n  Text,\n} from '../../index'\n\nexport interface GeneralTransforms {\n  /**\n   * Transform the editor by an operation.\n   */\n  transform: (editor: Editor, op: Operation) => void\n}\n\nconst applyToDraft = (editor: Editor, selection: Selection, op: Operation) => {\n  switch (op.type) {\n    case 'insert_node': {\n      const { path, node } = op\n      const parent = Node.parent(editor, path)\n      const index = path[path.length - 1]\n\n      if (index > parent.children.length) {\n        throw new Error(\n          `Cannot apply an \"insert_node\" operation at path [${path}] because the destination is past the end of the node.`\n        )\n      }\n\n      parent.children.splice(index, 0, node)\n\n      if (selection) {\n        for (const [point, key] of Range.points(selection)) {\n          selection[key] = Point.transform(point, op)!\n        }\n      }\n\n      break\n    }\n\n    case 'insert_text': {\n      const { path, offset, text } = op\n      if (text.length === 0) break\n      const node = Node.leaf(editor, path)\n      const before = node.text.slice(0, offset)\n      const after = node.text.slice(offset)\n      node.text = before + text + after\n\n      if (selection) {\n        for (const [point, key] of Range.points(selection)) {\n          selection[key] = Point.transform(point, op)!\n        }\n      }\n\n      break\n    }\n\n    case 'merge_node': {\n      const { path } = op\n      const node = Node.get(editor, path)\n      const prevPath = Path.previous(path)\n      const prev = Node.get(editor, prevPath)\n      const parent = Node.parent(editor, path)\n      const index = path[path.length - 1]\n\n      if (Text.isText(node) && Text.isText(prev)) {\n        prev.text += node.text\n      } else if (!Text.isText(node) && !Text.isText(prev)) {\n        prev.children.push(...node.children)\n      } else {\n        throw new Error(\n          `Cannot apply a \"merge_node\" operation at path [${path}] to nodes of different interfaces: ${Scrubber.stringify(\n            node\n          )} ${Scrubber.stringify(prev)}`\n        )\n      }\n\n      parent.children.splice(index, 1)\n\n      if (selection) {\n        for (const [point, key] of Range.points(selection)) {\n          selection[key] = Point.transform(point, op)!\n        }\n      }\n\n      break\n    }\n\n    case 'move_node': {\n      const { path, newPath } = op\n\n      if (Path.isAncestor(path, newPath)) {\n        throw new Error(\n          `Cannot move a path [${path}] to new path [${newPath}] because the destination is inside itself.`\n        )\n      }\n\n      const node = Node.get(editor, path)\n      const parent = Node.parent(editor, path)\n      const index = path[path.length - 1]\n\n      // This is tricky, but since the `path` and `newPath` both refer to\n      // the same snapshot in time, there's a mismatch. After either\n      // removing the original position, the second step's path can be out\n      // of date. So instead of using the `op.newPath` directly, we\n      // transform `op.path` to ascertain what the `newPath` would be after\n      // the operation was applied.\n      parent.children.splice(index, 1)\n      const truePath = Path.transform(path, op)!\n      const newParent = Node.get(editor, Path.parent(truePath)) as Ancestor\n      const newIndex = truePath[truePath.length - 1]\n\n      newParent.children.splice(newIndex, 0, node)\n\n      if (selection) {\n        for (const [point, key] of Range.points(selection)) {\n          selection[key] = Point.transform(point, op)!\n        }\n      }\n\n      break\n    }\n\n    case 'remove_node': {\n      const { path } = op\n      const index = path[path.length - 1]\n      const parent = Node.parent(editor, path)\n      parent.children.splice(index, 1)\n\n      // Transform all the points in the value, but if the point was in the\n      // node that was removed we need to update the range or remove it.\n      if (selection) {\n        for (const [point, key] of Range.points(selection)) {\n          const result = Point.transform(point, op)\n\n          if (selection != null && result != null) {\n            selection[key] = result\n          } else {\n            let prev: NodeEntry<Text> | undefined\n            let next: NodeEntry<Text> | undefined\n\n            for (const [n, p] of Node.texts(editor)) {\n              if (Path.compare(p, path) === -1) {\n                prev = [n, p]\n              } else {\n                next = [n, p]\n                break\n              }\n            }\n\n            let preferNext = false\n            if (prev && next) {\n              if (Path.equals(next[1], path)) {\n                preferNext = !Path.hasPrevious(next[1])\n              } else {\n                preferNext =\n                  Path.common(prev[1], path).length <\n                  Path.common(next[1], path).length\n              }\n            }\n\n            if (prev && !preferNext) {\n              point.path = prev[1]\n              point.offset = prev[0].text.length\n            } else if (next) {\n              point.path = next[1]\n              point.offset = 0\n            } else {\n              selection = null\n            }\n          }\n        }\n      }\n\n      break\n    }\n\n    case 'remove_text': {\n      const { path, offset, text } = op\n      if (text.length === 0) break\n      const node = Node.leaf(editor, path)\n      const before = node.text.slice(0, offset)\n      const after = node.text.slice(offset + text.length)\n      node.text = before + after\n\n      if (selection) {\n        for (const [point, key] of Range.points(selection)) {\n          selection[key] = Point.transform(point, op)!\n        }\n      }\n\n      break\n    }\n\n    case 'set_node': {\n      const { path, properties, newProperties } = op\n\n      if (path.length === 0) {\n        throw new Error(`Cannot set properties on the root node!`)\n      }\n\n      const node = Node.get(editor, path)\n\n      for (const key in newProperties) {\n        if (key === 'children' || key === 'text') {\n          throw new Error(`Cannot set the \"${key}\" property of nodes!`)\n        }\n\n        const value = newProperties[<keyof Node>key]\n\n        if (value == null) {\n          delete node[<keyof Node>key]\n        } else {\n          node[<keyof Node>key] = value\n        }\n      }\n\n      // properties that were previously defined, but are now missing, must be deleted\n      for (const key in properties) {\n        if (!newProperties.hasOwnProperty(key)) {\n          delete node[<keyof Node>key]\n        }\n      }\n\n      break\n    }\n\n    case 'set_selection': {\n      const { newProperties } = op\n\n      if (newProperties == null) {\n        selection = newProperties\n      } else {\n        if (selection == null) {\n          if (!Range.isRange(newProperties)) {\n            throw new Error(\n              `Cannot apply an incomplete \"set_selection\" operation properties ${Scrubber.stringify(\n                newProperties\n              )} when there is no current selection.`\n            )\n          }\n\n          selection = { ...newProperties }\n        }\n\n        for (const key in newProperties) {\n          const value = newProperties[<keyof Range>key]\n\n          if (value == null) {\n            if (key === 'anchor' || key === 'focus') {\n              throw new Error(`Cannot remove the \"${key}\" selection property`)\n            }\n\n            delete selection[<keyof Range>key]\n          } else {\n            selection[<keyof Range>key] = value\n          }\n        }\n      }\n\n      break\n    }\n\n    case 'split_node': {\n      const { path, position, properties } = op\n\n      if (path.length === 0) {\n        throw new Error(\n          `Cannot apply a \"split_node\" operation at path [${path}] because the root node cannot be split.`\n        )\n      }\n\n      const node = Node.get(editor, path)\n      const parent = Node.parent(editor, path)\n      const index = path[path.length - 1]\n      let newNode: Descendant\n\n      if (Text.isText(node)) {\n        const before = node.text.slice(0, position)\n        const after = node.text.slice(position)\n        node.text = before\n        newNode = {\n          ...(properties as Partial<Text>),\n          text: after,\n        }\n      } else {\n        const before = node.children.slice(0, position)\n        const after = node.children.slice(position)\n        node.children = before\n\n        newNode = {\n          ...(properties as Partial<Element>),\n          children: after,\n        }\n      }\n\n      parent.children.splice(index + 1, 0, newNode)\n\n      if (selection) {\n        for (const [point, key] of Range.points(selection)) {\n          selection[key] = Point.transform(point, op)!\n        }\n      }\n\n      break\n    }\n  }\n  return selection\n}\n\n// eslint-disable-next-line no-redeclare\nexport const GeneralTransforms: GeneralTransforms = {\n  transform(editor: Editor, op: Operation): void {\n    editor.children = createDraft(editor.children)\n    let selection = editor.selection && createDraft(editor.selection)\n\n    try {\n      selection = applyToDraft(editor, selection, op)\n    } finally {\n      editor.children = finishDraft(editor.children)\n\n      if (selection) {\n        editor.selection = isDraft(selection)\n          ? (finishDraft(selection) as Range)\n          : selection\n      } else {\n        editor.selection = null\n      }\n    }\n  },\n}\n","import { Editor, Element, Location, Node, Path } from '../../index'\nimport { NodeMatch, PropsCompare, PropsMerge } from '../editor'\nimport { MaximizeMode, RangeMode } from '../../types/types'\n\nexport interface NodeInsertNodesOptions<T extends Node> {\n  at?: Location\n  match?: NodeMatch<T>\n  mode?: RangeMode\n  hanging?: boolean\n  select?: boolean\n  voids?: boolean\n  batchDirty?: boolean\n}\n\nexport interface NodeTransforms {\n  /**\n   * Insert nodes in the editor\n   * at the specified location or (if not defined) the current selection or (if not defined) the end of the document.\n   */\n  insertNodes: <T extends Node>(\n    editor: Editor,\n    nodes: Node | Node[],\n    options?: NodeInsertNodesOptions<T>\n  ) => void\n\n  /**\n   * Lift nodes at a specific location upwards in the document tree, splitting\n   * their parent in two if necessary.\n   */\n  liftNodes: <T extends Node>(\n    editor: Editor,\n    options?: {\n      at?: Location\n      match?: NodeMatch<T>\n      mode?: MaximizeMode\n      voids?: boolean\n    }\n  ) => void\n\n  /**\n   * Merge a node at a location with the previous node of the same depth,\n   * removing any empty containing nodes after the merge if necessary.\n   */\n  mergeNodes: <T extends Node>(\n    editor: Editor,\n    options?: {\n      at?: Location\n      match?: NodeMatch<T>\n      mode?: RangeMode\n      hanging?: boolean\n      voids?: boolean\n    }\n  ) => void\n\n  /**\n   * Move the nodes at a location to a new location.\n   */\n  moveNodes: <T extends Node>(\n    editor: Editor,\n    options: {\n      at?: Location\n      match?: NodeMatch<T>\n      mode?: MaximizeMode\n      to: Path\n      voids?: boolean\n    }\n  ) => void\n\n  /**\n   * Remove the nodes at a specific location in the document.\n   */\n  removeNodes: <T extends Node>(\n    editor: Editor,\n    options?: {\n      at?: Location\n      match?: NodeMatch<T>\n      mode?: RangeMode\n      hanging?: boolean\n      voids?: boolean\n    }\n  ) => void\n\n  /**\n   * Set new properties on the nodes at a location.\n   */\n  setNodes: <T extends Node>(\n    editor: Editor,\n    props: Partial<T>,\n    options?: {\n      at?: Location\n      match?: NodeMatch<T>\n      mode?: MaximizeMode\n      hanging?: boolean\n      split?: boolean\n      voids?: boolean\n      compare?: PropsCompare\n      merge?: PropsMerge\n    }\n  ) => void\n\n  /**\n   * Split the nodes at a specific location.\n   */\n  splitNodes: <T extends Node>(\n    editor: Editor,\n    options?: {\n      at?: Location\n      match?: NodeMatch<T>\n      mode?: RangeMode\n      always?: boolean\n      height?: number\n      voids?: boolean\n    }\n  ) => void\n\n  /**\n   * Unset properties on the nodes at a location.\n   */\n  unsetNodes: <T extends Node>(\n    editor: Editor,\n    props: string | string[],\n    options?: {\n      at?: Location\n      match?: NodeMatch<T>\n      mode?: MaximizeMode\n      hanging?: boolean\n      split?: boolean\n      voids?: boolean\n    }\n  ) => void\n\n  /**\n   * Unwrap the nodes at a location from a parent node, splitting the parent if\n   * necessary to ensure that only the content in the range is unwrapped.\n   */\n  unwrapNodes: <T extends Node>(\n    editor: Editor,\n    options?: {\n      at?: Location\n      match?: NodeMatch<T>\n      mode?: MaximizeMode\n      split?: boolean\n      voids?: boolean\n    }\n  ) => void\n\n  /**\n   * Wrap the nodes at a location in a new container node, splitting the edges\n   * of the range first to ensure that only the content in the range is wrapped.\n   */\n  wrapNodes: <T extends Node>(\n    editor: Editor,\n    element: Element,\n    options?: {\n      at?: Location\n      match?: NodeMatch<T>\n      mode?: MaximizeMode\n      split?: boolean\n      voids?: boolean\n    }\n  ) => void\n}\n\n// eslint-disable-next-line no-redeclare\nexport const NodeTransforms: NodeTransforms = {\n  insertNodes(editor, nodes, options) {\n    editor.insertNodes(nodes, options)\n  },\n  liftNodes(editor, options) {\n    editor.liftNodes(options)\n  },\n  mergeNodes(editor, options) {\n    editor.mergeNodes(options)\n  },\n  moveNodes(editor, options) {\n    editor.moveNodes(options)\n  },\n  removeNodes(editor, options) {\n    editor.removeNodes(options)\n  },\n  setNodes(editor, props, options) {\n    editor.setNodes(props, options)\n  },\n  splitNodes(editor, options) {\n    editor.splitNodes(options)\n  },\n  unsetNodes(editor, props, options) {\n    editor.unsetNodes(props, options)\n  },\n  unwrapNodes(editor, options) {\n    editor.unwrapNodes(options)\n  },\n  wrapNodes(editor, element, options) {\n    editor.wrapNodes(element, options)\n  },\n}\n","import { Editor, Location, Point, Range } from '../../index'\nimport { MoveUnit, SelectionEdge } from '../../types/types'\n\nexport interface SelectionCollapseOptions {\n  edge?: SelectionEdge\n}\n\nexport interface SelectionMoveOptions {\n  distance?: number\n  unit?: MoveUnit\n  reverse?: boolean\n  edge?: SelectionEdge\n}\n\nexport interface SelectionSetPointOptions {\n  edge?: SelectionEdge\n}\n\nexport interface SelectionTransforms {\n  /**\n   * Collapse the selection.\n   */\n  collapse: (editor: Editor, options?: SelectionCollapseOptions) => void\n\n  /**\n   * Unset the selection.\n   */\n  deselect: (editor: Editor) => void\n\n  /**\n   * Move the selection's point forward or backward.\n   */\n  move: (editor: Editor, options?: SelectionMoveOptions) => void\n\n  /**\n   * Set the selection to a new value.\n   */\n  select: (editor: Editor, target: Location) => void\n\n  /**\n   * Set new properties on one of the selection's points.\n   */\n  setPoint: (\n    editor: Editor,\n    props: Partial<Point>,\n    options?: SelectionSetPointOptions\n  ) => void\n\n  /**\n   * Set new properties on the selection.\n   */\n  setSelection: (editor: Editor, props: Partial<Range>) => void\n}\n\n// eslint-disable-next-line no-redeclare\nexport const SelectionTransforms: SelectionTransforms = {\n  collapse(editor, options) {\n    editor.collapse(options)\n  },\n  deselect(editor) {\n    editor.deselect()\n  },\n  move(editor, options) {\n    editor.move(options)\n  },\n  select(editor, target) {\n    editor.select(target)\n  },\n  setPoint(editor, props, options) {\n    editor.setPoint(props, options)\n  },\n  setSelection(editor, props) {\n    editor.setSelection(props)\n  },\n}\n","import { isPlainObject } from 'is-plain-object'\n\n/*\n  Custom deep equal comparison for Slate nodes.\n\n  We don't need general purpose deep equality;\n  Slate only supports plain values, Arrays, and nested objects.\n  Complex values nested inside Arrays are not supported.\n\n  Slate objects are designed to be serialised, so\n  missing keys are deliberately normalised to undefined.\n */\nexport const isDeepEqual = (\n  node: Record<string, any>,\n  another: Record<string, any>\n): boolean => {\n  for (const key in node) {\n    const a = node[key]\n    const b = another[key]\n    if (isPlainObject(a) && isPlainObject(b)) {\n      if (!isDeepEqual(a, b)) return false\n    } else if (Array.isArray(a) && Array.isArray(b)) {\n      if (a.length !== b.length) return false\n      for (let i = 0; i < a.length; i++) {\n        if (a[i] !== b[i]) return false\n      }\n    } else if (a !== b) {\n      return false\n    }\n  }\n\n  /*\n    Deep object equality is only necessary in one direction; in the reverse direction\n    we are only looking for keys that are missing.\n    As above, undefined keys are normalised to missing.\n  */\n\n  for (const key in another) {\n    if (node[key] === undefined && another[key] !== undefined) {\n      return false\n    }\n  }\n\n  return true\n}\n","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose.js\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}","import { produce } from 'immer'\nimport { isPlainObject } from 'is-plain-object'\nimport { ExtendedType, Operation, Path, Point, PointEntry } from '..'\nimport { RangeDirection } from '../types/types'\n\n/**\n * `Range` objects are a set of points that refer to a specific span of a Slate\n * document. They can define a span inside a single node or a can span across\n * multiple nodes.\n */\n\nexport interface BaseRange {\n  anchor: Point\n  focus: Point\n}\n\nexport type Range = ExtendedType<'Range', BaseRange>\n\nexport interface RangeEdgesOptions {\n  reverse?: boolean\n}\n\nexport interface RangeTransformOptions {\n  affinity?: RangeDirection | null\n}\n\nexport interface RangeInterface {\n  /**\n   * Get the start and end points of a range, in the order in which they appear\n   * in the document.\n   */\n  edges: (range: Range, options?: RangeEdgesOptions) => [Point, Point]\n\n  /**\n   * Get the end point of a range.\n   */\n  end: (range: Range) => Point\n\n  /**\n   * Check if a range is exactly equal to another.\n   */\n  equals: (range: Range, another: Range) => boolean\n\n  /**\n   * Check if a range includes a path, a point or part of another range.\n   */\n  includes: (range: Range, target: Path | Point | Range) => boolean\n\n  /**\n   * Get the intersection of a range with another.\n   */\n  intersection: (range: Range, another: Range) => Range | null\n\n  /**\n   * Check if a range is backward, meaning that its anchor point appears in the\n   * document _after_ its focus point.\n   */\n  isBackward: (range: Range) => boolean\n\n  /**\n   * Check if a range is collapsed, meaning that both its anchor and focus\n   * points refer to the exact same position in the document.\n   */\n  isCollapsed: (range: Range) => boolean\n\n  /**\n   * Check if a range is expanded.\n   *\n   * This is the opposite of [[Range.isCollapsed]] and is provided for legibility.\n   */\n  isExpanded: (range: Range) => boolean\n\n  /**\n   * Check if a range is forward.\n   *\n   * This is the opposite of [[Range.isBackward]] and is provided for legibility.\n   */\n  isForward: (range: Range) => boolean\n\n  /**\n   * Check if a value implements the [[Range]] interface.\n   */\n  isRange: (value: any) => value is Range\n\n  /**\n   * Iterate through all of the point entries in a range.\n   */\n  points: (range: Range) => Generator<PointEntry, void, undefined>\n\n  /**\n   * Get the start point of a range.\n   */\n  start: (range: Range) => Point\n\n  /**\n   * Transform a range by an operation.\n   */\n  transform: (\n    range: Range,\n    op: Operation,\n    options?: RangeTransformOptions\n  ) => Range | null\n}\n\n// eslint-disable-next-line no-redeclare\nexport const Range: RangeInterface = {\n  edges(range: Range, options: RangeEdgesOptions = {}): [Point, Point] {\n    const { reverse = false } = options\n    const { anchor, focus } = range\n    return Range.isBackward(range) === reverse\n      ? [anchor, focus]\n      : [focus, anchor]\n  },\n\n  end(range: Range): Point {\n    const [, end] = Range.edges(range)\n    return end\n  },\n\n  equals(range: Range, another: Range): boolean {\n    return (\n      Point.equals(range.anchor, another.anchor) &&\n      Point.equals(range.focus, another.focus)\n    )\n  },\n\n  includes(range: Range, target: Path | Point | Range): boolean {\n    if (Range.isRange(target)) {\n      if (\n        Range.includes(range, target.anchor) ||\n        Range.includes(range, target.focus)\n      ) {\n        return true\n      }\n\n      const [rs, re] = Range.edges(range)\n      const [ts, te] = Range.edges(target)\n      return Point.isBefore(rs, ts) && Point.isAfter(re, te)\n    }\n\n    const [start, end] = Range.edges(range)\n    let isAfterStart = false\n    let isBeforeEnd = false\n\n    if (Point.isPoint(target)) {\n      isAfterStart = Point.compare(target, start) >= 0\n      isBeforeEnd = Point.compare(target, end) <= 0\n    } else {\n      isAfterStart = Path.compare(target, start.path) >= 0\n      isBeforeEnd = Path.compare(target, end.path) <= 0\n    }\n\n    return isAfterStart && isBeforeEnd\n  },\n\n  intersection(range: Range, another: Range): Range | null {\n    const { anchor, focus, ...rest } = range\n    const [s1, e1] = Range.edges(range)\n    const [s2, e2] = Range.edges(another)\n    const start = Point.isBefore(s1, s2) ? s2 : s1\n    const end = Point.isBefore(e1, e2) ? e1 : e2\n\n    if (Point.isBefore(end, start)) {\n      return null\n    } else {\n      return { anchor: start, focus: end, ...rest }\n    }\n  },\n\n  isBackward(range: Range): boolean {\n    const { anchor, focus } = range\n    return Point.isAfter(anchor, focus)\n  },\n\n  isCollapsed(range: Range): boolean {\n    const { anchor, focus } = range\n    return Point.equals(anchor, focus)\n  },\n\n  isExpanded(range: Range): boolean {\n    return !Range.isCollapsed(range)\n  },\n\n  isForward(range: Range): boolean {\n    return !Range.isBackward(range)\n  },\n\n  isRange(value: any): value is Range {\n    return (\n      isPlainObject(value) &&\n      Point.isPoint(value.anchor) &&\n      Point.isPoint(value.focus)\n    )\n  },\n\n  *points(range: Range): Generator<PointEntry, void, undefined> {\n    yield [range.anchor, 'anchor']\n    yield [range.focus, 'focus']\n  },\n\n  start(range: Range): Point {\n    const [start] = Range.edges(range)\n    return start\n  },\n\n  transform(\n    range: Range | null,\n    op: Operation,\n    options: RangeTransformOptions = {}\n  ): Range | null {\n    return produce(range, r => {\n      if (r === null) {\n        return null\n      }\n      const { affinity = 'inward' } = options\n      let affinityAnchor: 'forward' | 'backward' | null\n      let affinityFocus: 'forward' | 'backward' | null\n\n      if (affinity === 'inward') {\n        // If the range is collapsed, make sure to use the same affinity to\n        // avoid the two points passing each other and expanding in the opposite\n        // direction\n        const isCollapsed = Range.isCollapsed(r)\n        if (Range.isForward(r)) {\n          affinityAnchor = 'forward'\n          affinityFocus = isCollapsed ? affinityAnchor : 'backward'\n        } else {\n          affinityAnchor = 'backward'\n          affinityFocus = isCollapsed ? affinityAnchor : 'forward'\n        }\n      } else if (affinity === 'outward') {\n        if (Range.isForward(r)) {\n          affinityAnchor = 'backward'\n          affinityFocus = 'forward'\n        } else {\n          affinityAnchor = 'forward'\n          affinityFocus = 'backward'\n        }\n      } else {\n        affinityAnchor = affinity\n        affinityFocus = affinity\n      }\n      const anchor = Point.transform(r.anchor, op, { affinity: affinityAnchor })\n      const focus = Point.transform(r.focus, op, { affinity: affinityFocus })\n\n      if (!anchor || !focus) {\n        return null\n      }\n\n      r.anchor = anchor\n      r.focus = focus\n    })\n  },\n}\n","import { isPlainObject } from 'is-plain-object'\nimport { Ancestor, Descendant, Editor, ExtendedType, Node, Path } from '..'\n\n/**\n * `Element` objects are a type of node in a Slate document that contain other\n * element nodes or text nodes. They can be either \"blocks\" or \"inlines\"\n * depending on the Slate editor's configuration.\n */\n\nexport interface BaseElement {\n  children: Descendant[]\n}\n\nexport type Element = ExtendedType<'Element', BaseElement>\n\nexport interface ElementInterface {\n  /**\n   * Check if a value implements the 'Ancestor' interface.\n   */\n  isAncestor: (value: any) => value is Ancestor\n\n  /**\n   * Check if a value implements the `Element` interface.\n   */\n  isElement: (value: any) => value is Element\n\n  /**\n   * Check if a value is an array of `Element` objects.\n   */\n  isElementList: (value: any) => value is Element[]\n\n  /**\n   * Check if a set of props is a partial of Element.\n   */\n  isElementProps: (props: any) => props is Partial<Element>\n\n  /**\n   * Check if a value implements the `Element` interface and has elementKey with selected value.\n   * Default it check to `type` key value\n   */\n  isElementType: <T extends Element>(\n    value: any,\n    elementVal: string,\n    elementKey?: string\n  ) => value is T\n\n  /**\n   * Check if an element matches set of properties.\n   *\n   * Note: this checks custom properties, and it does not ensure that any\n   * children are equivalent.\n   */\n  matches: (element: Element, props: Partial<Element>) => boolean\n}\n\n/**\n * Shared the function with isElementType utility\n */\nconst isElement = (value: any): value is Element => {\n  return (\n    isPlainObject(value) &&\n    Node.isNodeList(value.children) &&\n    !Editor.isEditor(value)\n  )\n}\n\n// eslint-disable-next-line no-redeclare\nexport const Element: ElementInterface = {\n  isAncestor(value: any): value is Ancestor {\n    return isPlainObject(value) && Node.isNodeList(value.children)\n  },\n\n  isElement,\n\n  isElementList(value: any): value is Element[] {\n    return Array.isArray(value) && value.every(val => Element.isElement(val))\n  },\n\n  isElementProps(props: any): props is Partial<Element> {\n    return (props as Partial<Element>).children !== undefined\n  },\n\n  isElementType: <T extends Element>(\n    value: any,\n    elementVal: string,\n    elementKey: string = 'type'\n  ): value is T => {\n    return (\n      isElement(value) && value[<keyof Descendant>elementKey] === elementVal\n    )\n  },\n\n  matches(element: Element, props: Partial<Element>): boolean {\n    for (const key in props) {\n      if (key === 'children') {\n        continue\n      }\n\n      if (element[<keyof Descendant>key] !== props[<keyof Descendant>key]) {\n        return false\n      }\n    }\n\n    return true\n  },\n}\n\n/**\n * `ElementEntry` objects refer to an `Element` and the `Path` where it can be\n * found inside a root node.\n */\nexport type ElementEntry = [Element, Path]\n","import { produce } from 'immer'\nimport { Editor, Path, Range, Scrubber, Text } from '..'\nimport { Element, ElementEntry } from './element'\n\n/**\n * The `Node` union type represents all of the different types of nodes that\n * occur in a Slate document tree.\n */\n\nexport type BaseNode = Editor | Element | Text\nexport type Node = Editor | Element | Text\n\nexport interface NodeAncestorsOptions {\n  reverse?: boolean\n}\n\nexport interface NodeChildrenOptions {\n  reverse?: boolean\n}\n\nexport interface NodeDescendantsOptions {\n  from?: Path\n  to?: Path\n  reverse?: boolean\n  pass?: (node: NodeEntry) => boolean\n}\n\nexport interface NodeElementsOptions {\n  from?: Path\n  to?: Path\n  reverse?: boolean\n  pass?: (node: NodeEntry) => boolean\n}\n\nexport interface NodeLevelsOptions {\n  reverse?: boolean\n}\n\nexport interface NodeNodesOptions {\n  from?: Path\n  to?: Path\n  reverse?: boolean\n  pass?: (entry: NodeEntry) => boolean\n}\n\nexport interface NodeTextsOptions {\n  from?: Path\n  to?: Path\n  reverse?: boolean\n  pass?: (node: NodeEntry) => boolean\n}\n\nexport interface NodeInterface {\n  /**\n   * Get the node at a specific path, asserting that it's an ancestor node.\n   */\n  ancestor: (root: Node, path: Path) => Ancestor\n\n  /**\n   * Return a generator of all the ancestor nodes above a specific path.\n   *\n   * By default the order is top-down, from highest to lowest ancestor in\n   * the tree, but you can pass the `reverse: true` option to go bottom-up.\n   */\n  ancestors: (\n    root: Node,\n    path: Path,\n    options?: NodeAncestorsOptions\n  ) => Generator<NodeEntry<Ancestor>, void, undefined>\n\n  /**\n   * Get the child of a node at a specific index.\n   */\n  child: (root: Node, index: number) => Descendant\n\n  /**\n   * Iterate over the children of a node at a specific path.\n   */\n  children: (\n    root: Node,\n    path: Path,\n    options?: NodeChildrenOptions\n  ) => Generator<NodeEntry<Descendant>, void, undefined>\n\n  /**\n   * Get an entry for the common ancesetor node of two paths.\n   */\n  common: (root: Node, path: Path, another: Path) => NodeEntry\n\n  /**\n   * Get the node at a specific path, asserting that it's a descendant node.\n   */\n  descendant: (root: Node, path: Path) => Descendant\n\n  /**\n   * Return a generator of all the descendant node entries inside a root node.\n   */\n  descendants: (\n    root: Node,\n    options?: NodeDescendantsOptions\n  ) => Generator<NodeEntry<Descendant>, void, undefined>\n\n  /**\n   * Return a generator of all the element nodes inside a root node. Each iteration\n   * will return an `ElementEntry` tuple consisting of `[Element, Path]`. If the\n   * root node is an element it will be included in the iteration as well.\n   */\n  elements: (\n    root: Node,\n    options?: NodeElementsOptions\n  ) => Generator<ElementEntry, void, undefined>\n\n  /**\n   * Extract props from a Node.\n   */\n  extractProps: (node: Node) => NodeProps\n\n  /**\n   * Get the first node entry in a root node from a path.\n   */\n  first: (root: Node, path: Path) => NodeEntry\n\n  /**\n   * Get the sliced fragment represented by a range inside a root node.\n   */\n  fragment: (root: Node, range: Range) => Descendant[]\n\n  /**\n   * Get the descendant node referred to by a specific path. If the path is an\n   * empty array, it refers to the root node itself.\n   */\n  get: (root: Node, path: Path) => Node\n\n  /**\n   * Check if a descendant node exists at a specific path.\n   */\n  has: (root: Node, path: Path) => boolean\n\n  /**\n   * Check if a value implements the `Node` interface.\n   */\n  isNode: (value: any) => value is Node\n\n  /**\n   * Check if a value is a list of `Node` objects.\n   */\n  isNodeList: (value: any) => value is Node[]\n\n  /**\n   * Get the last node entry in a root node from a path.\n   */\n  last: (root: Node, path: Path) => NodeEntry\n\n  /**\n   * Get the node at a specific path, ensuring it's a leaf text node.\n   */\n  leaf: (root: Node, path: Path) => Text\n\n  /**\n   * Return a generator of the in a branch of the tree, from a specific path.\n   *\n   * By default the order is top-down, from highest to lowest node in the tree,\n   * but you can pass the `reverse: true` option to go bottom-up.\n   */\n  levels: (\n    root: Node,\n    path: Path,\n    options?: NodeLevelsOptions\n  ) => Generator<NodeEntry, void, undefined>\n\n  /**\n   * Check if a node matches a set of props.\n   */\n  matches: (node: Node, props: Partial<Node>) => boolean\n\n  /**\n   * Return a generator of all the node entries of a root node. Each entry is\n   * returned as a `[Node, Path]` tuple, with the path referring to the node's\n   * position inside the root node.\n   */\n  nodes: (\n    root: Node,\n    options?: NodeNodesOptions\n  ) => Generator<NodeEntry, void, undefined>\n\n  /**\n   * Get the parent of a node at a specific path.\n   */\n  parent: (root: Node, path: Path) => Ancestor\n\n  /**\n   * Get the concatenated text string of a node's content.\n   *\n   * Note that this will not include spaces or line breaks between block nodes.\n   * It is not a user-facing string, but a string for performing offset-related\n   * computations for a node.\n   */\n  string: (node: Node) => string\n\n  /**\n   * Return a generator of all leaf text nodes in a root node.\n   */\n  texts: (\n    root: Node,\n    options?: NodeTextsOptions\n  ) => Generator<NodeEntry<Text>, void, undefined>\n}\n\nconst IS_NODE_LIST_CACHE = new WeakMap<any[], boolean>()\n\n// eslint-disable-next-line no-redeclare\nexport const Node: NodeInterface = {\n  ancestor(root: Node, path: Path): Ancestor {\n    const node = Node.get(root, path)\n\n    if (Text.isText(node)) {\n      throw new Error(\n        `Cannot get the ancestor node at path [${path}] because it refers to a text node instead: ${Scrubber.stringify(\n          node\n        )}`\n      )\n    }\n\n    return node\n  },\n\n  *ancestors(\n    root: Node,\n    path: Path,\n    options: NodeAncestorsOptions = {}\n  ): Generator<NodeEntry<Ancestor>, void, undefined> {\n    for (const p of Path.ancestors(path, options)) {\n      const n = Node.ancestor(root, p)\n      const entry: NodeEntry<Ancestor> = [n, p]\n      yield entry\n    }\n  },\n\n  child(root: Node, index: number): Descendant {\n    if (Text.isText(root)) {\n      throw new Error(\n        `Cannot get the child of a text node: ${Scrubber.stringify(root)}`\n      )\n    }\n\n    const c = root.children[index] as Descendant\n\n    if (c == null) {\n      throw new Error(\n        `Cannot get child at index \\`${index}\\` in node: ${Scrubber.stringify(\n          root\n        )}`\n      )\n    }\n\n    return c\n  },\n\n  *children(\n    root: Node,\n    path: Path,\n    options: NodeChildrenOptions = {}\n  ): Generator<NodeEntry<Descendant>, void, undefined> {\n    const { reverse = false } = options\n    const ancestor = Node.ancestor(root, path)\n    const { children } = ancestor\n    let index = reverse ? children.length - 1 : 0\n\n    while (reverse ? index >= 0 : index < children.length) {\n      const child = Node.child(ancestor, index)\n      const childPath = path.concat(index)\n      yield [child, childPath]\n      index = reverse ? index - 1 : index + 1\n    }\n  },\n\n  common(root: Node, path: Path, another: Path): NodeEntry {\n    const p = Path.common(path, another)\n    const n = Node.get(root, p)\n    return [n, p]\n  },\n\n  descendant(root: Node, path: Path): Descendant {\n    const node = Node.get(root, path)\n\n    if (Editor.isEditor(node)) {\n      throw new Error(\n        `Cannot get the descendant node at path [${path}] because it refers to the root editor node instead: ${Scrubber.stringify(\n          node\n        )}`\n      )\n    }\n\n    return node\n  },\n\n  *descendants(\n    root: Node,\n    options: NodeDescendantsOptions = {}\n  ): Generator<NodeEntry<Descendant>, void, undefined> {\n    for (const [node, path] of Node.nodes(root, options)) {\n      if (path.length !== 0) {\n        // NOTE: we have to coerce here because checking the path's length does\n        // guarantee that `node` is not a `Editor`, but TypeScript doesn't know.\n        yield [node, path] as NodeEntry<Descendant>\n      }\n    }\n  },\n\n  *elements(\n    root: Node,\n    options: NodeElementsOptions = {}\n  ): Generator<ElementEntry, void, undefined> {\n    for (const [node, path] of Node.nodes(root, options)) {\n      if (Element.isElement(node)) {\n        yield [node, path]\n      }\n    }\n  },\n\n  extractProps(node: Node): NodeProps {\n    if (Element.isAncestor(node)) {\n      const { children, ...properties } = node\n\n      return properties\n    } else {\n      const { text, ...properties } = node\n\n      return properties\n    }\n  },\n\n  first(root: Node, path: Path): NodeEntry {\n    const p = path.slice()\n    let n = Node.get(root, p)\n\n    while (n) {\n      if (Text.isText(n) || n.children.length === 0) {\n        break\n      } else {\n        n = n.children[0]\n        p.push(0)\n      }\n    }\n\n    return [n, p]\n  },\n\n  fragment(root: Node, range: Range): Descendant[] {\n    if (Text.isText(root)) {\n      throw new Error(\n        `Cannot get a fragment starting from a root text node: ${Scrubber.stringify(\n          root\n        )}`\n      )\n    }\n\n    const newRoot = produce({ children: root.children }, r => {\n      const [start, end] = Range.edges(range)\n      const nodeEntries = Node.nodes(r, {\n        reverse: true,\n        pass: ([, path]) => !Range.includes(range, path),\n      })\n\n      for (const [, path] of nodeEntries) {\n        if (!Range.includes(range, path)) {\n          const parent = Node.parent(r, path)\n          const index = path[path.length - 1]\n          parent.children.splice(index, 1)\n        }\n\n        if (Path.equals(path, end.path)) {\n          const leaf = Node.leaf(r, path)\n          leaf.text = leaf.text.slice(0, end.offset)\n        }\n\n        if (Path.equals(path, start.path)) {\n          const leaf = Node.leaf(r, path)\n          leaf.text = leaf.text.slice(start.offset)\n        }\n      }\n\n      if (Editor.isEditor(r)) {\n        r.selection = null\n      }\n    })\n\n    return newRoot.children\n  },\n\n  get(root: Node, path: Path): Node {\n    let node = root\n\n    for (let i = 0; i < path.length; i++) {\n      const p = path[i]\n\n      if (Text.isText(node) || !node.children[p]) {\n        throw new Error(\n          `Cannot find a descendant at path [${path}] in node: ${Scrubber.stringify(\n            root\n          )}`\n        )\n      }\n\n      node = node.children[p]\n    }\n\n    return node\n  },\n\n  has(root: Node, path: Path): boolean {\n    let node = root\n\n    for (let i = 0; i < path.length; i++) {\n      const p = path[i]\n\n      if (Text.isText(node) || !node.children[p]) {\n        return false\n      }\n\n      node = node.children[p]\n    }\n\n    return true\n  },\n\n  isNode(value: any): value is Node {\n    return (\n      Text.isText(value) || Element.isElement(value) || Editor.isEditor(value)\n    )\n  },\n\n  isNodeList(value: any): value is Node[] {\n    if (!Array.isArray(value)) {\n      return false\n    }\n    const cachedResult = IS_NODE_LIST_CACHE.get(value)\n    if (cachedResult !== undefined) {\n      return cachedResult\n    }\n    const isNodeList = value.every(val => Node.isNode(val))\n    IS_NODE_LIST_CACHE.set(value, isNodeList)\n    return isNodeList\n  },\n\n  last(root: Node, path: Path): NodeEntry {\n    const p = path.slice()\n    let n = Node.get(root, p)\n\n    while (n) {\n      if (Text.isText(n) || n.children.length === 0) {\n        break\n      } else {\n        const i = n.children.length - 1\n        n = n.children[i]\n        p.push(i)\n      }\n    }\n\n    return [n, p]\n  },\n\n  leaf(root: Node, path: Path): Text {\n    const node = Node.get(root, path)\n\n    if (!Text.isText(node)) {\n      throw new Error(\n        `Cannot get the leaf node at path [${path}] because it refers to a non-leaf node: ${Scrubber.stringify(\n          node\n        )}`\n      )\n    }\n\n    return node\n  },\n\n  *levels(\n    root: Node,\n    path: Path,\n    options: NodeLevelsOptions = {}\n  ): Generator<NodeEntry, void, undefined> {\n    for (const p of Path.levels(path, options)) {\n      const n = Node.get(root, p)\n      yield [n, p]\n    }\n  },\n\n  matches(node: Node, props: Partial<Node>): boolean {\n    return (\n      (Element.isElement(node) &&\n        Element.isElementProps(props) &&\n        Element.matches(node, props)) ||\n      (Text.isText(node) &&\n        Text.isTextProps(props) &&\n        Text.matches(node, props))\n    )\n  },\n\n  *nodes(\n    root: Node,\n    options: NodeNodesOptions = {}\n  ): Generator<NodeEntry, void, undefined> {\n    const { pass, reverse = false } = options\n    const { from = [], to } = options\n    const visited = new Set()\n    let p: Path = []\n    let n = root\n\n    while (true) {\n      if (to && (reverse ? Path.isBefore(p, to) : Path.isAfter(p, to))) {\n        break\n      }\n\n      if (!visited.has(n)) {\n        yield [n, p]\n      }\n\n      // If we're allowed to go downward and we haven't descended yet, do.\n      if (\n        !visited.has(n) &&\n        !Text.isText(n) &&\n        n.children.length !== 0 &&\n        (pass == null || pass([n, p]) === false)\n      ) {\n        visited.add(n)\n        let nextIndex = reverse ? n.children.length - 1 : 0\n\n        if (Path.isAncestor(p, from)) {\n          nextIndex = from[p.length]\n        }\n\n        p = p.concat(nextIndex)\n        n = Node.get(root, p)\n        continue\n      }\n\n      // If we're at the root and we can't go down, we're done.\n      if (p.length === 0) {\n        break\n      }\n\n      // If we're going forward...\n      if (!reverse) {\n        const newPath = Path.next(p)\n\n        if (Node.has(root, newPath)) {\n          p = newPath\n          n = Node.get(root, p)\n          continue\n        }\n      }\n\n      // If we're going backward...\n      if (reverse && p[p.length - 1] !== 0) {\n        const newPath = Path.previous(p)\n        p = newPath\n        n = Node.get(root, p)\n        continue\n      }\n\n      // Otherwise we're going upward...\n      p = Path.parent(p)\n      n = Node.get(root, p)\n      visited.add(n)\n    }\n  },\n\n  parent(root: Node, path: Path): Ancestor {\n    const parentPath = Path.parent(path)\n    const p = Node.get(root, parentPath)\n\n    if (Text.isText(p)) {\n      throw new Error(\n        `Cannot get the parent of path [${path}] because it does not exist in the root.`\n      )\n    }\n\n    return p\n  },\n\n  string(node: Node): string {\n    if (Text.isText(node)) {\n      return node.text\n    } else {\n      return node.children.map(Node.string).join('')\n    }\n  },\n\n  *texts(\n    root: Node,\n    options: NodeTextsOptions = {}\n  ): Generator<NodeEntry<Text>, void, undefined> {\n    for (const [node, path] of Node.nodes(root, options)) {\n      if (Text.isText(node)) {\n        yield [node, path]\n      }\n    }\n  },\n}\n\n/**\n * The `Descendant` union type represents nodes that are descendants in the\n * tree. It is returned as a convenience in certain cases to narrow a value\n * further than the more generic `Node` union.\n */\n\nexport type Descendant = Element | Text\n\n/**\n * The `Ancestor` union type represents nodes that are ancestors in the tree.\n * It is returned as a convenience in certain cases to narrow a value further\n * than the more generic `Node` union.\n */\n\nexport type Ancestor = Editor | Element\n\n/**\n * `NodeEntry` objects are returned when iterating over the nodes in a Slate\n * document tree. They consist of the node and its `Path` relative to the root\n * node in the document.\n */\n\nexport type NodeEntry<T extends Node = Node> = [T, Path]\n\n/**\n * Convenience type for returning the props of a node.\n */\nexport type NodeProps =\n  | Omit<Editor, 'children'>\n  | Omit<Element, 'children'>\n  | Omit<Text, 'text'>\n","import { ExtendedType, Node, Path, Range } from '..'\nimport { isPlainObject } from 'is-plain-object'\n\nexport type BaseInsertNodeOperation = {\n  type: 'insert_node'\n  path: Path\n  node: Node\n}\n\nexport type InsertNodeOperation = ExtendedType<\n  'InsertNodeOperation',\n  BaseInsertNodeOperation\n>\n\nexport type BaseInsertTextOperation = {\n  type: 'insert_text'\n  path: Path\n  offset: number\n  text: string\n}\n\nexport type InsertTextOperation = ExtendedType<\n  'InsertTextOperation',\n  BaseInsertTextOperation\n>\n\nexport type BaseMergeNodeOperation = {\n  type: 'merge_node'\n  path: Path\n  position: number\n  properties: Partial<Node>\n}\n\nexport type MergeNodeOperation = ExtendedType<\n  'MergeNodeOperation',\n  BaseMergeNodeOperation\n>\n\nexport type BaseMoveNodeOperation = {\n  type: 'move_node'\n  path: Path\n  newPath: Path\n}\n\nexport type MoveNodeOperation = ExtendedType<\n  'MoveNodeOperation',\n  BaseMoveNodeOperation\n>\n\nexport type BaseRemoveNodeOperation = {\n  type: 'remove_node'\n  path: Path\n  node: Node\n}\n\nexport type RemoveNodeOperation = ExtendedType<\n  'RemoveNodeOperation',\n  BaseRemoveNodeOperation\n>\n\nexport type BaseRemoveTextOperation = {\n  type: 'remove_text'\n  path: Path\n  offset: number\n  text: string\n}\n\nexport type RemoveTextOperation = ExtendedType<\n  'RemoveTextOperation',\n  BaseRemoveTextOperation\n>\n\nexport type BaseSetNodeOperation = {\n  type: 'set_node'\n  path: Path\n  properties: Partial<Node>\n  newProperties: Partial<Node>\n}\n\nexport type SetNodeOperation = ExtendedType<\n  'SetNodeOperation',\n  BaseSetNodeOperation\n>\n\nexport type BaseSetSelectionOperation =\n  | {\n      type: 'set_selection'\n      properties: null\n      newProperties: Range\n    }\n  | {\n      type: 'set_selection'\n      properties: Partial<Range>\n      newProperties: Partial<Range>\n    }\n  | {\n      type: 'set_selection'\n      properties: Range\n      newProperties: null\n    }\n\nexport type SetSelectionOperation = ExtendedType<\n  'SetSelectionOperation',\n  BaseSetSelectionOperation\n>\n\nexport type BaseSplitNodeOperation = {\n  type: 'split_node'\n  path: Path\n  position: number\n  properties: Partial<Node>\n}\n\nexport type SplitNodeOperation = ExtendedType<\n  'SplitNodeOperation',\n  BaseSplitNodeOperation\n>\n\nexport type NodeOperation =\n  | InsertNodeOperation\n  | MergeNodeOperation\n  | MoveNodeOperation\n  | RemoveNodeOperation\n  | SetNodeOperation\n  | SplitNodeOperation\n\nexport type SelectionOperation = SetSelectionOperation\n\nexport type TextOperation = InsertTextOperation | RemoveTextOperation\n\n/**\n * `Operation` objects define the low-level instructions that Slate editors use\n * to apply changes to their internal state. Representing all changes as\n * operations is what allows Slate editors to easily implement history,\n * collaboration, and other features.\n */\n\nexport type BaseOperation = NodeOperation | SelectionOperation | TextOperation\nexport type Operation = ExtendedType<'Operation', BaseOperation>\n\nexport interface OperationInterface {\n  /**\n   * Check if a value is a `NodeOperation` object.\n   */\n  isNodeOperation: (value: any) => value is NodeOperation\n\n  /**\n   * Check if a value is an `Operation` object.\n   */\n  isOperation: (value: any) => value is Operation\n\n  /**\n   * Check if a value is a list of `Operation` objects.\n   */\n  isOperationList: (value: any) => value is Operation[]\n\n  /**\n   * Check if a value is a `SelectionOperation` object.\n   */\n  isSelectionOperation: (value: any) => value is SelectionOperation\n\n  /**\n   * Check if a value is a `TextOperation` object.\n   */\n  isTextOperation: (value: any) => value is TextOperation\n\n  /**\n   * Invert an operation, returning a new operation that will exactly undo the\n   * original when applied.\n   */\n  inverse: (op: Operation) => Operation\n}\n\n// eslint-disable-next-line no-redeclare\nexport const Operation: OperationInterface = {\n  isNodeOperation(value: any): value is NodeOperation {\n    return Operation.isOperation(value) && value.type.endsWith('_node')\n  },\n\n  isOperation(value: any): value is Operation {\n    if (!isPlainObject(value)) {\n      return false\n    }\n\n    switch (value.type) {\n      case 'insert_node':\n        return Path.isPath(value.path) && Node.isNode(value.node)\n      case 'insert_text':\n        return (\n          typeof value.offset === 'number' &&\n          typeof value.text === 'string' &&\n          Path.isPath(value.path)\n        )\n      case 'merge_node':\n        return (\n          typeof value.position === 'number' &&\n          Path.isPath(value.path) &&\n          isPlainObject(value.properties)\n        )\n      case 'move_node':\n        return Path.isPath(value.path) && Path.isPath(value.newPath)\n      case 'remove_node':\n        return Path.isPath(value.path) && Node.isNode(value.node)\n      case 'remove_text':\n        return (\n          typeof value.offset === 'number' &&\n          typeof value.text === 'string' &&\n          Path.isPath(value.path)\n        )\n      case 'set_node':\n        return (\n          Path.isPath(value.path) &&\n          isPlainObject(value.properties) &&\n          isPlainObject(value.newProperties)\n        )\n      case 'set_selection':\n        return (\n          (value.properties === null && Range.isRange(value.newProperties)) ||\n          (value.newProperties === null && Range.isRange(value.properties)) ||\n          (isPlainObject(value.properties) &&\n            isPlainObject(value.newProperties))\n        )\n      case 'split_node':\n        return (\n          Path.isPath(value.path) &&\n          typeof value.position === 'number' &&\n          isPlainObject(value.properties)\n        )\n      default:\n        return false\n    }\n  },\n\n  isOperationList(value: any): value is Operation[] {\n    return (\n      Array.isArray(value) && value.every(val => Operation.isOperation(val))\n    )\n  },\n\n  isSelectionOperation(value: any): value is SelectionOperation {\n    return Operation.isOperation(value) && value.type.endsWith('_selection')\n  },\n\n  isTextOperation(value: any): value is TextOperation {\n    return Operation.isOperation(value) && value.type.endsWith('_text')\n  },\n\n  inverse(op: Operation): Operation {\n    switch (op.type) {\n      case 'insert_node': {\n        return { ...op, type: 'remove_node' }\n      }\n\n      case 'insert_text': {\n        return { ...op, type: 'remove_text' }\n      }\n\n      case 'merge_node': {\n        return { ...op, type: 'split_node', path: Path.previous(op.path) }\n      }\n\n      case 'move_node': {\n        const { newPath, path } = op\n\n        // PERF: in this case the move operation is a no-op anyways.\n        if (Path.equals(newPath, path)) {\n          return op\n        }\n\n        // If the move happens completely within a single parent the path and\n        // newPath are stable with respect to each other.\n        if (Path.isSibling(path, newPath)) {\n          return { ...op, path: newPath, newPath: path }\n        }\n\n        // If the move does not happen within a single parent it is possible\n        // for the move to impact the true path to the location where the node\n        // was removed from and where it was inserted. We have to adjust for this\n        // and find the original path. We can accomplish this (only in non-sibling)\n        // moves by looking at the impact of the move operation on the node\n        // after the original move path.\n        const inversePath = Path.transform(path, op)!\n        const inverseNewPath = Path.transform(Path.next(path), op)!\n        return { ...op, path: inversePath, newPath: inverseNewPath }\n      }\n\n      case 'remove_node': {\n        return { ...op, type: 'insert_node' }\n      }\n\n      case 'remove_text': {\n        return { ...op, type: 'insert_text' }\n      }\n\n      case 'set_node': {\n        const { properties, newProperties } = op\n        return { ...op, properties: newProperties, newProperties: properties }\n      }\n\n      case 'set_selection': {\n        const { properties, newProperties } = op\n\n        if (properties == null) {\n          return {\n            ...op,\n            properties: newProperties as Range,\n            newProperties: null,\n          }\n        } else if (newProperties == null) {\n          return {\n            ...op,\n            properties: null,\n            newProperties: properties as Range,\n          }\n        } else {\n          return { ...op, properties: newProperties, newProperties: properties }\n        }\n      }\n\n      case 'split_node': {\n        return { ...op, type: 'merge_node', path: Path.next(op.path) }\n      }\n    }\n  },\n}\n","import { Editor, EditorInterface } from '../interfaces/editor'\nimport { isPlainObject } from 'is-plain-object'\nimport { Range } from '../interfaces/range'\nimport { Node } from '../interfaces/node'\nimport { Operation } from '../interfaces/operation'\n\nconst IS_EDITOR_CACHE = new WeakMap<object, boolean>()\n\nexport const isEditor: EditorInterface['isEditor'] = (\n  value: any\n): value is Editor => {\n  const cachedIsEditor = IS_EDITOR_CACHE.get(value)\n  if (cachedIsEditor !== undefined) {\n    return cachedIsEditor\n  }\n\n  if (!isPlainObject(value)) {\n    return false\n  }\n\n  const isEditor =\n    typeof value.addMark === 'function' &&\n    typeof value.apply === 'function' &&\n    typeof value.deleteFragment === 'function' &&\n    typeof value.insertBreak === 'function' &&\n    typeof value.insertSoftBreak === 'function' &&\n    typeof value.insertFragment === 'function' &&\n    typeof value.insertNode === 'function' &&\n    typeof value.insertText === 'function' &&\n    typeof value.isElementReadOnly === 'function' &&\n    typeof value.isInline === 'function' &&\n    typeof value.isSelectable === 'function' &&\n    typeof value.isVoid === 'function' &&\n    typeof value.normalizeNode === 'function' &&\n    typeof value.onChange === 'function' &&\n    typeof value.removeMark === 'function' &&\n    typeof value.getDirtyPaths === 'function' &&\n    (value.marks === null || isPlainObject(value.marks)) &&\n    (value.selection === null || Range.isRange(value.selection)) &&\n    Node.isNodeList(value.children) &&\n    Operation.isOperationList(value.operations)\n  IS_EDITOR_CACHE.set(value, isEditor)\n  return isEditor\n}\n","import {\n  Ancestor,\n  Descendant,\n  Element,\n  ExtendedType,\n  Location,\n  Node,\n  NodeEntry,\n  Operation,\n  Path,\n  PathRef,\n  Point,\n  PointRef,\n  Range,\n  RangeRef,\n  Span,\n  Text,\n  Transforms,\n} from '..'\nimport {\n  LeafEdge,\n  MaximizeMode,\n  RangeDirection,\n  SelectionMode,\n  TextDirection,\n  TextUnit,\n  TextUnitAdjustment,\n} from '../types/types'\nimport { OmitFirstArg } from '../utils/types'\nimport { isEditor } from '../editor/is-editor'\nimport {\n  TextInsertFragmentOptions,\n  TextInsertTextOptions,\n} from './transforms/text'\nimport { NodeInsertNodesOptions } from './transforms/node'\n\n/**\n * The `Editor` interface stores all the state of a Slate editor. It is extended\n * by plugins that wish to add their own helpers and implement new behaviors.\n */\nexport interface BaseEditor {\n  // Core state.\n\n  children: Descendant[]\n  selection: Selection\n  operations: Operation[]\n  marks: EditorMarks | null\n\n  // Overrideable core methods.\n\n  apply: (operation: Operation) => void\n  getDirtyPaths: (operation: Operation) => Path[]\n  getFragment: () => Descendant[]\n  isElementReadOnly: (element: Element) => boolean\n  isSelectable: (element: Element) => boolean\n  markableVoid: (element: Element) => boolean\n  normalizeNode: (entry: NodeEntry, options?: { operation?: Operation }) => void\n  onChange: (options?: { operation?: Operation }) => void\n  shouldNormalize: ({\n    iteration,\n    dirtyPaths,\n    operation,\n  }: {\n    iteration: number\n    initialDirtyPathsLength: number\n    dirtyPaths: Path[]\n    operation?: Operation\n  }) => boolean\n\n  // Overrideable core transforms.\n\n  addMark: OmitFirstArg<typeof Editor.addMark>\n  collapse: OmitFirstArg<typeof Transforms.collapse>\n  delete: OmitFirstArg<typeof Transforms.delete>\n  deleteBackward: (unit: TextUnit) => void\n  deleteForward: (unit: TextUnit) => void\n  deleteFragment: OmitFirstArg<typeof Editor.deleteFragment>\n  deselect: OmitFirstArg<typeof Transforms.deselect>\n  insertBreak: OmitFirstArg<typeof Editor.insertBreak>\n  insertFragment: OmitFirstArg<typeof Transforms.insertFragment>\n  insertNode: OmitFirstArg<typeof Editor.insertNode>\n  insertNodes: OmitFirstArg<typeof Transforms.insertNodes>\n  insertSoftBreak: OmitFirstArg<typeof Editor.insertSoftBreak>\n  insertText: OmitFirstArg<typeof Transforms.insertText>\n  liftNodes: OmitFirstArg<typeof Transforms.liftNodes>\n  mergeNodes: OmitFirstArg<typeof Transforms.mergeNodes>\n  move: OmitFirstArg<typeof Transforms.move>\n  moveNodes: OmitFirstArg<typeof Transforms.moveNodes>\n  normalize: OmitFirstArg<typeof Editor.normalize>\n  removeMark: OmitFirstArg<typeof Editor.removeMark>\n  removeNodes: OmitFirstArg<typeof Transforms.removeNodes>\n  select: OmitFirstArg<typeof Transforms.select>\n  setNodes: <T extends Node>(\n    props: Partial<T>,\n    options?: {\n      at?: Location\n      match?: NodeMatch<T>\n      mode?: MaximizeMode\n      hanging?: boolean\n      split?: boolean\n      voids?: boolean\n      compare?: PropsCompare\n      merge?: PropsMerge\n    }\n  ) => void\n  setNormalizing: OmitFirstArg<typeof Editor.setNormalizing>\n  setPoint: OmitFirstArg<typeof Transforms.setPoint>\n  setSelection: OmitFirstArg<typeof Transforms.setSelection>\n  splitNodes: OmitFirstArg<typeof Transforms.splitNodes>\n  unsetNodes: OmitFirstArg<typeof Transforms.unsetNodes>\n  unwrapNodes: OmitFirstArg<typeof Transforms.unwrapNodes>\n  withoutNormalizing: OmitFirstArg<typeof Editor.withoutNormalizing>\n  wrapNodes: OmitFirstArg<typeof Transforms.wrapNodes>\n\n  // Overrideable core queries.\n\n  above: <T extends Ancestor>(\n    options?: EditorAboveOptions<T>\n  ) => NodeEntry<T> | undefined\n  after: OmitFirstArg<typeof Editor.after>\n  before: OmitFirstArg<typeof Editor.before>\n  edges: OmitFirstArg<typeof Editor.edges>\n  elementReadOnly: OmitFirstArg<typeof Editor.elementReadOnly>\n  end: OmitFirstArg<typeof Editor.end>\n  first: OmitFirstArg<typeof Editor.first>\n  fragment: OmitFirstArg<typeof Editor.fragment>\n  getMarks: OmitFirstArg<typeof Editor.marks>\n  hasBlocks: OmitFirstArg<typeof Editor.hasBlocks>\n  hasInlines: OmitFirstArg<typeof Editor.hasInlines>\n  hasPath: OmitFirstArg<typeof Editor.hasPath>\n  hasTexts: OmitFirstArg<typeof Editor.hasTexts>\n  isBlock: OmitFirstArg<typeof Editor.isBlock>\n  isEdge: OmitFirstArg<typeof Editor.isEdge>\n  isEmpty: OmitFirstArg<typeof Editor.isEmpty>\n  isEnd: OmitFirstArg<typeof Editor.isEnd>\n  isInline: OmitFirstArg<typeof Editor.isInline>\n  isNormalizing: OmitFirstArg<typeof Editor.isNormalizing>\n  isStart: OmitFirstArg<typeof Editor.isStart>\n  isVoid: OmitFirstArg<typeof Editor.isVoid>\n  last: OmitFirstArg<typeof Editor.last>\n  leaf: OmitFirstArg<typeof Editor.leaf>\n  levels: <T extends Node>(\n    options?: EditorLevelsOptions<T>\n  ) => Generator<NodeEntry<T>, void, undefined>\n  next: <T extends Descendant>(\n    options?: EditorNextOptions<T>\n  ) => NodeEntry<T> | undefined\n  node: OmitFirstArg<typeof Editor.node>\n  nodes: <T extends Node>(\n    options?: EditorNodesOptions<T>\n  ) => Generator<NodeEntry<T>, void, undefined>\n  parent: OmitFirstArg<typeof Editor.parent>\n  path: OmitFirstArg<typeof Editor.path>\n  pathRef: OmitFirstArg<typeof Editor.pathRef>\n  pathRefs: OmitFirstArg<typeof Editor.pathRefs>\n  point: OmitFirstArg<typeof Editor.point>\n  pointRef: OmitFirstArg<typeof Editor.pointRef>\n  pointRefs: OmitFirstArg<typeof Editor.pointRefs>\n  positions: OmitFirstArg<typeof Editor.positions>\n  previous: <T extends Node>(\n    options?: EditorPreviousOptions<T>\n  ) => NodeEntry<T> | undefined\n  range: OmitFirstArg<typeof Editor.range>\n  rangeRef: OmitFirstArg<typeof Editor.rangeRef>\n  rangeRefs: OmitFirstArg<typeof Editor.rangeRefs>\n  start: OmitFirstArg<typeof Editor.start>\n  string: OmitFirstArg<typeof Editor.string>\n  unhangRange: OmitFirstArg<typeof Editor.unhangRange>\n  void: OmitFirstArg<typeof Editor.void>\n}\n\nexport type Editor = ExtendedType<'Editor', BaseEditor>\n\nexport type BaseSelection = Range | null\n\nexport type Selection = ExtendedType<'Selection', BaseSelection>\n\nexport type EditorMarks = Omit<Text, 'text'>\n\nexport interface EditorAboveOptions<T extends Ancestor> {\n  at?: Location\n  match?: NodeMatch<T>\n  mode?: MaximizeMode\n  voids?: boolean\n}\n\nexport interface EditorAfterOptions {\n  distance?: number\n  unit?: TextUnitAdjustment\n  voids?: boolean\n}\n\nexport interface EditorBeforeOptions {\n  distance?: number\n  unit?: TextUnitAdjustment\n  voids?: boolean\n}\n\nexport interface EditorDirectedDeletionOptions {\n  unit?: TextUnit\n}\n\nexport interface EditorElementReadOnlyOptions {\n  at?: Location\n  mode?: MaximizeMode\n  voids?: boolean\n}\n\nexport interface EditorFragmentDeletionOptions {\n  direction?: TextDirection\n}\n\nexport interface EditorLeafOptions {\n  depth?: number\n  edge?: LeafEdge\n}\n\nexport interface EditorLevelsOptions<T extends Node> {\n  at?: Location\n  match?: NodeMatch<T>\n  reverse?: boolean\n  voids?: boolean\n}\n\nexport interface EditorNextOptions<T extends Descendant> {\n  at?: Location\n  match?: NodeMatch<T>\n  mode?: SelectionMode\n  voids?: boolean\n}\n\nexport interface EditorNodeOptions {\n  depth?: number\n  edge?: LeafEdge\n}\n\nexport interface EditorNodesOptions<T extends Node> {\n  at?: Location | Span\n  match?: NodeMatch<T>\n  mode?: SelectionMode\n  universal?: boolean\n  reverse?: boolean\n  voids?: boolean\n  ignoreNonSelectable?: boolean\n}\n\nexport interface EditorNormalizeOptions {\n  force?: boolean\n  operation?: Operation\n}\n\nexport interface EditorParentOptions {\n  depth?: number\n  edge?: LeafEdge\n}\n\nexport interface EditorPathOptions {\n  depth?: number\n  edge?: LeafEdge\n}\n\nexport interface EditorPathRefOptions {\n  affinity?: TextDirection | null\n}\n\nexport interface EditorPointOptions {\n  edge?: LeafEdge\n}\n\nexport interface EditorPointRefOptions {\n  affinity?: TextDirection | null\n}\n\nexport interface EditorPositionsOptions {\n  at?: Location\n  unit?: TextUnitAdjustment\n  reverse?: boolean\n  voids?: boolean\n  ignoreNonSelectable?: boolean\n}\n\nexport interface EditorPreviousOptions<T extends Node> {\n  at?: Location\n  match?: NodeMatch<T>\n  mode?: SelectionMode\n  voids?: boolean\n}\n\nexport interface EditorRangeRefOptions {\n  affinity?: RangeDirection | null\n}\n\nexport interface EditorStringOptions {\n  voids?: boolean\n}\n\nexport interface EditorUnhangRangeOptions {\n  voids?: boolean\n}\n\nexport interface EditorVoidOptions {\n  at?: Location\n  mode?: MaximizeMode\n  voids?: boolean\n}\n\nexport interface EditorInterface {\n  /**\n   * Get the ancestor above a location in the document.\n   */\n  above: <T extends Ancestor>(\n    editor: Editor,\n    options?: EditorAboveOptions<T>\n  ) => NodeEntry<T> | undefined\n\n  /**\n   * Add a custom property to the leaf text nodes in the current selection.\n   *\n   * If the selection is currently collapsed, the marks will be added to the\n   * `editor.marks` property instead, and applied when text is inserted next.\n   */\n  addMark: (editor: Editor, key: string, value: any) => void\n\n  /**\n   * Get the point after a location.\n   */\n  after: (\n    editor: Editor,\n    at: Location,\n    options?: EditorAfterOptions\n  ) => Point | undefined\n\n  /**\n   * Get the point before a location.\n   */\n  before: (\n    editor: Editor,\n    at: Location,\n    options?: EditorBeforeOptions\n  ) => Point | undefined\n\n  /**\n   * Delete content in the editor backward from the current selection.\n   */\n  deleteBackward: (\n    editor: Editor,\n    options?: EditorDirectedDeletionOptions\n  ) => void\n\n  /**\n   * Delete content in the editor forward from the current selection.\n   */\n  deleteForward: (\n    editor: Editor,\n    options?: EditorDirectedDeletionOptions\n  ) => void\n\n  /**\n   * Delete the content in the current selection.\n   */\n  deleteFragment: (\n    editor: Editor,\n    options?: EditorFragmentDeletionOptions\n  ) => void\n\n  /**\n   * Get the start and end points of a location.\n   */\n  edges: (editor: Editor, at: Location) => [Point, Point]\n\n  /**\n   * Match a read-only element in the current branch of the editor.\n   */\n  elementReadOnly: (\n    editor: Editor,\n    options?: EditorElementReadOnlyOptions\n  ) => NodeEntry<Element> | undefined\n\n  /**\n   * Get the end point of a location.\n   */\n  end: (editor: Editor, at: Location) => Point\n\n  /**\n   * Get the first node at a location.\n   */\n  first: (editor: Editor, at: Location) => NodeEntry\n\n  /**\n   * Get the fragment at a location.\n   */\n  fragment: (editor: Editor, at: Location) => Descendant[]\n\n  /**\n   * Check if a node has block children.\n   */\n  hasBlocks: (editor: Editor, element: Element) => boolean\n\n  /**\n   * Check if a node has inline and text children.\n   */\n  hasInlines: (editor: Editor, element: Element) => boolean\n\n  hasPath: (editor: Editor, path: Path) => boolean\n\n  /**\n   * Check if a node has text children.\n   */\n  hasTexts: (editor: Editor, element: Element) => boolean\n\n  /**\n   * Insert a block break at the current selection.\n   *\n   * If the selection is currently expanded, it will be deleted first.\n   */\n  insertBreak: (editor: Editor) => void\n\n  /**\n   * Inserts a fragment\n   * at the specified location or (if not defined) the current selection or (if not defined) the end of the document.\n   */\n  insertFragment: (\n    editor: Editor,\n    fragment: Node[],\n    options?: TextInsertFragmentOptions\n  ) => void\n\n  /**\n   * Atomically inserts `nodes`\n   * at the specified location or (if not defined) the current selection or (if not defined) the end of the document.\n   */\n  insertNode: <T extends Node>(\n    editor: Editor,\n    node: Node,\n    options?: NodeInsertNodesOptions<T>\n  ) => void\n\n  /**\n   * Insert a soft break at the current selection.\n   *\n   * If the selection is currently expanded, it will be deleted first.\n   */\n  insertSoftBreak: (editor: Editor) => void\n\n  /**\n   * Insert a string of text\n   * at the specified location or (if not defined) the current selection or (if not defined) the end of the document.\n   */\n  insertText: (\n    editor: Editor,\n    text: string,\n    options?: TextInsertTextOptions\n  ) => void\n\n  /**\n   * Check if a value is a block `Element` object.\n   */\n  isBlock: (editor: Editor, value: Element) => boolean\n\n  /**\n   * Check if a point is an edge of a location.\n   */\n  isEdge: (editor: Editor, point: Point, at: Location) => boolean\n\n  /**\n   * Check if a value is an `Editor` object.\n   */\n  isEditor: (value: any) => value is Editor\n\n  /**\n   * Check if a value is a read-only `Element` object.\n   */\n  isElementReadOnly: (editor: Editor, element: Element) => boolean\n\n  /**\n   * Check if an element is empty, accounting for void nodes.\n   */\n  isEmpty: (editor: Editor, element: Element) => boolean\n\n  /**\n   * Check if a point is the end point of a location.\n   */\n  isEnd: (editor: Editor, point: Point, at: Location) => boolean\n\n  /**\n   * Check if a value is an inline `Element` object.\n   */\n  isInline: (editor: Editor, value: Element) => boolean\n\n  /**\n   * Check if the editor is currently normalizing after each operation.\n   */\n  isNormalizing: (editor: Editor) => boolean\n\n  /**\n   * Check if a value is a selectable `Element` object.\n   */\n  isSelectable: (editor: Editor, element: Element) => boolean\n\n  /**\n   * Check if a point is the start point of a location.\n   */\n  isStart: (editor: Editor, point: Point, at: Location) => boolean\n\n  /**\n   * Check if a value is a void `Element` object.\n   */\n  isVoid: (editor: Editor, value: Element) => boolean\n\n  /**\n   * Get the last node at a location.\n   */\n  last: (editor: Editor, at: Location) => NodeEntry\n\n  /**\n   * Get the leaf text node at a location.\n   */\n  leaf: (\n    editor: Editor,\n    at: Location,\n    options?: EditorLeafOptions\n  ) => NodeEntry<Text>\n\n  /**\n   * Iterate through all of the levels at a location.\n   */\n  levels: <T extends Node>(\n    editor: Editor,\n    options?: EditorLevelsOptions<T>\n  ) => Generator<NodeEntry<T>, void, undefined>\n\n  /**\n   * Get the marks that would be added to text at the current selection.\n   */\n  marks: (editor: Editor) => Omit<Text, 'text'> | null\n\n  /**\n   * Get the matching node in the branch of the document after a location.\n   */\n  next: <T extends Descendant>(\n    editor: Editor,\n    options?: EditorNextOptions<T>\n  ) => NodeEntry<T> | undefined\n\n  /**\n   * Get the node at a location.\n   */\n  node: (editor: Editor, at: Location, options?: EditorNodeOptions) => NodeEntry\n\n  /**\n   * Iterate through all of the nodes in the Editor.\n   */\n  nodes: <T extends Node>(\n    editor: Editor,\n    options?: EditorNodesOptions<T>\n  ) => Generator<NodeEntry<T>, void, undefined>\n\n  /**\n   * Normalize any dirty objects in the editor.\n   */\n  normalize: (editor: Editor, options?: EditorNormalizeOptions) => void\n\n  /**\n   * Get the parent node of a location.\n   */\n  parent: (\n    editor: Editor,\n    at: Location,\n    options?: EditorParentOptions\n  ) => NodeEntry<Ancestor>\n\n  /**\n   * Get the path of a location.\n   */\n  path: (editor: Editor, at: Location, options?: EditorPathOptions) => Path\n\n  /**\n   * Create a mutable ref for a `Path` object, which will stay in sync as new\n   * operations are applied to the editor.\n   */\n  pathRef: (\n    editor: Editor,\n    path: Path,\n    options?: EditorPathRefOptions\n  ) => PathRef\n\n  /**\n   * Get the set of currently tracked path refs of the editor.\n   */\n  pathRefs: (editor: Editor) => Set<PathRef>\n\n  /**\n   * Get the start or end point of a location.\n   */\n  point: (editor: Editor, at: Location, options?: EditorPointOptions) => Point\n\n  /**\n   * Create a mutable ref for a `Point` object, which will stay in sync as new\n   * operations are applied to the editor.\n   */\n  pointRef: (\n    editor: Editor,\n    point: Point,\n    options?: EditorPointRefOptions\n  ) => PointRef\n\n  /**\n   * Get the set of currently tracked point refs of the editor.\n   */\n  pointRefs: (editor: Editor) => Set<PointRef>\n\n  /**\n   * Return all the positions in `at` range where a `Point` can be placed.\n   *\n   * By default, moves forward by individual offsets at a time, but\n   * the `unit` option can be used to to move by character, word, line, or block.\n   *\n   * The `reverse` option can be used to change iteration direction.\n   *\n   * Note: By default void nodes are treated as a single point and iteration\n   * will not happen inside their content unless you pass in true for the\n   * `voids` option, then iteration will occur.\n   */\n  positions: (\n    editor: Editor,\n    options?: EditorPositionsOptions\n  ) => Generator<Point, void, undefined>\n\n  /**\n   * Get the matching node in the branch of the document before a location.\n   */\n  previous: <T extends Node>(\n    editor: Editor,\n    options?: EditorPreviousOptions<T>\n  ) => NodeEntry<T> | undefined\n\n  /**\n   * Get a range of a location.\n   */\n  range: (editor: Editor, at: Location, to?: Location) => Range\n\n  /**\n   * Create a mutable ref for a `Range` object, which will stay in sync as new\n   * operations are applied to the editor.\n   */\n  rangeRef: (\n    editor: Editor,\n    range: Range,\n    options?: EditorRangeRefOptions\n  ) => RangeRef\n\n  /**\n   * Get the set of currently tracked range refs of the editor.\n   */\n  rangeRefs: (editor: Editor) => Set<RangeRef>\n\n  /**\n   * Remove a custom property from all of the leaf text nodes in the current\n   * selection.\n   *\n   * If the selection is currently collapsed, the removal will be stored on\n   * `editor.marks` and applied to the text inserted next.\n   */\n  removeMark: (editor: Editor, key: string) => void\n\n  /**\n   * Manually set if the editor should currently be normalizing.\n   *\n   * Note: Using this incorrectly can leave the editor in an invalid state.\n   *\n   */\n  setNormalizing: (editor: Editor, isNormalizing: boolean) => void\n\n  /**\n   * Get the start point of a location.\n   */\n  start: (editor: Editor, at: Location) => Point\n\n  /**\n   * Get the text string content of a location.\n   *\n   * Note: by default the text of void nodes is considered to be an empty\n   * string, regardless of content, unless you pass in true for the voids option\n   */\n  string: (\n    editor: Editor,\n    at: Location,\n    options?: EditorStringOptions\n  ) => string\n\n  /**\n   * Convert a range into a non-hanging one.\n   */\n  unhangRange: (\n    editor: Editor,\n    range: Range,\n    options?: EditorUnhangRangeOptions\n  ) => Range\n\n  /**\n   * Match a void node in the current branch of the editor.\n   */\n  void: (\n    editor: Editor,\n    options?: EditorVoidOptions\n  ) => NodeEntry<Element> | undefined\n\n  /**\n   * Call a function, deferring normalization until after it completes.\n   */\n  withoutNormalizing: (editor: Editor, fn: () => void) => void\n}\n\n// eslint-disable-next-line no-redeclare\nexport const Editor: EditorInterface = {\n  above(editor, options) {\n    return editor.above(options)\n  },\n\n  addMark(editor, key, value) {\n    editor.addMark(key, value)\n  },\n\n  after(editor, at, options) {\n    return editor.after(at, options)\n  },\n\n  before(editor, at, options) {\n    return editor.before(at, options)\n  },\n\n  deleteBackward(editor, options = {}) {\n    const { unit = 'character' } = options\n    editor.deleteBackward(unit)\n  },\n\n  deleteForward(editor, options = {}) {\n    const { unit = 'character' } = options\n    editor.deleteForward(unit)\n  },\n\n  deleteFragment(editor, options) {\n    editor.deleteFragment(options)\n  },\n\n  edges(editor, at) {\n    return editor.edges(at)\n  },\n\n  elementReadOnly(editor: Editor, options: EditorElementReadOnlyOptions = {}) {\n    return editor.elementReadOnly(options)\n  },\n\n  end(editor, at) {\n    return editor.end(at)\n  },\n\n  first(editor, at) {\n    return editor.first(at)\n  },\n\n  fragment(editor, at) {\n    return editor.fragment(at)\n  },\n\n  hasBlocks(editor, element) {\n    return editor.hasBlocks(element)\n  },\n\n  hasInlines(editor, element) {\n    return editor.hasInlines(element)\n  },\n\n  hasPath(editor, path) {\n    return editor.hasPath(path)\n  },\n\n  hasTexts(editor, element) {\n    return editor.hasTexts(element)\n  },\n\n  insertBreak(editor) {\n    editor.insertBreak()\n  },\n\n  insertFragment(editor, fragment, options) {\n    editor.insertFragment(fragment, options)\n  },\n\n  insertNode(editor, node) {\n    editor.insertNode(node)\n  },\n\n  insertSoftBreak(editor) {\n    editor.insertSoftBreak()\n  },\n\n  insertText(editor, text) {\n    editor.insertText(text)\n  },\n\n  isBlock(editor, value) {\n    return editor.isBlock(value)\n  },\n\n  isEdge(editor, point, at) {\n    return editor.isEdge(point, at)\n  },\n\n  isEditor(value: any): value is Editor {\n    return isEditor(value)\n  },\n\n  isElementReadOnly(editor, element) {\n    return editor.isElementReadOnly(element)\n  },\n\n  isEmpty(editor, element) {\n    return editor.isEmpty(element)\n  },\n\n  isEnd(editor, point, at) {\n    return editor.isEnd(point, at)\n  },\n\n  isInline(editor, value) {\n    return editor.isInline(value)\n  },\n\n  isNormalizing(editor) {\n    return editor.isNormalizing()\n  },\n\n  isSelectable(editor: Editor, value: Element) {\n    return editor.isSelectable(value)\n  },\n\n  isStart(editor, point, at) {\n    return editor.isStart(point, at)\n  },\n\n  isVoid(editor, value) {\n    return editor.isVoid(value)\n  },\n\n  last(editor, at) {\n    return editor.last(at)\n  },\n\n  leaf(editor, at, options) {\n    return editor.leaf(at, options)\n  },\n\n  levels(editor, options) {\n    return editor.levels(options)\n  },\n\n  marks(editor) {\n    return editor.getMarks()\n  },\n\n  next<T extends Descendant>(\n    editor: Editor,\n    options?: EditorNextOptions<T>\n  ): NodeEntry<T> | undefined {\n    return editor.next(options)\n  },\n\n  node(editor, at, options) {\n    return editor.node(at, options)\n  },\n\n  nodes(editor, options) {\n    return editor.nodes(options)\n  },\n\n  normalize(editor, options) {\n    editor.normalize(options)\n  },\n\n  parent(editor, at, options) {\n    return editor.parent(at, options)\n  },\n\n  path(editor, at, options) {\n    return editor.path(at, options)\n  },\n\n  pathRef(editor, path, options) {\n    return editor.pathRef(path, options)\n  },\n\n  pathRefs(editor) {\n    return editor.pathRefs()\n  },\n\n  point(editor, at, options) {\n    return editor.point(at, options)\n  },\n\n  pointRef(editor, point, options) {\n    return editor.pointRef(point, options)\n  },\n\n  pointRefs(editor) {\n    return editor.pointRefs()\n  },\n\n  positions(editor, options) {\n    return editor.positions(options)\n  },\n\n  previous(editor, options) {\n    return editor.previous(options)\n  },\n\n  range(editor, at, to) {\n    return editor.range(at, to)\n  },\n\n  rangeRef(editor, range, options) {\n    return editor.rangeRef(range, options)\n  },\n\n  rangeRefs(editor) {\n    return editor.rangeRefs()\n  },\n\n  removeMark(editor, key) {\n    editor.removeMark(key)\n  },\n\n  setNormalizing(editor, isNormalizing) {\n    editor.setNormalizing(isNormalizing)\n  },\n\n  start(editor, at) {\n    return editor.start(at)\n  },\n\n  string(editor, at, options) {\n    return editor.string(at, options)\n  },\n\n  unhangRange(editor, range, options) {\n    return editor.unhangRange(range, options)\n  },\n\n  void(editor, options) {\n    return editor.void(options)\n  },\n\n  withoutNormalizing(editor, fn: () => void) {\n    editor.withoutNormalizing(fn)\n  },\n}\n\n/**\n * A helper type for narrowing matched nodes with a predicate.\n */\n\nexport type NodeMatch<T extends Node> =\n  | ((node: Node, path: Path) => node is T)\n  | ((node: Node, path: Path) => boolean)\n\nexport type PropsCompare = (prop: Partial<Node>, node: Partial<Node>) => boolean\nexport type PropsMerge = (prop: Partial<Node>, node: Partial<Node>) => object\n","import { isPlainObject } from 'is-plain-object'\nimport { produce } from 'immer'\nimport { ExtendedType, Operation, Path } from '..'\nimport { TextDirection } from '../types/types'\n\n/**\n * `Point` objects refer to a specific location in a text node in a Slate\n * document. Its path refers to the location of the node in the tree, and its\n * offset refers to the distance into the node's string of text. Points can\n * only refer to `Text` nodes.\n */\n\nexport interface BasePoint {\n  path: Path\n  offset: number\n}\n\nexport type Point = ExtendedType<'Point', BasePoint>\n\nexport interface PointTransformOptions {\n  affinity?: TextDirection | null\n}\n\nexport interface PointInterface {\n  /**\n   * Compare a point to another, returning an integer indicating whether the\n   * point was before, at, or after the other.\n   */\n  compare: (point: Point, another: Point) => -1 | 0 | 1\n\n  /**\n   * Check if a point is after another.\n   */\n  isAfter: (point: Point, another: Point) => boolean\n\n  /**\n   * Check if a point is before another.\n   */\n  isBefore: (point: Point, another: Point) => boolean\n\n  /**\n   * Check if a point is exactly equal to another.\n   */\n  equals: (point: Point, another: Point) => boolean\n\n  /**\n   * Check if a value implements the `Point` interface.\n   */\n  isPoint: (value: any) => value is Point\n\n  /**\n   * Transform a point by an operation.\n   */\n  transform: (\n    point: Point,\n    op: Operation,\n    options?: PointTransformOptions\n  ) => Point | null\n}\n\n// eslint-disable-next-line no-redeclare\nexport const Point: PointInterface = {\n  compare(point: Point, another: Point): -1 | 0 | 1 {\n    const result = Path.compare(point.path, another.path)\n\n    if (result === 0) {\n      if (point.offset < another.offset) return -1\n      if (point.offset > another.offset) return 1\n      return 0\n    }\n\n    return result\n  },\n\n  isAfter(point: Point, another: Point): boolean {\n    return Point.compare(point, another) === 1\n  },\n\n  isBefore(point: Point, another: Point): boolean {\n    return Point.compare(point, another) === -1\n  },\n\n  equals(point: Point, another: Point): boolean {\n    // PERF: ensure the offsets are equal first since they are cheaper to check.\n    return (\n      point.offset === another.offset && Path.equals(point.path, another.path)\n    )\n  },\n\n  isPoint(value: any): value is Point {\n    return (\n      isPlainObject(value) &&\n      typeof value.offset === 'number' &&\n      Path.isPath(value.path)\n    )\n  },\n\n  transform(\n    point: Point | null,\n    op: Operation,\n    options: PointTransformOptions = {}\n  ): Point | null {\n    return produce(point, p => {\n      if (p === null) {\n        return null\n      }\n      const { affinity = 'forward' } = options\n      const { path, offset } = p\n\n      switch (op.type) {\n        case 'insert_node':\n        case 'move_node': {\n          p.path = Path.transform(path, op, options)!\n          break\n        }\n\n        case 'insert_text': {\n          if (\n            Path.equals(op.path, path) &&\n            (op.offset < offset ||\n              (op.offset === offset && affinity === 'forward'))\n          ) {\n            p.offset += op.text.length\n          }\n\n          break\n        }\n\n        case 'merge_node': {\n          if (Path.equals(op.path, path)) {\n            p.offset += op.position\n          }\n\n          p.path = Path.transform(path, op, options)!\n          break\n        }\n\n        case 'remove_text': {\n          if (Path.equals(op.path, path) && op.offset <= offset) {\n            p.offset -= Math.min(offset - op.offset, op.text.length)\n          }\n\n          break\n        }\n\n        case 'remove_node': {\n          if (Path.equals(op.path, path) || Path.isAncestor(op.path, path)) {\n            return null\n          }\n\n          p.path = Path.transform(path, op, options)!\n          break\n        }\n\n        case 'split_node': {\n          if (Path.equals(op.path, path)) {\n            if (op.position === offset && affinity == null) {\n              return null\n            } else if (\n              op.position < offset ||\n              (op.position === offset && affinity === 'forward')\n            ) {\n              p.offset -= op.position\n\n              p.path = Path.transform(path, op, {\n                ...options,\n                affinity: 'forward',\n              })!\n            }\n          } else {\n            p.path = Path.transform(path, op, options)!\n          }\n\n          break\n        }\n      }\n    })\n  },\n}\n\n/**\n * `PointEntry` objects are returned when iterating over `Point` objects that\n * belong to a range.\n */\n\nexport type PointEntry = [Point, 'anchor' | 'focus']\n","export type Scrubber = (key: string, value: unknown) => unknown\n\nexport interface ScrubberInterface {\n  setScrubber(scrubber: Scrubber | undefined): void\n  stringify(value: any): string\n}\n\nlet _scrubber: Scrubber | undefined = undefined\n\n/**\n * This interface implements a stringify() function, which is used by Slate\n * internally when generating exceptions containing end user data. Developers\n * using Slate may call Scrubber.setScrubber() to alter the behavior of this\n * stringify() function.\n *\n * For example, to prevent the cleartext logging of 'text' fields within Nodes:\n *\n *    import { Scrubber } from 'slate';\n *    Scrubber.setScrubber((key, val) => {\n *      if (key === 'text') return '...scrubbed...'\n *      return val\n *    });\n *\n */\n// eslint-disable-next-line no-redeclare\nexport const Scrubber: ScrubberInterface = {\n  setScrubber(scrubber: Scrubber | undefined): void {\n    _scrubber = scrubber\n  },\n\n  stringify(value: any): string {\n    return JSON.stringify(value, _scrubber)\n  },\n}\n","import { isPlainObject } from 'is-plain-object'\nimport { Range } from '..'\nimport { ExtendedType } from '../types/custom-types'\nimport { isDeepEqual } from '../utils/deep-equal'\n\n/**\n * `Text` objects represent the nodes that contain the actual text content of a\n * Slate document along with any formatting properties. They are always leaf\n * nodes in the document tree as they cannot contain any children.\n */\n\nexport interface BaseText {\n  text: string\n}\n\nexport type Text = ExtendedType<'Text', BaseText>\n\nexport interface TextEqualsOptions {\n  loose?: boolean\n}\n\nexport interface TextInterface {\n  /**\n   * Check if two text nodes are equal.\n   *\n   * When loose is set, the text is not compared. This is\n   * used to check whether sibling text nodes can be merged.\n   */\n  equals: (text: Text, another: Text, options?: TextEqualsOptions) => boolean\n\n  /**\n   * Check if a value implements the `Text` interface.\n   */\n  isText: (value: any) => value is Text\n\n  /**\n   * Check if a value is a list of `Text` objects.\n   */\n  isTextList: (value: any) => value is Text[]\n\n  /**\n   * Check if some props are a partial of Text.\n   */\n  isTextProps: (props: any) => props is Partial<Text>\n\n  /**\n   * Check if an text matches set of properties.\n   *\n   * Note: this is for matching custom properties, and it does not ensure that\n   * the `text` property are two nodes equal.\n   */\n  matches: (text: Text, props: Partial<Text>) => boolean\n\n  /**\n   * Get the leaves for a text node given decorations.\n   */\n  decorations: (node: Text, decorations: Range[]) => Text[]\n}\n\n// eslint-disable-next-line no-redeclare\nexport const Text: TextInterface = {\n  equals(text: Text, another: Text, options: TextEqualsOptions = {}): boolean {\n    const { loose = false } = options\n\n    function omitText(obj: Record<any, any>) {\n      const { text, ...rest } = obj\n\n      return rest\n    }\n\n    return isDeepEqual(\n      loose ? omitText(text) : text,\n      loose ? omitText(another) : another\n    )\n  },\n\n  isText(value: any): value is Text {\n    return isPlainObject(value) && typeof value.text === 'string'\n  },\n\n  isTextList(value: any): value is Text[] {\n    return Array.isArray(value) && value.every(val => Text.isText(val))\n  },\n\n  isTextProps(props: any): props is Partial<Text> {\n    return (props as Partial<Text>).text !== undefined\n  },\n\n  matches(text: Text, props: Partial<Text>): boolean {\n    for (const key in props) {\n      if (key === 'text') {\n        continue\n      }\n\n      if (\n        !text.hasOwnProperty(key) ||\n        text[<keyof Text>key] !== props[<keyof Text>key]\n      ) {\n        return false\n      }\n    }\n\n    return true\n  },\n\n  decorations(node: Text, decorations: Range[]): Text[] {\n    let leaves: Text[] = [{ ...node }]\n\n    for (const dec of decorations) {\n      const { anchor, focus, ...rest } = dec\n      const [start, end] = Range.edges(dec)\n      const next = []\n      let leafEnd = 0\n      const decorationStart = start.offset\n      const decorationEnd = end.offset\n\n      for (const leaf of leaves) {\n        const { length } = leaf.text\n        const leafStart = leafEnd\n        leafEnd += length\n\n        // If the range encompasses the entire leaf, add the range.\n        if (decorationStart <= leafStart && leafEnd <= decorationEnd) {\n          Object.assign(leaf, rest)\n          next.push(leaf)\n          continue\n        }\n\n        // If the range expanded and match the leaf, or starts after, or ends before it, continue.\n        if (\n          (decorationStart !== decorationEnd &&\n            (decorationStart === leafEnd || decorationEnd === leafStart)) ||\n          decorationStart > leafEnd ||\n          decorationEnd < leafStart ||\n          (decorationEnd === leafStart && leafStart !== 0)\n        ) {\n          next.push(leaf)\n          continue\n        }\n\n        // Otherwise we need to split the leaf, at the start, end, or both,\n        // and add the range to the middle intersecting section. Do the end\n        // split first since we don't need to update the offset that way.\n        let middle = leaf\n        let before\n        let after\n\n        if (decorationEnd < leafEnd) {\n          const off = decorationEnd - leafStart\n          after = { ...middle, text: middle.text.slice(off) }\n          middle = { ...middle, text: middle.text.slice(0, off) }\n        }\n\n        if (decorationStart > leafStart) {\n          const off = decorationStart - leafStart\n          before = { ...middle, text: middle.text.slice(0, off) }\n          middle = { ...middle, text: middle.text.slice(off) }\n        }\n\n        Object.assign(middle, rest)\n\n        if (before) {\n          next.push(before)\n        }\n\n        next.push(middle)\n\n        if (after) {\n          next.push(after)\n        }\n      }\n\n      leaves = next\n    }\n\n    return leaves\n  },\n}\n","import { Editor, Location } from '../interfaces'\n\n/**\n * Get the default location to insert content into the editor.\n * By default, use the selection as the target location. But if there is\n * no selection, insert at the end of the document since that is such a\n * common use case when inserting from a non-selected state.\n */\nexport const getDefaultInsertLocation = (editor: Editor): Location => {\n  if (editor.selection) {\n    return editor.selection\n  } else if (editor.children.length > 0) {\n    return Editor.end(editor, [])\n  } else {\n    return [0]\n  }\n}\n","// Character (grapheme cluster) boundaries are determined according to\n// the default grapheme cluster boundary specification, extended grapheme clusters variant[1].\n//\n// References:\n//\n// [1] https://www.unicode.org/reports/tr29/#Default_Grapheme_Cluster_Table\n// [2] https://www.unicode.org/Public/UCD/latest/ucd/auxiliary/GraphemeBreakProperty.txt\n// [3] https://www.unicode.org/Public/UCD/latest/ucd/auxiliary/GraphemeBreakTest.html\n// [4] https://www.unicode.org/Public/UCD/latest/ucd/auxiliary/GraphemeBreakTest.txt\n\n/**\n * Get the distance to the end of the first character in a string of text.\n */\n\nexport const getCharacterDistance = (str: string, isRTL = false): number => {\n  const isLTR = !isRTL\n  const codepoints = isRTL ? codepointsIteratorRTL(str) : str\n\n  let left: CodepointType = CodepointType.None\n  let right: CodepointType = CodepointType.None\n  let distance = 0\n  // Evaluation of these conditions are deferred.\n  let gb11: boolean | null = null // Is GB11 applicable?\n  let gb12Or13: boolean | null = null // Is GB12 or GB13 applicable?\n\n  for (const char of codepoints) {\n    const code = char.codePointAt(0)\n    if (!code) break\n\n    const type = getCodepointType(char, code)\n    ;[left, right] = isLTR ? [right, type] : [type, left]\n\n    if (\n      intersects(left, CodepointType.ZWJ) &&\n      intersects(right, CodepointType.ExtPict)\n    ) {\n      if (isLTR) {\n        gb11 = endsWithEmojiZWJ(str.substring(0, distance))\n      } else {\n        gb11 = endsWithEmojiZWJ(str.substring(0, str.length - distance))\n      }\n      if (!gb11) break\n    }\n\n    if (\n      intersects(left, CodepointType.RI) &&\n      intersects(right, CodepointType.RI)\n    ) {\n      if (gb12Or13 !== null) {\n        gb12Or13 = !gb12Or13\n      } else {\n        if (isLTR) {\n          gb12Or13 = true\n        } else {\n          gb12Or13 = endsWithOddNumberOfRIs(\n            str.substring(0, str.length - distance)\n          )\n        }\n      }\n      if (!gb12Or13) break\n    }\n\n    if (\n      left !== CodepointType.None &&\n      right !== CodepointType.None &&\n      isBoundaryPair(left, right)\n    ) {\n      break\n    }\n\n    distance += char.length\n  }\n\n  return distance || 1\n}\n\nconst SPACE = /\\s/\nconst PUNCTUATION =\n  /[\\u002B\\u0021-\\u0023\\u0025-\\u002A\\u002C-\\u002F\\u003A\\u003B\\u003F\\u0040\\u005B-\\u005D\\u005F\\u007B\\u007D\\u00A1\\u00A7\\u00AB\\u00B6\\u00B7\\u00BB\\u00BF\\u037E\\u0387\\u055A-\\u055F\\u0589\\u058A\\u05BE\\u05C0\\u05C3\\u05C6\\u05F3\\u05F4\\u0609\\u060A\\u060C\\u060D\\u061B\\u061E\\u061F\\u066A-\\u066D\\u06D4\\u0700-\\u070D\\u07F7-\\u07F9\\u0830-\\u083E\\u085E\\u0964\\u0965\\u0970\\u0AF0\\u0DF4\\u0E4F\\u0E5A\\u0E5B\\u0F04-\\u0F12\\u0F14\\u0F3A-\\u0F3D\\u0F85\\u0FD0-\\u0FD4\\u0FD9\\u0FDA\\u104A-\\u104F\\u10FB\\u1360-\\u1368\\u1400\\u166D\\u166E\\u169B\\u169C\\u16EB-\\u16ED\\u1735\\u1736\\u17D4-\\u17D6\\u17D8-\\u17DA\\u1800-\\u180A\\u1944\\u1945\\u1A1E\\u1A1F\\u1AA0-\\u1AA6\\u1AA8-\\u1AAD\\u1B5A-\\u1B60\\u1BFC-\\u1BFF\\u1C3B-\\u1C3F\\u1C7E\\u1C7F\\u1CC0-\\u1CC7\\u1CD3\\u2010-\\u2027\\u2030-\\u2043\\u2045-\\u2051\\u2053-\\u205E\\u207D\\u207E\\u208D\\u208E\\u2329\\u232A\\u2768-\\u2775\\u27C5\\u27C6\\u27E6-\\u27EF\\u2983-\\u2998\\u29D8-\\u29DB\\u29FC\\u29FD\\u2CF9-\\u2CFC\\u2CFE\\u2CFF\\u2D70\\u2E00-\\u2E2E\\u2E30-\\u2E3B\\u3001-\\u3003\\u3008-\\u3011\\u3014-\\u301F\\u3030\\u303D\\u30A0\\u30FB\\uA4FE\\uA4FF\\uA60D-\\uA60F\\uA673\\uA67E\\uA6F2-\\uA6F7\\uA874-\\uA877\\uA8CE\\uA8CF\\uA8F8-\\uA8FA\\uA92E\\uA92F\\uA95F\\uA9C1-\\uA9CD\\uA9DE\\uA9DF\\uAA5C-\\uAA5F\\uAADE\\uAADF\\uAAF0\\uAAF1\\uABEB\\uFD3E\\uFD3F\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE61\\uFE63\\uFE68\\uFE6A\\uFE6B\\uFF01-\\uFF03\\uFF05-\\uFF0A\\uFF0C-\\uFF0F\\uFF1A\\uFF1B\\uFF1F\\uFF20\\uFF3B-\\uFF3D\\uFF3F\\uFF5B\\uFF5D\\uFF5F-\\uFF65]/\nconst CHAMELEON = /['\\u2018\\u2019]/\n\n/**\n * Get the distance to the end of the first word in a string of text.\n */\n\nexport const getWordDistance = (text: string, isRTL = false): number => {\n  let dist = 0\n  let started = false\n\n  while (text.length > 0) {\n    const charDist = getCharacterDistance(text, isRTL)\n    const [char, remaining] = splitByCharacterDistance(text, charDist, isRTL)\n\n    if (isWordCharacter(char, remaining, isRTL)) {\n      started = true\n      dist += charDist\n    } else if (!started) {\n      dist += charDist\n    } else {\n      break\n    }\n\n    text = remaining\n  }\n\n  return dist\n}\n\n/**\n * Split a string in two parts at a given distance starting from the end when\n * `isRTL` is set to `true`.\n */\n\nexport const splitByCharacterDistance = (\n  str: string,\n  dist: number,\n  isRTL?: boolean\n): [string, string] => {\n  if (isRTL) {\n    const at = str.length - dist\n    return [str.slice(at, str.length), str.slice(0, at)]\n  }\n\n  return [str.slice(0, dist), str.slice(dist)]\n}\n\n/**\n * Check if a character is a word character. The `remaining` argument is used\n * because sometimes you must read subsequent characters to truly determine it.\n */\n\nconst isWordCharacter = (\n  char: string,\n  remaining: string,\n  isRTL = false\n): boolean => {\n  if (SPACE.test(char)) {\n    return false\n  }\n\n  // Chameleons count as word characters as long as they're in a word, so\n  // recurse to see if the next one is a word character or not.\n  if (CHAMELEON.test(char)) {\n    const charDist = getCharacterDistance(remaining, isRTL)\n    const [nextChar, nextRemaining] = splitByCharacterDistance(\n      remaining,\n      charDist,\n      isRTL\n    )\n\n    if (isWordCharacter(nextChar, nextRemaining, isRTL)) {\n      return true\n    }\n  }\n\n  if (PUNCTUATION.test(char)) {\n    return false\n  }\n\n  return true\n}\n\n/**\n * Iterate on codepoints from right to left.\n */\n\nexport const codepointsIteratorRTL = function* (str: string) {\n  const end = str.length - 1\n\n  for (let i = 0; i < str.length; i++) {\n    const char1 = str.charAt(end - i)\n\n    if (isLowSurrogate(char1.charCodeAt(0))) {\n      const char2 = str.charAt(end - i - 1)\n      if (isHighSurrogate(char2.charCodeAt(0))) {\n        yield char2 + char1\n\n        i++\n        continue\n      }\n    }\n\n    yield char1\n  }\n}\n\n/**\n * Is `charCode` a high surrogate.\n *\n * https://en.wikipedia.org/wiki/Universal_Character_Set_characters#Surrogates\n */\n\nconst isHighSurrogate = (charCode: number) => {\n  return charCode >= 0xd800 && charCode <= 0xdbff\n}\n\n/**\n * Is `charCode` a low surrogate.\n *\n * https://en.wikipedia.org/wiki/Universal_Character_Set_characters#Surrogates\n */\n\nconst isLowSurrogate = (charCode: number) => {\n  return charCode >= 0xdc00 && charCode <= 0xdfff\n}\n\nenum CodepointType {\n  None = 0,\n  Extend = 1 << 0,\n  ZWJ = 1 << 1,\n  RI = 1 << 2,\n  Prepend = 1 << 3,\n  SpacingMark = 1 << 4,\n  L = 1 << 5,\n  V = 1 << 6,\n  T = 1 << 7,\n  LV = 1 << 8,\n  LVT = 1 << 9,\n  ExtPict = 1 << 10,\n  Any = 1 << 11,\n}\n\nconst reExtend = /^[\\p{Gr_Ext}\\p{EMod}]$/u\nconst rePrepend =\n  /^[\\u0600-\\u0605\\u06DD\\u070F\\u0890-\\u0891\\u08E2\\u0D4E\\u{110BD}\\u{110CD}\\u{111C2}-\\u{111C3}\\u{1193F}\\u{11941}\\u{11A3A}\\u{11A84}-\\u{11A89}\\u{11D46}]$/u\nconst reSpacingMark =\n  /^[\\u0903\\u093B\\u093E-\\u0940\\u0949-\\u094C\\u094E-\\u094F\\u0982-\\u0983\\u09BF-\\u09C0\\u09C7-\\u09C8\\u09CB-\\u09CC\\u0A03\\u0A3E-\\u0A40\\u0A83\\u0ABE-\\u0AC0\\u0AC9\\u0ACB-\\u0ACC\\u0B02-\\u0B03\\u0B40\\u0B47-\\u0B48\\u0B4B-\\u0B4C\\u0BBF\\u0BC1-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCC\\u0C01-\\u0C03\\u0C41-\\u0C44\\u0C82-\\u0C83\\u0CBE\\u0CC0-\\u0CC1\\u0CC3-\\u0CC4\\u0CC7-\\u0CC8\\u0CCA-\\u0CCB\\u0D02-\\u0D03\\u0D3F-\\u0D40\\u0D46-\\u0D48\\u0D4A-\\u0D4C\\u0D82-\\u0D83\\u0DD0-\\u0DD1\\u0DD8-\\u0DDE\\u0DF2-\\u0DF3\\u0E33\\u0EB3\\u0F3E-\\u0F3F\\u0F7F\\u1031\\u103B-\\u103C\\u1056-\\u1057\\u1084\\u1715\\u1734\\u17B6\\u17BE-\\u17C5\\u17C7-\\u17C8\\u1923-\\u1926\\u1929-\\u192B\\u1930-\\u1931\\u1933-\\u1938\\u1A19-\\u1A1A\\u1A55\\u1A57\\u1A6D-\\u1A72\\u1B04\\u1B3B\\u1B3D-\\u1B41\\u1B43-\\u1B44\\u1B82\\u1BA1\\u1BA6-\\u1BA7\\u1BAA\\u1BE7\\u1BEA-\\u1BEC\\u1BEE\\u1BF2-\\u1BF3\\u1C24-\\u1C2B\\u1C34-\\u1C35\\u1CE1\\u1CF7\\uA823-\\uA824\\uA827\\uA880-\\uA881\\uA8B4-\\uA8C3\\uA952-\\uA953\\uA983\\uA9B4-\\uA9B5\\uA9BA-\\uA9BB\\uA9BE-\\uA9C0\\uAA2F-\\uAA30\\uAA33-\\uAA34\\uAA4D\\uAAEB\\uAAEE-\\uAAEF\\uAAF5\\uABE3-\\uABE4\\uABE6-\\uABE7\\uABE9-\\uABEA\\uABEC\\u{11000}\\u{11002}\\u{11082}\\u{110B0}-\\u{110B2}\\u{110B7}-\\u{110B8}\\u{1112C}\\u{11145}-\\u{11146}\\u{11182}\\u{111B3}-\\u{111B5}\\u{111BF}-\\u{111C0}\\u{111CE}\\u{1122C}-\\u{1122E}\\u{11232}-\\u{11233}\\u{11235}\\u{112E0}-\\u{112E2}\\u{11302}-\\u{11303}\\u{1133F}\\u{11341}-\\u{11344}\\u{11347}-\\u{11348}\\u{1134B}-\\u{1134D}\\u{11362}-\\u{11363}\\u{11435}-\\u{11437}\\u{11440}-\\u{11441}\\u{11445}\\u{114B1}-\\u{114B2}\\u{114B9}\\u{114BB}-\\u{114BC}\\u{114BE}\\u{114C1}\\u{115B0}-\\u{115B1}\\u{115B8}-\\u{115BB}\\u{115BE}\\u{11630}-\\u{11632}\\u{1163B}-\\u{1163C}\\u{1163E}\\u{116AC}\\u{116AE}-\\u{116AF}\\u{116B6}\\u{11726}\\u{1182C}-\\u{1182E}\\u{11838}\\u{11931}-\\u{11935}\\u{11937}-\\u{11938}\\u{1193D}\\u{11940}\\u{11942}\\u{119D1}-\\u{119D3}\\u{119DC}-\\u{119DF}\\u{119E4}\\u{11A39}\\u{11A57}-\\u{11A58}\\u{11A97}\\u{11C2F}\\u{11C3E}\\u{11CA9}\\u{11CB1}\\u{11CB4}\\u{11D8A}-\\u{11D8E}\\u{11D93}-\\u{11D94}\\u{11D96}\\u{11EF5}-\\u{11EF6}\\u{16F51}-\\u{16F87}\\u{16FF0}-\\u{16FF1}\\u{1D166}\\u{1D16D}]$/u\nconst reL = /^[\\u1100-\\u115F\\uA960-\\uA97C]$/u\nconst reV = /^[\\u1160-\\u11A7\\uD7B0-\\uD7C6]$/u\nconst reT = /^[\\u11A8-\\u11FF\\uD7CB-\\uD7FB]$/u\nconst reLV =\n  /^[\\uAC00\\uAC1C\\uAC38\\uAC54\\uAC70\\uAC8C\\uACA8\\uACC4\\uACE0\\uACFC\\uAD18\\uAD34\\uAD50\\uAD6C\\uAD88\\uADA4\\uADC0\\uADDC\\uADF8\\uAE14\\uAE30\\uAE4C\\uAE68\\uAE84\\uAEA0\\uAEBC\\uAED8\\uAEF4\\uAF10\\uAF2C\\uAF48\\uAF64\\uAF80\\uAF9C\\uAFB8\\uAFD4\\uAFF0\\uB00C\\uB028\\uB044\\uB060\\uB07C\\uB098\\uB0B4\\uB0D0\\uB0EC\\uB108\\uB124\\uB140\\uB15C\\uB178\\uB194\\uB1B0\\uB1CC\\uB1E8\\uB204\\uB220\\uB23C\\uB258\\uB274\\uB290\\uB2AC\\uB2C8\\uB2E4\\uB300\\uB31C\\uB338\\uB354\\uB370\\uB38C\\uB3A8\\uB3C4\\uB3E0\\uB3FC\\uB418\\uB434\\uB450\\uB46C\\uB488\\uB4A4\\uB4C0\\uB4DC\\uB4F8\\uB514\\uB530\\uB54C\\uB568\\uB584\\uB5A0\\uB5BC\\uB5D8\\uB5F4\\uB610\\uB62C\\uB648\\uB664\\uB680\\uB69C\\uB6B8\\uB6D4\\uB6F0\\uB70C\\uB728\\uB744\\uB760\\uB77C\\uB798\\uB7B4\\uB7D0\\uB7EC\\uB808\\uB824\\uB840\\uB85C\\uB878\\uB894\\uB8B0\\uB8CC\\uB8E8\\uB904\\uB920\\uB93C\\uB958\\uB974\\uB990\\uB9AC\\uB9C8\\uB9E4\\uBA00\\uBA1C\\uBA38\\uBA54\\uBA70\\uBA8C\\uBAA8\\uBAC4\\uBAE0\\uBAFC\\uBB18\\uBB34\\uBB50\\uBB6C\\uBB88\\uBBA4\\uBBC0\\uBBDC\\uBBF8\\uBC14\\uBC30\\uBC4C\\uBC68\\uBC84\\uBCA0\\uBCBC\\uBCD8\\uBCF4\\uBD10\\uBD2C\\uBD48\\uBD64\\uBD80\\uBD9C\\uBDB8\\uBDD4\\uBDF0\\uBE0C\\uBE28\\uBE44\\uBE60\\uBE7C\\uBE98\\uBEB4\\uBED0\\uBEEC\\uBF08\\uBF24\\uBF40\\uBF5C\\uBF78\\uBF94\\uBFB0\\uBFCC\\uBFE8\\uC004\\uC020\\uC03C\\uC058\\uC074\\uC090\\uC0AC\\uC0C8\\uC0E4\\uC100\\uC11C\\uC138\\uC154\\uC170\\uC18C\\uC1A8\\uC1C4\\uC1E0\\uC1FC\\uC218\\uC234\\uC250\\uC26C\\uC288\\uC2A4\\uC2C0\\uC2DC\\uC2F8\\uC314\\uC330\\uC34C\\uC368\\uC384\\uC3A0\\uC3BC\\uC3D8\\uC3F4\\uC410\\uC42C\\uC448\\uC464\\uC480\\uC49C\\uC4B8\\uC4D4\\uC4F0\\uC50C\\uC528\\uC544\\uC560\\uC57C\\uC598\\uC5B4\\uC5D0\\uC5EC\\uC608\\uC624\\uC640\\uC65C\\uC678\\uC694\\uC6B0\\uC6CC\\uC6E8\\uC704\\uC720\\uC73C\\uC758\\uC774\\uC790\\uC7AC\\uC7C8\\uC7E4\\uC800\\uC81C\\uC838\\uC854\\uC870\\uC88C\\uC8A8\\uC8C4\\uC8E0\\uC8FC\\uC918\\uC934\\uC950\\uC96C\\uC988\\uC9A4\\uC9C0\\uC9DC\\uC9F8\\uCA14\\uCA30\\uCA4C\\uCA68\\uCA84\\uCAA0\\uCABC\\uCAD8\\uCAF4\\uCB10\\uCB2C\\uCB48\\uCB64\\uCB80\\uCB9C\\uCBB8\\uCBD4\\uCBF0\\uCC0C\\uCC28\\uCC44\\uCC60\\uCC7C\\uCC98\\uCCB4\\uCCD0\\uCCEC\\uCD08\\uCD24\\uCD40\\uCD5C\\uCD78\\uCD94\\uCDB0\\uCDCC\\uCDE8\\uCE04\\uCE20\\uCE3C\\uCE58\\uCE74\\uCE90\\uCEAC\\uCEC8\\uCEE4\\uCF00\\uCF1C\\uCF38\\uCF54\\uCF70\\uCF8C\\uCFA8\\uCFC4\\uCFE0\\uCFFC\\uD018\\uD034\\uD050\\uD06C\\uD088\\uD0A4\\uD0C0\\uD0DC\\uD0F8\\uD114\\uD130\\uD14C\\uD168\\uD184\\uD1A0\\uD1BC\\uD1D8\\uD1F4\\uD210\\uD22C\\uD248\\uD264\\uD280\\uD29C\\uD2B8\\uD2D4\\uD2F0\\uD30C\\uD328\\uD344\\uD360\\uD37C\\uD398\\uD3B4\\uD3D0\\uD3EC\\uD408\\uD424\\uD440\\uD45C\\uD478\\uD494\\uD4B0\\uD4CC\\uD4E8\\uD504\\uD520\\uD53C\\uD558\\uD574\\uD590\\uD5AC\\uD5C8\\uD5E4\\uD600\\uD61C\\uD638\\uD654\\uD670\\uD68C\\uD6A8\\uD6C4\\uD6E0\\uD6FC\\uD718\\uD734\\uD750\\uD76C\\uD788]$/u\nconst reLVT =\n  /^[\\uAC01-\\uAC1B\\uAC1D-\\uAC37\\uAC39-\\uAC53\\uAC55-\\uAC6F\\uAC71-\\uAC8B\\uAC8D-\\uACA7\\uACA9-\\uACC3\\uACC5-\\uACDF\\uACE1-\\uACFB\\uACFD-\\uAD17\\uAD19-\\uAD33\\uAD35-\\uAD4F\\uAD51-\\uAD6B\\uAD6D-\\uAD87\\uAD89-\\uADA3\\uADA5-\\uADBF\\uADC1-\\uADDB\\uADDD-\\uADF7\\uADF9-\\uAE13\\uAE15-\\uAE2F\\uAE31-\\uAE4B\\uAE4D-\\uAE67\\uAE69-\\uAE83\\uAE85-\\uAE9F\\uAEA1-\\uAEBB\\uAEBD-\\uAED7\\uAED9-\\uAEF3\\uAEF5-\\uAF0F\\uAF11-\\uAF2B\\uAF2D-\\uAF47\\uAF49-\\uAF63\\uAF65-\\uAF7F\\uAF81-\\uAF9B\\uAF9D-\\uAFB7\\uAFB9-\\uAFD3\\uAFD5-\\uAFEF\\uAFF1-\\uB00B\\uB00D-\\uB027\\uB029-\\uB043\\uB045-\\uB05F\\uB061-\\uB07B\\uB07D-\\uB097\\uB099-\\uB0B3\\uB0B5-\\uB0CF\\uB0D1-\\uB0EB\\uB0ED-\\uB107\\uB109-\\uB123\\uB125-\\uB13F\\uB141-\\uB15B\\uB15D-\\uB177\\uB179-\\uB193\\uB195-\\uB1AF\\uB1B1-\\uB1CB\\uB1CD-\\uB1E7\\uB1E9-\\uB203\\uB205-\\uB21F\\uB221-\\uB23B\\uB23D-\\uB257\\uB259-\\uB273\\uB275-\\uB28F\\uB291-\\uB2AB\\uB2AD-\\uB2C7\\uB2C9-\\uB2E3\\uB2E5-\\uB2FF\\uB301-\\uB31B\\uB31D-\\uB337\\uB339-\\uB353\\uB355-\\uB36F\\uB371-\\uB38B\\uB38D-\\uB3A7\\uB3A9-\\uB3C3\\uB3C5-\\uB3DF\\uB3E1-\\uB3FB\\uB3FD-\\uB417\\uB419-\\uB433\\uB435-\\uB44F\\uB451-\\uB46B\\uB46D-\\uB487\\uB489-\\uB4A3\\uB4A5-\\uB4BF\\uB4C1-\\uB4DB\\uB4DD-\\uB4F7\\uB4F9-\\uB513\\uB515-\\uB52F\\uB531-\\uB54B\\uB54D-\\uB567\\uB569-\\uB583\\uB585-\\uB59F\\uB5A1-\\uB5BB\\uB5BD-\\uB5D7\\uB5D9-\\uB5F3\\uB5F5-\\uB60F\\uB611-\\uB62B\\uB62D-\\uB647\\uB649-\\uB663\\uB665-\\uB67F\\uB681-\\uB69B\\uB69D-\\uB6B7\\uB6B9-\\uB6D3\\uB6D5-\\uB6EF\\uB6F1-\\uB70B\\uB70D-\\uB727\\uB729-\\uB743\\uB745-\\uB75F\\uB761-\\uB77B\\uB77D-\\uB797\\uB799-\\uB7B3\\uB7B5-\\uB7CF\\uB7D1-\\uB7EB\\uB7ED-\\uB807\\uB809-\\uB823\\uB825-\\uB83F\\uB841-\\uB85B\\uB85D-\\uB877\\uB879-\\uB893\\uB895-\\uB8AF\\uB8B1-\\uB8CB\\uB8CD-\\uB8E7\\uB8E9-\\uB903\\uB905-\\uB91F\\uB921-\\uB93B\\uB93D-\\uB957\\uB959-\\uB973\\uB975-\\uB98F\\uB991-\\uB9AB\\uB9AD-\\uB9C7\\uB9C9-\\uB9E3\\uB9E5-\\uB9FF\\uBA01-\\uBA1B\\uBA1D-\\uBA37\\uBA39-\\uBA53\\uBA55-\\uBA6F\\uBA71-\\uBA8B\\uBA8D-\\uBAA7\\uBAA9-\\uBAC3\\uBAC5-\\uBADF\\uBAE1-\\uBAFB\\uBAFD-\\uBB17\\uBB19-\\uBB33\\uBB35-\\uBB4F\\uBB51-\\uBB6B\\uBB6D-\\uBB87\\uBB89-\\uBBA3\\uBBA5-\\uBBBF\\uBBC1-\\uBBDB\\uBBDD-\\uBBF7\\uBBF9-\\uBC13\\uBC15-\\uBC2F\\uBC31-\\uBC4B\\uBC4D-\\uBC67\\uBC69-\\uBC83\\uBC85-\\uBC9F\\uBCA1-\\uBCBB\\uBCBD-\\uBCD7\\uBCD9-\\uBCF3\\uBCF5-\\uBD0F\\uBD11-\\uBD2B\\uBD2D-\\uBD47\\uBD49-\\uBD63\\uBD65-\\uBD7F\\uBD81-\\uBD9B\\uBD9D-\\uBDB7\\uBDB9-\\uBDD3\\uBDD5-\\uBDEF\\uBDF1-\\uBE0B\\uBE0D-\\uBE27\\uBE29-\\uBE43\\uBE45-\\uBE5F\\uBE61-\\uBE7B\\uBE7D-\\uBE97\\uBE99-\\uBEB3\\uBEB5-\\uBECF\\uBED1-\\uBEEB\\uBEED-\\uBF07\\uBF09-\\uBF23\\uBF25-\\uBF3F\\uBF41-\\uBF5B\\uBF5D-\\uBF77\\uBF79-\\uBF93\\uBF95-\\uBFAF\\uBFB1-\\uBFCB\\uBFCD-\\uBFE7\\uBFE9-\\uC003\\uC005-\\uC01F\\uC021-\\uC03B\\uC03D-\\uC057\\uC059-\\uC073\\uC075-\\uC08F\\uC091-\\uC0AB\\uC0AD-\\uC0C7\\uC0C9-\\uC0E3\\uC0E5-\\uC0FF\\uC101-\\uC11B\\uC11D-\\uC137\\uC139-\\uC153\\uC155-\\uC16F\\uC171-\\uC18B\\uC18D-\\uC1A7\\uC1A9-\\uC1C3\\uC1C5-\\uC1DF\\uC1E1-\\uC1FB\\uC1FD-\\uC217\\uC219-\\uC233\\uC235-\\uC24F\\uC251-\\uC26B\\uC26D-\\uC287\\uC289-\\uC2A3\\uC2A5-\\uC2BF\\uC2C1-\\uC2DB\\uC2DD-\\uC2F7\\uC2F9-\\uC313\\uC315-\\uC32F\\uC331-\\uC34B\\uC34D-\\uC367\\uC369-\\uC383\\uC385-\\uC39F\\uC3A1-\\uC3BB\\uC3BD-\\uC3D7\\uC3D9-\\uC3F3\\uC3F5-\\uC40F\\uC411-\\uC42B\\uC42D-\\uC447\\uC449-\\uC463\\uC465-\\uC47F\\uC481-\\uC49B\\uC49D-\\uC4B7\\uC4B9-\\uC4D3\\uC4D5-\\uC4EF\\uC4F1-\\uC50B\\uC50D-\\uC527\\uC529-\\uC543\\uC545-\\uC55F\\uC561-\\uC57B\\uC57D-\\uC597\\uC599-\\uC5B3\\uC5B5-\\uC5CF\\uC5D1-\\uC5EB\\uC5ED-\\uC607\\uC609-\\uC623\\uC625-\\uC63F\\uC641-\\uC65B\\uC65D-\\uC677\\uC679-\\uC693\\uC695-\\uC6AF\\uC6B1-\\uC6CB\\uC6CD-\\uC6E7\\uC6E9-\\uC703\\uC705-\\uC71F\\uC721-\\uC73B\\uC73D-\\uC757\\uC759-\\uC773\\uC775-\\uC78F\\uC791-\\uC7AB\\uC7AD-\\uC7C7\\uC7C9-\\uC7E3\\uC7E5-\\uC7FF\\uC801-\\uC81B\\uC81D-\\uC837\\uC839-\\uC853\\uC855-\\uC86F\\uC871-\\uC88B\\uC88D-\\uC8A7\\uC8A9-\\uC8C3\\uC8C5-\\uC8DF\\uC8E1-\\uC8FB\\uC8FD-\\uC917\\uC919-\\uC933\\uC935-\\uC94F\\uC951-\\uC96B\\uC96D-\\uC987\\uC989-\\uC9A3\\uC9A5-\\uC9BF\\uC9C1-\\uC9DB\\uC9DD-\\uC9F7\\uC9F9-\\uCA13\\uCA15-\\uCA2F\\uCA31-\\uCA4B\\uCA4D-\\uCA67\\uCA69-\\uCA83\\uCA85-\\uCA9F\\uCAA1-\\uCABB\\uCABD-\\uCAD7\\uCAD9-\\uCAF3\\uCAF5-\\uCB0F\\uCB11-\\uCB2B\\uCB2D-\\uCB47\\uCB49-\\uCB63\\uCB65-\\uCB7F\\uCB81-\\uCB9B\\uCB9D-\\uCBB7\\uCBB9-\\uCBD3\\uCBD5-\\uCBEF\\uCBF1-\\uCC0B\\uCC0D-\\uCC27\\uCC29-\\uCC43\\uCC45-\\uCC5F\\uCC61-\\uCC7B\\uCC7D-\\uCC97\\uCC99-\\uCCB3\\uCCB5-\\uCCCF\\uCCD1-\\uCCEB\\uCCED-\\uCD07\\uCD09-\\uCD23\\uCD25-\\uCD3F\\uCD41-\\uCD5B\\uCD5D-\\uCD77\\uCD79-\\uCD93\\uCD95-\\uCDAF\\uCDB1-\\uCDCB\\uCDCD-\\uCDE7\\uCDE9-\\uCE03\\uCE05-\\uCE1F\\uCE21-\\uCE3B\\uCE3D-\\uCE57\\uCE59-\\uCE73\\uCE75-\\uCE8F\\uCE91-\\uCEAB\\uCEAD-\\uCEC7\\uCEC9-\\uCEE3\\uCEE5-\\uCEFF\\uCF01-\\uCF1B\\uCF1D-\\uCF37\\uCF39-\\uCF53\\uCF55-\\uCF6F\\uCF71-\\uCF8B\\uCF8D-\\uCFA7\\uCFA9-\\uCFC3\\uCFC5-\\uCFDF\\uCFE1-\\uCFFB\\uCFFD-\\uD017\\uD019-\\uD033\\uD035-\\uD04F\\uD051-\\uD06B\\uD06D-\\uD087\\uD089-\\uD0A3\\uD0A5-\\uD0BF\\uD0C1-\\uD0DB\\uD0DD-\\uD0F7\\uD0F9-\\uD113\\uD115-\\uD12F\\uD131-\\uD14B\\uD14D-\\uD167\\uD169-\\uD183\\uD185-\\uD19F\\uD1A1-\\uD1BB\\uD1BD-\\uD1D7\\uD1D9-\\uD1F3\\uD1F5-\\uD20F\\uD211-\\uD22B\\uD22D-\\uD247\\uD249-\\uD263\\uD265-\\uD27F\\uD281-\\uD29B\\uD29D-\\uD2B7\\uD2B9-\\uD2D3\\uD2D5-\\uD2EF\\uD2F1-\\uD30B\\uD30D-\\uD327\\uD329-\\uD343\\uD345-\\uD35F\\uD361-\\uD37B\\uD37D-\\uD397\\uD399-\\uD3B3\\uD3B5-\\uD3CF\\uD3D1-\\uD3EB\\uD3ED-\\uD407\\uD409-\\uD423\\uD425-\\uD43F\\uD441-\\uD45B\\uD45D-\\uD477\\uD479-\\uD493\\uD495-\\uD4AF\\uD4B1-\\uD4CB\\uD4CD-\\uD4E7\\uD4E9-\\uD503\\uD505-\\uD51F\\uD521-\\uD53B\\uD53D-\\uD557\\uD559-\\uD573\\uD575-\\uD58F\\uD591-\\uD5AB\\uD5AD-\\uD5C7\\uD5C9-\\uD5E3\\uD5E5-\\uD5FF\\uD601-\\uD61B\\uD61D-\\uD637\\uD639-\\uD653\\uD655-\\uD66F\\uD671-\\uD68B\\uD68D-\\uD6A7\\uD6A9-\\uD6C3\\uD6C5-\\uD6DF\\uD6E1-\\uD6FB\\uD6FD-\\uD717\\uD719-\\uD733\\uD735-\\uD74F\\uD751-\\uD76B\\uD76D-\\uD787\\uD789-\\uD7A3]$/u\nconst reExtPict = /^\\p{ExtPict}$/u\n\nconst getCodepointType = (char: string, code: number): CodepointType => {\n  let type = CodepointType.Any\n  if (char.search(reExtend) !== -1) {\n    type |= CodepointType.Extend\n  }\n  if (code === 0x200d) {\n    type |= CodepointType.ZWJ\n  }\n  if (code >= 0x1f1e6 && code <= 0x1f1ff) {\n    type |= CodepointType.RI\n  }\n  if (char.search(rePrepend) !== -1) {\n    type |= CodepointType.Prepend\n  }\n  if (char.search(reSpacingMark) !== -1) {\n    type |= CodepointType.SpacingMark\n  }\n  if (char.search(reL) !== -1) {\n    type |= CodepointType.L\n  }\n  if (char.search(reV) !== -1) {\n    type |= CodepointType.V\n  }\n  if (char.search(reT) !== -1) {\n    type |= CodepointType.T\n  }\n  if (char.search(reLV) !== -1) {\n    type |= CodepointType.LV\n  }\n  if (char.search(reLVT) !== -1) {\n    type |= CodepointType.LVT\n  }\n  if (char.search(reExtPict) !== -1) {\n    type |= CodepointType.ExtPict\n  }\n\n  return type\n}\n\nfunction intersects(x: CodepointType, y: CodepointType) {\n  return (x & y) !== 0\n}\n\nconst NonBoundaryPairs: [CodepointType, CodepointType][] = [\n  // GB6\n  [\n    CodepointType.L,\n    CodepointType.L | CodepointType.V | CodepointType.LV | CodepointType.LVT,\n  ],\n  // GB7\n  [CodepointType.LV | CodepointType.V, CodepointType.V | CodepointType.T],\n  // GB8\n  [CodepointType.LVT | CodepointType.T, CodepointType.T],\n  // GB9\n  [CodepointType.Any, CodepointType.Extend | CodepointType.ZWJ],\n  // GB9a\n  [CodepointType.Any, CodepointType.SpacingMark],\n  // GB9b\n  [CodepointType.Prepend, CodepointType.Any],\n  // GB11\n  [CodepointType.ZWJ, CodepointType.ExtPict],\n  // GB12 and GB13\n  [CodepointType.RI, CodepointType.RI],\n]\n\nfunction isBoundaryPair(left: CodepointType, right: CodepointType) {\n  return (\n    NonBoundaryPairs.findIndex(\n      r => intersects(left, r[0]) && intersects(right, r[1])\n    ) === -1\n  )\n}\n\nconst endingEmojiZWJ = /\\p{ExtPict}[\\p{Gr_Ext}\\p{EMod}]*\\u200D$/u\nconst endsWithEmojiZWJ = (str: string): boolean => {\n  return str.search(endingEmojiZWJ) !== -1\n}\n\nconst endingRIs = /\\p{RI}+$/gu\nconst endsWithOddNumberOfRIs = (str: string): boolean => {\n  const match = str.match(endingRIs)\n  if (match === null) {\n    return false\n  } else {\n    // A RI is represented by a surrogate pair.\n    const numRIs = match[0].length / 2\n    return numRIs % 2 === 1\n  }\n}\n","import { Editor, Location, Node, Path, Range, Transforms } from '../../index'\nimport { TextUnit } from '../../types/types'\nimport { getDefaultInsertLocation } from '../../utils'\n\nexport interface TextDeleteOptions {\n  at?: Location\n  distance?: number\n  unit?: TextUnit\n  reverse?: boolean\n  hanging?: boolean\n  voids?: boolean\n}\n\nexport interface TextInsertFragmentOptions {\n  at?: Location\n  hanging?: boolean\n  voids?: boolean\n  batchDirty?: boolean\n}\n\nexport interface TextInsertTextOptions {\n  at?: Location\n  voids?: boolean\n}\n\nexport interface TextTransforms {\n  /**\n   * Delete content in the editor.\n   */\n  delete: (editor: Editor, options?: TextDeleteOptions) => void\n\n  /**\n   * Insert a fragment in the editor\n   * at the specified location or (if not defined) the current selection or (if not defined) the end of the document.\n   */\n  insertFragment: (\n    editor: Editor,\n    fragment: Node[],\n    options?: TextInsertFragmentOptions\n  ) => void\n\n  /**\n   * Insert a string of text in the editor\n   * at the specified location or (if not defined) the current selection or (if not defined) the end of the document.\n   */\n  insertText: (\n    editor: Editor,\n    text: string,\n    options?: TextInsertTextOptions\n  ) => void\n}\n\n// eslint-disable-next-line no-redeclare\nexport const TextTransforms: TextTransforms = {\n  delete(editor, options) {\n    editor.delete(options)\n  },\n  insertFragment(editor, fragment, options) {\n    editor.insertFragment(fragment, options)\n  },\n  insertText(\n    editor: Editor,\n    text: string,\n    options: TextInsertTextOptions = {}\n  ): void {\n    Editor.withoutNormalizing(editor, () => {\n      const { voids = false } = options\n      let { at = getDefaultInsertLocation(editor) } = options\n\n      if (Path.isPath(at)) {\n        at = Editor.range(editor, at)\n      }\n\n      if (Range.isRange(at)) {\n        if (Range.isCollapsed(at)) {\n          at = at.anchor\n        } else {\n          const end = Range.end(at)\n          if (!voids && Editor.void(editor, { at: end })) {\n            return\n          }\n          const start = Range.start(at)\n          const startRef = Editor.pointRef(editor, start)\n          const endRef = Editor.pointRef(editor, end)\n          Transforms.delete(editor, { at, voids })\n          const startPoint = startRef.unref()\n          const endPoint = endRef.unref()\n\n          at = startPoint || endPoint!\n          Transforms.setSelection(editor, { anchor: at, focus: at })\n        }\n      }\n\n      if (\n        (!voids && Editor.void(editor, { at })) ||\n        Editor.elementReadOnly(editor, { at })\n      ) {\n        return\n      }\n\n      const { path, offset } = at\n      if (text.length > 0)\n        editor.apply({ type: 'insert_text', path, offset, text })\n    })\n  },\n}\n","import { GeneralTransforms } from './general'\nimport { NodeTransforms } from './node'\nimport { SelectionTransforms } from './selection'\nimport { TextTransforms } from './text'\n\nexport const Transforms: GeneralTransforms &\n  NodeTransforms &\n  SelectionTransforms &\n  TextTransforms = {\n  ...GeneralTransforms,\n  ...NodeTransforms,\n  ...SelectionTransforms,\n  ...TextTransforms,\n}\n","import { getRootBlockElement, YooEditor } from '@yoopta/editor';\r\n\r\ntype Params = {\r\n  editor: YooEditor;\r\n  onClose: () => void;\r\n  empty?: boolean;\r\n  view?: 'small' | 'default';\r\n};\r\n\r\nexport function buildActionMenuRenderProps({ editor, view, onClose }: Params) {\r\n  function filterToggleActions(editor: YooEditor, type: string) {\r\n    const block = editor.blocks[type];\r\n    if (!block) return false;\r\n\r\n    const rootBlock = getRootBlockElement(block.elements);\r\n    if (rootBlock?.props?.nodeType === 'void') return false;\r\n    return true;\r\n  }\r\n\r\n  const getActions = () => {\r\n    const items = Object.keys(editor.blocks)\r\n      .filter((type) => filterToggleActions(editor, type))\r\n      .map((action) => {\r\n        const title = editor.blocks[action].options?.display?.title || action;\r\n        const description = editor.blocks[action].options?.display?.description;\r\n        const icon = editor.blocks[action].options?.display?.icon;\r\n        return { type: action, title, description, icon };\r\n      });\r\n\r\n    return items;\r\n  };\r\n\r\n  const getRootProps = () => ({\r\n    'data-action-menu-list': true,\r\n  });\r\n\r\n  const getItemProps = (type) => ({\r\n    onMouseEnter: () => undefined,\r\n    'data-action-menu-item': true,\r\n    'data-action-menu-item-type': type,\r\n    'aria-selected': false,\r\n    onClick: () => {\r\n      editor.toggleBlock(type, { focus: true });\r\n      onClose();\r\n    },\r\n  });\r\n\r\n  return {\r\n    actions: getActions(),\r\n    onClose,\r\n    empty: false,\r\n    getItemProps,\r\n    getRootProps,\r\n    editor,\r\n    view,\r\n  };\r\n}\r\n","import {\r\n  FontBoldIcon,\r\n  FontItalicIcon,\r\n  StrikethroughIcon,\r\n  CodeIcon,\r\n  UnderlineIcon,\r\n  ChevronDownIcon,\r\n  ChevronUpIcon,\r\n  TextAlignRightIcon,\r\n  TextAlignLeftIcon,\r\n  TextAlignCenterIcon,\r\n} from '@radix-ui/react-icons';\r\nimport * as Toolbar from '@radix-ui/react-toolbar';\r\nimport { useFloating, offset, flip, shift, inline, autoUpdate } from '@floating-ui/react';\r\nimport { CSSProperties, MouseEvent, useEffect, useRef, useState } from 'react';\r\nimport { HighlightColor } from './HighlightColor';\r\nimport {\r\n  findSlateBySelectionPath,\r\n  HOTKEYS,\r\n  SlateElement,\r\n  useYooptaTools,\r\n  UI,\r\n  Blocks,\r\n  findPluginBlockByPath,\r\n  YooptaBlockData,\r\n} from '@yoopta/editor';\r\nimport { Editor, Element, NodeEntry, Range, Transforms } from 'slate';\r\nimport { ToolbarRenderProps } from '../types';\r\nimport { buildActionMenuRenderProps } from './utils';\r\n\r\nconst { Overlay, Portal } = UI;\r\n\r\ntype LinkValues = {\r\n  title?: string;\r\n  url: string;\r\n  target?: string;\r\n  rel?: string;\r\n};\r\n\r\nconst DEFAULT_LINK_VALUE: LinkValues = {\r\n  title: '',\r\n  url: '',\r\n  target: '_self',\r\n  rel: 'noreferrer',\r\n};\r\n\r\nconst ALIGN_ICONS = {\r\n  left: TextAlignLeftIcon,\r\n  center: TextAlignCenterIcon,\r\n  right: TextAlignRightIcon,\r\n};\r\n\r\nconst getLinkEntry = (slate) => {\r\n  const [link] = Editor.nodes(slate, {\r\n    match: (n) => !Editor.isEditor(n) && Element.isElement(n) && (n as SlateElement).type === 'link',\r\n  });\r\n\r\n  return link;\r\n};\r\n\r\nconst DEFAULT_MODALS = { link: false, highlight: false, actionMenu: false };\r\ntype ModalsState = typeof DEFAULT_MODALS;\r\n\r\nconst DefaultToolbarRender = ({ activeBlock, editor, toggleHoldToolbar }: ToolbarRenderProps) => {\r\n  const [modals, setModals] = useState<ModalsState>({ link: false, highlight: false, actionMenu: false });\r\n  const [linkValues, setLinkValues] = useState<LinkValues>(DEFAULT_LINK_VALUE);\r\n  const lastSelection = useRef<Range | null>(null);\r\n\r\n  const tools = useYooptaTools();\r\n\r\n  const onChangeModal = (modal: keyof ModalsState, value: boolean) => {\r\n    setModals(() => ({ ...DEFAULT_MODALS, [modal]: value }));\r\n  };\r\n\r\n  const { refs: actionMenuRefs, floatingStyles: actionMenuStyles } = useFloating({\r\n    placement: 'bottom-start',\r\n    open: modals.actionMenu,\r\n    onOpenChange: (open) => onChangeModal('actionMenu', open),\r\n    middleware: [inline(), flip(), shift(), offset(10)],\r\n    whileElementsMounted: autoUpdate,\r\n  });\r\n\r\n  const { refs: highlightPickerRefs, floatingStyles: highlightPickerStyles } = useFloating({\r\n    placement: 'top-end',\r\n    open: modals.highlight,\r\n    onOpenChange: (open) => onChangeModal('highlight', open),\r\n    middleware: [inline(), flip(), shift(), offset(10)],\r\n    whileElementsMounted: autoUpdate,\r\n  });\r\n\r\n  const { refs: linkToolRefs, floatingStyles: linkToolStyles } = useFloating({\r\n    placement: 'top-start',\r\n    open: modals.link,\r\n    onOpenChange: (open) => onChangeModal('link', open),\r\n    middleware: [inline(), flip(), shift(), offset(10)],\r\n    whileElementsMounted: autoUpdate,\r\n  });\r\n\r\n  const getItemStyle = (type) => ({\r\n    backgroundColor: editor.formats[type]?.isActive() ? '#1183ff' : undefined,\r\n    color: editor.formats[type]?.isActive() ? '#fff' : undefined,\r\n  });\r\n\r\n  const highlight = editor.formats.highlight;\r\n  const highlightColors = highlight?.getValue();\r\n  const getHighlightTriggerStyle = (): CSSProperties => {\r\n    const buttonStyles = getModalTriggerStyle('highlight');\r\n\r\n    return {\r\n      color: highlightColors?.color,\r\n      backgroundColor: buttonStyles.backgroundColor || highlightColors?.backgroundColor,\r\n      backgroundImage: highlightColors?.backgroundImage,\r\n      WebkitTextFillColor: highlightColors?.webkitTextFillColor,\r\n    };\r\n  };\r\n\r\n  const blockLabel = activeBlock?.options?.display?.title || activeBlock?.type || '';\r\n\r\n  const ActionMenu = tools.ActionMenu;\r\n  const LinkTool = tools.LinkTool;\r\n\r\n  useEffect(() => {\r\n    const onKeyDown = (e: KeyboardEvent) => {\r\n      if (HOTKEYS.isEscape(e)) {\r\n        setModals(DEFAULT_MODALS);\r\n        toggleHoldToolbar?.(false);\r\n        return;\r\n      }\r\n\r\n      // [TODO]: Implement this accessibility feature\r\n      // if (HOTKEYS.isEnter(e)) {\r\n      //   if (modals.link) {\r\n      //     onUpdateLink(linkValues);\r\n      //   }\r\n      // }\r\n    };\r\n\r\n    if (modals.link) {\r\n      const slate = findSlateBySelectionPath(editor);\r\n      if (!slate || !slate.selection) return;\r\n\r\n      lastSelection.current = slate.selection;\r\n\r\n      const title = Editor.string(slate, slate?.selection);\r\n      const linkNodeEntry = getLinkEntry(slate);\r\n\r\n      if (linkNodeEntry) {\r\n        const [linkNode] = linkNodeEntry as NodeEntry<SlateElement>;\r\n        setLinkValues({ ...linkNode.props, title });\r\n      } else {\r\n        setLinkValues({ ...linkValues, title });\r\n      }\r\n    }\r\n\r\n    document.addEventListener('keydown', onKeyDown);\r\n\r\n    return () => document.removeEventListener('keydown', onKeyDown);\r\n  }, [editor.path, editor.children, modals.link]);\r\n\r\n  const onUpdateLink = (link: LinkValues) => {\r\n    if (typeof editor.path.current !== 'number') return;\r\n\r\n    const slate = Blocks.getBlockSlate(editor, { at: editor.path.current });\r\n    if (!slate) return;\r\n\r\n    Editor.withoutNormalizing(slate, () => {\r\n      if (!slate.selection) return;\r\n\r\n      const defaultLinkProps: Record<string, unknown> | undefined = editor.plugins?.LinkPlugin?.elements?.link?.props;\r\n      editor.commands.insertLink?.({\r\n        slate,\r\n        blockId: blockData?.id,\r\n        props: {\r\n          ...link,\r\n          target: defaultLinkProps?.target || link.target || '_self',\r\n          rel: defaultLinkProps?.rel || link.rel || 'noopener noreferrer',\r\n          nodeType: 'inline',\r\n        },\r\n      });\r\n\r\n      // editor.emit('change', { value: editor.children, operations: [] });\r\n\r\n      onChangeModal('link', false);\r\n      setLinkValues(DEFAULT_LINK_VALUE);\r\n      toggleHoldToolbar?.(false);\r\n    });\r\n  };\r\n\r\n  const onDeleteLink = () => {\r\n    if (typeof editor.path.current !== 'number') return;\r\n    const slate = Blocks.getBlockSlate(editor, { at: editor.path.current });\r\n    if (!slate) return;\r\n\r\n    editor.commands.deleteLink?.({ slate });\r\n\r\n    onChangeModal('link', false);\r\n    setLinkValues(DEFAULT_LINK_VALUE);\r\n    toggleHoldToolbar?.(false);\r\n  };\r\n\r\n  const onClickLinkOverlay = (e: MouseEvent) => {\r\n    e.stopPropagation();\r\n    e.preventDefault();\r\n\r\n    if (linkToolRefs.floating.current?.contains(e.target as Node)) return;\r\n\r\n    toggleHoldToolbar?.(false);\r\n    setModals(DEFAULT_MODALS);\r\n  };\r\n\r\n  const isActiveTriggerModal = (modal: keyof ModalsState) => modals[modal];\r\n  const getModalTriggerStyle = (modal: keyof ModalsState) => ({\r\n    backgroundColor: isActiveTriggerModal(modal) ? '#f4f4f5' : undefined,\r\n  });\r\n\r\n  const onToggleMark = (format: string) => {\r\n    setModals(DEFAULT_MODALS);\r\n    editor.formats[format].toggle();\r\n  };\r\n\r\n  const blockData = findPluginBlockByPath(editor, { at: editor.path.current });\r\n\r\n  const onToggleAlign = () => {\r\n    const aligns = ['left', 'center', 'right'];\r\n    if (!blockData) return;\r\n\r\n    const currentAlign = blockData?.meta?.align || 'left';\r\n    const nextAlign = aligns[(aligns.indexOf(currentAlign) + 1) % aligns.length] as YooptaBlockData['meta']['align'];\r\n    Blocks.updateBlock(editor, blockData.id, { meta: { ...blockData.meta, align: nextAlign } });\r\n  };\r\n\r\n  const AlignIcon = ALIGN_ICONS[blockData?.meta?.align || 'left'];\r\n\r\n  const onCloseActionMenu = () => onChangeModal('actionMenu', false);\r\n\r\n  const actionMenuRenderProps = buildActionMenuRenderProps({ editor, onClose: onCloseActionMenu, view: 'small' });\r\n\r\n  return (\r\n    <Toolbar.Root className=\"yoopta-toolbar-root\">\r\n      <Toolbar.ToggleGroup className=\"yoopta-toolbar-group\" type=\"single\" aria-label=\"Block formatting\">\r\n        <Toolbar.ToggleItem\r\n          className=\"yoopta-button yoopta-toolbar-item\"\r\n          value={blockLabel}\r\n          aria-label={blockLabel}\r\n          ref={actionMenuRefs.setReference}\r\n          onClick={() => onChangeModal('actionMenu', !modals.actionMenu)}\r\n          style={getModalTriggerStyle('actionMenu')}\r\n        >\r\n          <span className=\"yoo-toolbar-mr-0\">{blockLabel}</span>\r\n          {modals.actionMenu && !!ActionMenu && (\r\n            <Portal id=\"yoo-toolbar-action-menu-list-portal\">\r\n              <div style={actionMenuStyles} ref={actionMenuRefs.setFloating} onClick={(e) => e.stopPropagation()}>\r\n                <ActionMenu {...actionMenuRenderProps} />\r\n              </div>\r\n            </Portal>\r\n          )}\r\n        </Toolbar.ToggleItem>\r\n      </Toolbar.ToggleGroup>\r\n      <Toolbar.Separator className=\"yoopta-toolbar-separator\" />\r\n      <Toolbar.ToggleGroup className=\"yoopta-toolbar-group\" type=\"single\" aria-label=\"Block formatting\">\r\n        <Toolbar.ToggleItem\r\n          className=\"yoopta-button yoopta-toolbar-item\"\r\n          value=\"LinkTool\"\r\n          aria-label=\"LinkTool\"\r\n          ref={linkToolRefs.setReference}\r\n          onClick={() => {\r\n            onChangeModal('link', !modals.link);\r\n            toggleHoldToolbar?.(true);\r\n          }}\r\n          style={getModalTriggerStyle('link')}\r\n        >\r\n          <span className=\"yoo-toolbar-mr-0\">Link</span>\r\n          {modals.link && !!LinkTool && (\r\n            <Portal id=\"yoo-link-tool-portal\">\r\n              <Overlay lockScroll className=\"z-[100]\" onClick={onClickLinkOverlay}>\r\n                <div style={linkToolStyles} ref={linkToolRefs.setFloating}>\r\n                  <LinkTool link={linkValues} onSave={onUpdateLink} onDelete={onDeleteLink} />\r\n                </div>\r\n              </Overlay>\r\n            </Portal>\r\n          )}\r\n        </Toolbar.ToggleItem>\r\n      </Toolbar.ToggleGroup>\r\n      <Toolbar.Separator className=\"yoopta-toolbar-separator\" />\r\n      <Toolbar.ToggleGroup className=\"yoopta-toolbar-group\" type=\"multiple\" aria-label=\"Text formatting\">\r\n        {editor.formats.bold && (\r\n          <Toolbar.ToggleItem\r\n            className=\"yoopta-button yoopta-toolbar-item-mark\"\r\n            value=\"bold\"\r\n            aria-label=\"Bold\"\r\n            style={getItemStyle('bold')}\r\n            onClick={() => onToggleMark('bold')}\r\n          >\r\n            <FontBoldIcon width={20} height={20} />\r\n          </Toolbar.ToggleItem>\r\n        )}\r\n        {editor.formats.italic && (\r\n          <Toolbar.ToggleItem\r\n            className=\"yoopta-button yoopta-toolbar-item-mark\"\r\n            value=\"italic\"\r\n            aria-label=\"Italic\"\r\n            style={getItemStyle('italic')}\r\n            onClick={() => onToggleMark('italic')}\r\n          >\r\n            <FontItalicIcon width={20} height={20} />\r\n          </Toolbar.ToggleItem>\r\n        )}\r\n        {editor.formats.underline && (\r\n          <Toolbar.ToggleItem\r\n            className=\"yoopta-button yoopta-toolbar-item-mark\"\r\n            value=\"underline\"\r\n            aria-label=\"Underline\"\r\n            style={getItemStyle('underline')}\r\n            onClick={() => onToggleMark('underline')}\r\n          >\r\n            <UnderlineIcon width={20} height={20} />\r\n          </Toolbar.ToggleItem>\r\n        )}\r\n\r\n        {editor.formats.strike && (\r\n          <Toolbar.ToggleItem\r\n            className=\"yoopta-button yoopta-toolbar-item-mark\"\r\n            value=\"strike\"\r\n            aria-label=\"Strike\"\r\n            style={getItemStyle('strike')}\r\n            onClick={() => onToggleMark('strike')}\r\n          >\r\n            <StrikethroughIcon width={20} height={20} />\r\n          </Toolbar.ToggleItem>\r\n        )}\r\n        {editor.formats.code && (\r\n          <Toolbar.ToggleItem\r\n            className=\"yoopta-button yoopta-toolbar-item-mark\"\r\n            value=\"code\"\r\n            aria-label=\"Code\"\r\n            style={getItemStyle('code')}\r\n            onClick={() => onToggleMark('code')}\r\n          >\r\n            <CodeIcon width={20} height={20} />\r\n          </Toolbar.ToggleItem>\r\n        )}\r\n      </Toolbar.ToggleGroup>\r\n      <Toolbar.Separator className=\"yoopta-toolbar-separator\" />\r\n      <Toolbar.ToggleGroup className=\"yoopta-toolbar-group\" type=\"multiple\" aria-label=\"Text formatting\">\r\n        <Toolbar.ToggleItem\r\n          className=\"yoopta-button yoopta-toolbar-item-mark\"\r\n          value=\"align\"\r\n          aria-label=\"Alignment\"\r\n          style={getItemStyle('align')}\r\n          onClick={onToggleAlign}\r\n        >\r\n          <AlignIcon width={20} height={20} />\r\n        </Toolbar.ToggleItem>\r\n        {editor.formats.highlight && (\r\n          <>\r\n            {modals.highlight && (\r\n              <HighlightColor\r\n                editor={editor}\r\n                floatingStyles={highlightPickerStyles}\r\n                refs={highlightPickerRefs}\r\n                onClose={() => onChangeModal('highlight', false)}\r\n                highlightColors={highlightColors}\r\n              />\r\n            )}\r\n\r\n            <Toolbar.ToggleItem\r\n              className=\"yoopta-button yoopta-toolbar-item-mark\"\r\n              value=\"highlight\"\r\n              aria-label=\"Highlight\"\r\n              style={getHighlightTriggerStyle()}\r\n              ref={highlightPickerRefs.setReference}\r\n              onClick={() => onChangeModal('highlight', !modals.highlight)}\r\n            >\r\n              <span className=\"yoopta-toolbar-color-text\">A</span>\r\n              {modals.highlight ? <ChevronUpIcon width={10} /> : <ChevronDownIcon width={10} />}\r\n            </Toolbar.ToggleItem>\r\n          </>\r\n        )}\r\n      </Toolbar.ToggleGroup>\r\n    </Toolbar.Root>\r\n  );\r\n};\r\n\r\nexport { DefaultToolbarRender };\r\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = throttle;\n","import { useEffect, useState } from 'react';\r\nimport { DefaultToolbarRender } from './DefaultToolbarRender';\r\nimport { useFloating, offset, flip, shift, inline, autoUpdate, useTransitionStyles } from '@floating-ui/react';\r\nimport throttle from 'lodash.throttle';\r\nimport { useYooptaEditor, UI } from '@yoopta/editor';\r\nimport { ToolbarToolProps } from '../types';\r\n\r\nconst { Portal } = UI;\r\n\r\nconst Toolbar = ({ render }: ToolbarToolProps) => {\r\n  const editor = useYooptaEditor();\r\n  const [isToolbarOpen, setIsToolbarOpen] = useState(false);\r\n  const [hold, setHold] = useState(false);\r\n\r\n  const { refs, floatingStyles, context } = useFloating({\r\n    placement: 'top',\r\n    open: isToolbarOpen,\r\n    onOpenChange: setIsToolbarOpen,\r\n    middleware: [inline(), flip(), shift(), offset(10)],\r\n    whileElementsMounted: autoUpdate,\r\n  });\r\n\r\n  const { isMounted, styles: transitionStyles } = useTransitionStyles(context, {\r\n    duration: 100,\r\n  });\r\n\r\n  const selectionChange = () => {\r\n    if (hold) return;\r\n\r\n    const domSelection = window.getSelection();\r\n\r\n    if (!domSelection || domSelection?.isCollapsed || domSelection?.anchorOffset === domSelection?.focusOffset) {\r\n      return setIsToolbarOpen(false);\r\n    }\r\n\r\n    const domRange = domSelection.getRangeAt(0);\r\n    const selectionRect = domRange.getBoundingClientRect();\r\n    const text = domRange.toString().trim();\r\n\r\n    const pluginWithCustomEditor = document.querySelectorAll('[data-custom-editor]');\r\n    const ancestor = domRange?.commonAncestorContainer;\r\n\r\n    let isInsideCustomEditor = false;\r\n    for (let i = 0; i < pluginWithCustomEditor.length; i++) {\r\n      if (pluginWithCustomEditor[i].contains(ancestor)) {\r\n        isInsideCustomEditor = true;\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (!editor.refElement?.contains(ancestor) || isInsideCustomEditor) {\r\n      return setIsToolbarOpen(false);\r\n    }\r\n\r\n    if (domRange && text.length > 0) {\r\n      refs.setReference({\r\n        getBoundingClientRect: () => selectionRect,\r\n        getClientRects: () => domRange.getClientRects(),\r\n      });\r\n\r\n      setIsToolbarOpen(true);\r\n    }\r\n  };\r\n\r\n  const onSelectionChange = throttle(selectionChange, 200);\r\n\r\n  useEffect(() => {\r\n    window.document.addEventListener('selectionchange', onSelectionChange);\r\n    return () => window.document.removeEventListener('selectionchange', onSelectionChange);\r\n  }, [editor.path, hold, editor.children]);\r\n\r\n  if (!isMounted) return null;\r\n\r\n  const activeBlock = Object.values(editor.blocks).find((block) => block.isActive());\r\n  const style = { ...floatingStyles, ...transitionStyles };\r\n\r\n  const toggleHoldToolbar = (hold: boolean) => setHold(hold);\r\n\r\n  if (render) {\r\n    const RenderComponent = render;\r\n\r\n    return (\r\n      <Portal id=\"yoo-toolbar-portal\">\r\n        <div style={style} ref={refs.setFloating} className=\"yoo-toolbar-z-[99]\" onClick={(e) => e.stopPropagation()}>\r\n          <RenderComponent activeBlock={activeBlock} editor={editor} toggleHoldToolbar={toggleHoldToolbar} />\r\n        </div>\r\n      </Portal>\r\n    );\r\n  }\r\n\r\n  return (\r\n    // [TODO] - take care about SSR\r\n    <Portal id=\"yoo-toolbar-portal\">\r\n      <div style={style} ref={refs.setFloating} className=\"yoo-toolbar-z-[99]\" onClick={(e) => e.stopPropagation()}>\r\n        <DefaultToolbarRender activeBlock={activeBlock} editor={editor} toggleHoldToolbar={toggleHoldToolbar} />\r\n      </div>\r\n    </Portal>\r\n  );\r\n};\r\n\r\nexport { Toolbar };\r\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n"],"names":["ChevronDownIcon","React","forwardedRef","color","props","width","height","viewBox","fill","xmlns","ref","d","fillRule","clipRule","ChevronUpIcon","CodeIcon","FontBoldIcon","FontItalicIcon","StrikethroughIcon","TextAlignCenterIcon","TextAlignLeftIcon","TextAlignRightIcon","UnderlineIcon","composeEventHandlers","originalEventHandler","ourEventHandler","checkForDefaultPrevented","handleEvent","event","defaultPrevented","createContextScope","scopeName","createContextScopeDeps","defaultContexts","createContext","rootComponentName","defaultContext","BaseContext","index","length","Provider","scope","children","context","Context","value","Object","values","$3bkAK$createElement","useContext","consumerName","undefined","Error","displayName","createScope","scopeContexts","map","useScope","contexts","composeContextScopes","scopes","baseScope","scopeHooks","useComposedScopes","overrideScopes","nextScopes","reduce","scopeProps","currentScope","setRef","current","composeRefs","refs","node","forEach","useComposedRefs","Slot","slotProps","childrenArray","toArray","slottable","find","isSlottable","newElement","newChildren","child","count","only","$9IrjX$createElement","$5e63c961fc1ce211$var$SlotClone","$9IrjX$babelruntimehelpersesmextends","SlotClone","mergeProps","Slottable","$9IrjX$Fragment","type","childProps","overrideProps","propName","slotPropValue","childPropValue","isHandler","test","args","filter","Boolean","join","createCollection","name","PROVIDER_NAME","createCollectionContext","createCollectionScope","CollectionProviderImpl","useCollectionContext","collectionRef","itemMap","Map","CollectionProvider","useRef","$6vYhU$react","COLLECTION_SLOT_NAME","CollectionSlot","forwardRef","composedRefs","$6vYhU$Slot","ITEM_SLOT_NAME","ITEM_DATA_ATTR","CollectionItemSlot","itemData","useEffect","set","delete","useCollection","getItems","useCallback","collectionNode","orderedNodes","Array","from","querySelectorAll","items","orderedItems","sort","a","b","indexOf","ItemSlot","useLayoutEffect","globalThis","document","useReactId","toString","useId","deterministicId","id","setId","useState","reactId","String","NODES","Primitive","primitive","Node","asChild","primitiveProps","Comp","window","Symbol","for","$4q5Fq$createElement","$4q5Fq$babelruntimehelpersesmextends","useCallbackRef","callback","callbackRef","useControllableState","prop","defaultProp","onChange","uncontrolledProp","setUncontrolledProp","useUncontrolledState","isControlled","handleChange","setValue","nextValue","setter","uncontrolledState","prevValueRef","DirectionContext","useDirection","localDir","globalDir","ENTRY_FOCUS","EVENT_OPTIONS","bubbles","cancelable","GROUP_NAME","Collection","createRovingFocusGroupContext","createRovingFocusGroupScope","RovingFocusProvider","useRovingFocusContext","RovingFocusGroup","$98Iye$createElement","__scopeRovingFocusGroup","$98Iye$babelruntimehelpersesmextends","RovingFocusGroupImpl","orientation","loop","dir","currentTabStopId","currentTabStopIdProp","defaultCurrentTabStopId","onCurrentTabStopIdChange","onEntryFocus","groupProps","direction","setCurrentTabStopId","isTabbingBackOut","setIsTabbingBackOut","handleEntryFocus","isClickFocusRef","focusableItemsCount","setFocusableItemsCount","addEventListener","removeEventListener","tabStopId","prevCount","$98Iye$Primitive","outline","style","onMouseDown","onFocus","isKeyboardFocus","target","currentTarget","entryFocusEvent","CustomEvent","dispatchEvent","item","focusable","activeItem","active","currentItem","candidateItems","candidateNodes","focusFirst","onBlur","ITEM_NAME","RovingFocusGroupItem","itemProps","autoId","isCurrentTabStop","onFocusableItemAdd","onFocusableItemRemove","preventDefault","onItemFocus","onKeyDown","key","shiftKey","onItemShiftTab","focusIntent","getFocusIntent","reverse","currentIndex","wrapArray","slice","setTimeout","MAP_KEY_TO_FOCUS_INTENT","ArrowLeft","ArrowUp","ArrowRight","ArrowDown","PageUp","Home","PageDown","End","getDirectionAwareKey","includes","candidates","PREVIOUSLY_FOCUSED_ELEMENT","activeElement","candidate","focus","array","startIndex","_","Root","Item","DEFAULT_ORIENTATION","ORIENTATIONS","Separator","decorative","orientationProp","domProps","isValidOrientation","ariaOrientation","semanticProps","role","$5WXm8$createElement","$5WXm8$Primitive","$5WXm8$babelruntimehelpersesmextends","propTypes","componentName","propValue","strVal","getInvalidOrientationError","Toggle","pressed","pressedProp","defaultPressed","onPressedChange","buttonProps","setPressed","$5AXX7$createElement","$5AXX7$Primitive","$5AXX7$babelruntimehelpersesmextends","disabled","onClick","TOGGLE_GROUP_NAME","createToggleGroupContext","createToggleGroupScope","useRovingFocusGroupScope","ToggleGroup","toggleGroupProps","singleProps","$jFibJ$react","$jFibJ$babelruntimehelpersesmextends","multipleProps","ToggleGroupValueProvider","useToggleGroupValueContext","ToggleGroupImplSingle","valueProp","defaultValue","onValueChange","toggleGroupSingleProps","__scopeToggleGroup","ToggleGroupImplMultiple","toggleGroupMultipleProps","handleButtonActivate","itemValue","prevValue","handleButtonDeactivate","ToggleGroupContext","useToggleGroupContext","ToggleGroupImpl","rovingFocus","rovingFocusGroupScope","commonProps","$jFibJ$Root","$jFibJ$Primitive","ToggleGroupItem","valueContext","$jFibJ$Item","ToggleGroupItemImpl","typeProps","$jFibJ$Toggle","onItemActivate","onItemDeactivate","TOOLBAR_NAME","createToolbarContext","createToolbarScope","useToggleGroupScope","ToolbarProvider","useToolbarContext","Toolbar","__scopeToolbar","toolbarProps","$72MJ6$createElement","$72MJ6$Root","$72MJ6$babelruntimehelpersesmextends","$72MJ6$Primitive","SEPARATOR_NAME","ToolbarSeparator","separatorProps","$72MJ6$Root1","ToolbarButton","$72MJ6$Item","ToolbarToggleGroup","toggleGroupScope","$72MJ6$Root2","ToolbarToggleItem","toggleItemProps","$72MJ6$Item1","ToggleItem","isElement","computePosition","flip","inline","shift","useLatestRef","useFloating","useEventCallback","handler","fn","clamp","number","min","max","isTouch","getParentWindow","ownerDocument","defaultView","self","getRelativePosition","touchId","rect","getBoundingClientRect","pointer","touches","i","identifier","getTouchPoint","left","pageX","pageXOffset","top","pageY","pageYOffset","preventDefaultMove","Interactive","memo","onMove","onKey","rest","container","onMoveCallback","onKeyCallback","hasTouch","useMemo","handleMove","buttons","toggleDocumentEvents","handleMoveEnd","state","touch","parentWindow","toggleEvent","nativeEvent","el","isInvalid","changedTouches","keyCode","which","handleMoveStart","handleKeyDown","onTouchStart","className","tabIndex","formatClassName","names","Pointer","nodeClassName","backgroundColor","round","digits","base","Math","pow","angleUnits","hexToHsva","hex","rgbaToHsva","hexToRgba","substring","r","parseInt","g","parseHue","hsvaToHex","hsva","rgbaToHex","hsvaToRgba","hsvaToHsla","s","v","hh","h","l","hsvaToHslString","hsvaToHslaString","floor","c","module","format","alphaHex","delta","Hue","hue","interaction","offset","aria-label","aria-valuenow","aria-valuemax","aria-valuemin","Saturation","containerStyle","aria-valuetext","equalColorObjects","first","second","equalColorString","equalHex","toLowerCase","useColorManipulation","colorModel","onChangeCallback","toHsva","updateHsva","cache","equal","newHsva","newColor","fromHsva","params","assign","useIsomorphicLayoutEffect","getNonce","nonce","__webpack_nonce__","styleElementMap","useStyleSheet","nodeRef","parentDocument","has","styleElement","createElement","innerHTML","setAttribute","head","appendChild","ColorPicker","defaultColor","HexColorPicker","Alpha","useDebouncedCallback","func","wait","options","_this","this","lastCallTime","lastInvokeTime","timerId","lastArgs","lastThis","result","funcRef","mounted","isClientSide","useRAF","TypeError","leading","trailing","maxing","debounceOnServer","maxWait","debounced","invokeFunc","time","thisArg","apply","startTimer","pendingFunc","cancelAnimationFrame","requestAnimationFrame","shouldInvoke","timeSinceLastCall","trailingEdge","timerExpired","Date","now","timeWaiting","remainingWait","isInvoking","call","arguments","cancel","clearTimeout","isPending","flush","Portal","_jsx","_jsxs","PaletteIcon","isObject","isPlainObject","immer","isSet","Immer","Path","ancestors","path","paths","levels","common","another","av","bv","push","compare","endsAfter","as","bs","equals","endsAt","endsBefore","every","n","hasPrevious","isAfter","isAncestor","isBefore","isChild","isCommon","isDescendant","isParent","isPath","isArray","isSibling","al","bl","list","next","concat","last","operationCanTransformPath","operation","parent","previous","relative","ancestor","transform","p","affinity","op","position","newPath","onp","copy","toPrimitive","toPropertyKey","applyToDraft","editor","selection","splice","point","Range","points","Point","text","leaf","before","after","get","prevPath","prev","Text","isText","Scrubber","stringify","truePath","newParent","newIndex","texts","preferNext","properties","newProperties","hasOwnProperty","isRange","_objectSpread","newNode","GeneralTransforms","createDraft","finishDraft","isDraft","NodeTransforms","insertNodes","nodes","liftNodes","mergeNodes","moveNodes","removeNodes","setNodes","splitNodes","unsetNodes","unwrapNodes","wrapNodes","element","SelectionTransforms","collapse","deselect","move","select","setPoint","setSelection","isDeepEqual","objectWithoutPropertiesLoose","edges","range","anchor","isBackward","end","rs","re","ts","te","start","isAfterStart","isBeforeEnd","isPoint","intersection","_objectWithoutProperties","_excluded","s1","e1","s2","e2","isCollapsed","isExpanded","isForward","produce","affinityAnchor","affinityFocus","isNodeList","Editor","isEditor","Element","isElementList","val","isElementProps","isElementType","elementVal","elementKey","matches","IS_NODE_LIST_CACHE","WeakMap","root","entry","childPath","descendant","descendants","elements","extractProps","_excluded2","fragment","newRoot","nodeEntries","pass","_ref","isNode","cachedResult","isTextProps","to","visited","Set","add","nextIndex","parentPath","string","Operation","isNodeOperation","isOperation","endsWith","isOperationList","isSelectionOperation","isTextOperation","inverse","inversePath","inverseNewPath","IS_EDITOR_CACHE","cachedIsEditor","addMark","deleteFragment","insertBreak","insertSoftBreak","insertFragment","insertNode","insertText","isElementReadOnly","isInline","isSelectable","isVoid","normalizeNode","removeMark","getDirtyPaths","marks","operations","above","at","deleteBackward","unit","deleteForward","elementReadOnly","hasBlocks","hasInlines","hasPath","hasTexts","isBlock","isEdge","isEmpty","isEnd","isNormalizing","isStart","getMarks","normalize","pathRef","pathRefs","pointRef","pointRefs","positions","rangeRef","rangeRefs","setNormalizing","unhangRange","void","withoutNormalizing","_scrubber","setScrubber","scrubber","JSON","loose","omitText","obj","isTextList","decorations","leaves","dec","leafEnd","decorationStart","decorationEnd","leafStart","middle","off","getDefaultInsertLocation","CodepointType","L","V","LV","LVT","T","Any","Extend","ZWJ","SpacingMark","Prepend","ExtPict","RI","TextTransforms","voids","startRef","endRef","Transforms","startPoint","unref","endPoint","Toolbar.Root","Toolbar.ToggleGroup","Toolbar.ToggleItem","Toolbar.Separator","global","throttle"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,97,99]}