{"version":3,"file":"index.js","sources":["../src/plugins/createYooptaPlugin.tsx","../src/utils/generateId.ts","../src/components/Editor/utils.ts","../src/utils/blockElements.ts","../src/editor/blocks/insertBlock.ts","../src/editor/paths/getPreviousPath.ts","../src/editor/paths/getNextPath.ts","../src/editor/paths/isBlockSelected.ts","../src/editor/paths/getPath.ts","../src/editor/paths/getSelectedPaths.ts","../src/editor/paths/isPathEmpty.ts","../src/editor/paths/setPath.ts","../src/utils/getLastNodePoint.ts","../src/editor/paths/index.ts","../src/editor/blocks/getBlockSlate.ts","../src/editor/blocks/deleteBlock.ts","../src/editor/blocks/moveBlock.ts","../src/utils/weakMaps.ts","../src/editor/blocks/focusBlock.ts","../src/utils/findPluginBlockByPath.tsx","../src/utils/findSlateBySelectionPath.tsx","../../../../node_modules/lodash.clonedeep/index.js","../src/utils/deepClone.ts","../src/editor/blocks/splitBlock.ts","../src/editor/blocks/increaseBlockDepth.ts","../src/editor/blocks/decreaseBlockDepth.ts","../src/editor/core/getEditorValue.ts","../src/utils/validateYooptaValue.ts","../src/editor/blocks/duplicateBlock.ts","../src/editor/blocks/updateBlock.ts","../src/extensions/shortcuts.tsx","../src/utils/buildSlate.ts","../src/editor/blocks/toggleBlock.ts","../src/editor/blocks/getBlock.ts","../src/editor/elements/getElementEntry.ts","../src/editor/elements/createElement.ts","../src/editor/elements/deleteElement.ts","../src/editor/elements/updateElement.ts","../src/editor/elements/insertElementText.ts","../src/editor/elements/getElement.ts","../src/editor/elements/getElementChildren.ts","../src/editor/elements/getElementPath.ts","../src/editor/elements/getParentElementPath.ts","../src/editor/elements/isElementEmpty.ts","../src/editor/elements/index.ts","../src/editor/blocks/mergeBlock.ts","../src/editor/blocks/buildBlockData.ts","../src/editor/blocks/index.ts","../src/editor/core/setEditorValue.ts","../src/editor/core/blur.ts","../src/editor/core/focus.ts","../src/editor/core/isFocused.ts","../src/parsers/getHTML.ts","../src/parsers/getMarkdown.ts","../src/parsers/getPlainText.ts","../src/editor/core/isEmpty.ts","../../../../node_modules/immer/src/utils/env.ts","../../../../node_modules/immer/src/utils/errors.ts","../../../../node_modules/immer/src/utils/common.ts","../../../../node_modules/immer/src/utils/plugins.ts","../../../../node_modules/immer/src/core/scope.ts","../../../../node_modules/immer/src/core/finalize.ts","../../../../node_modules/immer/src/core/proxy.ts","../../../../node_modules/immer/src/core/immerClass.ts","../../../../node_modules/immer/src/core/current.ts","../../../../node_modules/immer/src/immer.ts","../src/editor/core/applyTransforms.ts","../src/editor/core/batchOperations.ts","../src/editor/core/history.ts","../../../../node_modules/eventemitter3/index.js","../src/parsers/serializeTextNodes.ts","../src/parsers/getEmail.ts","../src/editor/index.tsx","../src/contexts/YooptaContext/YooptaContext.tsx","../../../../node_modules/@dnd-kit/utilities/src/hooks/useCombinedRefs.ts","../../../../node_modules/@dnd-kit/utilities/src/execution-context/canUseDOM.ts","../../../../node_modules/@dnd-kit/utilities/src/type-guards/isWindow.ts","../../../../node_modules/@dnd-kit/utilities/src/type-guards/isNode.ts","../../../../node_modules/@dnd-kit/utilities/src/execution-context/getWindow.ts","../../../../node_modules/@dnd-kit/utilities/src/type-guards/isDocument.ts","../../../../node_modules/@dnd-kit/utilities/src/type-guards/isHTMLElement.ts","../../../../node_modules/@dnd-kit/utilities/src/type-guards/isSVGElement.ts","../../../../node_modules/@dnd-kit/utilities/src/execution-context/getOwnerDocument.ts","../../../../node_modules/@dnd-kit/utilities/src/hooks/useIsomorphicLayoutEffect.ts","../../../../node_modules/@dnd-kit/utilities/src/hooks/useEvent.ts","../../../../node_modules/@dnd-kit/utilities/src/hooks/useInterval.ts","../../../../node_modules/@dnd-kit/utilities/src/hooks/useLatestValue.ts","../../../../node_modules/@dnd-kit/utilities/src/hooks/useLazyMemo.ts","../../../../node_modules/@dnd-kit/utilities/src/hooks/useNodeRef.ts","../../../../node_modules/@dnd-kit/utilities/src/hooks/usePrevious.ts","../../../../node_modules/@dnd-kit/utilities/src/hooks/useUniqueId.ts","../../../../node_modules/@dnd-kit/utilities/src/adjustment.ts","../../../../node_modules/@dnd-kit/utilities/src/event/hasViewportRelativeCoordinates.ts","../../../../node_modules/@dnd-kit/utilities/src/event/isKeyboardEvent.ts","../../../../node_modules/@dnd-kit/utilities/src/event/isTouchEvent.ts","../../../../node_modules/@dnd-kit/utilities/src/coordinates/getEventCoordinates.ts","../../../../node_modules/@dnd-kit/utilities/src/css.ts","../../../../node_modules/@dnd-kit/utilities/src/focus/findFirstFocusableNode.ts","../../../../node_modules/@dnd-kit/accessibility/src/components/HiddenText/HiddenText.tsx","../../../../node_modules/@dnd-kit/accessibility/src/components/LiveRegion/LiveRegion.tsx","../../../../node_modules/@dnd-kit/accessibility/src/hooks/useAnnouncement.ts","../../../../node_modules/@dnd-kit/core/src/components/DndMonitor/context.ts","../../../../node_modules/@dnd-kit/core/src/components/DndMonitor/useDndMonitor.ts","../../../../node_modules/@dnd-kit/core/src/components/DndMonitor/useDndMonitorProvider.tsx","../../../../node_modules/@dnd-kit/core/src/components/Accessibility/defaults.ts","../../../../node_modules/@dnd-kit/core/src/components/Accessibility/Accessibility.tsx","../../../../node_modules/@dnd-kit/core/src/store/actions.ts","../../../../node_modules/@dnd-kit/core/src/utilities/other/noop.ts","../../../../node_modules/@dnd-kit/core/src/sensors/useSensor.ts","../../../../node_modules/@dnd-kit/core/src/sensors/useSensors.ts","../../../../node_modules/@dnd-kit/core/src/utilities/coordinates/constants.ts","../../../../node_modules/@dnd-kit/core/src/utilities/coordinates/distanceBetweenPoints.ts","../../../../node_modules/@dnd-kit/core/src/utilities/algorithms/helpers.ts","../../../../node_modules/@dnd-kit/core/src/utilities/algorithms/closestCenter.ts","../../../../node_modules/@dnd-kit/core/src/utilities/algorithms/closestCorners.ts","../../../../node_modules/@dnd-kit/core/src/utilities/algorithms/rectIntersection.ts","../../../../node_modules/@dnd-kit/core/src/utilities/rect/adjustScale.ts","../../../../node_modules/@dnd-kit/core/src/utilities/rect/getRectDelta.ts","../../../../node_modules/@dnd-kit/core/src/utilities/rect/rectAdjustment.ts","../../../../node_modules/@dnd-kit/core/src/utilities/transform/parseTransform.ts","../../../../node_modules/@dnd-kit/core/src/utilities/transform/inverseTransform.ts","../../../../node_modules/@dnd-kit/core/src/utilities/rect/getRect.ts","../../../../node_modules/@dnd-kit/core/src/utilities/rect/getWindowClientRect.ts","../../../../node_modules/@dnd-kit/core/src/utilities/scroll/isFixed.ts","../../../../node_modules/@dnd-kit/core/src/utilities/scroll/isScrollable.ts","../../../../node_modules/@dnd-kit/core/src/utilities/scroll/getScrollableAncestors.ts","../../../../node_modules/@dnd-kit/core/src/utilities/scroll/getScrollableElement.ts","../../../../node_modules/@dnd-kit/core/src/utilities/scroll/getScrollCoordinates.ts","../../../../node_modules/@dnd-kit/core/src/types/direction.ts","../../../../node_modules/@dnd-kit/core/src/utilities/scroll/documentScrollingElement.ts","../../../../node_modules/@dnd-kit/core/src/utilities/scroll/getScrollPosition.ts","../../../../node_modules/@dnd-kit/core/src/utilities/scroll/getScrollDirectionAndSpeed.ts","../../../../node_modules/@dnd-kit/core/src/utilities/scroll/getScrollElementRect.ts","../../../../node_modules/@dnd-kit/core/src/utilities/scroll/getScrollOffsets.ts","../../../../node_modules/@dnd-kit/core/src/utilities/scroll/scrollIntoViewIfNeeded.ts","../../../../node_modules/@dnd-kit/core/src/utilities/rect/Rect.ts","../../../../node_modules/@dnd-kit/core/src/sensors/utilities/Listeners.ts","../../../../node_modules/@dnd-kit/core/src/sensors/utilities/getEventListenerTarget.ts","../../../../node_modules/@dnd-kit/core/src/sensors/utilities/hasExceededDistance.ts","../../../../node_modules/@dnd-kit/core/src/sensors/events.ts","../../../../node_modules/@dnd-kit/core/src/sensors/keyboard/types.ts","../../../../node_modules/@dnd-kit/core/src/sensors/keyboard/defaults.ts","../../../../node_modules/@dnd-kit/core/src/sensors/keyboard/KeyboardSensor.ts","../../../../node_modules/@dnd-kit/core/src/sensors/pointer/AbstractPointerSensor.ts","../../../../node_modules/@dnd-kit/core/src/sensors/pointer/PointerSensor.ts","../../../../node_modules/@dnd-kit/core/src/sensors/mouse/MouseSensor.ts","../../../../node_modules/@dnd-kit/core/src/sensors/touch/TouchSensor.ts","../../../../node_modules/@dnd-kit/core/src/hooks/utilities/useAutoScroller.ts","../../../../node_modules/@dnd-kit/core/src/hooks/utilities/useCachedNode.ts","../../../../node_modules/@dnd-kit/core/src/hooks/utilities/useCombineActivators.ts","../../../../node_modules/@dnd-kit/core/src/hooks/utilities/useDroppableMeasuring.ts","../../../../node_modules/@dnd-kit/core/src/hooks/utilities/useInitialValue.ts","../../../../node_modules/@dnd-kit/core/src/hooks/utilities/useInitialRect.ts","../../../../node_modules/@dnd-kit/core/src/hooks/utilities/useMutationObserver.ts","../../../../node_modules/@dnd-kit/core/src/hooks/utilities/useResizeObserver.ts","../../../../node_modules/@dnd-kit/core/src/hooks/utilities/useRect.ts","../../../../node_modules/@dnd-kit/core/src/hooks/utilities/useRectDelta.ts","../../../../node_modules/@dnd-kit/core/src/hooks/utilities/useScrollableAncestors.ts","../../../../node_modules/@dnd-kit/core/src/hooks/utilities/useScrollOffsets.ts","../../../../node_modules/@dnd-kit/core/src/hooks/utilities/useScrollOffsetsDelta.ts","../../../../node_modules/@dnd-kit/core/src/hooks/utilities/useSensorSetup.ts","../../../../node_modules/@dnd-kit/core/src/hooks/utilities/useSyntheticListeners.ts","../../../../node_modules/@dnd-kit/core/src/hooks/utilities/useWindowRect.ts","../../../../node_modules/@dnd-kit/core/src/hooks/utilities/useRects.ts","../../../../node_modules/@dnd-kit/core/src/utilities/nodes/getMeasurableNode.ts","../../../../node_modules/@dnd-kit/core/src/hooks/utilities/useDragOverlayMeasuring.ts","../../../../node_modules/@dnd-kit/core/src/components/DndContext/defaults.ts","../../../../node_modules/@dnd-kit/core/src/store/constructors.ts","../../../../node_modules/@dnd-kit/core/src/store/context.ts","../../../../node_modules/@dnd-kit/core/src/store/reducer.ts","../../../../node_modules/@dnd-kit/core/src/components/Accessibility/components/RestoreFocus.tsx","../../../../node_modules/@dnd-kit/core/src/modifiers/applyModifiers.ts","../../../../node_modules/@dnd-kit/core/src/components/DndContext/hooks/useMeasuringConfiguration.ts","../../../../node_modules/@dnd-kit/core/src/components/DndContext/hooks/useLayoutShiftScrollCompensation.ts","../../../../node_modules/@dnd-kit/core/src/components/DndContext/DndContext.tsx","../../../../node_modules/@dnd-kit/core/src/hooks/useDraggable.ts","../../../../node_modules/@dnd-kit/core/src/hooks/useDndContext.ts","../../../../node_modules/@dnd-kit/core/src/hooks/useDroppable.ts","../../../../node_modules/@dnd-kit/sortable/src/utilities/arrayMove.ts","../../../../node_modules/@dnd-kit/sortable/src/utilities/getSortedRects.ts","../../../../node_modules/@dnd-kit/sortable/src/utilities/isValidIndex.ts","../../../../node_modules/@dnd-kit/sortable/src/utilities/itemsEqual.ts","../../../../node_modules/@dnd-kit/sortable/src/utilities/normalizeDisabled.ts","../../../../node_modules/@dnd-kit/sortable/src/strategies/rectSorting.ts","../../../../node_modules/@dnd-kit/sortable/src/strategies/verticalListSorting.ts","../../../../node_modules/@dnd-kit/sortable/src/components/SortableContext.tsx","../../../../node_modules/@dnd-kit/sortable/src/hooks/defaults.ts","../../../../node_modules/@dnd-kit/sortable/src/hooks/utilities/useDerivedTransform.ts","../../../../node_modules/@dnd-kit/sortable/src/hooks/useSortable.ts","../../../../node_modules/@dnd-kit/sortable/src/types/type-guard.ts","../../../../node_modules/@dnd-kit/sortable/src/sensors/keyboard/sortableKeyboardCoordinates.ts","../src/contexts/YooptaContext/ToolsContext.tsx","../../../../node_modules/@floating-ui/utils/dist/floating-ui.utils.dom.mjs","../../../../node_modules/@floating-ui/react/dist/floating-ui.react.utils.mjs","../../../../node_modules/@floating-ui/utils/dist/floating-ui.utils.mjs","../../../../node_modules/@floating-ui/react-dom/node_modules/@floating-ui/core/dist/floating-ui.core.mjs","../../../../node_modules/@floating-ui/react-dom/node_modules/@floating-ui/dom/dist/floating-ui.dom.mjs","../../../../node_modules/@floating-ui/react-dom/dist/floating-ui.react-dom.mjs","../../../../node_modules/tabbable/src/index.js","../../../../node_modules/@floating-ui/react/dist/floating-ui.react.mjs","../src/UI/BlockOptions/utils.ts","../src/components/Block/hooks.ts","../src/components/Block/Block.tsx","../../../../node_modules/is-hotkey/lib/index.js","../src/utils/hotkeys.ts","../src/handlers/onKeyDown.ts","../src/handlers/index.ts","../src/components/TextLeaf/TextLeaf.tsx","../src/utils/validators.ts","../src/parsers/deserializeHTML.ts","../../../../node_modules/validator/lib/util/assertString.js","../../../../node_modules/validator/lib/util/merge.js","../../../../node_modules/validator/lib/isFQDN.js","../../../../node_modules/validator/lib/isIP.js","../../../../node_modules/validator/lib/isURL.js","../src/plugins/extenstions/withInlines.ts","../src/plugins/hooks.ts","../src/plugins/SlateEditorComponent.tsx","../src/components/Editor/dnd.ts","../src/components/Block/icons/drag.svg","../src/components/Block/icons/plus.svg","../src/UI/BlockOptions/icons/turn.svg","../../../../node_modules/@radix-ui/react-icons/src/CopyIcon.tsx","../../../../node_modules/@radix-ui/react-icons/src/DotsHorizontalIcon.tsx","../../../../node_modules/@radix-ui/react-icons/src/Link2Icon.tsx","../../../../node_modules/@radix-ui/react-icons/src/TrashIcon.tsx","../../../../node_modules/toggle-selection/index.js","../../../../node_modules/copy-to-clipboard/index.js","../src/UI/Overlay/Overlay.tsx","../src/UI/Portal/Portal.tsx","../src/UI/BlockOptions/BlockOptions.tsx","../src/utils/throttle.ts","../src/components/Block/FloatingBlockActions.tsx","../src/components/Editor/RenderBlocks.tsx","../src/components/SelectionBox/hooks.ts","../src/components/SelectionBox/SelectionBox.tsx","../src/components/Editor/selection.ts","../src/components/Editor/Editor.tsx","../src/editor/textFormats/getValue.tsx","../src/editor/textFormats/isActive.tsx","../src/editor/textFormats/toggle.tsx","../src/editor/textFormats/update.tsx","../src/utils/editorBuilders.ts","../src/marks/index.ts","../src/marks/FakeSelectionMark.tsx","../src/YooptaEditor.tsx","../src/UI/ExtendedBlockActions/ExtendedBlockActions.tsx","../src/UI/index.tsx","../src/parsers/deserializeTextNodes.ts","../../../../node_modules/style-inject/dist/style-inject.es.js"],"sourcesContent":["import { SlateElement } from '../editor/types';\r\nimport { PluginElementRenderProps, Plugin, PluginOptions, PluginEvents } from './types';\r\n\r\nexport type ExtendPluginRender<TKeys extends string> = {\r\n  [x in TKeys]: (props: PluginElementRenderProps) => JSX.Element;\r\n};\r\n\r\ntype ExtractProps<T> = T extends SlateElement<string, infer P> ? P : never;\r\n\r\nexport type ExtendPlugin<TElementMap extends Record<string, SlateElement>, TOptions> = {\r\n  renders?: {\r\n    [K in keyof TElementMap]?: (props: PluginElementRenderProps) => JSX.Element;\r\n  };\r\n  options?: Partial<PluginOptions<TOptions>>;\r\n  elementProps?: {\r\n    [K in keyof TElementMap]?: (props: ExtractProps<TElementMap[K]>) => ExtractProps<TElementMap[K]>;\r\n  };\r\n  events?: Partial<PluginEvents>;\r\n};\r\n\r\nexport class YooptaPlugin<TElementMap extends Record<string, SlateElement>, TOptions = Record<string, unknown>> {\r\n  private readonly plugin: Plugin<TElementMap, TOptions>;\r\n  constructor(plugin: Plugin<TElementMap, TOptions>) {\r\n    this.plugin = plugin;\r\n  }\r\n\r\n  get getPlugin(): Plugin<TElementMap, TOptions> {\r\n    return this.plugin;\r\n  }\r\n\r\n  // [TODO] - add validation\r\n  // validatePlugin(): boolean {\r\n  //   return true\r\n  // }\r\n\r\n  extend(extendPlugin: ExtendPlugin<TElementMap, TOptions>): YooptaPlugin<TElementMap, TOptions> {\r\n    const { renders, options, elementProps, events } = extendPlugin;\r\n\r\n    const extendedOptions = { ...this.plugin.options, ...options };\r\n    const elements = { ...this.plugin.elements };\r\n\r\n    if (renders) {\r\n      Object.keys(renders).forEach((elementType) => {\r\n        const element = elements[elementType];\r\n\r\n        if (element && element.render) {\r\n          const customRenderFn = renders[elementType];\r\n\r\n          let elementRender = element.render;\r\n\r\n          element.render = (props) => {\r\n            return elementRender({ ...props, extendRender: customRenderFn });\r\n          };\r\n        }\r\n      });\r\n    }\r\n\r\n    if (elementProps) {\r\n      Object.keys(elementProps).forEach((elementType) => {\r\n        const element = elements[elementType];\r\n\r\n        if (element) {\r\n          const defaultPropsFn = elementProps[elementType];\r\n          const updatedElementProps = element.props;\r\n          if (defaultPropsFn && updatedElementProps) {\r\n            element.props = defaultPropsFn(updatedElementProps);\r\n          }\r\n        }\r\n      });\r\n    }\r\n\r\n    if (events) {\r\n      Object.keys(events).forEach((event) => {\r\n        const eventHandler = events[event];\r\n\r\n        if (eventHandler) {\r\n          if (!this.plugin.events) this.plugin.events = {};\r\n          this.plugin.events[event] = eventHandler;\r\n        }\r\n      });\r\n    }\r\n\r\n    return new YooptaPlugin<TElementMap, TOptions>({\r\n      ...this.plugin,\r\n      elements: elements,\r\n      options: extendedOptions as PluginOptions<TOptions>,\r\n    });\r\n  }\r\n}\r\n","function getFallbackUUID() {\r\n  let S4 = function () {\r\n    return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);\r\n  };\r\n  return S4() + S4() + '-' + S4() + '-' + S4() + '-' + S4() + '-' + S4() + S4() + S4();\r\n}\r\n\r\nexport const generateId = () => {\r\n  if (typeof window === 'undefined') return getFallbackUUID();\r\n  if (typeof window.crypto?.randomUUID !== 'function') return getFallbackUUID();\r\n\r\n  return window.crypto?.randomUUID();\r\n};\r\n","import { YooptaBlockData, SlateElement, YooptaBlockBaseMeta } from '../../editor/types';\r\nimport { generateId } from '../../utils/generateId';\r\n\r\nexport const buildBlockElement = (element?: Partial<SlateElement>): SlateElement => {\r\n  return {\r\n    id: generateId(),\r\n    type: element?.type || 'paragraph',\r\n    children: element?.children || [{ text: '' }],\r\n    props: {\r\n      nodeType: 'block',\r\n      ...element?.props,\r\n    },\r\n  };\r\n};\r\n\r\ntype BuildBlockDataOptions = Partial<YooptaBlockData<SlateElement>> & {\r\n  value?: SlateElement[];\r\n  meta?: Partial<YooptaBlockBaseMeta>;\r\n};\r\n\r\nexport const buildBlockData = (block?: BuildBlockDataOptions): YooptaBlockData => ({\r\n  id: block?.id || generateId(),\r\n  value: block?.value || [buildBlockElement()],\r\n  type: block?.type || 'Paragraph',\r\n  meta: {\r\n    order: 0,\r\n    depth: 0,\r\n    ...block?.meta,\r\n  },\r\n});\r\n\r\nexport const getDefaultYooptaChildren = () => {\r\n  const pId = generateId();\r\n\r\n  return {\r\n    [pId]: buildBlockData({ id: pId }),\r\n  };\r\n};\r\n","import { Editor, Element, NodeEntry, Path } from 'slate';\r\nimport { buildBlockElement } from '../components/Editor/utils';\r\nimport { SlateEditor, SlateElement, YooEditor, YooptaBlock, YooptaBlockData } from '../editor/types';\r\nimport { Plugin, PluginElement, PluginElementProps, PluginElementsMap } from '../plugins/types';\r\nimport { generateId } from './generateId';\r\n\r\nexport function getRootBlockElementType(elems: PluginElementsMap<string, unknown> | undefined): string | undefined {\r\n  if (!elems) return;\r\n\r\n  const elements = Object.keys(elems);\r\n  const rootElementType = elements.length === 1 ? elements[0] : elements.find((key) => elems[key].asRoot);\r\n\r\n  return rootElementType;\r\n}\r\n\r\nexport function getRootBlockElement(\r\n  elems: PluginElementsMap<string, unknown> | undefined,\r\n): PluginElement<string, unknown> | undefined {\r\n  if (!elems) return;\r\n\r\n  const rootElementType = getRootBlockElementType(elems);\r\n  const rootElement = rootElementType ? elems[rootElementType] : undefined;\r\n\r\n  return rootElement;\r\n}\r\n\r\nexport function isRootElementVoid(elems: PluginElementsMap<string, unknown> | undefined): boolean {\r\n  const rootElement = getRootBlockElement(elems);\r\n  return rootElement?.props?.nodeType === 'void';\r\n}\r\n\r\nexport type GetBlockElementNodeOptions = {\r\n  at?: Path;\r\n  elementType?: string;\r\n};\r\n\r\nexport function getBlockElementNode(\r\n  slate: SlateEditor,\r\n  options: GetBlockElementNodeOptions = {},\r\n): NodeEntry<SlateElement> | undefined {\r\n  const { at, elementType } = options;\r\n\r\n  const atPath = at || slate.selection?.anchor.path;\r\n  if (!atPath) return;\r\n\r\n  let match = (n) => !Editor.isEditor(n) && Element.isElement(n);\r\n\r\n  if (elementType) {\r\n    match = (n) => !Editor.isEditor(n) && Element.isElement(n) && n.type === elementType;\r\n  }\r\n\r\n  const parentPath = Path.parent(atPath);\r\n  const nodes = Editor.nodes(slate, {\r\n    at: parentPath,\r\n    match,\r\n    mode: 'lowest',\r\n  });\r\n\r\n  if (nodes) {\r\n    const [nodeEntry] = nodes;\r\n    return nodeEntry as NodeEntry<SlateElement>;\r\n  }\r\n}\r\n\r\nexport function buildSlateNodeElement(\r\n  type: string,\r\n  props: PluginElementProps<unknown> = { nodeType: 'block' },\r\n): SlateElement<any> {\r\n  return { id: generateId(), type, children: [{ text: '' }], props };\r\n}\r\n\r\nfunction recursivelyCollectElementChildren(\r\n  blockElement: PluginElement<string, unknown>,\r\n  blockElements: PluginElementsMap,\r\n  elementsMapWithTextContent?: ElementsMapWithTextContent,\r\n): SlateElement[] {\r\n  return (\r\n    blockElement.children?.map((elementType) => {\r\n      const childElement = blockElements[elementType];\r\n      if (!childElement) {\r\n        throw new Error(`Element definition for ${elementType} not found`);\r\n      }\r\n\r\n      const childNode: SlateElement = buildBlockElement({\r\n        id: generateId(),\r\n        type: elementType,\r\n        props: childElement.props,\r\n        children:\r\n          childElement.children && childElement.children.length > 0\r\n            ? recursivelyCollectElementChildren(childElement, blockElements, elementsMapWithTextContent)\r\n            : [{ text: elementsMapWithTextContent?.[elementType] || '' }],\r\n      });\r\n\r\n      return childNode;\r\n    }) || []\r\n  );\r\n}\r\n\r\ntype ElementsMapWithTextContent = {\r\n  [key: string]: string;\r\n};\r\n\r\nexport function buildBlockElementsStructure(\r\n  editor: YooEditor,\r\n  blockType: string,\r\n  elementsMapWithTextContent?: ElementsMapWithTextContent,\r\n): SlateElement {\r\n  const block: YooptaBlock = editor.blocks[blockType];\r\n  const blockElements = block.elements;\r\n\r\n  const rootBlockElementType = getRootBlockElementType(blockElements);\r\n  if (!rootBlockElementType) {\r\n    throw new Error(`Root element type not found for block type ${blockType}`);\r\n  }\r\n  const rootBlockElement = blockElements[rootBlockElementType];\r\n\r\n  const rootElementNode: SlateElement = {\r\n    id: generateId(),\r\n    type: rootBlockElementType,\r\n    props: rootBlockElement.props,\r\n    children:\r\n      rootBlockElement.children && rootBlockElement.children.length > 0\r\n        ? recursivelyCollectElementChildren(rootBlockElement, blockElements, elementsMapWithTextContent)\r\n        : [{ text: '' }],\r\n  };\r\n\r\n  return rootElementNode;\r\n}\r\n\r\nexport function getPluginByInlineElement(\r\n  plugins: YooEditor['plugins'],\r\n  elementType: string,\r\n): Plugin<Record<string, SlateElement>, unknown> | undefined {\r\n  const plugin = Object.values(plugins).find((plugin) => {\r\n    return plugin.type === plugin.elements?.[elementType]?.rootPlugin;\r\n  });\r\n  return plugin;\r\n}\r\n","import { buildBlockElementsStructure } from '../../utils/blockElements';\r\nimport { generateId } from '../../utils/generateId';\r\nimport { YooEditor, YooptaBlockData, YooptaPathIndex } from '../types';\r\nimport { YooptaOperation } from '../core/applyTransforms';\r\n\r\nexport type InsertBlockOptions = {\r\n  at?: YooptaPathIndex;\r\n  focus?: boolean;\r\n  blockData?: Omit<Partial<YooptaBlockData>, 'type'>;\r\n};\r\n\r\n// [TEST]\r\n// [TEST] - TEST EVENTS\r\nexport function insertBlock(editor: YooEditor, type: string, options: InsertBlockOptions = {}) {\r\n  const { at = editor.path.current, focus = false, blockData } = options;\r\n\r\n  const plugin = editor.plugins[type];\r\n  const { onBeforeCreate, onCreate } = plugin.events || {};\r\n\r\n  let slateStructure;\r\n  if (blockData && Array.isArray(blockData?.value)) slateStructure = blockData.value[0];\r\n  else slateStructure = onBeforeCreate?.(editor) || buildBlockElementsStructure(editor, type);\r\n\r\n  const newBlock: YooptaBlockData = {\r\n    id: blockData?.id || generateId(),\r\n    type: type,\r\n    value: [slateStructure],\r\n    meta: {\r\n      align: blockData?.meta?.align || 'left',\r\n      depth: blockData?.meta?.depth || 0,\r\n      order: typeof at === 'number' ? at : Object.keys(editor.children).length,\r\n    },\r\n  };\r\n\r\n  const operations: YooptaOperation[] = [];\r\n\r\n  operations.push({\r\n    type: 'insert_block',\r\n    path: { current: newBlock.meta.order },\r\n    block: newBlock,\r\n  });\r\n\r\n  editor.applyTransforms(operations);\r\n  onCreate?.(editor, newBlock.id);\r\n\r\n  if (focus) {\r\n    editor.focusBlock(newBlock.id);\r\n  }\r\n\r\n  return newBlock.id;\r\n}\r\n","import { YooEditor, YooptaPathIndex } from '../types';\r\n\r\nexport function getPreviousPath(editor: YooEditor): YooptaPathIndex {\r\n  const path = editor.path.current;\r\n\r\n  if (typeof path === 'number' && path !== 0) return path - 1;\r\n  return null;\r\n}\r\n","import { YooEditor, YooptaPath } from '../types';\r\n\r\nexport function getNextPath(editor: YooEditor): YooptaPath['current'] {\r\n  const path = editor.path.current;\r\n\r\n  if (typeof path === 'number') return path + 1;\r\n  return null;\r\n}\r\n","import { YooEditor, YooptaBlockData, YooptaPath } from '../types';\r\n\r\nexport function isBlockSelected(editor: YooEditor, block: YooptaBlockData): boolean {\r\n  const selected = editor.path.selected;\r\n\r\n  if (Array.isArray(selected)) {\r\n    return selected.includes(block.meta.order);\r\n  }\r\n\r\n  return false;\r\n}\r\n","import { YooEditor, YooptaPath } from '../types';\r\n\r\nexport function getPath(editor: YooEditor): YooptaPath['current'] {\r\n  return editor.path.current;\r\n}\r\n","import { YooEditor, YooptaPath } from '../types';\r\n\r\nexport function getSelectedPaths(editor: YooEditor): YooptaPath['selected'] {\r\n  return editor.path.selected;\r\n}\r\n","import { YooEditor } from '../types';\r\n\r\nexport function isPathEmpty(editor: YooEditor): boolean {\r\n  return editor.path.current === null;\r\n}\r\n","import { YooEditor, YooptaPath } from '../types';\r\n\r\nexport function setPath(editor: YooEditor, path: YooptaPath) {\r\n  editor.applyTransforms([{ type: 'set_block_path', path }], { validatePaths: false });\r\n}\r\n","import { Editor, Element, Node, Path, Text } from 'slate';\r\nimport { Point } from 'slate';\r\nimport { SlateEditor } from '../editor/types';\r\n\r\nexport function getLastNode(slate: SlateEditor): { node: Node; path: Path } {\r\n  const lastNodeEntry = Editor.last(slate, []);\r\n  return { node: lastNodeEntry[0], path: lastNodeEntry[1] };\r\n}\r\n\r\nexport function getLastNodePoint(slate: SlateEditor): Point {\r\n  try {\r\n    let point;\r\n\r\n    const [lastElement, lastPath] = Editor.last(slate, []);\r\n\r\n    if (Element.isElement(lastElement) && !Editor.isEditor(lastElement)) {\r\n      const [lastTextNode, lastTextPath] = Editor.last(slate, lastPath);\r\n\r\n      if (Text.isText(lastTextNode)) {\r\n        point = { path: lastTextPath, offset: lastTextNode.text.length };\r\n      }\r\n    } else if (Text.isText(lastElement)) {\r\n      point = { path: lastPath, offset: lastElement.text.length };\r\n    }\r\n\r\n    return point;\r\n  } catch (error) {\r\n    return {\r\n      path: [0, 0],\r\n      offset: 0,\r\n    };\r\n  }\r\n}\r\n","import { getPreviousPath } from './getPreviousPath';\r\nimport { getNextPath } from './getNextPath';\r\nimport { isBlockSelected } from './isBlockSelected';\r\nimport { getPath } from './getPath';\r\nimport { getSelectedPaths } from './getSelectedPaths';\r\nimport { isPathEmpty } from './isPathEmpty';\r\nimport { setPath } from './setPath';\r\nimport { getLastNodePoint } from '../../utils/getLastNodePoint';\r\n\r\nexport const Paths = {\r\n  getPath,\r\n  getNextPath,\r\n  getPreviousPath,\r\n  isBlockSelected,\r\n  getSelectedPaths,\r\n  isPathEmpty,\r\n  setPath,\r\n  getLastNodePoint,\r\n};\r\n\r\nexport type Paths = typeof Paths;\r\n","import { SlateEditor, YooEditor, YooptaBlockData, YooptaPathIndex } from '../types';\r\n\r\nexport type GetBlockSlateOptions = {\r\n  at?: YooptaPathIndex;\r\n  id?: string;\r\n};\r\n\r\nexport function getBlockSlate(editor: YooEditor, options: GetBlockSlateOptions): SlateEditor {\r\n  if (!options?.id && typeof options?.at !== 'number') {\r\n    throw new Error('getBlockSlate requires either an id or at');\r\n  }\r\n\r\n  const blockId =\r\n    options?.id ||\r\n    Object.keys(editor.children).find((childrenId) => {\r\n      const plugin = editor.children[childrenId];\r\n      return plugin.meta.order === options?.at;\r\n    });\r\n\r\n  const slate = editor.blockEditorsMap[blockId || ''];\r\n  const blockData = editor.children[blockId || ''] as YooptaBlockData;\r\n  const blockEntity = editor.blocks[blockData?.type || ''];\r\n\r\n  if (!blockEntity?.hasCustomEditor && !slate) {\r\n    throw new Error(`Slate not found with params: ${JSON.stringify(options)}`);\r\n  }\r\n\r\n  return slate;\r\n}\r\n","import { YooEditor, YooptaPathIndex } from '../types';\r\nimport { YooptaOperation } from '../core/applyTransforms';\r\nimport { Paths } from '../paths';\r\nimport { getBlockSlate } from './getBlockSlate';\r\n\r\ntype DeleteBlockByIdOptions = {\r\n  blockId: string;\r\n  at?: never;\r\n};\r\n\r\ntype DeleteBlockByPathOptions = {\r\n  at: YooptaPathIndex;\r\n  blockId?: never;\r\n};\r\n\r\nexport type DeleteBlockOptions =\r\n  | (DeleteBlockByIdOptions & { focus?: boolean })\r\n  | (DeleteBlockByPathOptions & { focus?: boolean });\r\n\r\nexport function deleteBlock(editor: YooEditor, options: DeleteBlockOptions) {\r\n  const { focus, blockId, at } = options;\r\n\r\n  if (!blockId && typeof at !== 'number') {\r\n    throw new Error('blockId or path should be provided');\r\n  }\r\n\r\n  const block = editor.getBlock({ id: blockId, at });\r\n\r\n  if (!block) {\r\n    throw new Error(`Block not found`);\r\n  }\r\n\r\n  // const isLastBlock = Object.values(editor.children).length === 1;\r\n  // if (isLastBlock) return;\r\n\r\n  const prevBlockPath = Paths.getPreviousPath(editor);\r\n  const prevBlock = prevBlockPath !== null ? editor.getBlock({ at: prevBlockPath }) : undefined;\r\n  const prevSlate = prevBlock ? getBlockSlate(editor, { id: prevBlock?.id }) : undefined;\r\n\r\n  const blockToDelete = editor.children[block.id];\r\n  const operations: YooptaOperation[] = [];\r\n\r\n  const plugin = editor.plugins[blockToDelete.type];\r\n  const { onDestroy } = plugin.events || {};\r\n  onDestroy?.(editor, blockToDelete.id);\r\n\r\n  operations.push({\r\n    type: 'delete_block',\r\n    block: blockToDelete,\r\n    path: editor.path,\r\n  });\r\n\r\n  editor.applyTransforms(operations, { validatePaths: false });\r\n\r\n  if (focus) {\r\n    if (prevSlate && prevBlock) {\r\n      const lastNodePoint = Paths.getLastNodePoint(prevSlate);\r\n      editor.focusBlock(prevBlock.id, { focusAt: lastNodePoint });\r\n    }\r\n  }\r\n}\r\n","import { MoveBlockOperation, YooptaOperation } from '../core/applyTransforms';\r\nimport { YooEditor, YooptaPathIndex } from '../types';\r\n\r\nexport function moveBlock(editor: YooEditor, draggedBlockId: string, newPath: YooptaPathIndex) {\r\n  const updatedPosition = newPath;\r\n  const draggedBlock = editor.children[draggedBlockId];\r\n  const blockInNewPosition = Object.values(editor.children).find((item) => item.meta.order === updatedPosition);\r\n\r\n  if (!draggedBlock || !blockInNewPosition) {\r\n    console.warn('Invalid block ids for move operation');\r\n    return;\r\n  }\r\n  const operations: YooptaOperation[] = [];\r\n\r\n  const moveOperation: MoveBlockOperation = {\r\n    type: 'move_block',\r\n    prevProperties: {\r\n      id: draggedBlockId,\r\n      order: draggedBlock.meta.order,\r\n    },\r\n    properties: {\r\n      id: draggedBlockId,\r\n      order: updatedPosition!,\r\n    },\r\n  };\r\n\r\n  operations.push(moveOperation);\r\n\r\n  editor.applyTransforms(operations);\r\n  editor.setPath({ current: updatedPosition });\r\n}\r\n","import { YooEditor } from '../editor/types';\r\n\r\nexport const IS_FOCUSED_EDITOR = new WeakMap<YooEditor, boolean>();\r\n","import { Editor, Path, Point, Transforms } from 'slate';\r\nimport { ReactEditor } from 'slate-react';\r\nimport { IS_FOCUSED_EDITOR } from '../../utils/weakMaps';\r\nimport { FocusAt, SlateEditor, YooEditor } from '../types';\r\n\r\nexport type FocusBlockOptions = {\r\n  waitExecution?: boolean;\r\n  waitExecutionMs?: number;\r\n  shouldUpdateBlockPath?: boolean;\r\n  focusAt?: FocusAt;\r\n  slate?: SlateEditor;\r\n};\r\n\r\nfunction getSelectionPath(slate: SlateEditor, focusAt?: FocusAt): FocusAt {\r\n  if (Point.isPoint(focusAt)) {\r\n    return focusAt;\r\n  }\r\n\r\n  if (Path.isPath(focusAt)) {\r\n    return { path: focusAt, offset: 0 };\r\n  }\r\n\r\n  const [, firstNodePath] = Editor.first(slate, [0]);\r\n  const firstLeafPath = firstNodePath ? firstNodePath : [0, 0];\r\n\r\n  return { path: firstLeafPath, offset: 0 };\r\n}\r\n\r\n// [TODO] - update editor.path after focus\r\nexport function focusBlock(editor: YooEditor, blockId: string, options: FocusBlockOptions = {}) {\r\n  const { focusAt, waitExecution = true, waitExecutionMs = 0, shouldUpdateBlockPath = true } = options;\r\n\r\n  const focusBlockEditor = () => {\r\n    const slate = options.slate || editor.blockEditorsMap[blockId];\r\n    const block = editor.children[blockId];\r\n\r\n    if (!slate || !block) return;\r\n\r\n    const currentBlock = editor.blocks[block.type];\r\n    if (!currentBlock.hasCustomEditor) {\r\n      try {\r\n        const selectionPath = getSelectionPath(slate, focusAt);\r\n        Transforms.select(slate, selectionPath);\r\n        // // [CHECK]\r\n        ReactEditor.focus(slate);\r\n      } catch (error) {}\r\n    }\r\n\r\n    if (shouldUpdateBlockPath) {\r\n      setTimeout(() => {\r\n        editor.setPath({ current: block.meta.order });\r\n      }, 0);\r\n    }\r\n  };\r\n\r\n  if (waitExecution) {\r\n    setTimeout(() => focusBlockEditor(), waitExecutionMs);\r\n  } else {\r\n    focusBlockEditor();\r\n  }\r\n\r\n  IS_FOCUSED_EDITOR.set(editor, true);\r\n}\r\n","import { YooEditor, YooptaPathIndex } from '../editor/types';\r\n\r\nexport function findPluginBlockByPath(editor: YooEditor, options?: { at: YooptaPathIndex }) {\r\n  const childrenKeys = Object.keys(editor.children);\r\n  const { at = editor.path.current } = options || {};\r\n\r\n  const blockId = childrenKeys.find((childrenId) => {\r\n    const plugin = editor.children[childrenId];\r\n    return plugin.meta.order === at;\r\n  });\r\n\r\n  if (!blockId) return null;\r\n  return editor.children[blockId];\r\n}\r\n","import { SlateEditor, YooEditor, YooptaPathIndex } from '../editor/types';\r\n\r\nexport function findSlateBySelectionPath(\r\n  editor: YooEditor,\r\n  options?: { at: YooptaPathIndex },\r\n): SlateEditor | undefined {\r\n  const childrenKeys = Object.keys(editor.children);\r\n  const { at = editor.path.current } = options || {};\r\n\r\n  const blockId = childrenKeys.find((childrenId) => {\r\n    const plugin = editor.children[childrenId];\r\n    return plugin.meta.order === at;\r\n  });\r\n\r\n  if (!blockId) return undefined;\r\n  return editor.blockEditorsMap[blockId];\r\n}\r\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to match `RegExp` flags from their coerced string values. */\nvar reFlags = /\\w*$/;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/** Used to identify `toStringTag` values supported by `_.clone`. */\nvar cloneableTags = {};\ncloneableTags[argsTag] = cloneableTags[arrayTag] =\ncloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] =\ncloneableTags[boolTag] = cloneableTags[dateTag] =\ncloneableTags[float32Tag] = cloneableTags[float64Tag] =\ncloneableTags[int8Tag] = cloneableTags[int16Tag] =\ncloneableTags[int32Tag] = cloneableTags[mapTag] =\ncloneableTags[numberTag] = cloneableTags[objectTag] =\ncloneableTags[regexpTag] = cloneableTags[setTag] =\ncloneableTags[stringTag] = cloneableTags[symbolTag] =\ncloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\ncloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\ncloneableTags[errorTag] = cloneableTags[funcTag] =\ncloneableTags[weakMapTag] = false;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/**\n * Adds the key-value `pair` to `map`.\n *\n * @private\n * @param {Object} map The map to modify.\n * @param {Array} pair The key-value pair to add.\n * @returns {Object} Returns `map`.\n */\nfunction addMapEntry(map, pair) {\n  // Don't return `map.set` because it's not chainable in IE 11.\n  map.set(pair[0], pair[1]);\n  return map;\n}\n\n/**\n * Adds `value` to `set`.\n *\n * @private\n * @param {Object} set The set to modify.\n * @param {*} value The value to add.\n * @returns {Object} Returns `set`.\n */\nfunction addSetEntry(set, value) {\n  // Don't return `set.add` because it's not chainable in IE 11.\n  set.add(value);\n  return set;\n}\n\n/**\n * A specialized version of `_.forEach` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns `array`.\n */\nfunction arrayEach(array, iteratee) {\n  var index = -1,\n      length = array ? array.length : 0;\n\n  while (++index < length) {\n    if (iteratee(array[index], index, array) === false) {\n      break;\n    }\n  }\n  return array;\n}\n\n/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\n/**\n * A specialized version of `_.reduce` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {*} [accumulator] The initial value.\n * @param {boolean} [initAccum] Specify using the first element of `array` as\n *  the initial value.\n * @returns {*} Returns the accumulated value.\n */\nfunction arrayReduce(array, iteratee, accumulator, initAccum) {\n  var index = -1,\n      length = array ? array.length : 0;\n\n  if (initAccum && length) {\n    accumulator = array[++index];\n  }\n  while (++index < length) {\n    accumulator = iteratee(accumulator, array[index], index, array);\n  }\n  return accumulator;\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Checks if `value` is a host object in IE < 9.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a host object, else `false`.\n */\nfunction isHostObject(value) {\n  // Many host objects are `Object` objects that can coerce to strings\n  // despite having improperly defined `toString` methods.\n  var result = false;\n  if (value != null && typeof value.toString != 'function') {\n    try {\n      result = !!(value + '');\n    } catch (e) {}\n  }\n  return result;\n}\n\n/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    Symbol = root.Symbol,\n    Uint8Array = root.Uint8Array,\n    getPrototype = overArg(Object.getPrototypeOf, Object),\n    objectCreate = Object.create,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    splice = arrayProto.splice;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols,\n    nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n    nativeKeys = overArg(Object.keys, Object);\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView'),\n    Map = getNative(root, 'Map'),\n    Promise = getNative(root, 'Promise'),\n    Set = getNative(root, 'Set'),\n    WeakMap = getNative(root, 'WeakMap'),\n    nativeCreate = getNative(Object, 'create');\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  return this.has(key) && delete this.__data__[key];\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? data[key] !== undefined : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  return getMapData(this, key)['delete'](key);\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  getMapData(this, key).set(key, value);\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  this.__data__ = new ListCache(entries);\n}\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n}\n\n/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  return this.__data__['delete'](key);\n}\n\n/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\n/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var cache = this.__data__;\n  if (cache instanceof ListCache) {\n    var pairs = cache.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      return this;\n    }\n    cache = this.__data__ = new MapCache(pairs);\n  }\n  cache.set(key, value);\n  return this;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  // Safari 9 makes `arguments.length` enumerable in strict mode.\n  var result = (isArray(value) || isArguments(value))\n    ? baseTimes(value.length, String)\n    : [];\n\n  var length = result.length,\n      skipIndexes = !!length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (key == 'length' || isIndex(key, length)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    object[key] = value;\n  }\n}\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `_.assign` without support for multiple sources\n * or `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @returns {Object} Returns `object`.\n */\nfunction baseAssign(object, source) {\n  return object && copyObject(source, keys(source), object);\n}\n\n/**\n * The base implementation of `_.clone` and `_.cloneDeep` which tracks\n * traversed objects.\n *\n * @private\n * @param {*} value The value to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @param {boolean} [isFull] Specify a clone including symbols.\n * @param {Function} [customizer] The function to customize cloning.\n * @param {string} [key] The key of `value`.\n * @param {Object} [object] The parent object of `value`.\n * @param {Object} [stack] Tracks traversed objects and their clone counterparts.\n * @returns {*} Returns the cloned value.\n */\nfunction baseClone(value, isDeep, isFull, customizer, key, object, stack) {\n  var result;\n  if (customizer) {\n    result = object ? customizer(value, key, object, stack) : customizer(value);\n  }\n  if (result !== undefined) {\n    return result;\n  }\n  if (!isObject(value)) {\n    return value;\n  }\n  var isArr = isArray(value);\n  if (isArr) {\n    result = initCloneArray(value);\n    if (!isDeep) {\n      return copyArray(value, result);\n    }\n  } else {\n    var tag = getTag(value),\n        isFunc = tag == funcTag || tag == genTag;\n\n    if (isBuffer(value)) {\n      return cloneBuffer(value, isDeep);\n    }\n    if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n      if (isHostObject(value)) {\n        return object ? value : {};\n      }\n      result = initCloneObject(isFunc ? {} : value);\n      if (!isDeep) {\n        return copySymbols(value, baseAssign(result, value));\n      }\n    } else {\n      if (!cloneableTags[tag]) {\n        return object ? value : {};\n      }\n      result = initCloneByTag(value, tag, baseClone, isDeep);\n    }\n  }\n  // Check for circular references and return its corresponding clone.\n  stack || (stack = new Stack);\n  var stacked = stack.get(value);\n  if (stacked) {\n    return stacked;\n  }\n  stack.set(value, result);\n\n  if (!isArr) {\n    var props = isFull ? getAllKeys(value) : keys(value);\n  }\n  arrayEach(props || value, function(subValue, key) {\n    if (props) {\n      key = subValue;\n      subValue = value[key];\n    }\n    // Recursively populate clone (susceptible to call stack limits).\n    assignValue(result, key, baseClone(subValue, isDeep, isFull, customizer, key, value, stack));\n  });\n  return result;\n}\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} prototype The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nfunction baseCreate(proto) {\n  return isObject(proto) ? objectCreate(proto) : {};\n}\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\n/**\n * The base implementation of `getTag`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  return objectToString.call(value);\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = (isFunction(value) || isHostObject(value)) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Creates a clone of  `buffer`.\n *\n * @private\n * @param {Buffer} buffer The buffer to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Buffer} Returns the cloned buffer.\n */\nfunction cloneBuffer(buffer, isDeep) {\n  if (isDeep) {\n    return buffer.slice();\n  }\n  var result = new buffer.constructor(buffer.length);\n  buffer.copy(result);\n  return result;\n}\n\n/**\n * Creates a clone of `arrayBuffer`.\n *\n * @private\n * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n * @returns {ArrayBuffer} Returns the cloned array buffer.\n */\nfunction cloneArrayBuffer(arrayBuffer) {\n  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n  new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n  return result;\n}\n\n/**\n * Creates a clone of `dataView`.\n *\n * @private\n * @param {Object} dataView The data view to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned data view.\n */\nfunction cloneDataView(dataView, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;\n  return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n}\n\n/**\n * Creates a clone of `map`.\n *\n * @private\n * @param {Object} map The map to clone.\n * @param {Function} cloneFunc The function to clone values.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned map.\n */\nfunction cloneMap(map, isDeep, cloneFunc) {\n  var array = isDeep ? cloneFunc(mapToArray(map), true) : mapToArray(map);\n  return arrayReduce(array, addMapEntry, new map.constructor);\n}\n\n/**\n * Creates a clone of `regexp`.\n *\n * @private\n * @param {Object} regexp The regexp to clone.\n * @returns {Object} Returns the cloned regexp.\n */\nfunction cloneRegExp(regexp) {\n  var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n  result.lastIndex = regexp.lastIndex;\n  return result;\n}\n\n/**\n * Creates a clone of `set`.\n *\n * @private\n * @param {Object} set The set to clone.\n * @param {Function} cloneFunc The function to clone values.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned set.\n */\nfunction cloneSet(set, isDeep, cloneFunc) {\n  var array = isDeep ? cloneFunc(setToArray(set), true) : setToArray(set);\n  return arrayReduce(array, addSetEntry, new set.constructor);\n}\n\n/**\n * Creates a clone of the `symbol` object.\n *\n * @private\n * @param {Object} symbol The symbol object to clone.\n * @returns {Object} Returns the cloned symbol object.\n */\nfunction cloneSymbol(symbol) {\n  return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};\n}\n\n/**\n * Creates a clone of `typedArray`.\n *\n * @private\n * @param {Object} typedArray The typed array to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned typed array.\n */\nfunction cloneTypedArray(typedArray, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n}\n\n/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    assignValue(object, key, newValue === undefined ? source[key] : newValue);\n  }\n  return object;\n}\n\n/**\n * Copies own symbol properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy symbols from.\n * @param {Object} [object={}] The object to copy symbols to.\n * @returns {Object} Returns `object`.\n */\nfunction copySymbols(source, object) {\n  return copyObject(source, getSymbols(source), object);\n}\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * Creates an array of the own enumerable symbol properties of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = nativeGetSymbols ? overArg(nativeGetSymbols, Object) : stubArray;\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11,\n// for data views in Edge < 14, and promises in Node.js.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = objectToString.call(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : undefined;\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\n/**\n * Initializes an array clone.\n *\n * @private\n * @param {Array} array The array to clone.\n * @returns {Array} Returns the initialized clone.\n */\nfunction initCloneArray(array) {\n  var length = array.length,\n      result = array.constructor(length);\n\n  // Add properties assigned by `RegExp#exec`.\n  if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n    result.index = array.index;\n    result.input = array.input;\n  }\n  return result;\n}\n\n/**\n * Initializes an object clone.\n *\n * @private\n * @param {Object} object The object to clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneObject(object) {\n  return (typeof object.constructor == 'function' && !isPrototype(object))\n    ? baseCreate(getPrototype(object))\n    : {};\n}\n\n/**\n * Initializes an object clone based on its `toStringTag`.\n *\n * **Note:** This function only supports cloning values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to clone.\n * @param {string} tag The `toStringTag` of the object to clone.\n * @param {Function} cloneFunc The function to clone values.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneByTag(object, tag, cloneFunc, isDeep) {\n  var Ctor = object.constructor;\n  switch (tag) {\n    case arrayBufferTag:\n      return cloneArrayBuffer(object);\n\n    case boolTag:\n    case dateTag:\n      return new Ctor(+object);\n\n    case dataViewTag:\n      return cloneDataView(object, isDeep);\n\n    case float32Tag: case float64Tag:\n    case int8Tag: case int16Tag: case int32Tag:\n    case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n      return cloneTypedArray(object, isDeep);\n\n    case mapTag:\n      return cloneMap(object, isDeep, cloneFunc);\n\n    case numberTag:\n    case stringTag:\n      return new Ctor(object);\n\n    case regexpTag:\n      return cloneRegExp(object);\n\n    case setTag:\n      return cloneSet(object, isDeep, cloneFunc);\n\n    case symbolTag:\n      return cloneSymbol(object);\n  }\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to process.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * This method is like `_.clone` except that it recursively clones `value`.\n *\n * @static\n * @memberOf _\n * @since 1.0.0\n * @category Lang\n * @param {*} value The value to recursively clone.\n * @returns {*} Returns the deep cloned value.\n * @see _.clone\n * @example\n *\n * var objects = [{ 'a': 1 }, { 'b': 2 }];\n *\n * var deep = _.cloneDeep(objects);\n * console.log(deep[0] === objects[0]);\n * // => false\n */\nfunction cloneDeep(value) {\n  return baseClone(value, true, true);\n}\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nfunction isArguments(value) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&\n    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\n/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\n/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = cloneDeep;\n","import cloneDeep from 'lodash.clonedeep';\r\n\r\nexport function deepClone(object: any) {\r\n  // if (typeof window !== 'undefined' && typeof window.structuredClone === 'function') {\r\n  //   return window.structuredClone(object);\r\n  // }\r\n\r\n  return cloneDeep(object);\r\n}\r\n","import { Editor, Node } from 'slate';\r\nimport { findPluginBlockByPath } from '../../utils/findPluginBlockByPath';\r\nimport { findSlateBySelectionPath } from '../../utils/findSlateBySelectionPath';\r\nimport { generateId } from '../../utils/generateId';\r\nimport { YooptaOperation } from '../core/applyTransforms';\r\nimport { SlateEditor, SlateElement, YooEditor, YooptaBlockData } from '../types';\r\nimport { deepClone } from '../../utils/deepClone';\r\nimport { buildSlateNodeElement } from '../../utils/blockElements';\r\n\r\nexport type SplitBlockOptions = {\r\n  focus?: boolean;\r\n  slate?: SlateEditor;\r\n};\r\n\r\nexport function splitBlock(editor: YooEditor, options: SplitBlockOptions = {}) {\r\n  const { focus = true } = options;\r\n\r\n  const blockToSplit = findPluginBlockByPath(editor);\r\n  const slate = options.slate || findSlateBySelectionPath(editor);\r\n  if (!slate || !blockToSplit) return;\r\n\r\n  Editor.withoutNormalizing(slate, () => {\r\n    if (!slate.selection) return;\r\n\r\n    const originalSlateChildren = deepClone(slate.children);\r\n    const operations: YooptaOperation[] = [];\r\n    const [splitValue, nextSlateValue] = splitSlate(slate.children, slate.selection);\r\n\r\n    const nextBlock: YooptaBlockData = {\r\n      id: generateId(),\r\n      type: blockToSplit.type,\r\n      meta: {\r\n        order: blockToSplit.meta.order + 1,\r\n        depth: blockToSplit.meta.depth,\r\n        align: blockToSplit.meta.align,\r\n      },\r\n      value: [],\r\n    };\r\n\r\n    operations.push({\r\n      type: 'split_block',\r\n      prevProperties: {\r\n        originalBlock: blockToSplit,\r\n        originalValue: originalSlateChildren as SlateElement[],\r\n      },\r\n      properties: {\r\n        nextBlock: nextBlock,\r\n        nextSlateValue: !nextSlateValue ? [buildSlateNodeElement('paragraph')] : nextSlateValue,\r\n        splitSlateValue: splitValue,\r\n      },\r\n      path: editor.path,\r\n    });\r\n\r\n    editor.applyTransforms(operations);\r\n\r\n    if (focus) {\r\n      editor.focusBlock(nextBlock.id);\r\n    }\r\n  });\r\n}\r\n\r\nfunction splitSlate(slateChildren, slateSelection) {\r\n  const { path, offset } = slateSelection.focus;\r\n  const [, ...childPath] = path;\r\n\r\n  const firstPart = JSON.parse(JSON.stringify(slateChildren[0]));\r\n\r\n  function splitNode(node, remainingPath, currentOffset) {\r\n    if (remainingPath.length === 0) {\r\n      if (Node.string(node).length <= currentOffset) {\r\n        return [node, null];\r\n      }\r\n      if ('text' in node) {\r\n        return [\r\n          { ...node, text: node.text.slice(0, currentOffset) },\r\n          { ...node, text: node.text.slice(currentOffset) },\r\n        ];\r\n      } else if (node.type === 'link') {\r\n        const [leftChild, rightChild] = splitNode(node.children[0], [], currentOffset);\r\n        return [\r\n          { ...node, children: [leftChild] },\r\n          { ...node, children: [rightChild] },\r\n        ];\r\n      }\r\n    } else {\r\n      const [childIndex, ...nextPath] = remainingPath;\r\n      const [left, right]: any = splitNode(node.children[childIndex], nextPath, currentOffset);\r\n      const leftChildren = node.children.slice(0, childIndex).concat(left ? [left] : []);\r\n      const rightChildren = (right ? [right] : []).concat(node.children.slice(childIndex + 1));\r\n      return [\r\n        { ...node, children: leftChildren },\r\n        { ...node, children: rightChildren },\r\n      ];\r\n    }\r\n  }\r\n\r\n  const [leftContent, rightContent] = splitNode(firstPart, childPath, offset);\r\n\r\n  function cleanNode(node) {\r\n    if ('children' in node) {\r\n      node.children = node.children.filter(\r\n        (child) => (child.text !== '' && child.text !== undefined) || (child.children && child.children.length > 0),\r\n      );\r\n      node.children.forEach(cleanNode);\r\n    }\r\n    return node;\r\n  }\r\n\r\n  return [cleanNode(leftContent), cleanNode(rightContent)]\r\n    .map((part) => [part])\r\n    .filter((part) => part[0].children.length > 0);\r\n}\r\n","import { findPluginBlockByPath } from '../../utils/findPluginBlockByPath';\r\nimport { YooEditor, YooptaPathIndex } from '../types';\r\nimport { YooptaOperation } from '../core/applyTransforms';\r\n\r\nexport type BlockDepthOptions = {\r\n  blockId?: string;\r\n  at?: YooptaPathIndex;\r\n};\r\n\r\nexport function increaseBlockDepth(editor: YooEditor, options: BlockDepthOptions = {}) {\r\n  const { at = editor.path.current, blockId } = options;\r\n\r\n  const block = blockId ? editor.children[blockId] : findPluginBlockByPath(editor, { at });\r\n  if (!block) return;\r\n\r\n  const newDepth = block.meta.depth + 1;\r\n\r\n  const operation: YooptaOperation = {\r\n    type: 'set_block_meta',\r\n    id: block.id,\r\n    properties: { depth: newDepth },\r\n    prevProperties: { depth: block.meta.depth },\r\n  };\r\n\r\n  editor.applyTransforms([operation]);\r\n}\r\n","import { findPluginBlockByPath } from '../../utils/findPluginBlockByPath';\r\nimport { YooEditor } from '../types';\r\nimport { YooptaOperation } from '../core/applyTransforms';\r\nimport { BlockDepthOptions } from './increaseBlockDepth';\r\n\r\nexport function decreaseBlockDepth(editor: YooEditor, options: BlockDepthOptions = {}) {\r\n  const { at = editor.path.current, blockId } = options;\r\n\r\n  const block = blockId ? editor.children[blockId] : findPluginBlockByPath(editor, { at });\r\n  if (!block) return;\r\n\r\n  const newDepth = Math.max(0, block.meta.depth - 1);\r\n\r\n  const operation: YooptaOperation = {\r\n    type: 'set_block_meta',\r\n    id: block.id,\r\n    properties: { depth: newDepth },\r\n    prevProperties: { depth: block.meta.depth },\r\n  };\r\n\r\n  editor.applyTransforms([operation]);\r\n}\r\n","import { YooEditor } from '../types';\r\n\r\nexport function getEditorValue(editor: YooEditor) {\r\n  return editor.children;\r\n}\r\n","export function validateYooptaValue(value: any): boolean {\r\n  if (!value) return false;\r\n  if (typeof value !== 'object') return false;\r\n  if (Array.isArray(value)) return false;\r\n\r\n  return true;\r\n}\r\n","import { deepClone } from '../../utils/deepClone';\r\nimport { findPluginBlockByPath } from '../../utils/findPluginBlockByPath';\r\nimport { generateId } from '../../utils/generateId';\r\nimport { YooptaOperation } from '../core/applyTransforms';\r\nimport { YooEditor, YooptaBlock, YooptaBlockData, YooptaPathIndex } from '../types';\r\n\r\nexport type DuplicateBlockOptions = {\r\n  original: { blockId?: never; path: YooptaPathIndex } | { blockId: string; path?: never };\r\n  focus?: boolean;\r\n  at?: YooptaPathIndex;\r\n};\r\n\r\nexport function duplicateBlock(editor: YooEditor, options: DuplicateBlockOptions) {\r\n  const { original, focus, at } = options;\r\n\r\n  if (!original) {\r\n    throw new Error('`original` should be provided');\r\n  }\r\n\r\n  if (!original.blockId && typeof original.path !== 'number') {\r\n    throw new Error('blockId or path should be provided');\r\n  }\r\n\r\n  const { blockId, path } = original;\r\n\r\n  let originalBlock: YooptaBlockData | null = blockId\r\n    ? editor.children[blockId]\r\n    : findPluginBlockByPath(editor, { at: path! });\r\n\r\n  if (!originalBlock) {\r\n    throw new Error('Block not found');\r\n  }\r\n\r\n  const operations: YooptaOperation[] = [];\r\n\r\n  const duplicatedBlock = deepClone(originalBlock);\r\n  duplicatedBlock.id = generateId();\r\n  // [TEST]\r\n  duplicatedBlock.meta.order = Array.isArray(at) && typeof at === 'number' ? at : originalBlock.meta.order + 1;\r\n\r\n  operations.push({\r\n    type: 'insert_block',\r\n    path: { current: duplicatedBlock.meta.order },\r\n    block: duplicatedBlock,\r\n  });\r\n\r\n  editor.applyTransforms(operations);\r\n\r\n  if (focus) {\r\n    editor.focusBlock(duplicatedBlock.id, { waitExecution: true });\r\n  }\r\n\r\n  return duplicatedBlock.id;\r\n}\r\n","import { SlateElement, YooEditor, YooptaBlockData } from '../types';\r\nimport { YooptaOperation } from '../core/applyTransforms';\r\n\r\n// Maybe add source pararmeter to this function?\r\nexport function updateBlock(\r\n  editor: YooEditor,\r\n  blockId: string,\r\n  newData: Omit<Partial<YooptaBlockData>, 'id' | 'type'>,\r\n): void {\r\n  const block = editor.children[blockId];\r\n\r\n  if (!block) {\r\n    console.warn(`Block with id ${blockId} does not exist.`);\r\n    return;\r\n  }\r\n\r\n  const updateBlockMetaOperation: YooptaOperation = {\r\n    type: 'set_block_meta',\r\n    id: blockId,\r\n    properties: {},\r\n    prevProperties: {},\r\n  };\r\n\r\n  const updateBlockValueOperation: YooptaOperation = {\r\n    type: 'set_block_value',\r\n    id: blockId,\r\n    value: [],\r\n  };\r\n\r\n  if (newData.meta) {\r\n    updateBlockMetaOperation.prevProperties = block.meta;\r\n    updateBlockMetaOperation.properties = { ...block.meta, ...newData.meta };\r\n  }\r\n\r\n  if (newData.value) {\r\n    updateBlockValueOperation.value = newData.value as SlateElement[];\r\n  }\r\n\r\n  const operations: YooptaOperation[] = [];\r\n\r\n  if (Object.keys(updateBlockMetaOperation.properties).length) {\r\n    operations.push(updateBlockMetaOperation);\r\n  }\r\n\r\n  if (updateBlockValueOperation.value.length) {\r\n    operations.push(updateBlockValueOperation);\r\n  }\r\n\r\n  if (operations.length > 0) {\r\n    editor.applyTransforms(operations, { validatePaths: false });\r\n  }\r\n}\r\n","import { Element, NodeEntry, Text } from 'slate';\r\nimport { Editor, Range, Transforms } from 'slate';\r\nimport { SlateEditor, SlateElement, YooEditor } from '../editor/types';\r\n\r\nexport const withShortcuts = (editor: YooEditor, slate: SlateEditor) => {\r\n  const { insertText } = slate;\r\n\r\n  slate.insertText = (text: string) => {\r\n    const { selection } = slate;\r\n\r\n    if (text === ' ' && selection && Range.isCollapsed(selection)) {\r\n      const { anchor } = selection;\r\n\r\n      const blockEntry: NodeEntry<SlateElement<string>> | undefined = Editor.above(slate, {\r\n        match: (n) => Element.isElement(n) && Editor.isBlock(slate, n),\r\n        mode: 'lowest',\r\n      });\r\n\r\n      if (!blockEntry) return;\r\n\r\n      const [, currentNodePath] = blockEntry;\r\n      const parentEntry = Editor.parent(slate, currentNodePath);\r\n      const [parentNodeElement] = parentEntry;\r\n\r\n      if (Element.isElement(parentNodeElement) && !Text.isText(parentNodeElement.children[0])) {\r\n        return insertText(text);\r\n      }\r\n\r\n      const path = blockEntry ? currentNodePath : [];\r\n      const start = Editor.start(slate, path);\r\n      const range = { anchor, focus: start };\r\n      const beforeText = Editor.string(slate, range);\r\n\r\n      const matchedBlock = editor.shortcuts?.[beforeText];\r\n      const hasMatchedBlock = !!matchedBlock;\r\n\r\n      if (hasMatchedBlock && !matchedBlock.isActive()) {\r\n        Transforms.select(slate, range);\r\n        Transforms.delete(slate);\r\n\r\n        // [TEST]\r\n        editor.toggleBlock(matchedBlock.type, { deleteText: true, focus: true });\r\n        return;\r\n      }\r\n    }\r\n\r\n    insertText(text);\r\n  };\r\n\r\n  return slate;\r\n};\r\n","import { createEditor } from 'slate';\r\nimport { withReact } from 'slate-react';\r\nimport { SlateEditor, YooEditor } from '../editor/types';\r\nimport { withShortcuts } from '../extensions/shortcuts';\r\n\r\n// [TODO] - add slate structure from block to add elements into slate.children\r\nexport function buildSlateEditor(editor: YooEditor): SlateEditor {\r\n  const slate = withShortcuts(editor, withReact(createEditor()));\r\n  return slate;\r\n}\r\n","import { Descendant, Editor, Element, Text, Transforms } from 'slate';\r\nimport { buildBlockElementsStructure } from '../../utils/blockElements';\r\nimport { buildSlateEditor } from '../../utils/buildSlate';\r\n\r\nimport { findPluginBlockByPath } from '../../utils/findPluginBlockByPath';\r\nimport { findSlateBySelectionPath } from '../../utils/findSlateBySelectionPath';\r\nimport { generateId } from '../../utils/generateId';\r\nimport { YooptaOperation } from '../core/applyTransforms';\r\nimport { YooEditor, YooptaBlockData, SlateEditor, FocusAt, SlateElement, YooptaPathIndex } from '../types';\r\n\r\nexport type ToggleBlockOptions = {\r\n  at?: YooptaPathIndex;\r\n  deleteText?: boolean;\r\n  slate?: SlateEditor;\r\n  focus?: boolean;\r\n  focusAt?: FocusAt;\r\n};\r\n\r\nconst DEFAULT_BLOCK_TYPE = 'Paragraph';\r\n\r\nfunction extractTextNodes(\r\n  slate: SlateEditor,\r\n  node: SlateElement | Descendant,\r\n  blockData: YooptaBlockData,\r\n  editor: YooEditor,\r\n): (Text | SlateElement)[] {\r\n  const blockEntity = editor.plugins[blockData.type];\r\n  if (blockEntity?.customEditor) {\r\n    return (blockData.value[0] as SlateElement).children;\r\n  }\r\n\r\n  if (Editor.isEditor(node)) return node.children.flatMap((child) => extractTextNodes(slate, child, blockData, editor));\r\n  if (!Element.isElement(node)) return [node];\r\n  if (Editor.isInline(slate, node)) return [node];\r\n\r\n  return node.children.flatMap((child) => extractTextNodes(slate, child, blockData, editor));\r\n}\r\n\r\nfunction findFirstLeaf(node: SlateElement): SlateElement | null {\r\n  if (!Element.isElement(node)) {\r\n    return null;\r\n  }\r\n  if (node.children.length === 0 || Text.isText(node.children[0])) {\r\n    return node;\r\n  }\r\n  return findFirstLeaf(node.children[0] as SlateElement);\r\n}\r\n\r\nexport function toggleBlock(editor: YooEditor, toBlockTypeArg: string, options: ToggleBlockOptions = {}) {\r\n  const fromBlock = findPluginBlockByPath(editor, { at: options.at || editor.path.current });\r\n  if (!fromBlock) throw new Error('Block not found at current selection');\r\n\r\n  let toBlockType = fromBlock.type === toBlockTypeArg ? DEFAULT_BLOCK_TYPE : toBlockTypeArg;\r\n  const plugin = editor.plugins[toBlockType];\r\n  const { onBeforeCreate } = plugin.events || {};\r\n\r\n  const slate = findSlateBySelectionPath(editor, { at: fromBlock.meta.order });\r\n  if (!slate) throw new Error(`Slate not found for block in position ${fromBlock.meta.order}`);\r\n\r\n  const toBlockSlateStructure = onBeforeCreate?.(editor) || buildBlockElementsStructure(editor, toBlockType);\r\n  const textNodes = extractTextNodes(slate, slate.children[0], fromBlock, editor);\r\n  const firstLeaf = findFirstLeaf(toBlockSlateStructure);\r\n\r\n  if (firstLeaf) {\r\n    firstLeaf.children = textNodes;\r\n  }\r\n\r\n  const newBlock: YooptaBlockData = {\r\n    id: generateId(),\r\n    type: toBlockType,\r\n    meta: { ...fromBlock.meta, align: undefined },\r\n    value: [toBlockSlateStructure],\r\n  };\r\n\r\n  const newSlate = buildSlateEditor(editor);\r\n  newSlate.children = [toBlockSlateStructure];\r\n\r\n  const operations: YooptaOperation[] = [\r\n    { type: 'delete_block', block: fromBlock, path: { current: fromBlock.meta.order } },\r\n    { type: 'insert_block', path: { current: fromBlock.meta.order }, block: newBlock },\r\n  ];\r\n\r\n  editor.applyTransforms(operations);\r\n\r\n  // [TEST]\r\n  if (options.deleteText) {\r\n    Transforms.delete(newSlate, { at: [0, 0] });\r\n  }\r\n\r\n  if (options.focus) {\r\n    editor.focusBlock(newBlock.id);\r\n  }\r\n\r\n  return newBlock.id;\r\n}\r\n","import { YooEditor, YooptaPathIndex } from '../types';\r\n\r\nexport type GetBlockOptions = {\r\n  at?: YooptaPathIndex;\r\n  id?: string;\r\n};\r\n\r\nexport function getBlock(editor: YooEditor, options: GetBlockOptions) {\r\n  if (!options?.id && typeof options?.at !== 'number') {\r\n    throw new Error('getBlock requires either an id or at');\r\n  }\r\n\r\n  if (options?.id) {\r\n    return editor.children[options?.id];\r\n  }\r\n\r\n  const childrenKeys = Object.keys(editor.children);\r\n\r\n  const blockId = childrenKeys.find((childrenId) => {\r\n    const plugin = editor.children[childrenId];\r\n    return plugin.meta.order === options?.at;\r\n  });\r\n\r\n  if (!blockId) return null;\r\n  return editor.children[blockId];\r\n}\r\n","import { Editor, Element, Location, NodeEntry, Span, Selection } from 'slate';\r\nimport { findSlateBySelectionPath } from '../../utils/findSlateBySelectionPath';\r\nimport { SlateElement, YooEditor } from '../types';\r\n\r\nexport type GetBlockElementEntryOptions = {\r\n  path?: Location | Span | undefined;\r\n  type?: string;\r\n};\r\n\r\nexport function getElementEntry<TElementKeys extends string>(\r\n  editor: YooEditor,\r\n  blockId: string,\r\n  options?: GetBlockElementEntryOptions,\r\n): NodeEntry<SlateElement<TElementKeys>> | undefined {\r\n  const block = editor.children[blockId];\r\n\r\n  if (!block) {\r\n    throw new Error(`Block with id ${blockId} not found`);\r\n  }\r\n\r\n  const slate = findSlateBySelectionPath(editor, { at: block.meta.order });\r\n\r\n  if (!slate) {\r\n    console.warn('No slate found');\r\n    return;\r\n  }\r\n\r\n  let match = (n): boolean => Element.isElement(n);\r\n\r\n  if (options?.type) {\r\n    match = (n): boolean => Element.isElement(n) && n.type === options?.type;\r\n  }\r\n\r\n  try {\r\n    // to Editor.above\r\n    const [elementEntry] = Editor.nodes<SlateElement>(slate, {\r\n      at: options?.path || slate.selection || [0],\r\n      match,\r\n      mode: 'lowest',\r\n    });\r\n\r\n    return elementEntry as NodeEntry<SlateElement<TElementKeys>>;\r\n  } catch (error) {}\r\n}\r\n","import { Editor, Path, Span, Transforms } from 'slate';\r\nimport { buildBlockElement } from '../../components/Editor/utils';\r\nimport { findSlateBySelectionPath } from '../../utils/findSlateBySelectionPath';\r\nimport { SlateElement, YooEditor } from '../types';\r\nimport { getElementEntry } from './getElementEntry';\r\n\r\nexport type CreateBlockElementOptions = {\r\n  path?: 'next' | 'prev' | Path | Span;\r\n  focus?: boolean;\r\n  split?: boolean;\r\n};\r\n\r\nexport type CreateElement<TElementKeys, TElementProps> = {\r\n  type: TElementKeys;\r\n  props?: TElementProps;\r\n};\r\n\r\nexport function createElement<TElementKeys extends string, TElementProps>(\r\n  editor: YooEditor,\r\n  blockId: string,\r\n  element: CreateElement<TElementKeys, TElementProps>,\r\n  options?: CreateBlockElementOptions,\r\n) {\r\n  const blockData = editor.children[blockId];\r\n  if (!blockData) {\r\n    throw new Error(`Block with id ${blockId} not found`);\r\n  }\r\n\r\n  const slate = findSlateBySelectionPath(editor, { at: blockData.meta.order });\r\n  if (!slate) {\r\n    console.warn('No slate found');\r\n    return;\r\n  }\r\n\r\n  Editor.withoutNormalizing(slate, () => {\r\n    const block = editor.blocks[blockData.type];\r\n    const blockElement = block.elements[element.type];\r\n    const nodeElement = buildBlockElement({ type: element.type, props: { ...blockElement.props, ...element.props } });\r\n\r\n    const elementTypes = Object.keys(block.elements);\r\n\r\n    let childrenElements: SlateElement[] = [];\r\n\r\n    elementTypes.forEach((blockElementType) => {\r\n      const blockElement = block.elements[blockElementType];\r\n\r\n      if (blockElementType === element.type) {\r\n        if (Array.isArray(blockElement.children) && blockElement.children.length > 0) {\r\n          blockElement.children.forEach((childElementType) => {\r\n            const childElement = block.elements[childElementType];\r\n            childrenElements.push(buildBlockElement({ type: childElementType, props: childElement.props }));\r\n          });\r\n        }\r\n      }\r\n    });\r\n\r\n    if (childrenElements.length > 0) nodeElement.children = childrenElements;\r\n\r\n    const { path, focus = true } = options || {};\r\n    let atPath;\r\n\r\n    const elementEntry = getElementEntry(editor, blockId, { type: element.type });\r\n\r\n    if (elementEntry) {\r\n      const [, elementPath] = elementEntry;\r\n\r\n      if (Path.isPath(path)) {\r\n        atPath = path;\r\n      } else if (path === 'prev') {\r\n        atPath = Path.previous(elementPath);\r\n      } else if (path === 'next') {\r\n        atPath = Path.next(elementPath);\r\n      }\r\n    }\r\n\r\n    Transforms.insertNodes(slate, nodeElement, { at: atPath, select: focus });\r\n\r\n    if (focus) {\r\n      if (childrenElements.length > 0) {\r\n        const firstChild = childrenElements[0];\r\n        const firstElementEntry = getElementEntry(editor, blockId, {\r\n          path: atPath,\r\n          type: firstChild.type,\r\n        });\r\n\r\n        if (firstElementEntry) {\r\n          const [, firstElementPath] = firstElementEntry;\r\n          Transforms.select(slate, firstElementPath);\r\n        }\r\n      }\r\n    }\r\n\r\n    // editor.emit('change', { value: editor.children, operations: [] });\r\n  });\r\n}\r\n","import { Editor, Element, Path, Transforms } from 'slate';\r\nimport { findSlateBySelectionPath } from '../../utils/findSlateBySelectionPath';\r\nimport { YooEditor } from '../types';\r\n\r\nexport type DeleteBlockElement = {\r\n  type: string;\r\n  path: Path;\r\n};\r\n\r\nexport function deleteElement(editor: YooEditor, blockId: string, element: DeleteBlockElement) {\r\n  const block = editor.children[blockId];\r\n\r\n  if (!block) {\r\n    throw new Error(`Block with id ${blockId} not found`);\r\n  }\r\n\r\n  const slate = findSlateBySelectionPath(editor, { at: block.meta.order });\r\n\r\n  if (!slate) {\r\n    console.warn('No slate found');\r\n    return;\r\n  }\r\n\r\n  Editor.withoutNormalizing(slate, () => {\r\n    Transforms.removeNodes(slate, {\r\n      at: element.path,\r\n      match: (n) => Element.isElement(n) && n.type === element.type,\r\n    });\r\n\r\n    // editor.emit('change', { value: editor.children, operations: [] });\r\n  });\r\n}\r\n","import { Editor, Element, Path, Transforms } from 'slate';\r\nimport { findSlateBySelectionPath } from '../../utils/findSlateBySelectionPath';\r\nimport { SlateElement, YooEditor } from '../types';\r\n\r\nexport type UpdateElementOptions = {\r\n  path?: Path;\r\n};\r\n\r\nexport type UpdateElement<TElementKeys extends string, TElementProps> = Partial<\r\n  Omit<SlateElement<TElementKeys, TElementProps>, 'id'>\r\n>;\r\n\r\nexport function updateElement<TElementKeys extends string, TElementProps>(\r\n  editor: YooEditor,\r\n  blockId: string,\r\n  element: UpdateElement<TElementKeys, TElementProps>,\r\n  options?: UpdateElementOptions,\r\n) {\r\n  const block = editor.children[blockId];\r\n\r\n  if (!block) {\r\n    throw new Error(`Block with id ${blockId} not found`);\r\n  }\r\n\r\n  const slate = findSlateBySelectionPath(editor, { at: block.meta.order });\r\n\r\n  if (!slate) {\r\n    console.warn('No slate found');\r\n    return;\r\n  }\r\n\r\n  Editor.withoutNormalizing(slate, () => {\r\n    const [elementEntry] = Editor.nodes<SlateElement>(slate, {\r\n      at: options?.path || [0],\r\n      match: (n) => Element.isElement(n) && n.type === element.type,\r\n    });\r\n\r\n    const elementToUpdate = elementEntry?.[0];\r\n    const elementToUpdatePath = elementEntry?.[1];\r\n\r\n    const props = elementToUpdate?.props || {};\r\n    const updatedElement = { props: { ...props, ...element.props } };\r\n\r\n    Transforms.setNodes<SlateElement>(slate, updatedElement, {\r\n      at: options?.path || elementToUpdatePath || [0],\r\n      match: (n) => Element.isElement(n) && n.type === element.type,\r\n      mode: 'lowest',\r\n    });\r\n\r\n    // editor.emit('change', { value: editor.children, operations: [] });\r\n  });\r\n}\r\n","import { Editor, Transforms, Range } from 'slate';\r\nimport { findPluginBlockByPath } from '../../utils/findPluginBlockByPath';\r\nimport { findSlateBySelectionPath } from '../../utils/findSlateBySelectionPath';\r\nimport { YooEditor } from '../types';\r\n\r\nexport type UpdateElementTextOptions = {\r\n  focus?: boolean;\r\n  blockId?: string;\r\n};\r\n\r\nexport function insertElementText<TElementKeys extends string, TElementProps>(\r\n  editor: YooEditor,\r\n  text: string,\r\n  options?: UpdateElementTextOptions,\r\n) {\r\n  const { blockId, focus } = options || {};\r\n\r\n  const blockData = blockId ? editor.children[blockId] : findPluginBlockByPath(editor);\r\n\r\n  if (!blockData) {\r\n    console.warn(`To set text programmatically, you must provide a valid blockId. Got: ${blockId}`);\r\n    return;\r\n  }\r\n\r\n  const slate = findSlateBySelectionPath(editor, { at: blockData.meta.order });\r\n\r\n  if (!slate) {\r\n    console.warn('No slate found');\r\n    return;\r\n  }\r\n\r\n  const block = editor.blocks[blockData.type];\r\n  const latestBlockElementPath = Array.from({ length: Object.keys(block.elements).length }, (_) => 0);\r\n  let path = slate.selection || latestBlockElementPath;\r\n\r\n  if (!path) {\r\n    console.warn('No valid path or selection found for text insertion');\r\n    return;\r\n  }\r\n\r\n  Editor.withoutNormalizing(slate, () => {\r\n    if (Range.isRange(path) && !Range.isCollapsed(path)) {\r\n      Transforms.collapse(slate, { edge: 'end' });\r\n    }\r\n\r\n    Transforms.insertText(slate, text, { at: path });\r\n    // editor.emit('change', { value: editor.children, operations: [] });\r\n\r\n    if (focus) {\r\n      editor.focusBlock(blockData.id, { waitExecution: true, shouldUpdateBlockPath: true });\r\n    }\r\n  });\r\n}\r\n","import { SlateElement, YooEditor } from '../types';\r\nimport { getElementEntry, GetBlockElementEntryOptions } from './getElementEntry';\r\n\r\nexport type GetBlockElementOptions = GetBlockElementEntryOptions;\r\n\r\nexport function getElement<TElementKeys extends string>(\r\n  editor: YooEditor,\r\n  blockId: string,\r\n  options?: GetBlockElementOptions,\r\n): SlateElement<TElementKeys> | undefined {\r\n  const elementEntry = getElementEntry(editor, blockId, options);\r\n\r\n  if (elementEntry) {\r\n    return elementEntry[0] as SlateElement<TElementKeys>;\r\n  }\r\n\r\n  return undefined;\r\n}\r\n","import { SlateElement, YooEditor } from '../types';\r\nimport { getElement } from './getElement';\r\nimport { GetBlockElementEntryOptions } from './getElementEntry';\r\n\r\nexport type GetElementChildrenOptions = GetBlockElementEntryOptions;\r\n\r\nexport function getElementChildren<TElementKeys extends string>(\r\n  editor: YooEditor,\r\n  blockId: string,\r\n  options?: GetElementChildrenOptions,\r\n): SlateElement<TElementKeys>['children'] | undefined {\r\n  const element = getElement(editor, blockId, options);\r\n  if (element) return element.children;\r\n\r\n  return undefined;\r\n}\r\n","import { Path } from 'slate';\r\nimport { ReactEditor } from 'slate-react';\r\nimport { findSlateBySelectionPath } from '../../utils/findSlateBySelectionPath';\r\nimport { SlateElement, YooEditor } from '../types';\r\n\r\nexport function getElementPath(editor: YooEditor, blockId: string, element: SlateElement): Path | undefined {\r\n  const block = editor.children[blockId];\r\n\r\n  if (!block) {\r\n    throw new Error(`Block with id ${blockId} not found`);\r\n  }\r\n\r\n  const slate = findSlateBySelectionPath(editor, { at: block.meta.order });\r\n\r\n  if (!slate) {\r\n    console.warn('No slate found');\r\n    return;\r\n  }\r\n\r\n  try {\r\n    const path = ReactEditor.findPath(slate, element);\r\n    return path;\r\n  } catch (error) {}\r\n}\r\n","import { Path } from 'slate';\r\nimport { ReactEditor } from 'slate-react';\r\nimport { findSlateBySelectionPath } from '../../utils/findSlateBySelectionPath';\r\nimport { SlateElement, YooEditor } from '../types';\r\n\r\nexport function getParentElementPath(editor: YooEditor, blockId: string, element: SlateElement): Path | undefined {\r\n  const block = editor.children[blockId];\r\n\r\n  if (!block) {\r\n    throw new Error(`Block with id ${blockId} not found`);\r\n  }\r\n\r\n  const slate = findSlateBySelectionPath(editor, { at: block.meta.order });\r\n\r\n  if (!slate) {\r\n    console.warn('No slate found');\r\n    return [];\r\n  }\r\n\r\n  try {\r\n    const path = ReactEditor.findPath(slate, element);\r\n    return Path.parent(path);\r\n  } catch (error) {}\r\n}\r\n","import { Editor, Element, Path } from 'slate';\r\nimport { findSlateBySelectionPath } from '../../utils/findSlateBySelectionPath';\r\nimport { SlateElement, YooEditor } from '../types';\r\n\r\nexport type EmptyBlockElement = {\r\n  type: string;\r\n  path: Path;\r\n};\r\n\r\nexport function isElementEmpty(editor: YooEditor, blockId: string, element: EmptyBlockElement): boolean | undefined {\r\n  const block = editor.children[blockId];\r\n\r\n  if (!block) {\r\n    throw new Error(`Block with id ${blockId} not found`);\r\n  }\r\n\r\n  const slate = findSlateBySelectionPath(editor, { at: block.meta.order });\r\n\r\n  if (!slate) {\r\n    console.warn('No slate found');\r\n    return;\r\n  }\r\n\r\n  const [elementEntry] = Editor.nodes<SlateElement>(slate, {\r\n    at: element.path || slate.selection,\r\n    match: (n) => Element.isElement(n) && n.type === element.type,\r\n  });\r\n\r\n  if (elementEntry) {\r\n    const [node, nodePath] = elementEntry;\r\n    const string = Editor.string(slate, nodePath);\r\n\r\n    return string.trim().length === 0;\r\n  }\r\n\r\n  return false;\r\n}\r\n","import { createElement } from './createElement';\r\nimport { deleteElement } from './deleteElement';\r\nimport { updateElement } from './updateElement';\r\nimport { insertElementText } from './insertElementText';\r\nimport { getElement } from './getElement';\r\nimport { getElementChildren } from './getElementChildren';\r\nimport { getElementEntry } from './getElementEntry';\r\nimport { getElementPath } from './getElementPath';\r\nimport { getParentElementPath } from './getParentElementPath';\r\nimport { isElementEmpty } from './isElementEmpty';\r\n\r\nexport const Elements = {\r\n  createElement,\r\n  deleteElement,\r\n  updateElement,\r\n  insertElementText,\r\n  getElement,\r\n  getElementChildren,\r\n  getElementEntry,\r\n  isElementEmpty,\r\n  getElementPath,\r\n  getParentElementPath,\r\n};\r\n\r\nexport type Elements = typeof Elements;\r\n","import { Editor, Text, Transforms } from 'slate';\r\nimport { findPluginBlockByPath } from '../../utils/findPluginBlockByPath';\r\nimport { findSlateBySelectionPath } from '../../utils/findSlateBySelectionPath';\r\nimport { getLastNodePoint } from '../../utils/getLastNodePoint';\r\nimport { YooptaOperation } from '../core/applyTransforms';\r\nimport { Elements } from '../elements';\r\nimport { Paths } from '../paths';\r\nimport { SlateElement, YooEditor } from '../types';\r\nimport { ReactEditor } from 'slate-react';\r\n\r\nexport function mergeBlock(editor: YooEditor) {\r\n  const sourceBlock = findPluginBlockByPath(editor);\r\n  const sourceSlate = findSlateBySelectionPath(editor, { at: editor.path.current });\r\n\r\n  const prevBlockPath = Paths.getPreviousPath(editor);\r\n  const targetSlate = findSlateBySelectionPath(editor, { at: prevBlockPath });\r\n  const targetBlock = findPluginBlockByPath(editor, { at: prevBlockPath });\r\n  const targetBlockEntity = editor.blocks[targetBlock?.type || ''];\r\n\r\n  if (!sourceSlate || !sourceBlock || !targetSlate || !targetBlock) return;\r\n\r\n  const prevBlockElementRoot = Elements.getElement(editor, targetBlock.id);\r\n\r\n  if (!targetBlockEntity) return;\r\n  if (targetBlockEntity.hasCustomEditor) return;\r\n  if (prevBlockElementRoot?.props?.nodeType === 'void') return;\r\n\r\n  try {\r\n    const point = getLastNodePoint(targetSlate);\r\n    Transforms.select(targetSlate, point);\r\n  } catch (error) {\r\n    Transforms.select(targetSlate, Editor.start(targetSlate, []));\r\n  }\r\n\r\n  Editor.withoutNormalizing(targetSlate, () => {\r\n    const operations: YooptaOperation[] = [];\r\n    const mergedChildren = mergeSlateChildren(targetSlate.children[0], sourceSlate.children[0]);\r\n    const mergedSlateValue = [\r\n      {\r\n        ...targetSlate.children[0],\r\n        children: mergedChildren,\r\n      },\r\n    ];\r\n\r\n    const mergedBlock = {\r\n      ...targetBlock,\r\n      value: mergedSlateValue,\r\n    };\r\n\r\n    operations.push({\r\n      type: 'merge_block',\r\n      prevProperties: {\r\n        sourceBlock: sourceBlock,\r\n        sourceSlateValue: sourceSlate.children as SlateElement[],\r\n        targetBlock,\r\n        targetSlateValue: targetSlate.children as SlateElement[],\r\n      },\r\n      properties: {\r\n        mergedBlock,\r\n        mergedSlateValue: mergedSlateValue as SlateElement[],\r\n      },\r\n      path: editor.path,\r\n    });\r\n\r\n    editor.applyTransforms(operations);\r\n    editor.setPath({ current: targetBlock.meta.order });\r\n\r\n    try {\r\n      setTimeout(() => {\r\n        ReactEditor.focus(targetSlate);\r\n      }, 0);\r\n    } catch (error) {\r\n      console.error('Error setting focus:', error);\r\n    }\r\n  });\r\n}\r\n\r\nfunction mergeSlateChildren(target, source) {\r\n  const targetChildren = JSON.parse(JSON.stringify(target.children));\r\n  const sourceChildren = JSON.parse(JSON.stringify(source.children));\r\n\r\n  const lastTargetChild = targetChildren[targetChildren.length - 1];\r\n  const firstSourceChild = sourceChildren[0];\r\n\r\n  if (Text.isText(lastTargetChild) && Text.isText(firstSourceChild)) {\r\n    lastTargetChild.text += firstSourceChild.text;\r\n    return [...targetChildren.slice(0, -1), lastTargetChild, ...sourceChildren.slice(1)];\r\n  } else {\r\n    return [...targetChildren, ...sourceChildren];\r\n  }\r\n}\r\n","import { YooptaBlockData, SlateElement, YooptaBlockBaseMeta } from '../../editor/types';\r\nimport { generateId } from '../../utils/generateId';\r\n\r\nexport const buildBlockElement = (element?: Partial<SlateElement>): SlateElement => {\r\n  return {\r\n    id: generateId(),\r\n    type: element?.type || 'paragraph',\r\n    children: element?.children || [{ text: '' }],\r\n    props: {\r\n      nodeType: 'block',\r\n      ...element?.props,\r\n    },\r\n  };\r\n};\r\n\r\ntype BuildBlockDataOptions = Partial<Omit<YooptaBlockData<SlateElement>, 'meta'>> & {\r\n  value?: SlateElement[];\r\n  meta?: Partial<YooptaBlockBaseMeta>;\r\n};\r\n\r\nexport function buildBlockData(block?: BuildBlockDataOptions): YooptaBlockData {\r\n  return {\r\n    id: block?.id || generateId(),\r\n    value: block?.value || [buildBlockElement()],\r\n    type: block?.type || 'Paragraph',\r\n    meta: {\r\n      order: block?.meta?.order || 0,\r\n      depth: block?.meta?.depth || 0,\r\n      ...block?.meta,\r\n    },\r\n  };\r\n}\r\n\r\nexport const buildDefaultChildren = () => {\r\n  const blockId = generateId();\r\n\r\n  return {\r\n    [blockId]: buildBlockData({ id: blockId }),\r\n  };\r\n};\r\n","import { insertBlock } from './insertBlock';\r\nimport { deleteBlock } from './deleteBlock';\r\nimport { moveBlock } from './moveBlock';\r\nimport { focusBlock } from './focusBlock';\r\nimport { splitBlock } from './splitBlock';\r\nimport { increaseBlockDepth } from './increaseBlockDepth';\r\nimport { decreaseBlockDepth } from './decreaseBlockDepth';\r\nimport { duplicateBlock } from './duplicateBlock';\r\nimport { updateBlock } from './updateBlock';\r\nimport { toggleBlock } from './toggleBlock';\r\nimport { getBlock } from './getBlock';\r\nimport { getBlockSlate } from './getBlockSlate';\r\nimport { mergeBlock } from './mergeBlock';\r\nimport { buildBlockData } from './buildBlockData';\r\n\r\nexport const Blocks = {\r\n  insertBlock,\r\n  deleteBlock,\r\n  moveBlock,\r\n  focusBlock,\r\n  splitBlock,\r\n  increaseBlockDepth,\r\n  decreaseBlockDepth,\r\n  duplicateBlock,\r\n  updateBlock,\r\n  toggleBlock,\r\n  getBlock,\r\n  getBlockSlate,\r\n  buildBlockData,\r\n  mergeBlock,\r\n};\r\n\r\nexport type Blocks = typeof Blocks;\r\n","import { validateYooptaValue } from '../../utils/validateYooptaValue';\r\nimport { Blocks } from '../blocks';\r\nimport { YooEditor, YooptaContentValue } from '../types';\r\nimport { SetEditorValueOperation } from './applyTransforms';\r\n\r\nexport function setEditorValue(editor: YooEditor, value: YooptaContentValue | null) {\r\n  let editorValue: YooptaContentValue;\r\n\r\n  if (value === null || !validateYooptaValue(value)) {\r\n    const defaultBlock = Blocks.buildBlockData();\r\n    editorValue = { [defaultBlock.id]: defaultBlock };\r\n  } else {\r\n    editorValue = value;\r\n  }\r\n\r\n  const operation: SetEditorValueOperation = {\r\n    type: 'set_editor_value',\r\n    properties: {\r\n      value: editorValue,\r\n    },\r\n    prevProperties: {\r\n      value: editor.children,\r\n    },\r\n  };\r\n\r\n  editor.applyTransforms([operation], { validatePaths: true });\r\n}\r\n","import { Transforms } from 'slate';\r\nimport { ReactEditor } from 'slate-react';\r\nimport { findSlateBySelectionPath } from '../../utils/findSlateBySelectionPath';\r\nimport { IS_FOCUSED_EDITOR } from '../../utils/weakMaps';\r\nimport { SlateEditor, YooEditor } from '../types';\r\n\r\nexport type EditorBlurOptions = {\r\n  waitExecution?: boolean;\r\n  waitExecutionMs?: number;\r\n  slate?: SlateEditor;\r\n};\r\n\r\nfunction blurFn(editor: YooEditor, slate: SlateEditor) {\r\n  try {\r\n    ReactEditor.blur(slate);\r\n    ReactEditor.deselect(slate);\r\n    Transforms.deselect(slate);\r\n  } catch (error) {}\r\n\r\n  editor.setPath({ current: null });\r\n}\r\n\r\nexport function blur(editor: YooEditor, options: EditorBlurOptions = {}) {\r\n  const slate = options.slate ?? findSlateBySelectionPath(editor);\r\n\r\n  if (!slate) return;\r\n\r\n  const { waitExecution, waitExecutionMs } = options;\r\n\r\n  if (waitExecution) {\r\n    setTimeout(() => blurFn(editor, slate), waitExecutionMs);\r\n    return;\r\n  }\r\n\r\n  IS_FOCUSED_EDITOR.set(editor, false);\r\n  blurFn(editor, slate);\r\n  editor.emit('blur', false);\r\n}\r\n","import { findPluginBlockByPath } from '../../utils/findPluginBlockByPath';\r\nimport { IS_FOCUSED_EDITOR } from '../../utils/weakMaps';\r\nimport { YooEditor } from '../types';\r\n\r\nexport function focus(editor: YooEditor) {\r\n  if (editor.readOnly) return;\r\n\r\n  const firstBlock = findPluginBlockByPath(editor, { at: 0 });\r\n  if (firstBlock) {\r\n    IS_FOCUSED_EDITOR.set(editor, true);\r\n\r\n    editor.focusBlock(firstBlock.id, { waitExecution: true });\r\n    editor.emit('focus', true);\r\n  }\r\n}\r\n","import { IS_FOCUSED_EDITOR } from '../../utils/weakMaps';\r\nimport { YooEditor } from '../types';\r\n\r\nexport function isFocused(editor: YooEditor) {\r\n  return !!IS_FOCUSED_EDITOR.get(editor);\r\n}\r\n","import { Paths } from '../editor/paths';\r\nimport { SlateElement, YooEditor, YooptaBlockBaseMeta, YooptaContentValue } from '../editor/types';\r\nimport { getPluginByInlineElement } from '../utils/blockElements';\r\n\r\nconst MARKS_NODE_NAME_MATCHERS_MAP = {\r\n  underline: { type: 'underline', tag: 'u' },\r\n  strike: { type: 'strike', tag: 's' },\r\n  code: { type: 'code', tag: 'code' },\r\n  italic: { type: 'italic', tag: 'i' },\r\n  bold: { type: 'bold', tag: 'strong' },\r\n  strong: { type: 'bold', tag: 'strong' },\r\n};\r\n\r\nfunction serializeChildren(children, plugins, editor) {\r\n  return children\r\n    .map((child) => {\r\n      let innerHtml = '';\r\n\r\n      if (child.text) {\r\n        innerHtml = Object.keys(MARKS_NODE_NAME_MATCHERS_MAP).reduce((acc, mark) => {\r\n          if (child[mark]) {\r\n            return `<${MARKS_NODE_NAME_MATCHERS_MAP[mark].tag}>${acc}</${MARKS_NODE_NAME_MATCHERS_MAP[mark].tag}>`;\r\n          }\r\n          return acc;\r\n        }, child.text);\r\n\r\n        return innerHtml;\r\n      } else if (child.type) {\r\n        const childPlugin = getPluginByInlineElement(plugins, child.type);\r\n\r\n        if (childPlugin && childPlugin.parsers?.html?.serialize) {\r\n          // We don't pass block meta data to this because it's inline element inside block\r\n          innerHtml = childPlugin.parsers.html.serialize(child, serializeChildren(child.children, plugins, editor));\r\n          return innerHtml;\r\n        }\r\n      }\r\n\r\n      return innerHtml;\r\n    })\r\n    .join('');\r\n}\r\n\r\nexport function getHTML(editor: YooEditor, content: YooptaContentValue): string {\r\n  const blocks = Object.values(content)\r\n    .filter((block) => {\r\n      const selectedPaths = Paths.getSelectedPaths(editor);\r\n      if (Array.isArray(selectedPaths) && selectedPaths.length > 0) {\r\n        return selectedPaths?.includes(block.meta.order);\r\n      }\r\n\r\n      return true;\r\n    })\r\n    .sort((a, b) => a.meta.order - b.meta.order);\r\n\r\n  const html = blocks.map((blockData) => {\r\n    const plugin = editor.plugins[blockData.type];\r\n\r\n    if (plugin && plugin.parsers?.html?.serialize) {\r\n      const content = serializeChildren((blockData.value[0] as SlateElement).children, editor.plugins, editor);\r\n      return plugin.parsers.html.serialize(blockData.value[0] as SlateElement, content, blockData.meta);\r\n    }\r\n\r\n    return '';\r\n  });\r\n\r\n  return `<body id=\"yoopta-clipboard\" data-editor-id=\"${editor.id}\">${html.join('')}</body>`;\r\n}\r\n","import { SlateElement, YooEditor, YooptaBlockBaseMeta, YooptaBlockData, YooptaContentValue } from '../editor/types';\r\n\r\nexport function serialize(editor: YooEditor, blocksData: YooptaBlockData[]) {\r\n  const blocks = blocksData.sort((a, b) => (a.meta.order > b.meta.order ? 1 : -1));\r\n\r\n  const markdown = blocks.map((blockData) => {\r\n    const plugin = editor.plugins[blockData.type];\r\n\r\n    if (plugin) {\r\n      const element = blockData.value[0] as SlateElement;\r\n\r\n      if (plugin.parsers?.markdown?.serialize) {\r\n        const serialized = plugin.parsers.markdown.serialize(\r\n          element,\r\n          // @ts-ignore - fixme\r\n          element.children.map((child) => child.text).join(''),\r\n          blockData.meta as YooptaBlockBaseMeta,\r\n        );\r\n        if (serialized) return serialized;\r\n      }\r\n    }\r\n\r\n    return '';\r\n  });\r\n\r\n  return markdown.join('\\n');\r\n}\r\n\r\nexport function getMarkdown(editor: YooEditor, content: YooptaContentValue) {\r\n  const selectedBlocks = Object.values(content);\r\n  return serialize(editor, selectedBlocks);\r\n}\r\n","import { YooEditor, YooptaContentValue } from '../editor/types';\r\nimport { getHTML } from './getHTML';\r\n\r\nexport function getPlainText(editor: YooEditor, content: YooptaContentValue) {\r\n  const htmlString = getHTML(editor, content);\r\n\r\n  const div = document.createElement('div');\r\n  div.innerHTML = htmlString;\r\n  return div.innerText;\r\n}\r\n","import { Editor } from 'slate';\r\nimport { findSlateBySelectionPath } from '../../utils/findSlateBySelectionPath';\r\nimport { YooEditor } from '../types';\r\n\r\nexport function isEmpty(editor: YooEditor): boolean {\r\n  const content = Object.values(editor.children);\r\n  if (content.length > 1) return false;\r\n\r\n  const blockData = content[0];\r\n  if (!blockData) return true;\r\n\r\n  if (blockData.type !== 'Paragraph') return false;\r\n\r\n  const slate = findSlateBySelectionPath(editor, { at: blockData.meta.order });\r\n  if (!slate) return true;\r\n\r\n  try {\r\n    const string = Editor.string(slate, [0]);\r\n    if (string.length > 0) return false;\r\n\r\n    return true;\r\n  } catch (error) {\r\n    return true;\r\n  }\r\n}\r\n","// Should be no imports here!\n\n/**\n * The sentinel value returned by producers to replace the draft with undefined.\n */\nexport const NOTHING: unique symbol = Symbol.for(\"immer-nothing\")\n\n/**\n * To let Immer treat your class instances as plain immutable objects\n * (albeit with a custom prototype), you must define either an instance property\n * or a static property on each of your custom classes.\n *\n * Otherwise, your class instance will never be drafted, which means it won't be\n * safe to mutate in a produce callback.\n */\nexport const DRAFTABLE: unique symbol = Symbol.for(\"immer-draftable\")\n\nexport const DRAFT_STATE: unique symbol = Symbol.for(\"immer-state\")\n","export const errors =\n\tprocess.env.NODE_ENV !== \"production\"\n\t\t? [\n\t\t\t\t// All error codes, starting by 0:\n\t\t\t\tfunction(plugin: string) {\n\t\t\t\t\treturn `The plugin for '${plugin}' has not been loaded into Immer. To enable the plugin, import and call \\`enable${plugin}()\\` when initializing your application.`\n\t\t\t\t},\n\t\t\t\tfunction(thing: string) {\n\t\t\t\t\treturn `produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '${thing}'`\n\t\t\t\t},\n\t\t\t\t\"This object has been frozen and should not be mutated\",\n\t\t\t\tfunction(data: any) {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t\"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? \" +\n\t\t\t\t\t\tdata\n\t\t\t\t\t)\n\t\t\t\t},\n\t\t\t\t\"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.\",\n\t\t\t\t\"Immer forbids circular references\",\n\t\t\t\t\"The first or second argument to `produce` must be a function\",\n\t\t\t\t\"The third argument to `produce` must be a function or undefined\",\n\t\t\t\t\"First argument to `createDraft` must be a plain object, an array, or an immerable object\",\n\t\t\t\t\"First argument to `finishDraft` must be a draft returned by `createDraft`\",\n\t\t\t\tfunction(thing: string) {\n\t\t\t\t\treturn `'current' expects a draft, got: ${thing}`\n\t\t\t\t},\n\t\t\t\t\"Object.defineProperty() cannot be used on an Immer draft\",\n\t\t\t\t\"Object.setPrototypeOf() cannot be used on an Immer draft\",\n\t\t\t\t\"Immer only supports deleting array indices\",\n\t\t\t\t\"Immer only supports setting array indices and the 'length' property\",\n\t\t\t\tfunction(thing: string) {\n\t\t\t\t\treturn `'original' expects a draft, got: ${thing}`\n\t\t\t\t}\n\t\t\t\t// Note: if more errors are added, the errorOffset in Patches.ts should be increased\n\t\t\t\t// See Patches.ts for additional errors\n\t\t  ]\n\t\t: []\n\nexport function die(error: number, ...args: any[]): never {\n\tif (process.env.NODE_ENV !== \"production\") {\n\t\tconst e = errors[error]\n\t\tconst msg = typeof e === \"function\" ? e.apply(null, args as any) : e\n\t\tthrow new Error(`[Immer] ${msg}`)\n\t}\n\tthrow new Error(\n\t\t`[Immer] minified error nr: ${error}. Full error at: https://bit.ly/3cXEKWf`\n\t)\n}\n","import {\n\tDRAFT_STATE,\n\tDRAFTABLE,\n\tObjectish,\n\tDrafted,\n\tAnyObject,\n\tAnyMap,\n\tAnySet,\n\tImmerState,\n\tArchType,\n\tdie\n} from \"../internal\"\n\nexport const getPrototypeOf = Object.getPrototypeOf\n\n/** Returns true if the given value is an Immer draft */\n/*#__PURE__*/\nexport function isDraft(value: any): boolean {\n\treturn !!value && !!value[DRAFT_STATE]\n}\n\n/** Returns true if the given value can be drafted by Immer */\n/*#__PURE__*/\nexport function isDraftable(value: any): boolean {\n\tif (!value) return false\n\treturn (\n\t\tisPlainObject(value) ||\n\t\tArray.isArray(value) ||\n\t\t!!value[DRAFTABLE] ||\n\t\t!!value.constructor?.[DRAFTABLE] ||\n\t\tisMap(value) ||\n\t\tisSet(value)\n\t)\n}\n\nconst objectCtorString = Object.prototype.constructor.toString()\n/*#__PURE__*/\nexport function isPlainObject(value: any): boolean {\n\tif (!value || typeof value !== \"object\") return false\n\tconst proto = getPrototypeOf(value)\n\tif (proto === null) {\n\t\treturn true\n\t}\n\tconst Ctor =\n\t\tObject.hasOwnProperty.call(proto, \"constructor\") && proto.constructor\n\n\tif (Ctor === Object) return true\n\n\treturn (\n\t\ttypeof Ctor == \"function\" &&\n\t\tFunction.toString.call(Ctor) === objectCtorString\n\t)\n}\n\n/** Get the underlying object that is represented by the given draft */\n/*#__PURE__*/\nexport function original<T>(value: T): T | undefined\nexport function original(value: Drafted<any>): any {\n\tif (!isDraft(value)) die(15, value)\n\treturn value[DRAFT_STATE].base_\n}\n\n/**\n * Each iterates a map, set or array.\n * Or, if any other kind of of object all it's own properties.\n * Regardless whether they are enumerable or symbols\n */\nexport function each<T extends Objectish>(\n\tobj: T,\n\titer: (key: string | number, value: any, source: T) => void\n): void\nexport function each(obj: any, iter: any) {\n\tif (getArchtype(obj) === ArchType.Object) {\n\t\tReflect.ownKeys(obj).forEach(key => {\n\t\t\titer(key, obj[key], obj)\n\t\t})\n\t} else {\n\t\tobj.forEach((entry: any, index: any) => iter(index, entry, obj))\n\t}\n}\n\n/*#__PURE__*/\nexport function getArchtype(thing: any): ArchType {\n\tconst state: undefined | ImmerState = thing[DRAFT_STATE]\n\treturn state\n\t\t? state.type_\n\t\t: Array.isArray(thing)\n\t\t? ArchType.Array\n\t\t: isMap(thing)\n\t\t? ArchType.Map\n\t\t: isSet(thing)\n\t\t? ArchType.Set\n\t\t: ArchType.Object\n}\n\n/*#__PURE__*/\nexport function has(thing: any, prop: PropertyKey): boolean {\n\treturn getArchtype(thing) === ArchType.Map\n\t\t? thing.has(prop)\n\t\t: Object.prototype.hasOwnProperty.call(thing, prop)\n}\n\n/*#__PURE__*/\nexport function get(thing: AnyMap | AnyObject, prop: PropertyKey): any {\n\t// @ts-ignore\n\treturn getArchtype(thing) === ArchType.Map ? thing.get(prop) : thing[prop]\n}\n\n/*#__PURE__*/\nexport function set(thing: any, propOrOldValue: PropertyKey, value: any) {\n\tconst t = getArchtype(thing)\n\tif (t === ArchType.Map) thing.set(propOrOldValue, value)\n\telse if (t === ArchType.Set) {\n\t\tthing.add(value)\n\t} else thing[propOrOldValue] = value\n}\n\n/*#__PURE__*/\nexport function is(x: any, y: any): boolean {\n\t// From: https://github.com/facebook/fbjs/blob/c69904a511b900266935168223063dd8772dfc40/packages/fbjs/src/core/shallowEqual.js\n\tif (x === y) {\n\t\treturn x !== 0 || 1 / x === 1 / y\n\t} else {\n\t\treturn x !== x && y !== y\n\t}\n}\n\n/*#__PURE__*/\nexport function isMap(target: any): target is AnyMap {\n\treturn target instanceof Map\n}\n\n/*#__PURE__*/\nexport function isSet(target: any): target is AnySet {\n\treturn target instanceof Set\n}\n/*#__PURE__*/\nexport function latest(state: ImmerState): any {\n\treturn state.copy_ || state.base_\n}\n\n/*#__PURE__*/\nexport function shallowCopy(base: any, strict: boolean) {\n\tif (isMap(base)) {\n\t\treturn new Map(base)\n\t}\n\tif (isSet(base)) {\n\t\treturn new Set(base)\n\t}\n\tif (Array.isArray(base)) return Array.prototype.slice.call(base)\n\n\tif (!strict && isPlainObject(base)) {\n\t\tif (!getPrototypeOf(base)) {\n\t\t\tconst obj = Object.create(null)\n\t\t\treturn Object.assign(obj, base)\n\t\t}\n\t\treturn {...base}\n\t}\n\n\tconst descriptors = Object.getOwnPropertyDescriptors(base)\n\tdelete descriptors[DRAFT_STATE as any]\n\tlet keys = Reflect.ownKeys(descriptors)\n\tfor (let i = 0; i < keys.length; i++) {\n\t\tconst key: any = keys[i]\n\t\tconst desc = descriptors[key]\n\t\tif (desc.writable === false) {\n\t\t\tdesc.writable = true\n\t\t\tdesc.configurable = true\n\t\t}\n\t\t// like object.assign, we will read any _own_, get/set accessors. This helps in dealing\n\t\t// with libraries that trap values, like mobx or vue\n\t\t// unlike object.assign, non-enumerables will be copied as well\n\t\tif (desc.get || desc.set)\n\t\t\tdescriptors[key] = {\n\t\t\t\tconfigurable: true,\n\t\t\t\twritable: true, // could live with !!desc.set as well here...\n\t\t\t\tenumerable: desc.enumerable,\n\t\t\t\tvalue: base[key]\n\t\t\t}\n\t}\n\treturn Object.create(getPrototypeOf(base), descriptors)\n}\n\n/**\n * Freezes draftable objects. Returns the original object.\n * By default freezes shallowly, but if the second argument is `true` it will freeze recursively.\n *\n * @param obj\n * @param deep\n */\nexport function freeze<T>(obj: T, deep?: boolean): T\nexport function freeze<T>(obj: any, deep: boolean = false): T {\n\tif (isFrozen(obj) || isDraft(obj) || !isDraftable(obj)) return obj\n\tif (getArchtype(obj) > 1 /* Map or Set */) {\n\t\tobj.set = obj.add = obj.clear = obj.delete = dontMutateFrozenCollections as any\n\t}\n\tObject.freeze(obj)\n\tif (deep)\n\t\t// See #590, don't recurse into non-enumerable / Symbol properties when freezing\n\t\t// So use Object.entries (only string-like, enumerables) instead of each()\n\t\tObject.entries(obj).forEach(([key, value]) => freeze(value, true))\n\treturn obj\n}\n\nfunction dontMutateFrozenCollections() {\n\tdie(2)\n}\n\nexport function isFrozen(obj: any): boolean {\n\treturn Object.isFrozen(obj)\n}\n","import {\n\tImmerState,\n\tPatch,\n\tDrafted,\n\tImmerBaseState,\n\tAnyMap,\n\tAnySet,\n\tArchType,\n\tdie\n} from \"../internal\"\n\n/** Plugin utilities */\nconst plugins: {\n\tPatches?: {\n\t\tgeneratePatches_(\n\t\t\tstate: ImmerState,\n\t\t\tbasePath: PatchPath,\n\t\t\tpatches: Patch[],\n\t\t\tinversePatches: Patch[]\n\t\t): void\n\t\tgenerateReplacementPatches_(\n\t\t\tbase: any,\n\t\t\treplacement: any,\n\t\t\tpatches: Patch[],\n\t\t\tinversePatches: Patch[]\n\t\t): void\n\t\tapplyPatches_<T>(draft: T, patches: Patch[]): T\n\t}\n\tMapSet?: {\n\t\tproxyMap_<T extends AnyMap>(target: T, parent?: ImmerState): T\n\t\tproxySet_<T extends AnySet>(target: T, parent?: ImmerState): T\n\t}\n} = {}\n\ntype Plugins = typeof plugins\n\nexport function getPlugin<K extends keyof Plugins>(\n\tpluginKey: K\n): Exclude<Plugins[K], undefined> {\n\tconst plugin = plugins[pluginKey]\n\tif (!plugin) {\n\t\tdie(0, pluginKey)\n\t}\n\t// @ts-ignore\n\treturn plugin\n}\n\nexport function loadPlugin<K extends keyof Plugins>(\n\tpluginKey: K,\n\timplementation: Plugins[K]\n): void {\n\tif (!plugins[pluginKey]) plugins[pluginKey] = implementation\n}\n/** Map / Set plugin */\n\nexport interface MapState extends ImmerBaseState {\n\ttype_: ArchType.Map\n\tcopy_: AnyMap | undefined\n\tassigned_: Map<any, boolean> | undefined\n\tbase_: AnyMap\n\trevoked_: boolean\n\tdraft_: Drafted<AnyMap, MapState>\n}\n\nexport interface SetState extends ImmerBaseState {\n\ttype_: ArchType.Set\n\tcopy_: AnySet | undefined\n\tbase_: AnySet\n\tdrafts_: Map<any, Drafted> // maps the original value to the draft value in the new set\n\trevoked_: boolean\n\tdraft_: Drafted<AnySet, SetState>\n}\n\n/** Patches plugin */\n\nexport type PatchPath = (string | number)[]\n","import {\n\tPatch,\n\tPatchListener,\n\tDrafted,\n\tImmer,\n\tDRAFT_STATE,\n\tImmerState,\n\tArchType,\n\tgetPlugin\n} from \"../internal\"\n\n/** Each scope represents a `produce` call. */\n\nexport interface ImmerScope {\n\tpatches_?: Patch[]\n\tinversePatches_?: Patch[]\n\tcanAutoFreeze_: boolean\n\tdrafts_: any[]\n\tparent_?: ImmerScope\n\tpatchListener_?: PatchListener\n\timmer_: Immer\n\tunfinalizedDrafts_: number\n}\n\nlet currentScope: ImmerScope | undefined\n\nexport function getCurrentScope() {\n\treturn currentScope!\n}\n\nfunction createScope(\n\tparent_: ImmerScope | undefined,\n\timmer_: Immer\n): ImmerScope {\n\treturn {\n\t\tdrafts_: [],\n\t\tparent_,\n\t\timmer_,\n\t\t// Whenever the modified draft contains a draft from another scope, we\n\t\t// need to prevent auto-freezing so the unowned draft can be finalized.\n\t\tcanAutoFreeze_: true,\n\t\tunfinalizedDrafts_: 0\n\t}\n}\n\nexport function usePatchesInScope(\n\tscope: ImmerScope,\n\tpatchListener?: PatchListener\n) {\n\tif (patchListener) {\n\t\tgetPlugin(\"Patches\") // assert we have the plugin\n\t\tscope.patches_ = []\n\t\tscope.inversePatches_ = []\n\t\tscope.patchListener_ = patchListener\n\t}\n}\n\nexport function revokeScope(scope: ImmerScope) {\n\tleaveScope(scope)\n\tscope.drafts_.forEach(revokeDraft)\n\t// @ts-ignore\n\tscope.drafts_ = null\n}\n\nexport function leaveScope(scope: ImmerScope) {\n\tif (scope === currentScope) {\n\t\tcurrentScope = scope.parent_\n\t}\n}\n\nexport function enterScope(immer: Immer) {\n\treturn (currentScope = createScope(currentScope, immer))\n}\n\nfunction revokeDraft(draft: Drafted) {\n\tconst state: ImmerState = draft[DRAFT_STATE]\n\tif (state.type_ === ArchType.Object || state.type_ === ArchType.Array)\n\t\tstate.revoke_()\n\telse state.revoked_ = true\n}\n","import {\n\tImmerScope,\n\tDRAFT_STATE,\n\tisDraftable,\n\tNOTHING,\n\tPatchPath,\n\teach,\n\thas,\n\tfreeze,\n\tImmerState,\n\tisDraft,\n\tSetState,\n\tset,\n\tArchType,\n\tgetPlugin,\n\tdie,\n\trevokeScope,\n\tisFrozen\n} from \"../internal\"\n\nexport function processResult(result: any, scope: ImmerScope) {\n\tscope.unfinalizedDrafts_ = scope.drafts_.length\n\tconst baseDraft = scope.drafts_![0]\n\tconst isReplaced = result !== undefined && result !== baseDraft\n\tif (isReplaced) {\n\t\tif (baseDraft[DRAFT_STATE].modified_) {\n\t\t\trevokeScope(scope)\n\t\t\tdie(4)\n\t\t}\n\t\tif (isDraftable(result)) {\n\t\t\t// Finalize the result in case it contains (or is) a subset of the draft.\n\t\t\tresult = finalize(scope, result)\n\t\t\tif (!scope.parent_) maybeFreeze(scope, result)\n\t\t}\n\t\tif (scope.patches_) {\n\t\t\tgetPlugin(\"Patches\").generateReplacementPatches_(\n\t\t\t\tbaseDraft[DRAFT_STATE].base_,\n\t\t\t\tresult,\n\t\t\t\tscope.patches_,\n\t\t\t\tscope.inversePatches_!\n\t\t\t)\n\t\t}\n\t} else {\n\t\t// Finalize the base draft.\n\t\tresult = finalize(scope, baseDraft, [])\n\t}\n\trevokeScope(scope)\n\tif (scope.patches_) {\n\t\tscope.patchListener_!(scope.patches_, scope.inversePatches_!)\n\t}\n\treturn result !== NOTHING ? result : undefined\n}\n\nfunction finalize(rootScope: ImmerScope, value: any, path?: PatchPath) {\n\t// Don't recurse in tho recursive data structures\n\tif (isFrozen(value)) return value\n\n\tconst state: ImmerState = value[DRAFT_STATE]\n\t// A plain object, might need freezing, might contain drafts\n\tif (!state) {\n\t\teach(value, (key, childValue) =>\n\t\t\tfinalizeProperty(rootScope, state, value, key, childValue, path)\n\t\t)\n\t\treturn value\n\t}\n\t// Never finalize drafts owned by another scope.\n\tif (state.scope_ !== rootScope) return value\n\t// Unmodified draft, return the (frozen) original\n\tif (!state.modified_) {\n\t\tmaybeFreeze(rootScope, state.base_, true)\n\t\treturn state.base_\n\t}\n\t// Not finalized yet, let's do that now\n\tif (!state.finalized_) {\n\t\tstate.finalized_ = true\n\t\tstate.scope_.unfinalizedDrafts_--\n\t\tconst result = state.copy_\n\t\t// Finalize all children of the copy\n\t\t// For sets we clone before iterating, otherwise we can get in endless loop due to modifying during iteration, see #628\n\t\t// To preserve insertion order in all cases we then clear the set\n\t\t// And we let finalizeProperty know it needs to re-add non-draft children back to the target\n\t\tlet resultEach = result\n\t\tlet isSet = false\n\t\tif (state.type_ === ArchType.Set) {\n\t\t\tresultEach = new Set(result)\n\t\t\tresult.clear()\n\t\t\tisSet = true\n\t\t}\n\t\teach(resultEach, (key, childValue) =>\n\t\t\tfinalizeProperty(rootScope, state, result, key, childValue, path, isSet)\n\t\t)\n\t\t// everything inside is frozen, we can freeze here\n\t\tmaybeFreeze(rootScope, result, false)\n\t\t// first time finalizing, let's create those patches\n\t\tif (path && rootScope.patches_) {\n\t\t\tgetPlugin(\"Patches\").generatePatches_(\n\t\t\t\tstate,\n\t\t\t\tpath,\n\t\t\t\trootScope.patches_,\n\t\t\t\trootScope.inversePatches_!\n\t\t\t)\n\t\t}\n\t}\n\treturn state.copy_\n}\n\nfunction finalizeProperty(\n\trootScope: ImmerScope,\n\tparentState: undefined | ImmerState,\n\ttargetObject: any,\n\tprop: string | number,\n\tchildValue: any,\n\trootPath?: PatchPath,\n\ttargetIsSet?: boolean\n) {\n\tif (process.env.NODE_ENV !== \"production\" && childValue === targetObject)\n\t\tdie(5)\n\tif (isDraft(childValue)) {\n\t\tconst path =\n\t\t\trootPath &&\n\t\t\tparentState &&\n\t\t\tparentState!.type_ !== ArchType.Set && // Set objects are atomic since they have no keys.\n\t\t\t!has((parentState as Exclude<ImmerState, SetState>).assigned_!, prop) // Skip deep patches for assigned keys.\n\t\t\t\t? rootPath!.concat(prop)\n\t\t\t\t: undefined\n\t\t// Drafts owned by `scope` are finalized here.\n\t\tconst res = finalize(rootScope, childValue, path)\n\t\tset(targetObject, prop, res)\n\t\t// Drafts from another scope must prevented to be frozen\n\t\t// if we got a draft back from finalize, we're in a nested produce and shouldn't freeze\n\t\tif (isDraft(res)) {\n\t\t\trootScope.canAutoFreeze_ = false\n\t\t} else return\n\t} else if (targetIsSet) {\n\t\ttargetObject.add(childValue)\n\t}\n\t// Search new objects for unfinalized drafts. Frozen objects should never contain drafts.\n\tif (isDraftable(childValue) && !isFrozen(childValue)) {\n\t\tif (!rootScope.immer_.autoFreeze_ && rootScope.unfinalizedDrafts_ < 1) {\n\t\t\t// optimization: if an object is not a draft, and we don't have to\n\t\t\t// deepfreeze everything, and we are sure that no drafts are left in the remaining object\n\t\t\t// cause we saw and finalized all drafts already; we can stop visiting the rest of the tree.\n\t\t\t// This benefits especially adding large data tree's without further processing.\n\t\t\t// See add-data.js perf test\n\t\t\treturn\n\t\t}\n\t\tfinalize(rootScope, childValue)\n\t\t// Immer deep freezes plain objects, so if there is no parent state, we freeze as well\n\t\t// Per #590, we never freeze symbolic properties. Just to make sure don't accidentally interfere\n\t\t// with other frameworks.\n\t\tif (\n\t\t\t(!parentState || !parentState.scope_.parent_) &&\n\t\t\ttypeof prop !== \"symbol\" &&\n\t\t\tObject.prototype.propertyIsEnumerable.call(targetObject, prop)\n\t\t)\n\t\t\tmaybeFreeze(rootScope, childValue)\n\t}\n}\n\nfunction maybeFreeze(scope: ImmerScope, value: any, deep = false) {\n\t// we never freeze for a non-root scope; as it would prevent pruning for drafts inside wrapping objects\n\tif (!scope.parent_ && scope.immer_.autoFreeze_ && scope.canAutoFreeze_) {\n\t\tfreeze(value, deep)\n\t}\n}\n","import {\n\teach,\n\thas,\n\tis,\n\tisDraftable,\n\tshallowCopy,\n\tlatest,\n\tImmerBaseState,\n\tImmerState,\n\tDrafted,\n\tAnyObject,\n\tAnyArray,\n\tObjectish,\n\tgetCurrentScope,\n\tgetPrototypeOf,\n\tDRAFT_STATE,\n\tdie,\n\tcreateProxy,\n\tArchType,\n\tImmerScope\n} from \"../internal\"\n\ninterface ProxyBaseState extends ImmerBaseState {\n\tassigned_: {\n\t\t[property: string]: boolean\n\t}\n\tparent_?: ImmerState\n\trevoke_(): void\n}\n\nexport interface ProxyObjectState extends ProxyBaseState {\n\ttype_: ArchType.Object\n\tbase_: any\n\tcopy_: any\n\tdraft_: Drafted<AnyObject, ProxyObjectState>\n}\n\nexport interface ProxyArrayState extends ProxyBaseState {\n\ttype_: ArchType.Array\n\tbase_: AnyArray\n\tcopy_: AnyArray | null\n\tdraft_: Drafted<AnyArray, ProxyArrayState>\n}\n\ntype ProxyState = ProxyObjectState | ProxyArrayState\n\n/**\n * Returns a new draft of the `base` object.\n *\n * The second argument is the parent draft-state (used internally).\n */\nexport function createProxyProxy<T extends Objectish>(\n\tbase: T,\n\tparent?: ImmerState\n): Drafted<T, ProxyState> {\n\tconst isArray = Array.isArray(base)\n\tconst state: ProxyState = {\n\t\ttype_: isArray ? ArchType.Array : (ArchType.Object as any),\n\t\t// Track which produce call this is associated with.\n\t\tscope_: parent ? parent.scope_ : getCurrentScope()!,\n\t\t// True for both shallow and deep changes.\n\t\tmodified_: false,\n\t\t// Used during finalization.\n\t\tfinalized_: false,\n\t\t// Track which properties have been assigned (true) or deleted (false).\n\t\tassigned_: {},\n\t\t// The parent draft state.\n\t\tparent_: parent,\n\t\t// The base state.\n\t\tbase_: base,\n\t\t// The base proxy.\n\t\tdraft_: null as any, // set below\n\t\t// The base copy with any updated values.\n\t\tcopy_: null,\n\t\t// Called by the `produce` function.\n\t\trevoke_: null as any,\n\t\tisManual_: false\n\t}\n\n\t// the traps must target something, a bit like the 'real' base.\n\t// but also, we need to be able to determine from the target what the relevant state is\n\t// (to avoid creating traps per instance to capture the state in closure,\n\t// and to avoid creating weird hidden properties as well)\n\t// So the trick is to use 'state' as the actual 'target'! (and make sure we intercept everything)\n\t// Note that in the case of an array, we put the state in an array to have better Reflect defaults ootb\n\tlet target: T = state as any\n\tlet traps: ProxyHandler<object | Array<any>> = objectTraps\n\tif (isArray) {\n\t\ttarget = [state] as any\n\t\ttraps = arrayTraps\n\t}\n\n\tconst {revoke, proxy} = Proxy.revocable(target, traps)\n\tstate.draft_ = proxy as any\n\tstate.revoke_ = revoke\n\treturn proxy as any\n}\n\n/**\n * Object drafts\n */\nexport const objectTraps: ProxyHandler<ProxyState> = {\n\tget(state, prop) {\n\t\tif (prop === DRAFT_STATE) return state\n\n\t\tconst source = latest(state)\n\t\tif (!has(source, prop)) {\n\t\t\t// non-existing or non-own property...\n\t\t\treturn readPropFromProto(state, source, prop)\n\t\t}\n\t\tconst value = source[prop]\n\t\tif (state.finalized_ || !isDraftable(value)) {\n\t\t\treturn value\n\t\t}\n\t\t// Check for existing draft in modified state.\n\t\t// Assigned values are never drafted. This catches any drafts we created, too.\n\t\tif (value === peek(state.base_, prop)) {\n\t\t\tprepareCopy(state)\n\t\t\treturn (state.copy_![prop as any] = createProxy(value, state))\n\t\t}\n\t\treturn value\n\t},\n\thas(state, prop) {\n\t\treturn prop in latest(state)\n\t},\n\townKeys(state) {\n\t\treturn Reflect.ownKeys(latest(state))\n\t},\n\tset(\n\t\tstate: ProxyObjectState,\n\t\tprop: string /* strictly not, but helps TS */,\n\t\tvalue\n\t) {\n\t\tconst desc = getDescriptorFromProto(latest(state), prop)\n\t\tif (desc?.set) {\n\t\t\t// special case: if this write is captured by a setter, we have\n\t\t\t// to trigger it with the correct context\n\t\t\tdesc.set.call(state.draft_, value)\n\t\t\treturn true\n\t\t}\n\t\tif (!state.modified_) {\n\t\t\t// the last check is because we need to be able to distinguish setting a non-existing to undefined (which is a change)\n\t\t\t// from setting an existing property with value undefined to undefined (which is not a change)\n\t\t\tconst current = peek(latest(state), prop)\n\t\t\t// special case, if we assigning the original value to a draft, we can ignore the assignment\n\t\t\tconst currentState: ProxyObjectState = current?.[DRAFT_STATE]\n\t\t\tif (currentState && currentState.base_ === value) {\n\t\t\t\tstate.copy_![prop] = value\n\t\t\t\tstate.assigned_[prop] = false\n\t\t\t\treturn true\n\t\t\t}\n\t\t\tif (is(value, current) && (value !== undefined || has(state.base_, prop)))\n\t\t\t\treturn true\n\t\t\tprepareCopy(state)\n\t\t\tmarkChanged(state)\n\t\t}\n\n\t\tif (\n\t\t\t(state.copy_![prop] === value &&\n\t\t\t\t// special case: handle new props with value 'undefined'\n\t\t\t\t(value !== undefined || prop in state.copy_)) ||\n\t\t\t// special case: NaN\n\t\t\t(Number.isNaN(value) && Number.isNaN(state.copy_![prop]))\n\t\t)\n\t\t\treturn true\n\n\t\t// @ts-ignore\n\t\tstate.copy_![prop] = value\n\t\tstate.assigned_[prop] = true\n\t\treturn true\n\t},\n\tdeleteProperty(state, prop: string) {\n\t\t// The `undefined` check is a fast path for pre-existing keys.\n\t\tif (peek(state.base_, prop) !== undefined || prop in state.base_) {\n\t\t\tstate.assigned_[prop] = false\n\t\t\tprepareCopy(state)\n\t\t\tmarkChanged(state)\n\t\t} else {\n\t\t\t// if an originally not assigned property was deleted\n\t\t\tdelete state.assigned_[prop]\n\t\t}\n\t\tif (state.copy_) {\n\t\t\tdelete state.copy_[prop]\n\t\t}\n\t\treturn true\n\t},\n\t// Note: We never coerce `desc.value` into an Immer draft, because we can't make\n\t// the same guarantee in ES5 mode.\n\tgetOwnPropertyDescriptor(state, prop) {\n\t\tconst owner = latest(state)\n\t\tconst desc = Reflect.getOwnPropertyDescriptor(owner, prop)\n\t\tif (!desc) return desc\n\t\treturn {\n\t\t\twritable: true,\n\t\t\tconfigurable: state.type_ !== ArchType.Array || prop !== \"length\",\n\t\t\tenumerable: desc.enumerable,\n\t\t\tvalue: owner[prop]\n\t\t}\n\t},\n\tdefineProperty() {\n\t\tdie(11)\n\t},\n\tgetPrototypeOf(state) {\n\t\treturn getPrototypeOf(state.base_)\n\t},\n\tsetPrototypeOf() {\n\t\tdie(12)\n\t}\n}\n\n/**\n * Array drafts\n */\n\nconst arrayTraps: ProxyHandler<[ProxyArrayState]> = {}\neach(objectTraps, (key, fn) => {\n\t// @ts-ignore\n\tarrayTraps[key] = function() {\n\t\targuments[0] = arguments[0][0]\n\t\treturn fn.apply(this, arguments)\n\t}\n})\narrayTraps.deleteProperty = function(state, prop) {\n\tif (process.env.NODE_ENV !== \"production\" && isNaN(parseInt(prop as any)))\n\t\tdie(13)\n\t// @ts-ignore\n\treturn arrayTraps.set!.call(this, state, prop, undefined)\n}\narrayTraps.set = function(state, prop, value) {\n\tif (\n\t\tprocess.env.NODE_ENV !== \"production\" &&\n\t\tprop !== \"length\" &&\n\t\tisNaN(parseInt(prop as any))\n\t)\n\t\tdie(14)\n\treturn objectTraps.set!.call(this, state[0], prop, value, state[0])\n}\n\n// Access a property without creating an Immer draft.\nfunction peek(draft: Drafted, prop: PropertyKey) {\n\tconst state = draft[DRAFT_STATE]\n\tconst source = state ? latest(state) : draft\n\treturn source[prop]\n}\n\nfunction readPropFromProto(state: ImmerState, source: any, prop: PropertyKey) {\n\tconst desc = getDescriptorFromProto(source, prop)\n\treturn desc\n\t\t? `value` in desc\n\t\t\t? desc.value\n\t\t\t: // This is a very special case, if the prop is a getter defined by the\n\t\t\t  // prototype, we should invoke it with the draft as context!\n\t\t\t  desc.get?.call(state.draft_)\n\t\t: undefined\n}\n\nfunction getDescriptorFromProto(\n\tsource: any,\n\tprop: PropertyKey\n): PropertyDescriptor | undefined {\n\t// 'in' checks proto!\n\tif (!(prop in source)) return undefined\n\tlet proto = getPrototypeOf(source)\n\twhile (proto) {\n\t\tconst desc = Object.getOwnPropertyDescriptor(proto, prop)\n\t\tif (desc) return desc\n\t\tproto = getPrototypeOf(proto)\n\t}\n\treturn undefined\n}\n\nexport function markChanged(state: ImmerState) {\n\tif (!state.modified_) {\n\t\tstate.modified_ = true\n\t\tif (state.parent_) {\n\t\t\tmarkChanged(state.parent_)\n\t\t}\n\t}\n}\n\nexport function prepareCopy(state: {\n\tbase_: any\n\tcopy_: any\n\tscope_: ImmerScope\n}) {\n\tif (!state.copy_) {\n\t\tstate.copy_ = shallowCopy(\n\t\t\tstate.base_,\n\t\t\tstate.scope_.immer_.useStrictShallowCopy_\n\t\t)\n\t}\n}\n","import {\n\tIProduceWithPatches,\n\tIProduce,\n\tImmerState,\n\tDrafted,\n\tisDraftable,\n\tprocessResult,\n\tPatch,\n\tObjectish,\n\tDRAFT_STATE,\n\tDraft,\n\tPatchListener,\n\tisDraft,\n\tisMap,\n\tisSet,\n\tcreateProxyProxy,\n\tgetPlugin,\n\tdie,\n\tenterScope,\n\trevokeScope,\n\tleaveScope,\n\tusePatchesInScope,\n\tgetCurrentScope,\n\tNOTHING,\n\tfreeze,\n\tcurrent\n} from \"../internal\"\n\ninterface ProducersFns {\n\tproduce: IProduce\n\tproduceWithPatches: IProduceWithPatches\n}\n\nexport class Immer implements ProducersFns {\n\tautoFreeze_: boolean = true\n\tuseStrictShallowCopy_: boolean = false\n\n\tconstructor(config?: {autoFreeze?: boolean; useStrictShallowCopy?: boolean}) {\n\t\tif (typeof config?.autoFreeze === \"boolean\")\n\t\t\tthis.setAutoFreeze(config!.autoFreeze)\n\t\tif (typeof config?.useStrictShallowCopy === \"boolean\")\n\t\t\tthis.setUseStrictShallowCopy(config!.useStrictShallowCopy)\n\t}\n\n\t/**\n\t * The `produce` function takes a value and a \"recipe function\" (whose\n\t * return value often depends on the base state). The recipe function is\n\t * free to mutate its first argument however it wants. All mutations are\n\t * only ever applied to a __copy__ of the base state.\n\t *\n\t * Pass only a function to create a \"curried producer\" which relieves you\n\t * from passing the recipe function every time.\n\t *\n\t * Only plain objects and arrays are made mutable. All other objects are\n\t * considered uncopyable.\n\t *\n\t * Note: This function is __bound__ to its `Immer` instance.\n\t *\n\t * @param {any} base - the initial state\n\t * @param {Function} recipe - function that receives a proxy of the base state as first argument and which can be freely modified\n\t * @param {Function} patchListener - optional function that will be called with all the patches produced here\n\t * @returns {any} a new state, or the initial state if nothing was modified\n\t */\n\tproduce: IProduce = (base: any, recipe?: any, patchListener?: any) => {\n\t\t// curried invocation\n\t\tif (typeof base === \"function\" && typeof recipe !== \"function\") {\n\t\t\tconst defaultBase = recipe\n\t\t\trecipe = base\n\n\t\t\tconst self = this\n\t\t\treturn function curriedProduce(\n\t\t\t\tthis: any,\n\t\t\t\tbase = defaultBase,\n\t\t\t\t...args: any[]\n\t\t\t) {\n\t\t\t\treturn self.produce(base, (draft: Drafted) => recipe.call(this, draft, ...args)) // prettier-ignore\n\t\t\t}\n\t\t}\n\n\t\tif (typeof recipe !== \"function\") die(6)\n\t\tif (patchListener !== undefined && typeof patchListener !== \"function\")\n\t\t\tdie(7)\n\n\t\tlet result\n\n\t\t// Only plain objects, arrays, and \"immerable classes\" are drafted.\n\t\tif (isDraftable(base)) {\n\t\t\tconst scope = enterScope(this)\n\t\t\tconst proxy = createProxy(base, undefined)\n\t\t\tlet hasError = true\n\t\t\ttry {\n\t\t\t\tresult = recipe(proxy)\n\t\t\t\thasError = false\n\t\t\t} finally {\n\t\t\t\t// finally instead of catch + rethrow better preserves original stack\n\t\t\t\tif (hasError) revokeScope(scope)\n\t\t\t\telse leaveScope(scope)\n\t\t\t}\n\t\t\tusePatchesInScope(scope, patchListener)\n\t\t\treturn processResult(result, scope)\n\t\t} else if (!base || typeof base !== \"object\") {\n\t\t\tresult = recipe(base)\n\t\t\tif (result === undefined) result = base\n\t\t\tif (result === NOTHING) result = undefined\n\t\t\tif (this.autoFreeze_) freeze(result, true)\n\t\t\tif (patchListener) {\n\t\t\t\tconst p: Patch[] = []\n\t\t\t\tconst ip: Patch[] = []\n\t\t\t\tgetPlugin(\"Patches\").generateReplacementPatches_(base, result, p, ip)\n\t\t\t\tpatchListener(p, ip)\n\t\t\t}\n\t\t\treturn result\n\t\t} else die(1, base)\n\t}\n\n\tproduceWithPatches: IProduceWithPatches = (base: any, recipe?: any): any => {\n\t\t// curried invocation\n\t\tif (typeof base === \"function\") {\n\t\t\treturn (state: any, ...args: any[]) =>\n\t\t\t\tthis.produceWithPatches(state, (draft: any) => base(draft, ...args))\n\t\t}\n\n\t\tlet patches: Patch[], inversePatches: Patch[]\n\t\tconst result = this.produce(base, recipe, (p: Patch[], ip: Patch[]) => {\n\t\t\tpatches = p\n\t\t\tinversePatches = ip\n\t\t})\n\t\treturn [result, patches!, inversePatches!]\n\t}\n\n\tcreateDraft<T extends Objectish>(base: T): Draft<T> {\n\t\tif (!isDraftable(base)) die(8)\n\t\tif (isDraft(base)) base = current(base)\n\t\tconst scope = enterScope(this)\n\t\tconst proxy = createProxy(base, undefined)\n\t\tproxy[DRAFT_STATE].isManual_ = true\n\t\tleaveScope(scope)\n\t\treturn proxy as any\n\t}\n\n\tfinishDraft<D extends Draft<any>>(\n\t\tdraft: D,\n\t\tpatchListener?: PatchListener\n\t): D extends Draft<infer T> ? T : never {\n\t\tconst state: ImmerState = draft && (draft as any)[DRAFT_STATE]\n\t\tif (!state || !state.isManual_) die(9)\n\t\tconst {scope_: scope} = state\n\t\tusePatchesInScope(scope, patchListener)\n\t\treturn processResult(undefined, scope)\n\t}\n\n\t/**\n\t * Pass true to automatically freeze all copies created by Immer.\n\t *\n\t * By default, auto-freezing is enabled.\n\t */\n\tsetAutoFreeze(value: boolean) {\n\t\tthis.autoFreeze_ = value\n\t}\n\n\t/**\n\t * Pass true to enable strict shallow copy.\n\t *\n\t * By default, immer does not copy the object descriptors such as getter, setter and non-enumrable properties.\n\t */\n\tsetUseStrictShallowCopy(value: boolean) {\n\t\tthis.useStrictShallowCopy_ = value\n\t}\n\n\tapplyPatches<T extends Objectish>(base: T, patches: Patch[]): T {\n\t\t// If a patch replaces the entire state, take that replacement as base\n\t\t// before applying patches\n\t\tlet i: number\n\t\tfor (i = patches.length - 1; i >= 0; i--) {\n\t\t\tconst patch = patches[i]\n\t\t\tif (patch.path.length === 0 && patch.op === \"replace\") {\n\t\t\t\tbase = patch.value\n\t\t\t\tbreak\n\t\t\t}\n\t\t}\n\t\t// If there was a patch that replaced the entire state, start from the\n\t\t// patch after that.\n\t\tif (i > -1) {\n\t\t\tpatches = patches.slice(i + 1)\n\t\t}\n\n\t\tconst applyPatchesImpl = getPlugin(\"Patches\").applyPatches_\n\t\tif (isDraft(base)) {\n\t\t\t// N.B: never hits if some patch a replacement, patches are never drafts\n\t\t\treturn applyPatchesImpl(base, patches)\n\t\t}\n\t\t// Otherwise, produce a copy of the base state.\n\t\treturn this.produce(base, (draft: Drafted) =>\n\t\t\tapplyPatchesImpl(draft, patches)\n\t\t)\n\t}\n}\n\nexport function createProxy<T extends Objectish>(\n\tvalue: T,\n\tparent?: ImmerState\n): Drafted<T, ImmerState> {\n\t// precondition: createProxy should be guarded by isDraftable, so we know we can safely draft\n\tconst draft: Drafted = isMap(value)\n\t\t? getPlugin(\"MapSet\").proxyMap_(value, parent)\n\t\t: isSet(value)\n\t\t? getPlugin(\"MapSet\").proxySet_(value, parent)\n\t\t: createProxyProxy(value, parent)\n\n\tconst scope = parent ? parent.scope_ : getCurrentScope()\n\tscope.drafts_.push(draft)\n\treturn draft\n}\n","import {\n\tdie,\n\tisDraft,\n\tshallowCopy,\n\teach,\n\tDRAFT_STATE,\n\tset,\n\tImmerState,\n\tisDraftable,\n\tisFrozen\n} from \"../internal\"\n\n/** Takes a snapshot of the current state of a draft and finalizes it (but without freezing). This is a great utility to print the current state during debugging (no Proxies in the way). The output of current can also be safely leaked outside the producer. */\nexport function current<T>(value: T): T\nexport function current(value: any): any {\n\tif (!isDraft(value)) die(10, value)\n\treturn currentImpl(value)\n}\n\nfunction currentImpl(value: any): any {\n\tif (!isDraftable(value) || isFrozen(value)) return value\n\tconst state: ImmerState | undefined = value[DRAFT_STATE]\n\tlet copy: any\n\tif (state) {\n\t\tif (!state.modified_) return state.base_\n\t\t// Optimization: avoid generating new drafts during copying\n\t\tstate.finalized_ = true\n\t\tcopy = shallowCopy(value, state.scope_.immer_.useStrictShallowCopy_)\n\t} else {\n\t\tcopy = shallowCopy(value, true)\n\t}\n\t// recurse\n\teach(copy, (key, childValue) => {\n\t\tset(copy, key, currentImpl(childValue))\n\t})\n\tif (state) {\n\t\tstate.finalized_ = false\n\t}\n\treturn copy\n}\n","import {\n\tIProduce,\n\tIProduceWithPatches,\n\tImmer,\n\tDraft,\n\tImmutable\n} from \"./internal\"\n\nexport {\n\tDraft,\n\tImmutable,\n\tPatch,\n\tPatchListener,\n\toriginal,\n\tcurrent,\n\tisDraft,\n\tisDraftable,\n\tNOTHING as nothing,\n\tDRAFTABLE as immerable,\n\tfreeze,\n\tObjectish\n} from \"./internal\"\n\nconst immer = new Immer()\n\n/**\n * The `produce` function takes a value and a \"recipe function\" (whose\n * return value often depends on the base state). The recipe function is\n * free to mutate its first argument however it wants. All mutations are\n * only ever applied to a __copy__ of the base state.\n *\n * Pass only a function to create a \"curried producer\" which relieves you\n * from passing the recipe function every time.\n *\n * Only plain objects and arrays are made mutable. All other objects are\n * considered uncopyable.\n *\n * Note: This function is __bound__ to its `Immer` instance.\n *\n * @param {any} base - the initial state\n * @param {Function} producer - function that receives a proxy of the base state as first argument and which can be freely modified\n * @param {Function} patchListener - optional function that will be called with all the patches produced here\n * @returns {any} a new state, or the initial state if nothing was modified\n */\nexport const produce: IProduce = immer.produce\n\n/**\n * Like `produce`, but `produceWithPatches` always returns a tuple\n * [nextState, patches, inversePatches] (instead of just the next state)\n */\nexport const produceWithPatches: IProduceWithPatches = immer.produceWithPatches.bind(\n\timmer\n)\n\n/**\n * Pass true to automatically freeze all copies created by Immer.\n *\n * Always freeze by default, even in production mode\n */\nexport const setAutoFreeze = immer.setAutoFreeze.bind(immer)\n\n/**\n * Pass true to enable strict shallow copy.\n *\n * By default, immer does not copy the object descriptors such as getter, setter and non-enumrable properties.\n */\nexport const setUseStrictShallowCopy = immer.setUseStrictShallowCopy.bind(immer)\n\n/**\n * Apply an array of Immer patches to the first argument.\n *\n * This function is a producer, which means copy-on-write is in effect.\n */\nexport const applyPatches = immer.applyPatches.bind(immer)\n\n/**\n * Create an Immer draft from the given base state, which may be a draft itself.\n * The draft can be modified until you finalize it with the `finishDraft` function.\n */\nexport const createDraft = immer.createDraft.bind(immer)\n\n/**\n * Finalize an Immer draft from a `createDraft` call, returning the base state\n * (if no changes were made) or a modified copy. The draft must *not* be\n * mutated afterwards.\n *\n * Pass a function as the 2nd argument to generate Immer patches based on the\n * changes that were made.\n */\nexport const finishDraft = immer.finishDraft.bind(immer)\n\n/**\n * This function is actually a no-op, but can be used to cast an immutable type\n * to an draft type and make TypeScript happy\n *\n * @param value\n */\nexport function castDraft<T>(value: T): Draft<T> {\n\treturn value as any\n}\n\n/**\n * This function is actually a no-op, but can be used to cast a mutable type\n * to an immutable type and make TypeScript happy\n * @param value\n */\nexport function castImmutable<T>(value: T): Immutable<T> {\n\treturn value as any\n}\n\nexport {Immer}\n\nexport {enablePatches} from \"./plugins/patches\"\nexport {enableMapSet} from \"./plugins/mapset\"\n","import { createDraft, finishDraft, isDraft, produce } from 'immer';\r\nimport { buildSlateEditor } from '../../utils/buildSlate';\r\nimport { SlateEditor, SlateElement, YooEditor, YooptaBlockData, YooptaContentValue, YooptaPath } from '../types';\r\nimport { Editor, Operation, Range, Transforms } from 'slate';\r\nimport { ReactEditor } from 'slate-react';\r\n\r\nexport type ChangeSource = 'api' | 'user' | 'history';\r\n\r\nexport type SetSlateOperation = {\r\n  type: 'set_slate';\r\n  slate: SlateEditor;\r\n  blockId: string;\r\n  properties: {\r\n    slateOps: Operation[];\r\n    selectionBefore: Range | null;\r\n  };\r\n};\r\n\r\nexport type MoveBlockOperation = {\r\n  type: 'move_block';\r\n  prevProperties: {\r\n    id: string;\r\n    order: number;\r\n  };\r\n  properties: {\r\n    id: string;\r\n    order: number;\r\n  };\r\n};\r\n\r\nexport type InsertBlockOperation = {\r\n  type: 'insert_block';\r\n  path: YooptaPath;\r\n  block: YooptaBlockData;\r\n};\r\n\r\nexport type SetBlockValueOperation = {\r\n  type: 'set_block_value';\r\n  id: string;\r\n  value: SlateElement[];\r\n  forceSlate?: boolean;\r\n};\r\n\r\nexport type SetBlockMetaOperation = {\r\n  type: 'set_block_meta';\r\n  id: string;\r\n  properties: Omit<Partial<YooptaBlockData['meta']>, 'order'>;\r\n  prevProperties: Omit<Partial<YooptaBlockData['meta']>, 'order'>;\r\n};\r\n\r\nexport type SplitBlockOperation = {\r\n  type: 'split_block';\r\n  properties: {\r\n    nextBlock: YooptaBlockData;\r\n    splitSlateValue: SlateElement[];\r\n    nextSlateValue: SlateElement[];\r\n  };\r\n  prevProperties: {\r\n    originalBlock: YooptaBlockData;\r\n    originalValue: SlateElement[];\r\n  };\r\n  path: YooptaPath;\r\n};\r\n\r\nexport type MergeBlockOperation = {\r\n  type: 'merge_block';\r\n  properties: {\r\n    mergedBlock: YooptaBlockData;\r\n    mergedSlateValue: SlateElement[];\r\n  };\r\n  prevProperties: {\r\n    sourceBlock: YooptaBlockData;\r\n    sourceSlateValue: SlateElement[];\r\n    targetBlock: YooptaBlockData;\r\n    targetSlateValue: SlateElement[];\r\n  };\r\n  path: YooptaPath;\r\n};\r\n\r\nexport type DeleteBlockOperation = {\r\n  type: 'delete_block';\r\n  path: YooptaPath;\r\n  block: YooptaBlockData;\r\n};\r\n\r\nexport type SetSelectionBlockOperation = {\r\n  type: 'set_block_path';\r\n  path: YooptaPath;\r\n};\r\n\r\nexport type NormalizePathsBlockOperation = {\r\n  type: 'validate_block_paths';\r\n};\r\n\r\nexport type SetEditorValueOperation = {\r\n  type: 'set_editor_value';\r\n  properties: {\r\n    value: YooptaContentValue;\r\n  };\r\n  prevProperties: {\r\n    value: YooptaContentValue;\r\n  };\r\n};\r\n\r\nexport type YooptaOperation =\r\n  | InsertBlockOperation\r\n  | DeleteBlockOperation\r\n  | NormalizePathsBlockOperation\r\n  | SetSelectionBlockOperation\r\n  | SplitBlockOperation\r\n  | SetBlockValueOperation\r\n  | SetBlockMetaOperation\r\n  | MergeBlockOperation\r\n  | MoveBlockOperation\r\n  | SetSlateOperation\r\n  | SetEditorValueOperation;\r\n\r\nfunction applyOperation(editor: YooEditor, op: YooptaOperation): void {\r\n  switch (op.type) {\r\n    case 'set_slate': {\r\n      const { properties, blockId } = op;\r\n\r\n      const slate = editor.blockEditorsMap[blockId];\r\n\r\n      if (slate) {\r\n        const { slateOps, selectionBefore } = properties;\r\n\r\n        Editor.withoutNormalizing(slate, () => {\r\n          for (const slateOp of slateOps) {\r\n            slate.apply(slateOp);\r\n          }\r\n\r\n          if (selectionBefore) {\r\n            try {\r\n              Transforms.select(slate, selectionBefore);\r\n              ReactEditor.focus(slate);\r\n            } catch (error) {}\r\n          }\r\n        });\r\n      }\r\n\r\n      break;\r\n    }\r\n\r\n    case 'insert_block': {\r\n      editor.blockEditorsMap[op.block.id] = buildSlateEditor(editor);\r\n      editor.children[op.block.id] = op.block;\r\n      editor.blockEditorsMap[op.block.id].children = op.block.value;\r\n\r\n      Object.keys(editor.children).forEach((blockId) => {\r\n        const existingBlock = editor.children[blockId];\r\n        if (existingBlock.meta.order >= op.block.meta.order && existingBlock.id !== op.block.id) {\r\n          if (isDraft(editor.children[existingBlock.id])) {\r\n            existingBlock.meta.order = existingBlock.meta.order + 1;\r\n          }\r\n        }\r\n      });\r\n\r\n      break;\r\n    }\r\n\r\n    case 'delete_block': {\r\n      delete editor.blockEditorsMap[op.block.id];\r\n      delete editor.children[op.block.id];\r\n\r\n      // if (Object.keys(editor.children).length === 0) {\r\n      //   const id = generateId();\r\n      //   const defaultBlock = buildBlockData({ id });\r\n      //   editor.children[id] = defaultBlock;\r\n      //   editor.blockEditorsMap[id] = buildSlateEditor(editor);\r\n      // }\r\n\r\n      const blocks = Object.values(editor.children);\r\n\r\n      blocks.forEach((existingBlock) => {\r\n        if (existingBlock.meta.order > op.block.meta.order) {\r\n          if (isDraft(existingBlock)) {\r\n            existingBlock.meta.order--;\r\n          } else {\r\n            produce(existingBlock, (draft) => {\r\n              draft.meta.order--;\r\n            });\r\n          }\r\n        }\r\n      });\r\n\r\n      blocks.sort((a, b) => a.meta.order - b.meta.order);\r\n      blocks.forEach((block, index) => {\r\n        if (!isDraft(block.meta)) {\r\n          produce(block, (draft) => {\r\n            draft.meta = { ...draft.meta, order: index };\r\n          });\r\n        } else {\r\n          block.meta.order = index;\r\n        }\r\n      });\r\n\r\n      break;\r\n    }\r\n\r\n    case 'set_block_value': {\r\n      const { id, value, forceSlate } = op;\r\n      const slate = editor.blockEditorsMap[id];\r\n\r\n      if (forceSlate && slate) {\r\n        slate.children = value;\r\n      }\r\n\r\n      if (Array.isArray(value)) {\r\n        if (isDraft(editor.children[id])) {\r\n          editor.children[id].value = value;\r\n        } else {\r\n          produce(editor.children[id], (draft) => {\r\n            draft.value = value;\r\n          });\r\n        }\r\n      }\r\n      break;\r\n    }\r\n\r\n    case 'set_block_meta': {\r\n      const { id, properties } = op;\r\n\r\n      const block = editor.children[id];\r\n      if (!block) break;\r\n\r\n      if (isDraft(block)) {\r\n        Object.keys(properties).forEach((key) => {\r\n          block.meta[key] = properties[key];\r\n        });\r\n      } else {\r\n        produce(block, (draft) => {\r\n          draft.meta = { ...draft.meta, ...properties };\r\n        });\r\n      }\r\n\r\n      break;\r\n    }\r\n\r\n    case 'split_block': {\r\n      const { properties } = op;\r\n\r\n      const nextSlate = buildSlateEditor(editor);\r\n      nextSlate.children = properties.nextSlateValue;\r\n      editor.children[properties.nextBlock.id] = { ...properties.nextBlock, value: nextSlate.children };\r\n      editor.blockEditorsMap[properties.nextBlock.id] = nextSlate;\r\n\r\n      const splitSlate = editor.blockEditorsMap[op.prevProperties.originalBlock.id];\r\n      splitSlate.children = properties.splitSlateValue;\r\n      editor.children[op.prevProperties.originalBlock.id].value = splitSlate.children;\r\n\r\n      Object.values(editor.children).forEach((block) => {\r\n        if (block.meta.order >= properties.nextBlock.meta.order && block.id !== properties.nextBlock.id) {\r\n          if (isDraft(block)) {\r\n            block.meta.order++;\r\n          } else {\r\n            produce(block, (draft) => {\r\n              draft.meta.order++;\r\n            });\r\n          }\r\n        }\r\n      });\r\n      break;\r\n    }\r\n\r\n    case 'merge_block': {\r\n      const { prevProperties, properties } = op;\r\n\r\n      delete editor.blockEditorsMap[prevProperties.sourceBlock.id];\r\n      delete editor.children[prevProperties.sourceBlock.id];\r\n\r\n      editor.children[properties.mergedBlock.id] = properties.mergedBlock;\r\n      editor.blockEditorsMap[properties.mergedBlock.id].children = properties.mergedSlateValue;\r\n\r\n      Object.values(editor.children).forEach((block) => {\r\n        if (block.meta.order > properties.mergedBlock.meta.order) {\r\n          if (isDraft(block)) {\r\n            block.meta.order--;\r\n          } else {\r\n            produce(block, (draft) => {\r\n              draft.meta.order--;\r\n            });\r\n          }\r\n        }\r\n      });\r\n      break;\r\n    }\r\n\r\n    case 'move_block': {\r\n      const { prevProperties, properties } = op;\r\n      const block = editor.children[prevProperties.id];\r\n\r\n      if (block) {\r\n        block.meta.order = properties.order;\r\n\r\n        Object.values(editor.children).forEach((otherBlock) => {\r\n          if (otherBlock.id !== prevProperties.id) {\r\n            if (prevProperties.order < properties.order) {\r\n              if (otherBlock.meta.order > prevProperties.order && otherBlock.meta.order <= properties.order) {\r\n                otherBlock.meta.order--;\r\n              }\r\n            } else {\r\n              if (otherBlock.meta.order < prevProperties.order && otherBlock.meta.order >= properties.order) {\r\n                otherBlock.meta.order++;\r\n              }\r\n            }\r\n          }\r\n        });\r\n      }\r\n\r\n      break;\r\n    }\r\n\r\n    case 'set_block_path': {\r\n      editor.path = op.path;\r\n      break;\r\n    }\r\n\r\n    case 'set_editor_value': {\r\n      editor.children = op.properties.value;\r\n\r\n      const blockEditorsMap = {};\r\n\r\n      Object.keys(editor.children).forEach((id) => {\r\n        const block = editor.children[id];\r\n        const slate = buildSlateEditor(editor);\r\n        slate.children = block.value;\r\n\r\n        blockEditorsMap[id] = slate;\r\n      });\r\n\r\n      editor.blockEditorsMap = blockEditorsMap;\r\n\r\n      break;\r\n    }\r\n\r\n    case 'validate_block_paths': {\r\n      const blocks = Object.values(editor.children);\r\n      blocks.sort((a, b) => a.meta.order - b.meta.order);\r\n      blocks.forEach((block, index) => {\r\n        if (!isDraft(block.meta)) {\r\n          produce(block, (draft) => {\r\n            draft.meta = { ...draft.meta, order: index };\r\n          });\r\n        } else {\r\n          block.meta.order = index;\r\n        }\r\n      });\r\n\r\n      break;\r\n    }\r\n  }\r\n}\r\n\r\nexport type ApplyTransformsOptions = {\r\n  validatePaths?: boolean;\r\n  source?: ChangeSource;\r\n};\r\n\r\nconst MAX_HISTORY_LENGTH = 100;\r\n\r\nexport function applyTransforms(editor: YooEditor, ops: YooptaOperation[], options?: ApplyTransformsOptions): void {\r\n  editor.children = createDraft(editor.children);\r\n  editor.path = createDraft(editor.path);\r\n\r\n  const { validatePaths = true, source } = options || {};\r\n  const operations = [...ops];\r\n\r\n  if (validatePaths) {\r\n    operations.push({ type: 'validate_block_paths' });\r\n  }\r\n\r\n  if (operations.length > 1) {\r\n    // if type is insert_block, we need to sort these operations by order\r\n    operations.sort((a, b) => {\r\n      if (a.type === 'insert_block' && b.type === 'insert_block') {\r\n        return a.block.meta.order - b.block.meta.order;\r\n      }\r\n\r\n      return 0;\r\n    });\r\n  }\r\n\r\n  for (const operation of operations) {\r\n    // run `set_slate` operation only if source is history\r\n    if (operation.type === 'set_slate' && source === 'api') {\r\n      continue;\r\n    }\r\n\r\n    applyOperation(editor, operation);\r\n  }\r\n\r\n  if (!isDraft(editor.children)) editor.children = createDraft(editor.children);\r\n  editor.children = finishDraft(editor.children);\r\n\r\n  if (isDraft(editor.path)) {\r\n    editor.path = finishDraft(editor.path);\r\n  }\r\n\r\n  const saveHistory = editor.isSavingHistory() !== false;\r\n  if (saveHistory) {\r\n    const historyBatch = {\r\n      operations: operations.filter(\r\n        (op) => op.type !== 'set_block_path' && op.type !== 'set_block_value' && op.type !== 'validate_block_paths',\r\n      ),\r\n      path: editor.path,\r\n    };\r\n\r\n    if (historyBatch.operations.length > 0 && source !== 'history') {\r\n      editor.historyStack.undos.push(historyBatch);\r\n      editor.historyStack.redos = [];\r\n    }\r\n\r\n    if (editor.historyStack.undos.length > MAX_HISTORY_LENGTH) {\r\n      editor.historyStack.undos.shift();\r\n    }\r\n  }\r\n\r\n  const changeOptions = { value: editor.children, operations };\r\n  editor.emit('change', changeOptions);\r\n  editor.emit('path-change', editor.path);\r\n\r\n  if (process.env.NODE_ENV !== 'production') {\r\n    assertValidPaths(editor);\r\n  }\r\n}\r\n\r\nfunction assertValidPaths(editor: YooEditor) {\r\n  const blocks = Object.values(editor.children);\r\n  blocks.sort((a, b) => a.meta.order - b.meta.order);\r\n  blocks.forEach((block, index) => {\r\n    if (block.meta.order !== index) {\r\n      console.warn(\r\n        `Block path inconsistency detected: Block ${block.id} has order ${block.meta.order}, expected ${index}`,\r\n      );\r\n    }\r\n  });\r\n}\r\n","import { YooptaOperation } from './applyTransforms';\r\nimport { YooEditor } from '../types';\r\n\r\nexport function batchOperations(editor: YooEditor, callback: () => void) {\r\n  const operations: YooptaOperation[] = [];\r\n  let options = {};\r\n  const originalApplyTransforms = editor.applyTransforms;\r\n\r\n  editor.applyTransforms = (ops: YooptaOperation[], applyOptions) => {\r\n    if (applyOptions) options = applyOptions;\r\n    operations.push(...ops);\r\n  };\r\n\r\n  callback();\r\n\r\n  editor.applyTransforms = originalApplyTransforms;\r\n\r\n  if (operations.length > 0) {\r\n    editor.applyTransforms(operations, options);\r\n  }\r\n}\r\n","import { Operation } from 'slate';\r\nimport { SlateElement, YooEditor, YooptaPath } from '../types';\r\nimport { YooptaOperation } from './applyTransforms';\r\nimport { Blocks } from '../blocks';\r\n\r\nexport type HistoryStack = {\r\n  operations: YooptaOperation[];\r\n  path: YooptaPath;\r\n};\r\n\r\nexport type HistoryStackName = 'undos' | 'redos';\r\n\r\nexport function inverseEditorOperation(editor: YooEditor, op: YooptaOperation): YooptaOperation | YooptaOperation[] {\r\n  switch (op.type) {\r\n    case 'insert_block':\r\n      return {\r\n        type: 'delete_block',\r\n        path: op.path,\r\n        block: op.block,\r\n      };\r\n\r\n    case 'delete_block':\r\n      return {\r\n        type: 'insert_block',\r\n        path: op.path,\r\n        block: op.block,\r\n      };\r\n\r\n    case 'set_block_meta': {\r\n      return {\r\n        type: 'set_block_meta',\r\n        id: op.id,\r\n        properties: op.prevProperties,\r\n        prevProperties: op.properties,\r\n      };\r\n    }\r\n\r\n    case 'split_block': {\r\n      return [\r\n        {\r\n          type: 'delete_block',\r\n          block: op.properties.nextBlock,\r\n          path: op.path,\r\n        },\r\n        {\r\n          type: 'set_block_value',\r\n          id: op.prevProperties.originalBlock.id,\r\n          value: op.prevProperties.originalValue as SlateElement[],\r\n          forceSlate: true,\r\n        },\r\n      ];\r\n    }\r\n\r\n    case 'merge_block': {\r\n      return [\r\n        {\r\n          type: 'split_block',\r\n          properties: {\r\n            nextBlock: op.prevProperties.sourceBlock,\r\n            nextSlateValue: op.prevProperties.sourceSlateValue,\r\n            splitSlateValue: op.prevProperties.targetSlateValue,\r\n          },\r\n          prevProperties: {\r\n            originalBlock: op.properties.mergedBlock,\r\n            originalValue: op.properties.mergedSlateValue,\r\n          },\r\n          path: op.path,\r\n        },\r\n      ];\r\n    }\r\n\r\n    case 'move_block': {\r\n      return {\r\n        type: 'move_block',\r\n        properties: op.prevProperties,\r\n        prevProperties: op.properties,\r\n      };\r\n    }\r\n\r\n    case 'set_slate': {\r\n      const inverseOps = op.properties.slateOps.map(Operation.inverse).reverse();\r\n      return {\r\n        type: 'set_slate',\r\n        properties: {\r\n          slateOps: inverseOps,\r\n          selectionBefore: op.properties.selectionBefore,\r\n        },\r\n        slate: op.slate,\r\n        blockId: op.blockId,\r\n      };\r\n    }\r\n\r\n    case 'set_editor_value': {\r\n      return {\r\n        type: 'set_editor_value',\r\n        properties: op.prevProperties,\r\n        prevProperties: op.properties,\r\n      };\r\n    }\r\n\r\n    default:\r\n      return op;\r\n  }\r\n}\r\n\r\nexport type UndoRedoOptions = {\r\n  scroll?: boolean;\r\n};\r\n\r\nexport const SAVING = new WeakMap<YooEditor, boolean | undefined>();\r\nexport const MERGING = new WeakMap<YooEditor, boolean | undefined>();\r\n\r\nexport const YooptaHistory = {\r\n  isMergingHistory(editor: YooEditor): boolean | undefined {\r\n    return MERGING.get(editor);\r\n  },\r\n\r\n  isSavingHistory(editor: YooEditor): boolean | undefined {\r\n    return SAVING.get(editor);\r\n  },\r\n\r\n  withMergingHistory(editor: YooEditor, fn: () => void): void {\r\n    const prev = YooptaHistory.isMergingHistory(editor);\r\n    MERGING.set(editor, true);\r\n    fn();\r\n    MERGING.set(editor, prev);\r\n  },\r\n\r\n  withSavingHistory(editor: YooEditor, fn: () => void): void {\r\n    const prev = YooptaHistory.isSavingHistory(editor);\r\n    SAVING.set(editor, true);\r\n    fn();\r\n    SAVING.set(editor, prev);\r\n  },\r\n\r\n  withoutMergingHistory(editor: YooEditor, fn: () => void): void {\r\n    const prev = YooptaHistory.isMergingHistory(editor);\r\n    MERGING.set(editor, false);\r\n    fn();\r\n    MERGING.set(editor, prev);\r\n  },\r\n\r\n  withoutSavingHistory(editor: YooEditor, fn: () => void): void {\r\n    const prev = YooptaHistory.isSavingHistory(editor);\r\n    SAVING.set(editor, false);\r\n    fn();\r\n    SAVING.set(editor, prev);\r\n  },\r\n\r\n  redo: (editor: YooEditor, options?: UndoRedoOptions) => {\r\n    const { redos } = editor.historyStack;\r\n\r\n    if (redos.length > 0) {\r\n      const batch = redos[redos.length - 1];\r\n\r\n      YooptaHistory.withoutSavingHistory(editor, () => {\r\n        editor.applyTransforms(batch.operations, { source: 'history' });\r\n        editor.setPath(batch.path);\r\n\r\n        const { scroll = true } = options || {};\r\n        if (scroll && typeof batch.path.current === 'number') {\r\n          const block = Blocks.getBlock(editor, { at: batch.path.current });\r\n\r\n          // [TODO] - not good place to scroll. View tasks should be separated from model tasks\r\n          const blockElement = document.querySelector(`[data-yoopta-block-id=\"${block?.id}\"]`);\r\n          if (blockElement && !isInViewport(blockElement)) {\r\n            blockElement.scrollIntoView({ block: 'center', behavior: 'auto' });\r\n          }\r\n        }\r\n      });\r\n\r\n      editor.historyStack.redos.pop();\r\n      editor.historyStack.undos.push(batch);\r\n    }\r\n  },\r\n  undo: (editor: YooEditor, options?: UndoRedoOptions) => {\r\n    const { undos } = editor.historyStack;\r\n\r\n    if (undos.length > 0) {\r\n      const batch = editor.historyStack.undos[editor.historyStack.undos.length - 1];\r\n\r\n      YooptaHistory.withoutSavingHistory(editor, () => {\r\n        // [TODO] - ask Christopher Nolan to help with this\r\n        const inverseOps = batch.operations.flatMap((op) => inverseEditorOperation(editor, op)).reverse();\r\n        editor.applyTransforms(inverseOps, { source: 'history' });\r\n        editor.setPath(batch.path);\r\n\r\n        const { scroll = true } = options || {};\r\n        if (scroll && typeof batch.path.current === 'number') {\r\n          const block = Blocks.getBlock(editor, { at: batch.path.current });\r\n\r\n          // [TODO] - not good place to scroll. View tasks should be separated from model tasks\r\n          const blockElement = document.querySelector(`[data-yoopta-block-id=\"${block?.id}\"]`);\r\n          if (blockElement && !isInViewport(blockElement)) {\r\n            blockElement.scrollIntoView({ block: 'center', behavior: 'auto' });\r\n          }\r\n        }\r\n      });\r\n\r\n      editor.historyStack.redos.push(batch);\r\n      editor.historyStack.undos.pop();\r\n    }\r\n  },\r\n};\r\n\r\nfunction isInViewport(element) {\r\n  var rect = element.getBoundingClientRect();\r\n  var html = document.documentElement;\r\n  return (\r\n    rect.top >= 0 &&\r\n    rect.left >= 0 &&\r\n    rect.bottom <= (window.innerHeight || html.clientHeight) &&\r\n    rect.right <= (window.innerWidth || html.clientWidth)\r\n  );\r\n}\r\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n","// [TODO] - Move to @yoopta/utils or @yoopta/editor/utils\r\n// helpers for serializing text nodes when you use custom parsers in your plugins\r\nexport function serializeTextNodes(nodes: any[]): string {\r\n  return nodes\r\n    .map((node) => {\r\n      if ('text' in node) {\r\n        let text = node.text;\r\n\r\n        if (node.bold) {\r\n          text = `<strong style=\"font-weight: bolder;\">${text}</strong>`;\r\n        }\r\n        if (node.italic) {\r\n          text = `<i>${text}</i>`;\r\n        }\r\n        if (node.strike) {\r\n          text = `<s>${text}</s>`;\r\n        }\r\n        if (node.underline) {\r\n          text = `<u>${text}</u>`;\r\n        }\r\n        if (node.code) {\r\n          text = `<code style=\"background-color: rgb(242 242 242); border-radius: .25rem; font-size: 75%; padding: 3px 6px;\">${text}</code>`;\r\n        }\r\n        if (node.highlight) {\r\n          text = `<mark style=\"color: ${node.highlight?.color}; background-color: ${\r\n            node.highlight?.backgroundColor || 'transparent'\r\n          };\">${text}</mark>`;\r\n        }\r\n\r\n        return text;\r\n      }\r\n\r\n      if (node.type === 'link') {\r\n        const { url, target, rel } = node.props;\r\n        const children = serializeTextNodes(node.children);\r\n\r\n        return `<a href=\"${url}\" target=\"${target}\" rel=\"${rel}\" style=\"color: rgb(0 122 255);\r\n                cursor: pointer;\r\n                position: relative;\r\n                text-decoration-line: underline;\r\n                text-underline-offset: 4px;\">${children}</a>`;\r\n      }\r\n\r\n      return '';\r\n    })\r\n    .join('');\r\n}\r\n\r\n// [TODO] - Move to @yoopta/utils or @yoopta/editor/utils\r\n// helpers for serializing text nodes into markdown style when you use custom parsers in your plugins\r\nexport function serializeTextNodesIntoMarkdown(nodes: any[]): string {\r\n  return nodes\r\n    .map((node) => {\r\n      if ('text' in node) {\r\n        let text = node.text;\r\n\r\n        if (node.bold) {\r\n          text = `**${text}**`;\r\n        }\r\n        if (node.italic) {\r\n          text = `*${text}*`;\r\n        }\r\n        if (node.strike) {\r\n          text = `~~${text}~~`;\r\n        }\r\n        if (node.underline) {\r\n          text = `<u>${text}</u>`;\r\n        }\r\n        if (node.code) {\r\n          text = `\\`${text}\\``;\r\n        }\r\n\r\n        return text;\r\n      }\r\n\r\n      if (node.type === 'link') {\r\n        const { url, target, rel } = node.props;\r\n        const children = serializeTextNodesIntoMarkdown(node.children);\r\n\r\n        return `[${children}](${url})`;\r\n      }\r\n\r\n      return '';\r\n    })\r\n    .join('');\r\n}\r\n","import { Paths } from '../editor/paths';\r\nimport { SlateElement, YooEditor, YooptaContentValue } from '../editor/types';\r\nimport { serializeTextNodes } from './serializeTextNodes';\r\n\r\ntype StyleElement = {\r\n  id?: string;\r\n  content: string;\r\n};\r\n\r\ntype MetaElement = {\r\n  content?: string;\r\n  name?: string;\r\n  'http-equiv'?: string;\r\n  property?: string;\r\n  charset?: string;\r\n};\r\n\r\ntype StyleAttribute = {\r\n  [key: string]: string | number;\r\n};\r\n\r\ntype ElementAttributes = {\r\n  style?: StyleAttribute;\r\n  [key: string]: any;\r\n};\r\n\r\nexport type EmailTemplateOptions = {\r\n  head?: {\r\n    styles?: StyleElement[];\r\n    meta?: MetaElement[];\r\n    title?: string;\r\n  };\r\n  body?: {\r\n    attrs?: ElementAttributes;\r\n  };\r\n  container?: {\r\n    attrs?: ElementAttributes;\r\n  };\r\n  customTemplate?: (content: string) => string;\r\n};\r\n\r\nconst DEFAULT_OPTIONS: EmailTemplateOptions = {\r\n  head: {\r\n    meta: [\r\n      { content: 'width=device-width', name: 'viewport' },\r\n      { charset: 'UTF-8' },\r\n      { content: 'IE=edge', 'http-equiv': 'X-UA-Compatible' },\r\n    ],\r\n  },\r\n  body: {\r\n    attrs: {\r\n      style: {\r\n        margin: '0 auto',\r\n        padding: 0,\r\n        width: '900px',\r\n      },\r\n    },\r\n  },\r\n  container: {\r\n    attrs: {\r\n      style: {\r\n        margin: '0 auto',\r\n        width: '600px',\r\n      },\r\n    },\r\n  },\r\n};\r\n\r\nexport function getEmail(editor: YooEditor, content: YooptaContentValue, opts?: EmailTemplateOptions): string {\r\n  const options = deepMerge(DEFAULT_OPTIONS, opts || {});\r\n  const blocks = Object.values(content)\r\n    .filter((item) => {\r\n      const selectedBlocks = Paths.getSelectedPaths(editor);\r\n\r\n      if (Array.isArray(selectedBlocks) && selectedBlocks.length > 0) {\r\n        return selectedBlocks?.includes(item.meta.order);\r\n      }\r\n\r\n      return true;\r\n    })\r\n    .sort((a, b) => a.meta.order - b.meta.order);\r\n\r\n  const email = blocks.map((blockData) => {\r\n    const plugin = editor.plugins[blockData.type];\r\n\r\n    if (plugin && plugin.parsers?.email?.serialize) {\r\n      // @ts-ignore - fixme\r\n      const innerContent = serializeTextNodes(blockData.value[0].children);\r\n      return plugin.parsers.email.serialize(blockData.value[0] as SlateElement, innerContent, blockData.meta);\r\n    }\r\n\r\n    return '';\r\n  });\r\n\r\n  const emailContent = email.join('');\r\n\r\n  if (options.customTemplate) {\r\n    return options.customTemplate(emailContent);\r\n  }\r\n\r\n  const bodyAttrs = attributesToString(options.body?.attrs);\r\n  const containerAttrs = attributesToString(options.container?.attrs);\r\n\r\n  return `\r\n    <!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\r\n      <html lang=\"en\">\r\n      <head>\r\n        <title>${options?.head?.title || 'Email-Builder'}</title>\r\n        <meta http-equiv=\"Content-Type\" content=\"text/html charset=UTF-8\" />\r\n        ${generateMetaTags(options.head?.meta)}\r\n        ${generateStyles(options.head?.styles)}\r\n      </head>\r\n      <body id=\"yoopta-email\" ${bodyAttrs}>\r\n        <table ${containerAttrs}>\r\n          <tbody>\r\n            <tr>\r\n              <td>\r\n                ${emailContent}\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </body>\r\n    </html>\r\n  `;\r\n}\r\n\r\n// Email helpers\r\nfunction generateMetaTags(meta: MetaElement[] = []): string {\r\n  return meta\r\n    .map((tag) => {\r\n      const attrs = Object.entries(tag)\r\n        .filter(([_, value]) => value !== undefined)\r\n        .map(([key, value]) => {\r\n          if (value === '') return key;\r\n          return `${key}=\"${value}\"`;\r\n        })\r\n        .join(' ');\r\n\r\n      return `<meta ${attrs}>`;\r\n    })\r\n    .join('\\n');\r\n}\r\n\r\nfunction generateStyles(styles: StyleElement[] = []): string {\r\n  return styles\r\n    .map((style) => {\r\n      const idAttr = style.id ? ` id=\"${style.id}\"` : '';\r\n      return `<style${idAttr}>${style.content}</style>`;\r\n    })\r\n    .join('\\n');\r\n}\r\n\r\nfunction styleObjectToString(style?: StyleAttribute): string {\r\n  if (!style) return '';\r\n\r\n  return Object.entries(style)\r\n    .map(([key, value]) => {\r\n      const cssKey = key.replace(/[A-Z]/g, (letter) => `-${letter.toLowerCase()}`);\r\n      return `${cssKey}: ${value}${typeof value === 'number' ? 'px' : ''};`;\r\n    })\r\n    .join(' ');\r\n}\r\n\r\nfunction attributesToString(attrs?: ElementAttributes): string {\r\n  if (!attrs) return '';\r\n\r\n  return Object.entries(attrs)\r\n    .map(([key, value]) => {\r\n      if (key === 'style') {\r\n        const styleString = styleObjectToString(value as StyleAttribute);\r\n        return `style=\"${styleString}\"`;\r\n      }\r\n\r\n      return `${key}=\"${value}\"`;\r\n    })\r\n    .join(' ');\r\n}\r\n\r\nfunction deepMerge(target: any, source: any): any {\r\n  if (Array.isArray(target) && Array.isArray(source)) {\r\n    return target.concat(source);\r\n  }\r\n\r\n  if (typeof target === 'object' && typeof source === 'object') {\r\n    return Object.keys({ ...target, ...source }).reduce((acc, key) => {\r\n      acc[key] = deepMerge(target[key], source[key]);\r\n      return acc;\r\n    }, {});\r\n  }\r\n\r\n  return source;\r\n}\r\n","import { insertBlock } from './blocks/insertBlock';\r\nimport { deleteBlock } from './blocks/deleteBlock';\r\nimport { moveBlock } from './blocks/moveBlock';\r\nimport { focusBlock } from './blocks/focusBlock';\r\nimport { splitBlock } from './blocks/splitBlock';\r\nimport { setPath } from './paths/setPath';\r\nimport { YooEditor, YooptaContentValue } from './types';\r\nimport { increaseBlockDepth } from './blocks/increaseBlockDepth';\r\nimport { decreaseBlockDepth } from './blocks/decreaseBlockDepth';\r\nimport { getEditorValue } from './core/getEditorValue';\r\nimport { setEditorValue } from './core/setEditorValue';\r\nimport { duplicateBlock } from './blocks/duplicateBlock';\r\nimport { updateBlock } from './blocks/updateBlock';\r\nimport { toggleBlock } from './blocks/toggleBlock';\r\nimport { blur } from './core/blur';\r\nimport { focus } from './core/focus';\r\nimport { isFocused } from './core/isFocused';\r\nimport { getBlock } from './blocks/getBlock';\r\nimport { getHTML } from '../parsers/getHTML';\r\nimport { getMarkdown } from '../parsers/getMarkdown';\r\nimport { getPlainText } from '../parsers/getPlainText';\r\nimport { isEmpty } from './core/isEmpty';\r\nimport { applyTransforms } from './core/applyTransforms';\r\nimport { batchOperations } from './core/batchOperations';\r\nimport { mergeBlock } from './blocks/mergeBlock';\r\nimport { UndoRedoOptions, YooptaHistory } from './core/history';\r\nimport EventEmitter from 'eventemitter3';\r\nimport { getEmail, EmailTemplateOptions } from '../parsers/getEmail';\r\n\r\nconst eventEmitter = new EventEmitter();\r\n\r\nconst Events = {\r\n  on: (event, fn) => eventEmitter.on(event, fn),\r\n  once: (event, fn) => eventEmitter.once(event, fn),\r\n  off: (event, fn) => eventEmitter.off(event, fn),\r\n  emit: (event, payload) => eventEmitter.emit(event, payload),\r\n};\r\n\r\nexport function createYooptaEditor(): YooEditor {\r\n  const editor: YooEditor = {\r\n    id: '',\r\n    children: {},\r\n    blockEditorsMap: {},\r\n    path: { current: null },\r\n    readOnly: false,\r\n    isEmpty: () => isEmpty(editor),\r\n    getEditorValue: () => getEditorValue(editor),\r\n    setEditorValue: (...args) => setEditorValue(editor, ...args),\r\n    insertBlock: (...args) => insertBlock(editor, ...args),\r\n    deleteBlock: (...args) => deleteBlock(editor, ...args),\r\n    duplicateBlock: (...args) => duplicateBlock(editor, ...args),\r\n    toggleBlock: (...args) => toggleBlock(editor, ...args),\r\n    increaseBlockDepth: (...args) => increaseBlockDepth(editor, ...args),\r\n    decreaseBlockDepth: (...args) => decreaseBlockDepth(editor, ...args),\r\n    moveBlock: (...args) => moveBlock(editor, ...args),\r\n    focusBlock: (...args) => focusBlock(editor, ...args),\r\n    getBlock: (...args) => getBlock(editor, ...args),\r\n    updateBlock: (...args) => updateBlock(editor, ...args),\r\n    splitBlock: (...args) => splitBlock(editor, ...args),\r\n    mergeBlock: (...args) => mergeBlock(editor, ...args),\r\n    setPath: (...args) => setPath(editor, ...args),\r\n    blocks: {},\r\n    formats: {},\r\n    shortcuts: {},\r\n    plugins: {},\r\n    commands: {},\r\n\r\n    applyTransforms: (operations, ...args) => applyTransforms(editor, operations, ...args),\r\n    batchOperations: (callback) => batchOperations(editor, callback),\r\n\r\n    on: (event, callback) => Events.on(event, callback),\r\n    off: (event, callback) => Events.off(event, callback),\r\n    emit: (event, ...args) => Events.emit(event, ...args),\r\n    once: (event, callback) => Events.once(event, callback),\r\n\r\n    isFocused: () => isFocused(editor),\r\n    focus: () => focus(editor),\r\n    blur: (...args) => blur(editor, ...args),\r\n\r\n    getHTML: (content: YooptaContentValue) => getHTML(editor, content),\r\n    getMarkdown: (content: YooptaContentValue) => getMarkdown(editor, content),\r\n    getPlainText: (content: YooptaContentValue) => getPlainText(editor, content),\r\n    getEmail: (content: YooptaContentValue, options?: Partial<EmailTemplateOptions>) =>\r\n      getEmail(editor, content, options),\r\n\r\n    refElement: null,\r\n\r\n    historyStack: {\r\n      undos: [],\r\n      redos: [],\r\n    },\r\n\r\n    redo: (options?: UndoRedoOptions) => YooptaHistory.redo(editor, options),\r\n    undo: (options?: UndoRedoOptions) => YooptaHistory.undo(editor, options),\r\n    isSavingHistory: () => YooptaHistory.isSavingHistory(editor),\r\n    isMergingHistory: () => YooptaHistory.isMergingHistory(editor),\r\n    withoutSavingHistory: (fn) => YooptaHistory.withoutSavingHistory(editor, fn),\r\n    withSavingHistory: (fn) => YooptaHistory.withSavingHistory(editor, fn),\r\n    withoutMergingHistory: (fn) => YooptaHistory.withoutMergingHistory(editor, fn),\r\n    withMergingHistory: (fn) => YooptaHistory.withMergingHistory(editor, fn),\r\n  };\r\n\r\n  return editor;\r\n}\r\n\r\nexport const EDITOR_TO_ON_CHANGE = new WeakMap();\r\n","import { createContext, useContext, useRef } from 'react';\r\nimport { createYooptaEditor } from '../../editor';\r\nimport { YooEditor, YooptaPathIndex } from '../../editor/types';\r\nimport { PluginOptions } from '../../plugins/types';\r\nimport { Blocks } from '../../editor/blocks';\r\n\r\nexport type YooptaEditorContext = {\r\n  editor: YooEditor;\r\n};\r\n\r\nconst DEFAULT_HANDLERS: YooptaEditorContext = {\r\n  editor: createYooptaEditor(),\r\n};\r\n\r\nexport const YooptaContext = createContext<YooptaEditorContext>(DEFAULT_HANDLERS);\r\n\r\n/**\r\n *\r\n */\r\nconst YooptaContextProvider = ({ children, editorState }) => {\r\n  const contextValueRef = useRef<YooptaEditorContext>(DEFAULT_HANDLERS);\r\n\r\n  contextValueRef.current = {\r\n    editor: editorState.editor,\r\n  };\r\n\r\n  return <YooptaContext.Provider value={contextValueRef.current}>{children}</YooptaContext.Provider>;\r\n};\r\n\r\nconst useYooptaEditor = (): YooEditor => {\r\n  const context = useContext(YooptaContext);\r\n\r\n  if (!context) {\r\n    throw new Error('useYooptaEditor must be used within a YooptaEditorContext');\r\n  }\r\n\r\n  return context.editor;\r\n};\r\n\r\nconst useBlockData = (blockId: string) => useYooptaEditor().children[blockId];\r\nconst useYooptaFocused = () => useYooptaEditor().isFocused();\r\nconst useYooptaReadOnly = () => useYooptaEditor().readOnly;\r\nconst useYooptaPluginOptions = <TOptions,>(pluginType: string): PluginOptions<TOptions> =>\r\n  useYooptaEditor().plugins[pluginType]?.options as PluginOptions<TOptions>;\r\n\r\ntype UseBlockSelectedProps = { blockId: string; at?: YooptaPathIndex } | { at: YooptaPathIndex; blockId?: string };\r\n\r\nconst useBlockSelected = ({ blockId, at }: UseBlockSelectedProps) => {\r\n  const editor = useYooptaEditor();\r\n\r\n  if (!blockId && typeof at !== 'number') {\r\n    throw new Error('useBlockSelected must receive either blockId or at');\r\n  }\r\n\r\n  let block;\r\n\r\n  if (blockId) {\r\n    block = editor.children[blockId];\r\n  }\r\n\r\n  if (at) {\r\n    block = Blocks.getBlock(editor, { at: at });\r\n  }\r\n\r\n  return editor.path.current === block?.meta.order;\r\n};\r\n\r\nexport {\r\n  useYooptaEditor,\r\n  useBlockData,\r\n  useYooptaPluginOptions,\r\n  useBlockSelected,\r\n  useYooptaReadOnly,\r\n  useYooptaFocused,\r\n  YooptaContextProvider,\r\n};\r\n","import {useMemo} from 'react';\n\nexport function useCombinedRefs<T>(\n  ...refs: ((node: T) => void)[]\n): (node: T) => void {\n  return useMemo(\n    () => (node: T) => {\n      refs.forEach((ref) => ref(node));\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    refs\n  );\n}\n","// https://github.com/facebook/react/blob/master/packages/shared/ExecutionEnvironment.js\nexport const canUseDOM =\n  typeof window !== 'undefined' &&\n  typeof window.document !== 'undefined' &&\n  typeof window.document.createElement !== 'undefined';\n","export function isWindow(element: Object): element is typeof window {\n  const elementString = Object.prototype.toString.call(element);\n  return (\n    elementString === '[object Window]' ||\n    // In Electron context the Window object serializes to [object global]\n    elementString === '[object global]'\n  );\n}\n","export function isNode(node: Object): node is Node {\n  return 'nodeType' in node;\n}\n","import {isWindow} from '../type-guards/isWindow';\nimport {isNode} from '../type-guards/isNode';\n\nexport function getWindow(target: Event['target']): typeof window {\n  if (!target) {\n    return window;\n  }\n\n  if (isWindow(target)) {\n    return target;\n  }\n\n  if (!isNode(target)) {\n    return window;\n  }\n\n  return target.ownerDocument?.defaultView ?? window;\n}\n","import {getWindow} from '../execution-context/getWindow';\n\nexport function isDocument(node: Node): node is Document {\n  const {Document} = getWindow(node);\n\n  return node instanceof Document;\n}\n","import {getWindow} from '../execution-context/getWindow';\n\nimport {isWindow} from './isWindow';\n\nexport function isHTMLElement(node: Node | Window): node is HTMLElement {\n  if (isWindow(node)) {\n    return false;\n  }\n\n  return node instanceof getWindow(node).HTMLElement;\n}\n","import {getWindow} from '../execution-context/getWindow';\n\nexport function isSVGElement(node: Node): node is SVGElement {\n  return node instanceof getWindow(node).SVGElement;\n}\n","import {\n  isWindow,\n  isHTMLElement,\n  isDocument,\n  isNode,\n  isSVGElement,\n} from '../type-guards';\n\nexport function getOwnerDocument(target: Event['target']): Document {\n  if (!target) {\n    return document;\n  }\n\n  if (isWindow(target)) {\n    return target.document;\n  }\n\n  if (!isNode(target)) {\n    return document;\n  }\n\n  if (isDocument(target)) {\n    return target;\n  }\n\n  if (isHTMLElement(target) || isSVGElement(target)) {\n    return target.ownerDocument;\n  }\n\n  return document;\n}\n","import {useEffect, useLayoutEffect} from 'react';\n\nimport {canUseDOM} from '../execution-context';\n\n/**\n * A hook that resolves to useEffect on the server and useLayoutEffect on the client\n * @param callback {function} Callback function that is invoked when the dependencies of the hook change\n */\nexport const useIsomorphicLayoutEffect = canUseDOM\n  ? useLayoutEffect\n  : useEffect;\n","import {useCallback, useRef} from 'react';\n\nimport {useIsomorphicLayoutEffect} from './useIsomorphicLayoutEffect';\n\nexport function useEvent<T extends Function>(handler: T | undefined) {\n  const handlerRef = useRef<T | undefined>(handler);\n\n  useIsomorphicLayoutEffect(() => {\n    handlerRef.current = handler;\n  });\n\n  return useCallback(function (...args: any) {\n    return handlerRef.current?.(...args);\n  }, []);\n}\n","import {useCallback, useRef} from 'react';\n\nexport function useInterval() {\n  const intervalRef = useRef<number | null>(null);\n\n  const set = useCallback((listener: Function, duration: number) => {\n    intervalRef.current = setInterval(listener, duration);\n  }, []);\n\n  const clear = useCallback(() => {\n    if (intervalRef.current !== null) {\n      clearInterval(intervalRef.current);\n      intervalRef.current = null;\n    }\n  }, []);\n\n  return [set, clear] as const;\n}\n","import {useRef} from 'react';\nimport type {DependencyList} from 'react';\n\nimport {useIsomorphicLayoutEffect} from './useIsomorphicLayoutEffect';\n\nexport function useLatestValue<T extends any>(\n  value: T,\n  dependencies: DependencyList = [value]\n) {\n  const valueRef = useRef<T>(value);\n\n  useIsomorphicLayoutEffect(() => {\n    if (valueRef.current !== value) {\n      valueRef.current = value;\n    }\n  }, dependencies);\n\n  return valueRef;\n}\n","import {useMemo, useRef} from 'react';\n\nexport function useLazyMemo<T>(\n  callback: (prevValue: T | undefined) => T,\n  dependencies: any[]\n) {\n  const valueRef = useRef<T>();\n\n  return useMemo(\n    () => {\n      const newValue = callback(valueRef.current);\n      valueRef.current = newValue;\n\n      return newValue;\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [...dependencies]\n  );\n}\n","import {useRef, useCallback} from 'react';\n\nimport {useEvent} from './useEvent';\n\nexport function useNodeRef(\n  onChange?: (\n    newElement: HTMLElement | null,\n    previousElement: HTMLElement | null\n  ) => void\n) {\n  const onChangeHandler = useEvent(onChange);\n  const node = useRef<HTMLElement | null>(null);\n  const setNodeRef = useCallback(\n    (element: HTMLElement | null) => {\n      if (element !== node.current) {\n        onChangeHandler?.(element, node.current);\n      }\n\n      node.current = element;\n    },\n    //eslint-disable-next-line\n    []\n  );\n\n  return [node, setNodeRef] as const;\n}\n","import {useRef, useEffect} from 'react';\n\nexport function usePrevious<T>(value: T) {\n  const ref = useRef<T>();\n\n  useEffect(() => {\n    ref.current = value;\n  }, [value]);\n\n  return ref.current;\n}\n","import {useMemo} from 'react';\n\nlet ids: Record<string, number> = {};\n\nexport function useUniqueId(prefix: string, value?: string) {\n  return useMemo(() => {\n    if (value) {\n      return value;\n    }\n\n    const id = ids[prefix] == null ? 0 : ids[prefix] + 1;\n    ids[prefix] = id;\n\n    return `${prefix}-${id}`;\n  }, [prefix, value]);\n}\n","function createAdjustmentFn(modifier: number) {\n  return <T extends Record<U, number>, U extends string>(\n    object: T,\n    ...adjustments: Partial<T>[]\n  ): T => {\n    return adjustments.reduce<T>(\n      (accumulator, adjustment) => {\n        const entries = Object.entries(adjustment) as [U, number][];\n\n        for (const [key, valueAdjustment] of entries) {\n          const value = accumulator[key];\n\n          if (value != null) {\n            accumulator[key] = (value + modifier * valueAdjustment) as T[U];\n          }\n        }\n\n        return accumulator;\n      },\n      {\n        ...object,\n      }\n    );\n  };\n}\n\nexport const add = createAdjustmentFn(1);\nexport const subtract = createAdjustmentFn(-1);\n","export function hasViewportRelativeCoordinates(\n  event: Event\n): event is Event & Pick<PointerEvent, 'clientX' | 'clientY'> {\n  return 'clientX' in event && 'clientY' in event;\n}\n","import {getWindow} from '../execution-context';\n\nexport function isKeyboardEvent(\n  event: Event | undefined | null\n): event is KeyboardEvent {\n  if (!event) {\n    return false;\n  }\n\n  const {KeyboardEvent} = getWindow(event.target);\n\n  return KeyboardEvent && event instanceof KeyboardEvent;\n}\n","import {getWindow} from '../execution-context';\n\nexport function isTouchEvent(\n  event: Event | undefined | null\n): event is TouchEvent {\n  if (!event) {\n    return false;\n  }\n\n  const {TouchEvent} = getWindow(event.target);\n\n  return TouchEvent && event instanceof TouchEvent;\n}\n","import type {Coordinates} from './types';\nimport {isTouchEvent, hasViewportRelativeCoordinates} from '../event';\n\n/**\n * Returns the normalized x and y coordinates for mouse and touch events.\n */\nexport function getEventCoordinates(event: Event): Coordinates | null {\n  if (isTouchEvent(event)) {\n    if (event.touches && event.touches.length) {\n      const {clientX: x, clientY: y} = event.touches[0];\n\n      return {\n        x,\n        y,\n      };\n    } else if (event.changedTouches && event.changedTouches.length) {\n      const {clientX: x, clientY: y} = event.changedTouches[0];\n\n      return {\n        x,\n        y,\n      };\n    }\n  }\n\n  if (hasViewportRelativeCoordinates(event)) {\n    return {\n      x: event.clientX,\n      y: event.clientY,\n    };\n  }\n\n  return null;\n}\n","export type Transform = {\n  x: number;\n  y: number;\n  scaleX: number;\n  scaleY: number;\n};\n\nexport interface Transition {\n  property: string;\n  easing: string;\n  duration: number;\n}\n\nexport const CSS = Object.freeze({\n  Translate: {\n    toString(transform: Transform | null) {\n      if (!transform) {\n        return;\n      }\n\n      const {x, y} = transform;\n\n      return `translate3d(${x ? Math.round(x) : 0}px, ${\n        y ? Math.round(y) : 0\n      }px, 0)`;\n    },\n  },\n  Scale: {\n    toString(transform: Transform | null) {\n      if (!transform) {\n        return;\n      }\n\n      const {scaleX, scaleY} = transform;\n\n      return `scaleX(${scaleX}) scaleY(${scaleY})`;\n    },\n  },\n  Transform: {\n    toString(transform: Transform | null) {\n      if (!transform) {\n        return;\n      }\n\n      return [\n        CSS.Translate.toString(transform),\n        CSS.Scale.toString(transform),\n      ].join(' ');\n    },\n  },\n  Transition: {\n    toString({property, duration, easing}: Transition) {\n      return `${property} ${duration}ms ${easing}`;\n    },\n  },\n});\n","const SELECTOR =\n  'a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]';\n\nexport function findFirstFocusableNode(\n  element: HTMLElement\n): HTMLElement | null {\n  if (element.matches(SELECTOR)) {\n    return element;\n  }\n\n  return element.querySelector(SELECTOR);\n}\n","import React from 'react';\n\ninterface Props {\n  id: string;\n  value: string;\n}\n\nconst hiddenStyles: React.CSSProperties = {\n  display: 'none',\n};\n\nexport function HiddenText({id, value}: Props) {\n  return (\n    <div id={id} style={hiddenStyles}>\n      {value}\n    </div>\n  );\n}\n","import React from 'react';\n\nexport interface Props {\n  id: string;\n  announcement: string;\n  ariaLiveType?: \"polite\" | \"assertive\" | \"off\";\n}\n\nexport function LiveRegion({id, announcement, ariaLiveType = \"assertive\"}: Props) {\n  // Hide element visually but keep it readable by screen readers\n  const visuallyHidden: React.CSSProperties = {\n    position: 'fixed',\n    width: 1,\n    height: 1,\n    margin: -1,\n    border: 0,\n    padding: 0,\n    overflow: 'hidden',\n    clip: 'rect(0 0 0 0)',\n    clipPath: 'inset(100%)',\n    whiteSpace: 'nowrap',\n  };\n  \n  return (\n    <div\n      id={id}\n      style={visuallyHidden}\n      role=\"status\"\n      aria-live={ariaLiveType}\n      aria-atomic\n    >\n      {announcement}\n    </div>\n  );\n}\n","import {useCallback, useState} from 'react';\n\nexport function useAnnouncement() {\n  const [announcement, setAnnouncement] = useState('');\n  const announce = useCallback((value: string | undefined) => {\n    if (value != null) {\n      setAnnouncement(value);\n    }\n  }, []);\n\n  return {announce, announcement} as const;\n}\n","import {createContext} from 'react';\n\nimport type {RegisterListener} from './types';\n\nexport const DndMonitorContext = createContext<RegisterListener | null>(null);\n","import {useContext, useEffect} from 'react';\n\nimport {DndMonitorContext} from './context';\nimport type {DndMonitorListener} from './types';\n\nexport function useDndMonitor(listener: DndMonitorListener) {\n  const registerListener = useContext(DndMonitorContext);\n\n  useEffect(() => {\n    if (!registerListener) {\n      throw new Error(\n        'useDndMonitor must be used within a children of <DndContext>'\n      );\n    }\n\n    const unsubscribe = registerListener(listener);\n\n    return unsubscribe;\n  }, [listener, registerListener]);\n}\n","import {useCallback, useState} from 'react';\n\nimport type {DndMonitorListener, DndMonitorEvent} from './types';\n\nexport function useDndMonitorProvider() {\n  const [listeners] = useState(() => new Set<DndMonitorListener>());\n\n  const registerListener = useCallback(\n    (listener) => {\n      listeners.add(listener);\n      return () => listeners.delete(listener);\n    },\n    [listeners]\n  );\n\n  const dispatch = useCallback(\n    ({type, event}: DndMonitorEvent) => {\n      listeners.forEach((listener) => listener[type]?.(event as any));\n    },\n    [listeners]\n  );\n\n  return [dispatch, registerListener] as const;\n}\n","import type {Announcements, ScreenReaderInstructions} from './types';\n\nexport const defaultScreenReaderInstructions: ScreenReaderInstructions = {\n  draggable: `\n    To pick up a draggable item, press the space bar.\n    While dragging, use the arrow keys to move the item.\n    Press space again to drop the item in its new position, or press escape to cancel.\n  `,\n};\n\nexport const defaultAnnouncements: Announcements = {\n  onDragStart({active}) {\n    return `Picked up draggable item ${active.id}.`;\n  },\n  onDragOver({active, over}) {\n    if (over) {\n      return `Draggable item ${active.id} was moved over droppable area ${over.id}.`;\n    }\n\n    return `Draggable item ${active.id} is no longer over a droppable area.`;\n  },\n  onDragEnd({active, over}) {\n    if (over) {\n      return `Draggable item ${active.id} was dropped over droppable area ${over.id}`;\n    }\n\n    return `Draggable item ${active.id} was dropped.`;\n  },\n  onDragCancel({active}) {\n    return `Dragging was cancelled. Draggable item ${active.id} was dropped.`;\n  },\n};\n","import React, {useEffect, useMemo, useState} from 'react';\nimport {createPortal} from 'react-dom';\nimport {useUniqueId} from '@dnd-kit/utilities';\nimport {HiddenText, LiveRegion, useAnnouncement} from '@dnd-kit/accessibility';\n\nimport {DndMonitorListener, useDndMonitor} from '../DndMonitor';\n\nimport type {Announcements, ScreenReaderInstructions} from './types';\nimport {\n  defaultAnnouncements,\n  defaultScreenReaderInstructions,\n} from './defaults';\n\ninterface Props {\n  announcements?: Announcements;\n  container?: Element;\n  screenReaderInstructions?: ScreenReaderInstructions;\n  hiddenTextDescribedById: string;\n}\n\nexport function Accessibility({\n  announcements = defaultAnnouncements,\n  container,\n  hiddenTextDescribedById,\n  screenReaderInstructions = defaultScreenReaderInstructions,\n}: Props) {\n  const {announce, announcement} = useAnnouncement();\n  const liveRegionId = useUniqueId(`DndLiveRegion`);\n  const [mounted, setMounted] = useState(false);\n\n  useEffect(() => {\n    setMounted(true);\n  }, []);\n\n  useDndMonitor(\n    useMemo<DndMonitorListener>(\n      () => ({\n        onDragStart({active}) {\n          announce(announcements.onDragStart({active}));\n        },\n        onDragMove({active, over}) {\n          if (announcements.onDragMove) {\n            announce(announcements.onDragMove({active, over}));\n          }\n        },\n        onDragOver({active, over}) {\n          announce(announcements.onDragOver({active, over}));\n        },\n        onDragEnd({active, over}) {\n          announce(announcements.onDragEnd({active, over}));\n        },\n        onDragCancel({active, over}) {\n          announce(announcements.onDragCancel({active, over}));\n        },\n      }),\n      [announce, announcements]\n    )\n  );\n\n  if (!mounted) {\n    return null;\n  }\n\n  const markup = (\n    <>\n      <HiddenText\n        id={hiddenTextDescribedById}\n        value={screenReaderInstructions.draggable}\n      />\n      <LiveRegion id={liveRegionId} announcement={announcement} />\n    </>\n  );\n\n  return container ? createPortal(markup, container) : markup;\n}\n","import type {Coordinates, UniqueIdentifier} from '../types';\nimport type {DroppableContainer} from './types';\n\nexport enum Action {\n  DragStart = 'dragStart',\n  DragMove = 'dragMove',\n  DragEnd = 'dragEnd',\n  DragCancel = 'dragCancel',\n  DragOver = 'dragOver',\n  RegisterDroppable = 'registerDroppable',\n  SetDroppableDisabled = 'setDroppableDisabled',\n  UnregisterDroppable = 'unregisterDroppable',\n}\n\nexport type Actions =\n  | {\n      type: Action.DragStart;\n      active: UniqueIdentifier;\n      initialCoordinates: Coordinates;\n    }\n  | {type: Action.DragMove; coordinates: Coordinates}\n  | {type: Action.DragEnd}\n  | {type: Action.DragCancel}\n  | {\n      type: Action.RegisterDroppable;\n      element: DroppableContainer;\n    }\n  | {\n      type: Action.SetDroppableDisabled;\n      id: UniqueIdentifier;\n      key: UniqueIdentifier;\n      disabled: boolean;\n    }\n  | {\n      type: Action.UnregisterDroppable;\n      id: UniqueIdentifier;\n      key: UniqueIdentifier;\n    };\n","export function noop(..._args: any) {}\n","import {useMemo} from 'react';\n\nimport type {Sensor, SensorDescriptor, SensorOptions} from './types';\n\nexport function useSensor<T extends SensorOptions>(\n  sensor: Sensor<T>,\n  options?: T\n): SensorDescriptor<T> {\n  return useMemo(\n    () => ({\n      sensor,\n      options: options ?? ({} as T),\n    }),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [sensor, options]\n  );\n}\n","import {useMemo} from 'react';\n\nimport type {SensorDescriptor, SensorOptions} from './types';\n\nexport function useSensors(\n  ...sensors: (SensorDescriptor<any> | undefined | null)[]\n): SensorDescriptor<SensorOptions>[] {\n  return useMemo(\n    () =>\n      [...sensors].filter(\n        (sensor): sensor is SensorDescriptor<any> => sensor != null\n      ),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [...sensors]\n  );\n}\n","import type {Coordinates} from '../../types';\n\nexport const defaultCoordinates: Coordinates = Object.freeze({\n  x: 0,\n  y: 0,\n});\n","import type {Coordinates} from '../../types';\n\n/**\n * Returns the distance between two points\n */\nexport function distanceBetween(p1: Coordinates, p2: Coordinates) {\n  return Math.sqrt(Math.pow(p1.x - p2.x, 2) + Math.pow(p1.y - p2.y, 2));\n}\n","/* eslint-disable no-redeclare */\nimport type {ClientRect} from '../../types';\n\nimport type {Collision, CollisionDescriptor} from './types';\n\n/**\n * Sort collisions from smallest to greatest value\n */\nexport function sortCollisionsAsc(\n  {data: {value: a}}: CollisionDescriptor,\n  {data: {value: b}}: CollisionDescriptor\n) {\n  return a - b;\n}\n\n/**\n * Sort collisions from greatest to smallest value\n */\nexport function sortCollisionsDesc(\n  {data: {value: a}}: CollisionDescriptor,\n  {data: {value: b}}: CollisionDescriptor\n) {\n  return b - a;\n}\n\n/**\n * Returns the coordinates of the corners of a given rectangle:\n * [TopLeft {x, y}, TopRight {x, y}, BottomLeft {x, y}, BottomRight {x, y}]\n */\nexport function cornersOfRectangle({left, top, height, width}: ClientRect) {\n  return [\n    {\n      x: left,\n      y: top,\n    },\n    {\n      x: left + width,\n      y: top,\n    },\n    {\n      x: left,\n      y: top + height,\n    },\n    {\n      x: left + width,\n      y: top + height,\n    },\n  ];\n}\n\n/**\n * Returns the first collision, or null if there isn't one.\n * If a property is specified, returns the specified property of the first collision.\n */\nexport function getFirstCollision(\n  collisions: Collision[] | null | undefined\n): Collision | null;\nexport function getFirstCollision<T extends keyof Collision>(\n  collisions: Collision[] | null | undefined,\n  property: T\n): Collision[T] | null;\nexport function getFirstCollision(\n  collisions: Collision[] | null | undefined,\n  property?: keyof Collision\n) {\n  if (!collisions || collisions.length === 0) {\n    return null;\n  }\n\n  const [firstCollision] = collisions;\n\n  return property ? firstCollision[property] : firstCollision;\n}\n","import {distanceBetween} from '../coordinates';\nimport type {Coordinates, ClientRect} from '../../types';\n\nimport type {CollisionDescriptor, CollisionDetection} from './types';\nimport {sortCollisionsAsc} from './helpers';\n\n/**\n * Returns the coordinates of the center of a given ClientRect\n */\nfunction centerOfRectangle(\n  rect: ClientRect,\n  left = rect.left,\n  top = rect.top\n): Coordinates {\n  return {\n    x: left + rect.width * 0.5,\n    y: top + rect.height * 0.5,\n  };\n}\n\n/**\n * Returns the closest rectangles from an array of rectangles to the center of a given\n * rectangle.\n */\nexport const closestCenter: CollisionDetection = ({\n  collisionRect,\n  droppableRects,\n  droppableContainers,\n}) => {\n  const centerRect = centerOfRectangle(\n    collisionRect,\n    collisionRect.left,\n    collisionRect.top\n  );\n  const collisions: CollisionDescriptor[] = [];\n\n  for (const droppableContainer of droppableContainers) {\n    const {id} = droppableContainer;\n    const rect = droppableRects.get(id);\n\n    if (rect) {\n      const distBetween = distanceBetween(centerOfRectangle(rect), centerRect);\n\n      collisions.push({id, data: {droppableContainer, value: distBetween}});\n    }\n  }\n\n  return collisions.sort(sortCollisionsAsc);\n};\n","import {distanceBetween} from '../coordinates';\n\nimport type {CollisionDescriptor, CollisionDetection} from './types';\nimport {cornersOfRectangle, sortCollisionsAsc} from './helpers';\n\n/**\n * Returns the closest rectangles from an array of rectangles to the corners of\n * another rectangle.\n */\nexport const closestCorners: CollisionDetection = ({\n  collisionRect,\n  droppableRects,\n  droppableContainers,\n}) => {\n  const corners = cornersOfRectangle(collisionRect);\n  const collisions: CollisionDescriptor[] = [];\n\n  for (const droppableContainer of droppableContainers) {\n    const {id} = droppableContainer;\n    const rect = droppableRects.get(id);\n\n    if (rect) {\n      const rectCorners = cornersOfRectangle(rect);\n      const distances = corners.reduce((accumulator, corner, index) => {\n        return accumulator + distanceBetween(rectCorners[index], corner);\n      }, 0);\n      const effectiveDistance = Number((distances / 4).toFixed(4));\n\n      collisions.push({\n        id,\n        data: {droppableContainer, value: effectiveDistance},\n      });\n    }\n  }\n\n  return collisions.sort(sortCollisionsAsc);\n};\n","import type {ClientRect} from '../../types';\n\nimport type {CollisionDescriptor, CollisionDetection} from './types';\nimport {sortCollisionsDesc} from './helpers';\n\n/**\n * Returns the intersecting rectangle area between two rectangles\n */\nexport function getIntersectionRatio(\n  entry: ClientRect,\n  target: ClientRect\n): number {\n  const top = Math.max(target.top, entry.top);\n  const left = Math.max(target.left, entry.left);\n  const right = Math.min(target.left + target.width, entry.left + entry.width);\n  const bottom = Math.min(target.top + target.height, entry.top + entry.height);\n  const width = right - left;\n  const height = bottom - top;\n\n  if (left < right && top < bottom) {\n    const targetArea = target.width * target.height;\n    const entryArea = entry.width * entry.height;\n    const intersectionArea = width * height;\n    const intersectionRatio =\n      intersectionArea / (targetArea + entryArea - intersectionArea);\n\n    return Number(intersectionRatio.toFixed(4));\n  }\n\n  // Rectangles do not overlap, or overlap has an area of zero (edge/corner overlap)\n  return 0;\n}\n\n/**\n * Returns the rectangles that has the greatest intersection area with a given\n * rectangle in an array of rectangles.\n */\nexport const rectIntersection: CollisionDetection = ({\n  collisionRect,\n  droppableRects,\n  droppableContainers,\n}) => {\n  const collisions: CollisionDescriptor[] = [];\n\n  for (const droppableContainer of droppableContainers) {\n    const {id} = droppableContainer;\n    const rect = droppableRects.get(id);\n\n    if (rect) {\n      const intersectionRatio = getIntersectionRatio(rect, collisionRect);\n\n      if (intersectionRatio > 0) {\n        collisions.push({\n          id,\n          data: {droppableContainer, value: intersectionRatio},\n        });\n      }\n    }\n  }\n\n  return collisions.sort(sortCollisionsDesc);\n};\n","import type {Transform} from '@dnd-kit/utilities';\nimport type {ClientRect} from '../../types';\n\nexport function adjustScale(\n  transform: Transform,\n  rect1: ClientRect | null,\n  rect2: ClientRect | null\n): Transform {\n  return {\n    ...transform,\n    scaleX: rect1 && rect2 ? rect1.width / rect2.width : 1,\n    scaleY: rect1 && rect2 ? rect1.height / rect2.height : 1,\n  };\n}\n","import type {Coordinates, ClientRect} from '../../types';\nimport {defaultCoordinates} from '../coordinates';\n\nexport function getRectDelta(\n  rect1: ClientRect | null,\n  rect2: ClientRect | null\n): Coordinates {\n  return rect1 && rect2\n    ? {\n        x: rect1.left - rect2.left,\n        y: rect1.top - rect2.top,\n      }\n    : defaultCoordinates;\n}\n","import type {Coordinates, ClientRect} from '../../types';\n\nexport function createRectAdjustmentFn(modifier: number) {\n  return function adjustClientRect(\n    rect: ClientRect,\n    ...adjustments: Coordinates[]\n  ): ClientRect {\n    return adjustments.reduce<ClientRect>(\n      (acc, adjustment) => ({\n        ...acc,\n        top: acc.top + modifier * adjustment.y,\n        bottom: acc.bottom + modifier * adjustment.y,\n        left: acc.left + modifier * adjustment.x,\n        right: acc.right + modifier * adjustment.x,\n      }),\n      {...rect}\n    );\n  };\n}\n\nexport const getAdjustedRect = createRectAdjustmentFn(1);\n","import type {Transform} from '@dnd-kit/utilities';\n\nexport function parseTransform(transform: string): Transform | null {\n  if (transform.startsWith('matrix3d(')) {\n    const transformArray = transform.slice(9, -1).split(/, /);\n\n    return {\n      x: +transformArray[12],\n      y: +transformArray[13],\n      scaleX: +transformArray[0],\n      scaleY: +transformArray[5],\n    };\n  } else if (transform.startsWith('matrix(')) {\n    const transformArray = transform.slice(7, -1).split(/, /);\n\n    return {\n      x: +transformArray[4],\n      y: +transformArray[5],\n      scaleX: +transformArray[0],\n      scaleY: +transformArray[3],\n    };\n  }\n\n  return null;\n}\n","import type {ClientRect} from '../../types';\n\nimport {parseTransform} from './parseTransform';\n\nexport function inverseTransform(\n  rect: ClientRect,\n  transform: string,\n  transformOrigin: string\n): ClientRect {\n  const parsedTransform = parseTransform(transform);\n\n  if (!parsedTransform) {\n    return rect;\n  }\n\n  const {scaleX, scaleY, x: translateX, y: translateY} = parsedTransform;\n\n  const x = rect.left - translateX - (1 - scaleX) * parseFloat(transformOrigin);\n  const y =\n    rect.top -\n    translateY -\n    (1 - scaleY) *\n      parseFloat(transformOrigin.slice(transformOrigin.indexOf(' ') + 1));\n  const w = scaleX ? rect.width / scaleX : rect.width;\n  const h = scaleY ? rect.height / scaleY : rect.height;\n\n  return {\n    width: w,\n    height: h,\n    top: y,\n    right: x + w,\n    bottom: y + h,\n    left: x,\n  };\n}\n","import {getWindow} from '@dnd-kit/utilities';\n\nimport type {ClientRect} from '../../types';\nimport {inverseTransform} from '../transform';\n\ninterface Options {\n  ignoreTransform?: boolean;\n}\n\nconst defaultOptions: Options = {ignoreTransform: false};\n\n/**\n * Returns the bounding client rect of an element relative to the viewport.\n */\nexport function getClientRect(\n  element: Element,\n  options: Options = defaultOptions\n) {\n  let rect: ClientRect = element.getBoundingClientRect();\n\n  if (options.ignoreTransform) {\n    const {transform, transformOrigin} =\n      getWindow(element).getComputedStyle(element);\n\n    if (transform) {\n      rect = inverseTransform(rect, transform, transformOrigin);\n    }\n  }\n\n  const {top, left, width, height, bottom, right} = rect;\n\n  return {\n    top,\n    left,\n    width,\n    height,\n    bottom,\n    right,\n  };\n}\n\n/**\n * Returns the bounding client rect of an element relative to the viewport.\n *\n * @remarks\n * The ClientRect returned by this method does not take into account transforms\n * applied to the element it measures.\n *\n */\nexport function getTransformAgnosticClientRect(element: Element): ClientRect {\n  return getClientRect(element, {ignoreTransform: true});\n}\n","import type {ClientRect} from '../../types';\n\nexport function getWindowClientRect(element: typeof window): ClientRect {\n  const width = element.innerWidth;\n  const height = element.innerHeight;\n\n  return {\n    top: 0,\n    left: 0,\n    right: width,\n    bottom: height,\n    width,\n    height,\n  };\n}\n","import {getWindow} from '@dnd-kit/utilities';\n\nexport function isFixed(\n  node: HTMLElement,\n  computedStyle: CSSStyleDeclaration = getWindow(node).getComputedStyle(node)\n): boolean {\n  return computedStyle.position === 'fixed';\n}\n","import {getWindow} from '@dnd-kit/utilities';\n\nexport function isScrollable(\n  element: HTMLElement,\n  computedStyle: CSSStyleDeclaration = getWindow(element).getComputedStyle(\n    element\n  )\n): boolean {\n  const overflowRegex = /(auto|scroll|overlay)/;\n  const properties = ['overflow', 'overflowX', 'overflowY'];\n\n  return properties.some((property) => {\n    const value = computedStyle[property as keyof CSSStyleDeclaration];\n\n    return typeof value === 'string' ? overflowRegex.test(value) : false;\n  });\n}\n","import {\n  getWindow,\n  isDocument,\n  isHTMLElement,\n  isSVGElement,\n} from '@dnd-kit/utilities';\n\nimport {isFixed} from './isFixed';\nimport {isScrollable} from './isScrollable';\n\nexport function getScrollableAncestors(\n  element: Node | null,\n  limit?: number\n): Element[] {\n  const scrollParents: Element[] = [];\n\n  function findScrollableAncestors(node: Node | null): Element[] {\n    if (limit != null && scrollParents.length >= limit) {\n      return scrollParents;\n    }\n\n    if (!node) {\n      return scrollParents;\n    }\n\n    if (\n      isDocument(node) &&\n      node.scrollingElement != null &&\n      !scrollParents.includes(node.scrollingElement)\n    ) {\n      scrollParents.push(node.scrollingElement);\n\n      return scrollParents;\n    }\n\n    if (!isHTMLElement(node) || isSVGElement(node)) {\n      return scrollParents;\n    }\n\n    if (scrollParents.includes(node)) {\n      return scrollParents;\n    }\n\n    const computedStyle = getWindow(element).getComputedStyle(node);\n\n    if (node !== element) {\n      if (isScrollable(node, computedStyle)) {\n        scrollParents.push(node);\n      }\n    }\n\n    if (isFixed(node, computedStyle)) {\n      return scrollParents;\n    }\n\n    return findScrollableAncestors(node.parentNode);\n  }\n\n  if (!element) {\n    return scrollParents;\n  }\n\n  return findScrollableAncestors(element);\n}\n\nexport function getFirstScrollableAncestor(node: Node | null): Element | null {\n  const [firstScrollableAncestor] = getScrollableAncestors(node, 1);\n\n  return firstScrollableAncestor ?? null;\n}\n","import {\n  canUseDOM,\n  isHTMLElement,\n  isDocument,\n  getOwnerDocument,\n  isNode,\n  isWindow,\n} from '@dnd-kit/utilities';\n\nexport function getScrollableElement(element: EventTarget | null) {\n  if (!canUseDOM || !element) {\n    return null;\n  }\n\n  if (isWindow(element)) {\n    return element;\n  }\n\n  if (!isNode(element)) {\n    return null;\n  }\n\n  if (\n    isDocument(element) ||\n    element === getOwnerDocument(element).scrollingElement\n  ) {\n    return window;\n  }\n\n  if (isHTMLElement(element)) {\n    return element;\n  }\n\n  return null;\n}\n","import {isWindow} from '@dnd-kit/utilities';\n\nimport type {Coordinates} from '../../types';\n\nexport function getScrollXCoordinate(element: Element | typeof window): number {\n  if (isWindow(element)) {\n    return element.scrollX;\n  }\n\n  return element.scrollLeft;\n}\n\nexport function getScrollYCoordinate(element: Element | typeof window): number {\n  if (isWindow(element)) {\n    return element.scrollY;\n  }\n\n  return element.scrollTop;\n}\n\nexport function getScrollCoordinates(\n  element: Element | typeof window\n): Coordinates {\n  return {\n    x: getScrollXCoordinate(element),\n    y: getScrollYCoordinate(element),\n  };\n}\n","export enum Direction {\n  Forward = 1,\n  Backward = -1,\n}\n","import {canUseDOM} from '@dnd-kit/utilities';\n\nexport function isDocumentScrollingElement(element: Element | null) {\n  if (!canUseDOM || !element) {\n    return false;\n  }\n\n  return element === document.scrollingElement;\n}\n","import {isDocumentScrollingElement} from './documentScrollingElement';\n\nexport function getScrollPosition(scrollingContainer: Element) {\n  const minScroll = {\n    x: 0,\n    y: 0,\n  };\n  const dimensions = isDocumentScrollingElement(scrollingContainer)\n    ? {\n        height: window.innerHeight,\n        width: window.innerWidth,\n      }\n    : {\n        height: scrollingContainer.clientHeight,\n        width: scrollingContainer.clientWidth,\n      };\n  const maxScroll = {\n    x: scrollingContainer.scrollWidth - dimensions.width,\n    y: scrollingContainer.scrollHeight - dimensions.height,\n  };\n\n  const isTop = scrollingContainer.scrollTop <= minScroll.y;\n  const isLeft = scrollingContainer.scrollLeft <= minScroll.x;\n  const isBottom = scrollingContainer.scrollTop >= maxScroll.y;\n  const isRight = scrollingContainer.scrollLeft >= maxScroll.x;\n\n  return {\n    isTop,\n    isLeft,\n    isBottom,\n    isRight,\n    maxScroll,\n    minScroll,\n  };\n}\n","import {Direction, ClientRect} from '../../types';\nimport {getScrollPosition} from './getScrollPosition';\n\ninterface PositionalCoordinates\n  extends Pick<ClientRect, 'top' | 'left' | 'right' | 'bottom'> {}\n\nconst defaultThreshold = {\n  x: 0.2,\n  y: 0.2,\n};\n\nexport function getScrollDirectionAndSpeed(\n  scrollContainer: Element,\n  scrollContainerRect: ClientRect,\n  {top, left, right, bottom}: PositionalCoordinates,\n  acceleration = 10,\n  thresholdPercentage = defaultThreshold\n) {\n  const {isTop, isBottom, isLeft, isRight} = getScrollPosition(scrollContainer);\n\n  const direction = {\n    x: 0,\n    y: 0,\n  };\n  const speed = {\n    x: 0,\n    y: 0,\n  };\n  const threshold = {\n    height: scrollContainerRect.height * thresholdPercentage.y,\n    width: scrollContainerRect.width * thresholdPercentage.x,\n  };\n\n  if (!isTop && top <= scrollContainerRect.top + threshold.height) {\n    // Scroll Up\n    direction.y = Direction.Backward;\n    speed.y =\n      acceleration *\n      Math.abs(\n        (scrollContainerRect.top + threshold.height - top) / threshold.height\n      );\n  } else if (\n    !isBottom &&\n    bottom >= scrollContainerRect.bottom - threshold.height\n  ) {\n    // Scroll Down\n    direction.y = Direction.Forward;\n    speed.y =\n      acceleration *\n      Math.abs(\n        (scrollContainerRect.bottom - threshold.height - bottom) /\n          threshold.height\n      );\n  }\n\n  if (!isRight && right >= scrollContainerRect.right - threshold.width) {\n    // Scroll Right\n    direction.x = Direction.Forward;\n    speed.x =\n      acceleration *\n      Math.abs(\n        (scrollContainerRect.right - threshold.width - right) / threshold.width\n      );\n  } else if (!isLeft && left <= scrollContainerRect.left + threshold.width) {\n    // Scroll Left\n    direction.x = Direction.Backward;\n    speed.x =\n      acceleration *\n      Math.abs(\n        (scrollContainerRect.left + threshold.width - left) / threshold.width\n      );\n  }\n\n  return {\n    direction,\n    speed,\n  };\n}\n","export function getScrollElementRect(element: Element) {\n  if (element === document.scrollingElement) {\n    const {innerWidth, innerHeight} = window;\n\n    return {\n      top: 0,\n      left: 0,\n      right: innerWidth,\n      bottom: innerHeight,\n      width: innerWidth,\n      height: innerHeight,\n    };\n  }\n\n  const {top, left, right, bottom} = element.getBoundingClientRect();\n\n  return {\n    top,\n    left,\n    right,\n    bottom,\n    width: element.clientWidth,\n    height: element.clientHeight,\n  };\n}\n","import {add} from '@dnd-kit/utilities';\n\nimport type {Coordinates} from '../../types';\nimport {\n  getScrollCoordinates,\n  getScrollXCoordinate,\n  getScrollYCoordinate,\n} from './getScrollCoordinates';\nimport {defaultCoordinates} from '../coordinates';\n\nexport function getScrollOffsets(scrollableAncestors: Element[]): Coordinates {\n  return scrollableAncestors.reduce<Coordinates>((acc, node) => {\n    return add(acc, getScrollCoordinates(node));\n  }, defaultCoordinates);\n}\n\nexport function getScrollXOffset(scrollableAncestors: Element[]): number {\n  return scrollableAncestors.reduce<number>((acc, node) => {\n    return acc + getScrollXCoordinate(node);\n  }, 0);\n}\n\nexport function getScrollYOffset(scrollableAncestors: Element[]): number {\n  return scrollableAncestors.reduce<number>((acc, node) => {\n    return acc + getScrollYCoordinate(node);\n  }, 0);\n}\n","import type {ClientRect} from '../../types';\nimport {getClientRect} from '../rect/getRect';\nimport {getFirstScrollableAncestor} from './getScrollableAncestors';\n\nexport function scrollIntoViewIfNeeded(\n  element: HTMLElement | null | undefined,\n  measure: (node: HTMLElement) => ClientRect = getClientRect\n) {\n  if (!element) {\n    return;\n  }\n\n  const {top, left, bottom, right} = measure(element);\n  const firstScrollableAncestor = getFirstScrollableAncestor(element);\n\n  if (!firstScrollableAncestor) {\n    return;\n  }\n\n  if (\n    bottom <= 0 ||\n    right <= 0 ||\n    top >= window.innerHeight ||\n    left >= window.innerWidth\n  ) {\n    element.scrollIntoView({\n      block: 'center',\n      inline: 'center',\n    });\n  }\n}\n","import type {ClientRect} from '../../types/rect';\nimport {\n  getScrollableAncestors,\n  getScrollOffsets,\n  getScrollXOffset,\n  getScrollYOffset,\n} from '../scroll';\n\nconst properties = [\n  ['x', ['left', 'right'], getScrollXOffset],\n  ['y', ['top', 'bottom'], getScrollYOffset],\n] as const;\n\nexport class Rect {\n  constructor(rect: ClientRect, element: Element) {\n    const scrollableAncestors = getScrollableAncestors(element);\n    const scrollOffsets = getScrollOffsets(scrollableAncestors);\n\n    this.rect = {...rect};\n    this.width = rect.width;\n    this.height = rect.height;\n\n    for (const [axis, keys, getScrollOffset] of properties) {\n      for (const key of keys) {\n        Object.defineProperty(this, key, {\n          get: () => {\n            const currentOffsets = getScrollOffset(scrollableAncestors);\n            const scrollOffsetsDeltla = scrollOffsets[axis] - currentOffsets;\n\n            return this.rect[key] + scrollOffsetsDeltla;\n          },\n          enumerable: true,\n        });\n      }\n    }\n\n    Object.defineProperty(this, 'rect', {enumerable: false});\n  }\n\n  private rect: ClientRect;\n\n  public width: number;\n\n  public height: number;\n\n  // The below properties are set by the `Object.defineProperty` calls in the constructor\n  // @ts-ignore\n  public top: number;\n  // @ts-ignore\n  public bottom: number;\n  // @ts-ignore\n  public right: number;\n  // @ts-ignore\n  public left: number;\n}\n","export class Listeners {\n  private listeners: [\n    string,\n    EventListenerOrEventListenerObject,\n    AddEventListenerOptions | boolean | undefined\n  ][] = [];\n\n  constructor(private target: EventTarget | null) {}\n\n  public add<T extends Event>(\n    eventName: string,\n    handler: (event: T) => void,\n    options?: AddEventListenerOptions | boolean\n  ) {\n    this.target?.addEventListener(eventName, handler as EventListener, options);\n    this.listeners.push([eventName, handler as EventListener, options]);\n  }\n\n  public removeAll = () => {\n    this.listeners.forEach((listener) =>\n      this.target?.removeEventListener(...listener)\n    );\n  };\n}\n","import {getOwnerDocument, getWindow} from '@dnd-kit/utilities';\n\nexport function getEventListenerTarget(\n  target: EventTarget | null\n): EventTarget | Document {\n  // If the `event.target` element is removed from the document events will still be targeted\n  // at it, and hence won't always bubble up to the window or document anymore.\n  // If there is any risk of an element being removed while it is being dragged,\n  // the best practice is to attach the event listeners directly to the target.\n  // https://developer.mozilla.org/en-US/docs/Web/API/EventTarget\n\n  const {EventTarget} = getWindow(target);\n\n  return target instanceof EventTarget ? target : getOwnerDocument(target);\n}\n","import type {Coordinates, DistanceMeasurement} from '../../types';\n\nexport function hasExceededDistance(\n  delta: Coordinates,\n  measurement: DistanceMeasurement\n): boolean {\n  const dx = Math.abs(delta.x);\n  const dy = Math.abs(delta.y);\n\n  if (typeof measurement === 'number') {\n    return Math.sqrt(dx ** 2 + dy ** 2) > measurement;\n  }\n\n  if ('x' in measurement && 'y' in measurement) {\n    return dx > measurement.x && dy > measurement.y;\n  }\n\n  if ('x' in measurement) {\n    return dx > measurement.x;\n  }\n\n  if ('y' in measurement) {\n    return dy > measurement.y;\n  }\n\n  return false;\n}\n","export enum EventName {\n  Click = 'click',\n  DragStart = 'dragstart',\n  Keydown = 'keydown',\n  ContextMenu = 'contextmenu',\n  Resize = 'resize',\n  SelectionChange = 'selectionchange',\n  VisibilityChange = 'visibilitychange',\n}\n\nexport function preventDefault(event: Event) {\n  event.preventDefault();\n}\n\nexport function stopPropagation(event: Event) {\n  event.stopPropagation();\n}\n","import type {Coordinates, UniqueIdentifier} from '../../types';\nimport type {SensorContext} from '../types';\n\nexport enum KeyboardCode {\n  Space = 'Space',\n  Down = 'ArrowDown',\n  Right = 'ArrowRight',\n  Left = 'ArrowLeft',\n  Up = 'ArrowUp',\n  Esc = 'Escape',\n  Enter = 'Enter',\n}\n\nexport type KeyboardCodes = {\n  start: KeyboardEvent['code'][];\n  cancel: KeyboardEvent['code'][];\n  end: KeyboardEvent['code'][];\n};\n\nexport type KeyboardCoordinateGetter = (\n  event: KeyboardEvent,\n  args: {\n    active: UniqueIdentifier;\n    currentCoordinates: Coordinates;\n    context: SensorContext;\n  }\n) => Coordinates | void;\n","import {KeyboardCoordinateGetter, KeyboardCode, KeyboardCodes} from './types';\n\nexport const defaultKeyboardCodes: KeyboardCodes = {\n  start: [KeyboardCode.Space, KeyboardCode.Enter],\n  cancel: [KeyboardCode.Esc],\n  end: [KeyboardCode.Space, KeyboardCode.Enter],\n};\n\nexport const defaultKeyboardCoordinateGetter: KeyboardCoordinateGetter = (\n  event,\n  {currentCoordinates}\n) => {\n  switch (event.code) {\n    case KeyboardCode.Right:\n      return {\n        ...currentCoordinates,\n        x: currentCoordinates.x + 25,\n      };\n    case KeyboardCode.Left:\n      return {\n        ...currentCoordinates,\n        x: currentCoordinates.x - 25,\n      };\n    case KeyboardCode.Down:\n      return {\n        ...currentCoordinates,\n        y: currentCoordinates.y + 25,\n      };\n    case KeyboardCode.Up:\n      return {\n        ...currentCoordinates,\n        y: currentCoordinates.y - 25,\n      };\n  }\n\n  return undefined;\n};\n","import {\n  add as getAdjustedCoordinates,\n  subtract as getCoordinatesDelta,\n  getOwnerDocument,\n  getWindow,\n  isKeyboardEvent,\n} from '@dnd-kit/utilities';\n\nimport type {Coordinates} from '../../types';\nimport {\n  defaultCoordinates,\n  getScrollPosition,\n  getScrollElementRect,\n} from '../../utilities';\nimport {scrollIntoViewIfNeeded} from '../../utilities/scroll';\nimport {EventName} from '../events';\nimport {Listeners} from '../utilities';\nimport type {\n  Activators,\n  SensorInstance,\n  SensorProps,\n  SensorOptions,\n} from '../types';\n\nimport {KeyboardCoordinateGetter, KeyboardCode, KeyboardCodes} from './types';\nimport {\n  defaultKeyboardCodes,\n  defaultKeyboardCoordinateGetter,\n} from './defaults';\n\nexport interface KeyboardSensorOptions extends SensorOptions {\n  keyboardCodes?: KeyboardCodes;\n  coordinateGetter?: KeyboardCoordinateGetter;\n  scrollBehavior?: ScrollBehavior;\n  onActivation?({event}: {event: KeyboardEvent}): void;\n}\n\nexport type KeyboardSensorProps = SensorProps<KeyboardSensorOptions>;\n\nexport class KeyboardSensor implements SensorInstance {\n  public autoScrollEnabled = false;\n  private referenceCoordinates: Coordinates | undefined;\n  private listeners: Listeners;\n  private windowListeners: Listeners;\n\n  constructor(private props: KeyboardSensorProps) {\n    const {\n      event: {target},\n    } = props;\n\n    this.props = props;\n    this.listeners = new Listeners(getOwnerDocument(target));\n    this.windowListeners = new Listeners(getWindow(target));\n    this.handleKeyDown = this.handleKeyDown.bind(this);\n    this.handleCancel = this.handleCancel.bind(this);\n\n    this.attach();\n  }\n\n  private attach() {\n    this.handleStart();\n\n    this.windowListeners.add(EventName.Resize, this.handleCancel);\n    this.windowListeners.add(EventName.VisibilityChange, this.handleCancel);\n\n    setTimeout(() => this.listeners.add(EventName.Keydown, this.handleKeyDown));\n  }\n\n  private handleStart() {\n    const {activeNode, onStart} = this.props;\n    const node = activeNode.node.current;\n\n    if (node) {\n      scrollIntoViewIfNeeded(node);\n    }\n\n    onStart(defaultCoordinates);\n  }\n\n  private handleKeyDown(event: Event) {\n    if (isKeyboardEvent(event)) {\n      const {active, context, options} = this.props;\n      const {\n        keyboardCodes = defaultKeyboardCodes,\n        coordinateGetter = defaultKeyboardCoordinateGetter,\n        scrollBehavior = 'smooth',\n      } = options;\n      const {code} = event;\n\n      if (keyboardCodes.end.includes(code)) {\n        this.handleEnd(event);\n        return;\n      }\n\n      if (keyboardCodes.cancel.includes(code)) {\n        this.handleCancel(event);\n        return;\n      }\n\n      const {collisionRect} = context.current;\n      const currentCoordinates = collisionRect\n        ? {x: collisionRect.left, y: collisionRect.top}\n        : defaultCoordinates;\n\n      if (!this.referenceCoordinates) {\n        this.referenceCoordinates = currentCoordinates;\n      }\n\n      const newCoordinates = coordinateGetter(event, {\n        active,\n        context: context.current,\n        currentCoordinates,\n      });\n\n      if (newCoordinates) {\n        const coordinatesDelta = getCoordinatesDelta(\n          newCoordinates,\n          currentCoordinates\n        );\n        const scrollDelta = {\n          x: 0,\n          y: 0,\n        };\n        const {scrollableAncestors} = context.current;\n\n        for (const scrollContainer of scrollableAncestors) {\n          const direction = event.code;\n          const {isTop, isRight, isLeft, isBottom, maxScroll, minScroll} =\n            getScrollPosition(scrollContainer);\n          const scrollElementRect = getScrollElementRect(scrollContainer);\n\n          const clampedCoordinates = {\n            x: Math.min(\n              direction === KeyboardCode.Right\n                ? scrollElementRect.right - scrollElementRect.width / 2\n                : scrollElementRect.right,\n              Math.max(\n                direction === KeyboardCode.Right\n                  ? scrollElementRect.left\n                  : scrollElementRect.left + scrollElementRect.width / 2,\n                newCoordinates.x\n              )\n            ),\n            y: Math.min(\n              direction === KeyboardCode.Down\n                ? scrollElementRect.bottom - scrollElementRect.height / 2\n                : scrollElementRect.bottom,\n              Math.max(\n                direction === KeyboardCode.Down\n                  ? scrollElementRect.top\n                  : scrollElementRect.top + scrollElementRect.height / 2,\n                newCoordinates.y\n              )\n            ),\n          };\n\n          const canScrollX =\n            (direction === KeyboardCode.Right && !isRight) ||\n            (direction === KeyboardCode.Left && !isLeft);\n          const canScrollY =\n            (direction === KeyboardCode.Down && !isBottom) ||\n            (direction === KeyboardCode.Up && !isTop);\n\n          if (canScrollX && clampedCoordinates.x !== newCoordinates.x) {\n            const newScrollCoordinates =\n              scrollContainer.scrollLeft + coordinatesDelta.x;\n            const canScrollToNewCoordinates =\n              (direction === KeyboardCode.Right &&\n                newScrollCoordinates <= maxScroll.x) ||\n              (direction === KeyboardCode.Left &&\n                newScrollCoordinates >= minScroll.x);\n\n            if (canScrollToNewCoordinates && !coordinatesDelta.y) {\n              // We don't need to update coordinates, the scroll adjustment alone will trigger\n              // logic to auto-detect the new container we are over\n              scrollContainer.scrollTo({\n                left: newScrollCoordinates,\n                behavior: scrollBehavior,\n              });\n              return;\n            }\n\n            if (canScrollToNewCoordinates) {\n              scrollDelta.x = scrollContainer.scrollLeft - newScrollCoordinates;\n            } else {\n              scrollDelta.x =\n                direction === KeyboardCode.Right\n                  ? scrollContainer.scrollLeft - maxScroll.x\n                  : scrollContainer.scrollLeft - minScroll.x;\n            }\n\n            if (scrollDelta.x) {\n              scrollContainer.scrollBy({\n                left: -scrollDelta.x,\n                behavior: scrollBehavior,\n              });\n            }\n            break;\n          } else if (canScrollY && clampedCoordinates.y !== newCoordinates.y) {\n            const newScrollCoordinates =\n              scrollContainer.scrollTop + coordinatesDelta.y;\n            const canScrollToNewCoordinates =\n              (direction === KeyboardCode.Down &&\n                newScrollCoordinates <= maxScroll.y) ||\n              (direction === KeyboardCode.Up &&\n                newScrollCoordinates >= minScroll.y);\n\n            if (canScrollToNewCoordinates && !coordinatesDelta.x) {\n              // We don't need to update coordinates, the scroll adjustment alone will trigger\n              // logic to auto-detect the new container we are over\n              scrollContainer.scrollTo({\n                top: newScrollCoordinates,\n                behavior: scrollBehavior,\n              });\n              return;\n            }\n\n            if (canScrollToNewCoordinates) {\n              scrollDelta.y = scrollContainer.scrollTop - newScrollCoordinates;\n            } else {\n              scrollDelta.y =\n                direction === KeyboardCode.Down\n                  ? scrollContainer.scrollTop - maxScroll.y\n                  : scrollContainer.scrollTop - minScroll.y;\n            }\n\n            if (scrollDelta.y) {\n              scrollContainer.scrollBy({\n                top: -scrollDelta.y,\n                behavior: scrollBehavior,\n              });\n            }\n\n            break;\n          }\n        }\n\n        this.handleMove(\n          event,\n          getAdjustedCoordinates(\n            getCoordinatesDelta(newCoordinates, this.referenceCoordinates),\n            scrollDelta\n          )\n        );\n      }\n    }\n  }\n\n  private handleMove(event: Event, coordinates: Coordinates) {\n    const {onMove} = this.props;\n\n    event.preventDefault();\n    onMove(coordinates);\n  }\n\n  private handleEnd(event: Event) {\n    const {onEnd} = this.props;\n\n    event.preventDefault();\n    this.detach();\n    onEnd();\n  }\n\n  private handleCancel(event: Event) {\n    const {onCancel} = this.props;\n\n    event.preventDefault();\n    this.detach();\n    onCancel();\n  }\n\n  private detach() {\n    this.listeners.removeAll();\n    this.windowListeners.removeAll();\n  }\n\n  static activators: Activators<KeyboardSensorOptions> = [\n    {\n      eventName: 'onKeyDown' as const,\n      handler: (\n        event: React.KeyboardEvent,\n        {keyboardCodes = defaultKeyboardCodes, onActivation},\n        {active}\n      ) => {\n        const {code} = event.nativeEvent;\n\n        if (keyboardCodes.start.includes(code)) {\n          const activator = active.activatorNode.current;\n\n          if (activator && event.target !== activator) {\n            return false;\n          }\n\n          event.preventDefault();\n\n          onActivation?.({event: event.nativeEvent});\n\n          return true;\n        }\n\n        return false;\n      },\n    },\n  ];\n}\n","import {\n  subtract as getCoordinatesDelta,\n  getEventCoordinates,\n  getOwnerDocument,\n  getWindow,\n} from '@dnd-kit/utilities';\n\nimport {defaultCoordinates} from '../../utilities';\nimport {\n  getEventListenerTarget,\n  hasExceededDistance,\n  Listeners,\n} from '../utilities';\nimport {EventName, preventDefault, stopPropagation} from '../events';\nimport {KeyboardCode} from '../keyboard';\nimport type {SensorInstance, SensorProps, SensorOptions} from '../types';\nimport type {Coordinates, DistanceMeasurement} from '../../types';\n\ninterface DistanceConstraint {\n  distance: DistanceMeasurement;\n  tolerance?: DistanceMeasurement;\n}\n\ninterface DelayConstraint {\n  delay: number;\n  tolerance: DistanceMeasurement;\n}\n\ninterface EventDescriptor {\n  name: keyof DocumentEventMap;\n  passive?: boolean;\n}\n\nexport interface PointerEventHandlers {\n  move: EventDescriptor;\n  end: EventDescriptor;\n}\n\nexport type PointerActivationConstraint =\n  | DelayConstraint\n  | DistanceConstraint\n  | (DelayConstraint & DistanceConstraint);\n\nfunction isDistanceConstraint(\n  constraint: PointerActivationConstraint\n): constraint is PointerActivationConstraint & DistanceConstraint {\n  return Boolean(constraint && 'distance' in constraint);\n}\n\nfunction isDelayConstraint(\n  constraint: PointerActivationConstraint\n): constraint is DelayConstraint {\n  return Boolean(constraint && 'delay' in constraint);\n}\n\nexport interface AbstractPointerSensorOptions extends SensorOptions {\n  activationConstraint?: PointerActivationConstraint;\n  bypassActivationConstraint?(\n    props: Pick<AbstractPointerSensorProps, 'activeNode' | 'event' | 'options'>\n  ): boolean;\n  onActivation?({event}: {event: Event}): void;\n}\n\nexport type AbstractPointerSensorProps =\n  SensorProps<AbstractPointerSensorOptions>;\n\nexport class AbstractPointerSensor implements SensorInstance {\n  public autoScrollEnabled = true;\n  private document: Document;\n  private activated: boolean = false;\n  private initialCoordinates: Coordinates;\n  private timeoutId: NodeJS.Timeout | null = null;\n  private listeners: Listeners;\n  private documentListeners: Listeners;\n  private windowListeners: Listeners;\n\n  constructor(\n    private props: AbstractPointerSensorProps,\n    private events: PointerEventHandlers,\n    listenerTarget = getEventListenerTarget(props.event.target)\n  ) {\n    const {event} = props;\n    const {target} = event;\n\n    this.props = props;\n    this.events = events;\n    this.document = getOwnerDocument(target);\n    this.documentListeners = new Listeners(this.document);\n    this.listeners = new Listeners(listenerTarget);\n    this.windowListeners = new Listeners(getWindow(target));\n    this.initialCoordinates = getEventCoordinates(event) ?? defaultCoordinates;\n    this.handleStart = this.handleStart.bind(this);\n    this.handleMove = this.handleMove.bind(this);\n    this.handleEnd = this.handleEnd.bind(this);\n    this.handleCancel = this.handleCancel.bind(this);\n    this.handleKeydown = this.handleKeydown.bind(this);\n    this.removeTextSelection = this.removeTextSelection.bind(this);\n\n    this.attach();\n  }\n\n  private attach() {\n    const {\n      events,\n      props: {\n        options: {activationConstraint, bypassActivationConstraint},\n      },\n    } = this;\n\n    this.listeners.add(events.move.name, this.handleMove, {passive: false});\n    this.listeners.add(events.end.name, this.handleEnd);\n    this.windowListeners.add(EventName.Resize, this.handleCancel);\n    this.windowListeners.add(EventName.DragStart, preventDefault);\n    this.windowListeners.add(EventName.VisibilityChange, this.handleCancel);\n    this.windowListeners.add(EventName.ContextMenu, preventDefault);\n    this.documentListeners.add(EventName.Keydown, this.handleKeydown);\n\n    if (activationConstraint) {\n      if (\n        bypassActivationConstraint?.({\n          event: this.props.event,\n          activeNode: this.props.activeNode,\n          options: this.props.options,\n        })\n      ) {\n        return this.handleStart();\n      }\n\n      if (isDelayConstraint(activationConstraint)) {\n        this.timeoutId = setTimeout(\n          this.handleStart,\n          activationConstraint.delay\n        );\n        return;\n      }\n\n      if (isDistanceConstraint(activationConstraint)) {\n        return;\n      }\n    }\n\n    this.handleStart();\n  }\n\n  private detach() {\n    this.listeners.removeAll();\n    this.windowListeners.removeAll();\n\n    // Wait until the next event loop before removing document listeners\n    // This is necessary because we listen for `click` and `selection` events on the document\n    setTimeout(this.documentListeners.removeAll, 50);\n\n    if (this.timeoutId !== null) {\n      clearTimeout(this.timeoutId);\n      this.timeoutId = null;\n    }\n  }\n\n  private handleStart() {\n    const {initialCoordinates} = this;\n    const {onStart} = this.props;\n\n    if (initialCoordinates) {\n      this.activated = true;\n\n      // Stop propagation of click events once activation constraints are met\n      this.documentListeners.add(EventName.Click, stopPropagation, {\n        capture: true,\n      });\n\n      // Remove any text selection from the document\n      this.removeTextSelection();\n\n      // Prevent further text selection while dragging\n      this.documentListeners.add(\n        EventName.SelectionChange,\n        this.removeTextSelection\n      );\n\n      onStart(initialCoordinates);\n    }\n  }\n\n  private handleMove(event: Event) {\n    const {activated, initialCoordinates, props} = this;\n    const {\n      onMove,\n      options: {activationConstraint},\n    } = props;\n\n    if (!initialCoordinates) {\n      return;\n    }\n\n    const coordinates = getEventCoordinates(event) ?? defaultCoordinates;\n    const delta = getCoordinatesDelta(initialCoordinates, coordinates);\n\n    // Constraint validation\n    if (!activated && activationConstraint) {\n      if (isDistanceConstraint(activationConstraint)) {\n        if (\n          activationConstraint.tolerance != null &&\n          hasExceededDistance(delta, activationConstraint.tolerance)\n        ) {\n          return this.handleCancel();\n        }\n\n        if (hasExceededDistance(delta, activationConstraint.distance)) {\n          return this.handleStart();\n        }\n      }\n\n      if (isDelayConstraint(activationConstraint)) {\n        if (hasExceededDistance(delta, activationConstraint.tolerance)) {\n          return this.handleCancel();\n        }\n      }\n\n      return;\n    }\n\n    if (event.cancelable) {\n      event.preventDefault();\n    }\n\n    onMove(coordinates);\n  }\n\n  private handleEnd() {\n    const {onEnd} = this.props;\n\n    this.detach();\n    onEnd();\n  }\n\n  private handleCancel() {\n    const {onCancel} = this.props;\n\n    this.detach();\n    onCancel();\n  }\n\n  private handleKeydown(event: KeyboardEvent) {\n    if (event.code === KeyboardCode.Esc) {\n      this.handleCancel();\n    }\n  }\n\n  private removeTextSelection() {\n    this.document.getSelection()?.removeAllRanges();\n  }\n}\n","import type {PointerEvent} from 'react';\nimport {getOwnerDocument} from '@dnd-kit/utilities';\n\nimport type {SensorProps} from '../types';\nimport {\n  AbstractPointerSensor,\n  AbstractPointerSensorOptions,\n  PointerEventHandlers,\n} from './AbstractPointerSensor';\n\nconst events: PointerEventHandlers = {\n  move: {name: 'pointermove'},\n  end: {name: 'pointerup'},\n};\n\nexport interface PointerSensorOptions extends AbstractPointerSensorOptions {}\n\nexport type PointerSensorProps = SensorProps<PointerSensorOptions>;\n\nexport class PointerSensor extends AbstractPointerSensor {\n  constructor(props: PointerSensorProps) {\n    const {event} = props;\n    // Pointer events stop firing if the target is unmounted while dragging\n    // Therefore we attach listeners to the owner document instead\n    const listenerTarget = getOwnerDocument(event.target);\n\n    super(props, events, listenerTarget);\n  }\n\n  static activators = [\n    {\n      eventName: 'onPointerDown' as const,\n      handler: (\n        {nativeEvent: event}: PointerEvent,\n        {onActivation}: PointerSensorOptions\n      ) => {\n        if (!event.isPrimary || event.button !== 0) {\n          return false;\n        }\n\n        onActivation?.({event});\n\n        return true;\n      },\n    },\n  ];\n}\n","import type {MouseEvent} from 'react';\nimport {getOwnerDocument} from '@dnd-kit/utilities';\n\nimport type {SensorProps} from '../types';\nimport {\n  AbstractPointerSensor,\n  PointerEventHandlers,\n  AbstractPointerSensorOptions,\n} from '../pointer';\n\nconst events: PointerEventHandlers = {\n  move: {name: 'mousemove'},\n  end: {name: 'mouseup'},\n};\n\nenum MouseButton {\n  RightClick = 2,\n}\n\nexport interface MouseSensorOptions extends AbstractPointerSensorOptions {}\n\nexport type MouseSensorProps = SensorProps<MouseSensorOptions>;\n\nexport class MouseSensor extends AbstractPointerSensor {\n  constructor(props: MouseSensorProps) {\n    super(props, events, getOwnerDocument(props.event.target));\n  }\n\n  static activators = [\n    {\n      eventName: 'onMouseDown' as const,\n      handler: (\n        {nativeEvent: event}: MouseEvent,\n        {onActivation}: MouseSensorOptions\n      ) => {\n        if (event.button === MouseButton.RightClick) {\n          return false;\n        }\n\n        onActivation?.({event});\n\n        return true;\n      },\n    },\n  ];\n}\n","import type {TouchEvent} from 'react';\n\nimport {\n  AbstractPointerSensor,\n  PointerSensorProps,\n  PointerEventHandlers,\n  PointerSensorOptions,\n} from '../pointer';\nimport type {SensorProps} from '../types';\n\nconst events: PointerEventHandlers = {\n  move: {name: 'touchmove'},\n  end: {name: 'touchend'},\n};\n\nexport interface TouchSensorOptions extends PointerSensorOptions {}\n\nexport type TouchSensorProps = SensorProps<TouchSensorOptions>;\n\nexport class TouchSensor extends AbstractPointerSensor {\n  constructor(props: PointerSensorProps) {\n    super(props, events);\n  }\n\n  static activators = [\n    {\n      eventName: 'onTouchStart' as const,\n      handler: (\n        {nativeEvent: event}: TouchEvent,\n        {onActivation}: TouchSensorOptions\n      ) => {\n        const {touches} = event;\n\n        if (touches.length > 1) {\n          return false;\n        }\n\n        onActivation?.({event});\n\n        return true;\n      },\n    },\n  ];\n\n  static setup() {\n    // Adding a non-capture and non-passive `touchmove` listener in order\n    // to force `event.preventDefault()` calls to work in dynamically added\n    // touchmove event handlers. This is required for iOS Safari.\n    window.addEventListener(events.move.name, noop, {\n      capture: false,\n      passive: false,\n    });\n\n    return function teardown() {\n      window.removeEventListener(events.move.name, noop);\n    };\n\n    // We create a new handler because the teardown function of another sensor\n    // could remove our event listener if we use a referentially equal listener.\n    function noop() {}\n  }\n}\n","import {useCallback, useEffect, useMemo, useRef} from 'react';\nimport {useInterval, useLazyMemo, usePrevious} from '@dnd-kit/utilities';\n\nimport {getScrollDirectionAndSpeed} from '../../utilities';\nimport {Direction} from '../../types';\nimport type {Coordinates, ClientRect} from '../../types';\n\nexport type ScrollAncestorSortingFn = (ancestors: Element[]) => Element[];\n\nexport enum AutoScrollActivator {\n  Pointer,\n  DraggableRect,\n}\n\nexport interface Options {\n  acceleration?: number;\n  activator?: AutoScrollActivator;\n  canScroll?: CanScroll;\n  enabled?: boolean;\n  interval?: number;\n  layoutShiftCompensation?:\n    | boolean\n    | {\n        x: boolean;\n        y: boolean;\n      };\n  order?: TraversalOrder;\n  threshold?: {\n    x: number;\n    y: number;\n  };\n}\n\ninterface Arguments extends Options {\n  draggingRect: ClientRect | null;\n  enabled: boolean;\n  pointerCoordinates: Coordinates | null;\n  scrollableAncestors: Element[];\n  scrollableAncestorRects: ClientRect[];\n  delta: Coordinates;\n}\n\nexport type CanScroll = (element: Element) => boolean;\n\nexport enum TraversalOrder {\n  TreeOrder,\n  ReversedTreeOrder,\n}\n\ninterface ScrollDirection {\n  x: 0 | Direction;\n  y: 0 | Direction;\n}\n\nexport function useAutoScroller({\n  acceleration,\n  activator = AutoScrollActivator.Pointer,\n  canScroll,\n  draggingRect,\n  enabled,\n  interval = 5,\n  order = TraversalOrder.TreeOrder,\n  pointerCoordinates,\n  scrollableAncestors,\n  scrollableAncestorRects,\n  delta,\n  threshold,\n}: Arguments) {\n  const scrollIntent = useScrollIntent({delta, disabled: !enabled});\n  const [setAutoScrollInterval, clearAutoScrollInterval] = useInterval();\n  const scrollSpeed = useRef<Coordinates>({x: 0, y: 0});\n  const scrollDirection = useRef<ScrollDirection>({x: 0, y: 0});\n  const rect = useMemo(() => {\n    switch (activator) {\n      case AutoScrollActivator.Pointer:\n        return pointerCoordinates\n          ? {\n              top: pointerCoordinates.y,\n              bottom: pointerCoordinates.y,\n              left: pointerCoordinates.x,\n              right: pointerCoordinates.x,\n            }\n          : null;\n      case AutoScrollActivator.DraggableRect:\n        return draggingRect;\n    }\n  }, [activator, draggingRect, pointerCoordinates]);\n  const scrollContainerRef = useRef<Element | null>(null);\n  const autoScroll = useCallback(() => {\n    const scrollContainer = scrollContainerRef.current;\n\n    if (!scrollContainer) {\n      return;\n    }\n\n    const scrollLeft = scrollSpeed.current.x * scrollDirection.current.x;\n    const scrollTop = scrollSpeed.current.y * scrollDirection.current.y;\n\n    scrollContainer.scrollBy(scrollLeft, scrollTop);\n  }, []);\n  const sortedScrollableAncestors = useMemo(\n    () =>\n      order === TraversalOrder.TreeOrder\n        ? [...scrollableAncestors].reverse()\n        : scrollableAncestors,\n    [order, scrollableAncestors]\n  );\n\n  useEffect(\n    () => {\n      if (!enabled || !scrollableAncestors.length || !rect) {\n        clearAutoScrollInterval();\n        return;\n      }\n\n      for (const scrollContainer of sortedScrollableAncestors) {\n        if (canScroll?.(scrollContainer) === false) {\n          continue;\n        }\n\n        const index = scrollableAncestors.indexOf(scrollContainer);\n        const scrollContainerRect = scrollableAncestorRects[index];\n\n        if (!scrollContainerRect) {\n          continue;\n        }\n\n        const {direction, speed} = getScrollDirectionAndSpeed(\n          scrollContainer,\n          scrollContainerRect,\n          rect,\n          acceleration,\n          threshold\n        );\n\n        for (const axis of ['x', 'y'] as const) {\n          if (!scrollIntent[axis][direction[axis] as Direction]) {\n            speed[axis] = 0;\n            direction[axis] = 0;\n          }\n        }\n\n        if (speed.x > 0 || speed.y > 0) {\n          clearAutoScrollInterval();\n\n          scrollContainerRef.current = scrollContainer;\n          setAutoScrollInterval(autoScroll, interval);\n\n          scrollSpeed.current = speed;\n          scrollDirection.current = direction;\n\n          return;\n        }\n      }\n\n      scrollSpeed.current = {x: 0, y: 0};\n      scrollDirection.current = {x: 0, y: 0};\n      clearAutoScrollInterval();\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [\n      acceleration,\n      autoScroll,\n      canScroll,\n      clearAutoScrollInterval,\n      enabled,\n      interval,\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      JSON.stringify(rect),\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      JSON.stringify(scrollIntent),\n      setAutoScrollInterval,\n      scrollableAncestors,\n      sortedScrollableAncestors,\n      scrollableAncestorRects,\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      JSON.stringify(threshold),\n    ]\n  );\n}\n\ninterface ScrollIntent {\n  x: Record<Direction, boolean>;\n  y: Record<Direction, boolean>;\n}\n\nconst defaultScrollIntent: ScrollIntent = {\n  x: {[Direction.Backward]: false, [Direction.Forward]: false},\n  y: {[Direction.Backward]: false, [Direction.Forward]: false},\n};\n\nfunction useScrollIntent({\n  delta,\n  disabled,\n}: {\n  delta: Coordinates;\n  disabled: boolean;\n}): ScrollIntent {\n  const previousDelta = usePrevious(delta);\n\n  return useLazyMemo<ScrollIntent>(\n    (previousIntent) => {\n      if (disabled || !previousDelta || !previousIntent) {\n        // Reset scroll intent tracking when auto-scrolling is disabled\n        return defaultScrollIntent;\n      }\n\n      const direction = {\n        x: Math.sign(delta.x - previousDelta.x),\n        y: Math.sign(delta.y - previousDelta.y),\n      };\n\n      // Keep track of the user intent to scroll in each direction for both axis\n      return {\n        x: {\n          [Direction.Backward]:\n            previousIntent.x[Direction.Backward] || direction.x === -1,\n          [Direction.Forward]:\n            previousIntent.x[Direction.Forward] || direction.x === 1,\n        },\n        y: {\n          [Direction.Backward]:\n            previousIntent.y[Direction.Backward] || direction.y === -1,\n          [Direction.Forward]:\n            previousIntent.y[Direction.Forward] || direction.y === 1,\n        },\n      };\n    },\n    [disabled, delta, previousDelta]\n  );\n}\n","import {useLazyMemo} from '@dnd-kit/utilities';\n\nimport type {DraggableNode, DraggableNodes} from '../../store';\nimport type {UniqueIdentifier} from '../../types';\n\nexport function useCachedNode(\n  draggableNodes: DraggableNodes,\n  id: UniqueIdentifier | null\n): DraggableNode['node']['current'] {\n  const draggableNode = id !== null ? draggableNodes.get(id) : undefined;\n  const node = draggableNode ? draggableNode.node.current : null;\n\n  return useLazyMemo(\n    (cachedNode) => {\n      if (id === null) {\n        return null;\n      }\n\n      // In some cases, the draggable node can unmount while dragging\n      // This is the case for virtualized lists. In those situations,\n      // we fall back to the last known value for that node.\n      return node ?? cachedNode ?? null;\n    },\n    [node, id]\n  );\n}\n","import {useMemo} from 'react';\n\nimport type {SensorActivatorFunction, SensorDescriptor} from '../../sensors';\nimport type {\n  SyntheticListener,\n  SyntheticListeners,\n} from './useSyntheticListeners';\n\nexport function useCombineActivators(\n  sensors: SensorDescriptor<any>[],\n  getSyntheticHandler: (\n    handler: SensorActivatorFunction<any>,\n    sensor: SensorDescriptor<any>\n  ) => SyntheticListener['handler']\n): SyntheticListeners {\n  return useMemo(\n    () =>\n      sensors.reduce<SyntheticListeners>((accumulator, sensor) => {\n        const {sensor: Sensor} = sensor;\n\n        const sensorActivators = Sensor.activators.map((activator) => ({\n          eventName: activator.eventName,\n          handler: getSyntheticHandler(activator.handler, sensor),\n        }));\n\n        return [...accumulator, ...sensorActivators];\n      }, []),\n    [sensors, getSyntheticHandler]\n  );\n}\n","import {useCallback, useEffect, useRef, useState} from 'react';\nimport {useLatestValue, useLazyMemo} from '@dnd-kit/utilities';\n\nimport {Rect} from '../../utilities/rect';\nimport type {DroppableContainer, RectMap} from '../../store/types';\nimport type {ClientRect, UniqueIdentifier} from '../../types';\n\ninterface Arguments {\n  dragging: boolean;\n  dependencies: any[];\n  config: DroppableMeasuring;\n}\n\nexport enum MeasuringStrategy {\n  Always,\n  BeforeDragging,\n  WhileDragging,\n}\n\nexport enum MeasuringFrequency {\n  Optimized = 'optimized',\n}\n\ntype MeasuringFunction = (element: HTMLElement) => ClientRect;\n\nexport interface DroppableMeasuring {\n  measure: MeasuringFunction;\n  strategy: MeasuringStrategy;\n  frequency: MeasuringFrequency | number;\n}\n\nconst defaultValue: RectMap = new Map();\n\nexport function useDroppableMeasuring(\n  containers: DroppableContainer[],\n  {dragging, dependencies, config}: Arguments\n) {\n  const [queue, setQueue] = useState<UniqueIdentifier[] | null>(null);\n  const {frequency, measure, strategy} = config;\n  const containersRef = useRef(containers);\n  const disabled = isDisabled();\n  const disabledRef = useLatestValue(disabled);\n  const measureDroppableContainers = useCallback(\n    (ids: UniqueIdentifier[] = []) => {\n      if (disabledRef.current) {\n        return;\n      }\n\n      setQueue((value) => {\n        if (value === null) {\n          return ids;\n        }\n\n        return value.concat(ids.filter((id) => !value.includes(id)));\n      });\n    },\n    [disabledRef]\n  );\n  const timeoutId = useRef<NodeJS.Timeout | null>(null);\n  const droppableRects = useLazyMemo<RectMap>(\n    (previousValue) => {\n      if (disabled && !dragging) {\n        return defaultValue;\n      }\n\n      if (\n        !previousValue ||\n        previousValue === defaultValue ||\n        containersRef.current !== containers ||\n        queue != null\n      ) {\n        const map: RectMap = new Map();\n\n        for (let container of containers) {\n          if (!container) {\n            continue;\n          }\n\n          if (\n            queue &&\n            queue.length > 0 &&\n            !queue.includes(container.id) &&\n            container.rect.current\n          ) {\n            // This container does not need to be re-measured\n            map.set(container.id, container.rect.current);\n            continue;\n          }\n\n          const node = container.node.current;\n          const rect = node ? new Rect(measure(node), node) : null;\n\n          container.rect.current = rect;\n\n          if (rect) {\n            map.set(container.id, rect);\n          }\n        }\n\n        return map;\n      }\n\n      return previousValue;\n    },\n    [containers, queue, dragging, disabled, measure]\n  );\n\n  useEffect(() => {\n    containersRef.current = containers;\n  }, [containers]);\n\n  useEffect(\n    () => {\n      if (disabled) {\n        return;\n      }\n\n      measureDroppableContainers();\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [dragging, disabled]\n  );\n\n  useEffect(\n    () => {\n      if (queue && queue.length > 0) {\n        setQueue(null);\n      }\n    },\n    //eslint-disable-next-line react-hooks/exhaustive-deps\n    [JSON.stringify(queue)]\n  );\n\n  useEffect(\n    () => {\n      if (\n        disabled ||\n        typeof frequency !== 'number' ||\n        timeoutId.current !== null\n      ) {\n        return;\n      }\n\n      timeoutId.current = setTimeout(() => {\n        measureDroppableContainers();\n        timeoutId.current = null;\n      }, frequency);\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [frequency, disabled, measureDroppableContainers, ...dependencies]\n  );\n\n  return {\n    droppableRects,\n    measureDroppableContainers,\n    measuringScheduled: queue != null,\n  };\n\n  function isDisabled() {\n    switch (strategy) {\n      case MeasuringStrategy.Always:\n        return false;\n      case MeasuringStrategy.BeforeDragging:\n        return dragging;\n      default:\n        return !dragging;\n    }\n  }\n}\n","import {useLazyMemo} from '@dnd-kit/utilities';\n\ntype AnyFunction = (...args: any) => any;\n\nexport function useInitialValue<\n  T,\n  U extends AnyFunction | undefined = undefined\n>(\n  value: T | null,\n  computeFn?: U\n): U extends AnyFunction ? ReturnType<U> | null : T | null {\n  return useLazyMemo(\n    (previousValue) => {\n      if (!value) {\n        return null;\n      }\n\n      if (previousValue) {\n        return previousValue;\n      }\n\n      return typeof computeFn === 'function' ? computeFn(value) : value;\n    },\n    [computeFn, value]\n  );\n}\n","import type {ClientRect} from '../../types';\nimport {useInitialValue} from './useInitialValue';\n\nexport function useInitialRect(\n  node: HTMLElement | null,\n  measure: (node: HTMLElement) => ClientRect\n) {\n  return useInitialValue(node, measure);\n}\n","import {useEffect, useMemo} from 'react';\nimport {useEvent} from '@dnd-kit/utilities';\n\ninterface Arguments {\n  callback: MutationCallback;\n  disabled?: boolean;\n}\n\n/**\n * Returns a new MutationObserver instance.\n * If `MutationObserver` is undefined in the execution environment, returns `undefined`.\n */\nexport function useMutationObserver({callback, disabled}: Arguments) {\n  const handleMutations = useEvent(callback);\n  const mutationObserver = useMemo(() => {\n    if (\n      disabled ||\n      typeof window === 'undefined' ||\n      typeof window.MutationObserver === 'undefined'\n    ) {\n      return undefined;\n    }\n\n    const {MutationObserver} = window;\n\n    return new MutationObserver(handleMutations);\n  }, [handleMutations, disabled]);\n\n  useEffect(() => {\n    return () => mutationObserver?.disconnect();\n  }, [mutationObserver]);\n\n  return mutationObserver;\n}\n","import {useEffect, useMemo} from 'react';\nimport {useEvent} from '@dnd-kit/utilities';\n\ninterface Arguments {\n  callback: ResizeObserverCallback;\n  disabled?: boolean;\n}\n\n/**\n * Returns a new ResizeObserver instance bound to the `onResize` callback.\n * If `ResizeObserver` is undefined in the execution environment, returns `undefined`.\n */\nexport function useResizeObserver({callback, disabled}: Arguments) {\n  const handleResize = useEvent(callback);\n  const resizeObserver = useMemo(\n    () => {\n      if (\n        disabled ||\n        typeof window === 'undefined' ||\n        typeof window.ResizeObserver === 'undefined'\n      ) {\n        return undefined;\n      }\n\n      const {ResizeObserver} = window;\n\n      return new ResizeObserver(handleResize);\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [disabled]\n  );\n\n  useEffect(() => {\n    return () => resizeObserver?.disconnect();\n  }, [resizeObserver]);\n\n  return resizeObserver;\n}\n","import {useReducer} from 'react';\nimport {useIsomorphicLayoutEffect} from '@dnd-kit/utilities';\n\nimport type {ClientRect} from '../../types';\nimport {getClientRect, Rect} from '../../utilities';\n\nimport {useMutationObserver} from './useMutationObserver';\nimport {useResizeObserver} from './useResizeObserver';\n\nfunction defaultMeasure(element: HTMLElement) {\n  return new Rect(getClientRect(element), element);\n}\n\nexport function useRect(\n  element: HTMLElement | null,\n  measure: (element: HTMLElement) => ClientRect = defaultMeasure,\n  fallbackRect?: ClientRect | null\n) {\n  const [rect, measureRect] = useReducer(reducer, null);\n\n  const mutationObserver = useMutationObserver({\n    callback(records) {\n      if (!element) {\n        return;\n      }\n\n      for (const record of records) {\n        const {type, target} = record;\n\n        if (\n          type === 'childList' &&\n          target instanceof HTMLElement &&\n          target.contains(element)\n        ) {\n          measureRect();\n          break;\n        }\n      }\n    },\n  });\n  const resizeObserver = useResizeObserver({callback: measureRect});\n\n  useIsomorphicLayoutEffect(() => {\n    measureRect();\n\n    if (element) {\n      resizeObserver?.observe(element);\n      mutationObserver?.observe(document.body, {\n        childList: true,\n        subtree: true,\n      });\n    } else {\n      resizeObserver?.disconnect();\n      mutationObserver?.disconnect();\n    }\n  }, [element]);\n\n  return rect;\n\n  function reducer(currentRect: ClientRect | null) {\n    if (!element) {\n      return null;\n    }\n\n    if (element.isConnected === false) {\n      // Fall back to last rect we measured if the element is\n      // no longer connected to the DOM.\n      return currentRect ?? fallbackRect ?? null;\n    }\n\n    const newRect = measure(element);\n\n    if (JSON.stringify(currentRect) === JSON.stringify(newRect)) {\n      return currentRect;\n    }\n\n    return newRect;\n  }\n}\n","import type {ClientRect} from '../../types';\nimport {getRectDelta} from '../../utilities';\n\nimport {useInitialValue} from './useInitialValue';\n\nexport function useRectDelta(rect: ClientRect | null) {\n  const initialRect = useInitialValue(rect);\n\n  return getRectDelta(rect, initialRect);\n}\n","import {useEffect, useRef} from 'react';\nimport {useLazyMemo} from '@dnd-kit/utilities';\n\nimport {getScrollableAncestors} from '../../utilities';\n\nconst defaultValue: Element[] = [];\n\nexport function useScrollableAncestors(node: HTMLElement | null) {\n  const previousNode = useRef(node);\n\n  const ancestors = useLazyMemo<Element[]>(\n    (previousValue) => {\n      if (!node) {\n        return defaultValue;\n      }\n\n      if (\n        previousValue &&\n        previousValue !== defaultValue &&\n        node &&\n        previousNode.current &&\n        node.parentNode === previousNode.current.parentNode\n      ) {\n        return previousValue;\n      }\n\n      return getScrollableAncestors(node);\n    },\n    [node]\n  );\n\n  useEffect(() => {\n    previousNode.current = node;\n  }, [node]);\n\n  return ancestors;\n}\n","import {useState, useCallback, useMemo, useRef, useEffect} from 'react';\nimport {add} from '@dnd-kit/utilities';\n\nimport {\n  defaultCoordinates,\n  getScrollableElement,\n  getScrollCoordinates,\n  getScrollOffsets,\n} from '../../utilities';\nimport type {Coordinates} from '../../types';\n\ntype ScrollCoordinates = Map<HTMLElement | Window, Coordinates>;\n\nexport function useScrollOffsets(elements: Element[]): Coordinates {\n  const [\n    scrollCoordinates,\n    setScrollCoordinates,\n  ] = useState<ScrollCoordinates | null>(null);\n  const prevElements = useRef(elements);\n\n  // To-do: Throttle the handleScroll callback\n  const handleScroll = useCallback((event: Event) => {\n    const scrollingElement = getScrollableElement(event.target);\n\n    if (!scrollingElement) {\n      return;\n    }\n\n    setScrollCoordinates((scrollCoordinates) => {\n      if (!scrollCoordinates) {\n        return null;\n      }\n\n      scrollCoordinates.set(\n        scrollingElement,\n        getScrollCoordinates(scrollingElement)\n      );\n\n      return new Map(scrollCoordinates);\n    });\n  }, []);\n\n  useEffect(() => {\n    const previousElements = prevElements.current;\n\n    if (elements !== previousElements) {\n      cleanup(previousElements);\n\n      const entries = elements\n        .map((element) => {\n          const scrollableElement = getScrollableElement(element);\n\n          if (scrollableElement) {\n            scrollableElement.addEventListener('scroll', handleScroll, {\n              passive: true,\n            });\n\n            return [\n              scrollableElement,\n              getScrollCoordinates(scrollableElement),\n            ] as const;\n          }\n\n          return null;\n        })\n        .filter(\n          (\n            entry\n          ): entry is [\n            HTMLElement | (Window & typeof globalThis),\n            Coordinates\n          ] => entry != null\n        );\n\n      setScrollCoordinates(entries.length ? new Map(entries) : null);\n\n      prevElements.current = elements;\n    }\n\n    return () => {\n      cleanup(elements);\n      cleanup(previousElements);\n    };\n\n    function cleanup(elements: Element[]) {\n      elements.forEach((element) => {\n        const scrollableElement = getScrollableElement(element);\n\n        scrollableElement?.removeEventListener('scroll', handleScroll);\n      });\n    }\n  }, [handleScroll, elements]);\n\n  return useMemo(() => {\n    if (elements.length) {\n      return scrollCoordinates\n        ? Array.from(scrollCoordinates.values()).reduce(\n            (acc, coordinates) => add(acc, coordinates),\n            defaultCoordinates\n          )\n        : getScrollOffsets(elements);\n    }\n\n    return defaultCoordinates;\n  }, [elements, scrollCoordinates]);\n}\n","import {useEffect, useRef} from 'react';\nimport {Coordinates, subtract} from '@dnd-kit/utilities';\n\nimport {defaultCoordinates} from '../../utilities';\n\nexport function useScrollOffsetsDelta(\n  scrollOffsets: Coordinates,\n  dependencies: any[] = []\n) {\n  const initialScrollOffsets = useRef<Coordinates | null>(null);\n\n  useEffect(\n    () => {\n      initialScrollOffsets.current = null;\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    dependencies\n  );\n\n  useEffect(() => {\n    const hasScrollOffsets = scrollOffsets !== defaultCoordinates;\n\n    if (hasScrollOffsets && !initialScrollOffsets.current) {\n      initialScrollOffsets.current = scrollOffsets;\n    }\n\n    if (!hasScrollOffsets && initialScrollOffsets.current) {\n      initialScrollOffsets.current = null;\n    }\n  }, [scrollOffsets]);\n\n  return initialScrollOffsets.current\n    ? subtract(scrollOffsets, initialScrollOffsets.current)\n    : defaultCoordinates;\n}\n","import {useEffect} from 'react';\nimport {canUseDOM} from '@dnd-kit/utilities';\n\nimport type {SensorDescriptor} from '../../sensors';\n\nexport function useSensorSetup(sensors: SensorDescriptor<any>[]) {\n  useEffect(\n    () => {\n      if (!canUseDOM) {\n        return;\n      }\n\n      const teardownFns = sensors.map(({sensor}) => sensor.setup?.());\n\n      return () => {\n        for (const teardown of teardownFns) {\n          teardown?.();\n        }\n      };\n    },\n    // TO-DO: Sensors length could theoretically change which would not be a valid dependency\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    sensors.map(({sensor}) => sensor)\n  );\n}\n","import {useMemo} from 'react';\n\nimport type {SyntheticEventName, UniqueIdentifier} from '../../types';\n\nexport type SyntheticListener = {\n  eventName: SyntheticEventName;\n  handler: (event: React.SyntheticEvent, id: UniqueIdentifier) => void;\n};\n\nexport type SyntheticListeners = SyntheticListener[];\n\nexport type SyntheticListenerMap = Record<string, Function>;\n\nexport function useSyntheticListeners(\n  listeners: SyntheticListeners,\n  id: UniqueIdentifier\n): SyntheticListenerMap {\n  return useMemo(() => {\n    return listeners.reduce<SyntheticListenerMap>(\n      (acc, {eventName, handler}) => {\n        acc[eventName] = (event: React.SyntheticEvent) => {\n          handler(event, id);\n        };\n\n        return acc;\n      },\n      {} as SyntheticListenerMap\n    );\n  }, [listeners, id]);\n}\n","import {useMemo} from 'react';\n\nimport {getWindowClientRect} from '../../utilities/rect';\n\nexport function useWindowRect(element: typeof window | null) {\n  return useMemo(() => (element ? getWindowClientRect(element) : null), [\n    element,\n  ]);\n}\n","import {useReducer} from 'react';\nimport {getWindow, useIsomorphicLayoutEffect} from '@dnd-kit/utilities';\n\nimport type {ClientRect} from '../../types';\nimport {Rect, getClientRect} from '../../utilities/rect';\nimport {isDocumentScrollingElement} from '../../utilities';\n\nimport {useResizeObserver} from './useResizeObserver';\nimport {useWindowRect} from './useWindowRect';\n\nconst defaultValue: Rect[] = [];\n\nexport function useRects(\n  elements: Element[],\n  measure: (element: Element) => ClientRect = getClientRect\n): ClientRect[] {\n  const [firstElement] = elements;\n  const windowRect = useWindowRect(\n    firstElement ? getWindow(firstElement) : null\n  );\n  const [rects, measureRects] = useReducer(reducer, defaultValue);\n  const resizeObserver = useResizeObserver({callback: measureRects});\n\n  if (elements.length > 0 && rects === defaultValue) {\n    measureRects();\n  }\n\n  useIsomorphicLayoutEffect(() => {\n    if (elements.length) {\n      elements.forEach((element) => resizeObserver?.observe(element));\n    } else {\n      resizeObserver?.disconnect();\n      measureRects();\n    }\n  }, [elements]);\n\n  return rects;\n\n  function reducer() {\n    if (!elements.length) {\n      return defaultValue;\n    }\n\n    return elements.map((element) =>\n      isDocumentScrollingElement(element)\n        ? (windowRect as ClientRect)\n        : new Rect(measure(element), element)\n    );\n  }\n}\n","import {isHTMLElement} from '@dnd-kit/utilities';\n\nexport function getMeasurableNode(\n  node: HTMLElement | undefined | null\n): HTMLElement | null {\n  if (!node) {\n    return null;\n  }\n\n  if (node.children.length > 1) {\n    return node;\n  }\n  const firstChild = node.children[0];\n\n  return isHTMLElement(firstChild) ? firstChild : node;\n}\n","import {useMemo, useCallback, useState} from 'react';\nimport {isHTMLElement, useNodeRef} from '@dnd-kit/utilities';\n\nimport {useResizeObserver} from './useResizeObserver';\nimport {getMeasurableNode} from '../../utilities/nodes';\nimport type {PublicContextDescriptor} from '../../store';\nimport type {ClientRect} from '../../types';\n\ninterface Arguments {\n  measure(element: HTMLElement): ClientRect;\n}\n\nexport function useDragOverlayMeasuring({\n  measure,\n}: Arguments): PublicContextDescriptor['dragOverlay'] {\n  const [rect, setRect] = useState<ClientRect | null>(null);\n  const handleResize = useCallback(\n    (entries: ResizeObserverEntry[]) => {\n      for (const {target} of entries) {\n        if (isHTMLElement(target)) {\n          setRect((rect) => {\n            const newRect = measure(target);\n\n            return rect\n              ? {...rect, width: newRect.width, height: newRect.height}\n              : newRect;\n          });\n          break;\n        }\n      }\n    },\n    [measure]\n  );\n  const resizeObserver = useResizeObserver({callback: handleResize});\n  const handleNodeChange = useCallback(\n    (element) => {\n      const node = getMeasurableNode(element);\n\n      resizeObserver?.disconnect();\n\n      if (node) {\n        resizeObserver?.observe(node);\n      }\n\n      setRect(node ? measure(node) : null);\n    },\n    [measure, resizeObserver]\n  );\n  const [nodeRef, setRef] = useNodeRef(handleNodeChange);\n\n  return useMemo(\n    () => ({\n      nodeRef,\n      rect,\n      setRef,\n    }),\n    [rect, nodeRef, setRef]\n  );\n}\n","import type {DeepRequired} from '@dnd-kit/utilities';\n\nimport type {DataRef} from '../../store/types';\nimport {KeyboardSensor, PointerSensor} from '../../sensors';\nimport {MeasuringStrategy, MeasuringFrequency} from '../../hooks/utilities';\nimport {\n  getClientRect,\n  getTransformAgnosticClientRect,\n} from '../../utilities/rect';\n\nimport type {MeasuringConfiguration} from './types';\n\nexport const defaultSensors = [\n  {sensor: PointerSensor, options: {}},\n  {sensor: KeyboardSensor, options: {}},\n];\n\nexport const defaultData: DataRef = {current: {}};\n\nexport const defaultMeasuringConfiguration: DeepRequired<MeasuringConfiguration> = {\n  draggable: {\n    measure: getTransformAgnosticClientRect,\n  },\n  droppable: {\n    measure: getTransformAgnosticClientRect,\n    strategy: MeasuringStrategy.WhileDragging,\n    frequency: MeasuringFrequency.Optimized,\n  },\n  dragOverlay: {\n    measure: getClientRect,\n  },\n};\n","import type {UniqueIdentifier} from '../types';\nimport type {DroppableContainer} from './types';\n\ntype Identifier = UniqueIdentifier | null | undefined;\n\nexport class DroppableContainersMap extends Map<\n  UniqueIdentifier,\n  DroppableContainer\n> {\n  get(id: Identifier) {\n    return id != null ? super.get(id) ?? undefined : undefined;\n  }\n\n  toArray(): DroppableContainer[] {\n    return Array.from(this.values());\n  }\n\n  getEnabled(): DroppableContainer[] {\n    return this.toArray().filter(({disabled}) => !disabled);\n  }\n\n  getNodeFor(id: Identifier) {\n    return this.get(id)?.node.current ?? undefined;\n  }\n}\n","import {createContext} from 'react';\n\nimport {noop} from '../utilities/other';\nimport {defaultMeasuringConfiguration} from '../components/DndContext/defaults';\nimport {DroppableContainersMap} from './constructors';\nimport type {InternalContextDescriptor, PublicContextDescriptor} from './types';\n\nexport const defaultPublicContext: PublicContextDescriptor = {\n  activatorEvent: null,\n  active: null,\n  activeNode: null,\n  activeNodeRect: null,\n  collisions: null,\n  containerNodeRect: null,\n  draggableNodes: new Map(),\n  droppableRects: new Map(),\n  droppableContainers: new DroppableContainersMap(),\n  over: null,\n  dragOverlay: {\n    nodeRef: {\n      current: null,\n    },\n    rect: null,\n    setRef: noop,\n  },\n  scrollableAncestors: [],\n  scrollableAncestorRects: [],\n  measuringConfiguration: defaultMeasuringConfiguration,\n  measureDroppableContainers: noop,\n  windowRect: null,\n  measuringScheduled: false,\n};\n\nexport const defaultInternalContext: InternalContextDescriptor = {\n  activatorEvent: null,\n  activators: [],\n  active: null,\n  activeNodeRect: null,\n  ariaDescribedById: {\n    draggable: '',\n  },\n  dispatch: noop,\n  draggableNodes: new Map(),\n  over: null,\n  measureDroppableContainers: noop,\n};\n\nexport const InternalContext = createContext<InternalContextDescriptor>(\n  defaultInternalContext\n);\n\nexport const PublicContext = createContext<PublicContextDescriptor>(\n  defaultPublicContext\n);\n","import {Action, Actions} from './actions';\nimport {DroppableContainersMap} from './constructors';\nimport type {State} from './types';\n\nexport function getInitialState(): State {\n  return {\n    draggable: {\n      active: null,\n      initialCoordinates: {x: 0, y: 0},\n      nodes: new Map(),\n      translate: {x: 0, y: 0},\n    },\n    droppable: {\n      containers: new DroppableContainersMap(),\n    },\n  };\n}\n\nexport function reducer(state: State, action: Actions): State {\n  switch (action.type) {\n    case Action.DragStart:\n      return {\n        ...state,\n        draggable: {\n          ...state.draggable,\n          initialCoordinates: action.initialCoordinates,\n          active: action.active,\n        },\n      };\n    case Action.DragMove:\n      if (!state.draggable.active) {\n        return state;\n      }\n\n      return {\n        ...state,\n        draggable: {\n          ...state.draggable,\n          translate: {\n            x: action.coordinates.x - state.draggable.initialCoordinates.x,\n            y: action.coordinates.y - state.draggable.initialCoordinates.y,\n          },\n        },\n      };\n    case Action.DragEnd:\n    case Action.DragCancel:\n      return {\n        ...state,\n        draggable: {\n          ...state.draggable,\n          active: null,\n          initialCoordinates: {x: 0, y: 0},\n          translate: {x: 0, y: 0},\n        },\n      };\n\n    case Action.RegisterDroppable: {\n      const {element} = action;\n      const {id} = element;\n      const containers = new DroppableContainersMap(state.droppable.containers);\n      containers.set(id, element);\n\n      return {\n        ...state,\n        droppable: {\n          ...state.droppable,\n          containers,\n        },\n      };\n    }\n\n    case Action.SetDroppableDisabled: {\n      const {id, key, disabled} = action;\n      const element = state.droppable.containers.get(id);\n\n      if (!element || key !== element.key) {\n        return state;\n      }\n\n      const containers = new DroppableContainersMap(state.droppable.containers);\n      containers.set(id, {\n        ...element,\n        disabled,\n      });\n\n      return {\n        ...state,\n        droppable: {\n          ...state.droppable,\n          containers,\n        },\n      };\n    }\n\n    case Action.UnregisterDroppable: {\n      const {id, key} = action;\n      const element = state.droppable.containers.get(id);\n\n      if (!element || key !== element.key) {\n        return state;\n      }\n\n      const containers = new DroppableContainersMap(state.droppable.containers);\n      containers.delete(id);\n\n      return {\n        ...state,\n        droppable: {\n          ...state.droppable,\n          containers,\n        },\n      };\n    }\n\n    default: {\n      return state;\n    }\n  }\n}\n","import {useContext, useEffect} from 'react';\nimport {\n  findFirstFocusableNode,\n  isKeyboardEvent,\n  usePrevious,\n} from '@dnd-kit/utilities';\n\nimport {InternalContext} from '../../../store';\n\ninterface Props {\n  disabled: boolean;\n}\n\nexport function RestoreFocus({disabled}: Props) {\n  const {active, activatorEvent, draggableNodes} = useContext(InternalContext);\n  const previousActivatorEvent = usePrevious(activatorEvent);\n  const previousActiveId = usePrevious(active?.id);\n\n  // Restore keyboard focus on the activator node\n  useEffect(() => {\n    if (disabled) {\n      return;\n    }\n\n    if (!activatorEvent && previousActivatorEvent && previousActiveId != null) {\n      if (!isKeyboardEvent(previousActivatorEvent)) {\n        return;\n      }\n\n      if (document.activeElement === previousActivatorEvent.target) {\n        // No need to restore focus\n        return;\n      }\n\n      const draggableNode = draggableNodes.get(previousActiveId);\n\n      if (!draggableNode) {\n        return;\n      }\n\n      const {activatorNode, node} = draggableNode;\n\n      if (!activatorNode.current && !node.current) {\n        return;\n      }\n\n      requestAnimationFrame(() => {\n        for (const element of [activatorNode.current, node.current]) {\n          if (!element) {\n            continue;\n          }\n\n          const focusableNode = findFirstFocusableNode(element);\n\n          if (focusableNode) {\n            focusableNode.focus();\n            break;\n          }\n        }\n      });\n    }\n  }, [\n    activatorEvent,\n    disabled,\n    draggableNodes,\n    previousActiveId,\n    previousActivatorEvent,\n  ]);\n\n  return null;\n}\n","import type {FirstArgument, Transform} from '@dnd-kit/utilities';\n\nimport type {Modifiers, Modifier} from './types';\n\nexport function applyModifiers(\n  modifiers: Modifiers | undefined,\n  {transform, ...args}: FirstArgument<Modifier>\n): Transform {\n  return modifiers?.length\n    ? modifiers.reduce<Transform>((accumulator, modifier) => {\n        return modifier({\n          transform: accumulator,\n          ...args,\n        });\n      }, transform)\n    : transform;\n}\n","import {useMemo} from 'react';\nimport type {DeepRequired} from '@dnd-kit/utilities';\n\nimport {defaultMeasuringConfiguration} from '../defaults';\nimport type {MeasuringConfiguration} from '../types';\n\nexport function useMeasuringConfiguration(\n  config: MeasuringConfiguration | undefined\n): DeepRequired<MeasuringConfiguration> {\n  return useMemo(\n    () => ({\n      draggable: {\n        ...defaultMeasuringConfiguration.draggable,\n        ...config?.draggable,\n      },\n      droppable: {\n        ...defaultMeasuringConfiguration.droppable,\n        ...config?.droppable,\n      },\n      dragOverlay: {\n        ...defaultMeasuringConfiguration.dragOverlay,\n        ...config?.dragOverlay,\n      },\n    }),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [config?.draggable, config?.droppable, config?.dragOverlay]\n  );\n}\n","import {useRef} from 'react';\nimport {useIsomorphicLayoutEffect} from '@dnd-kit/utilities';\n\nimport {getRectDelta} from '../../../utilities/rect';\nimport {getFirstScrollableAncestor} from '../../../utilities/scroll';\nimport type {ClientRect} from '../../../types';\nimport type {DraggableNode} from '../../../store';\nimport type {MeasuringFunction} from '../types';\n\ninterface Options {\n  activeNode: DraggableNode | null | undefined;\n  config: boolean | {x: boolean; y: boolean} | undefined;\n  initialRect: ClientRect | null;\n  measure: MeasuringFunction;\n}\n\nexport function useLayoutShiftScrollCompensation({\n  activeNode,\n  measure,\n  initialRect,\n  config = true,\n}: Options) {\n  const initialized = useRef(false);\n  const {x, y} = typeof config === 'boolean' ? {x: config, y: config} : config;\n\n  useIsomorphicLayoutEffect(() => {\n    const disabled = !x && !y;\n\n    if (disabled || !activeNode) {\n      initialized.current = false;\n      return;\n    }\n\n    if (initialized.current || !initialRect) {\n      // Return early if layout shift scroll compensation was already attempted\n      // or if there is no initialRect to compare to.\n      return;\n    }\n\n    // Get the most up to date node ref for the active draggable\n    const node = activeNode?.node.current;\n\n    if (!node || node.isConnected === false) {\n      // Return early if there is no attached node ref or if the node is\n      // disconnected from the document.\n      return;\n    }\n\n    const rect = measure(node);\n    const rectDelta = getRectDelta(rect, initialRect);\n\n    if (!x) {\n      rectDelta.x = 0;\n    }\n\n    if (!y) {\n      rectDelta.y = 0;\n    }\n\n    // Only perform layout shift scroll compensation once\n    initialized.current = true;\n\n    if (Math.abs(rectDelta.x) > 0 || Math.abs(rectDelta.y) > 0) {\n      const firstScrollableAncestor = getFirstScrollableAncestor(node);\n\n      if (firstScrollableAncestor) {\n        firstScrollableAncestor.scrollBy({\n          top: rectDelta.y,\n          left: rectDelta.x,\n        });\n      }\n    }\n  }, [activeNode, x, y, initialRect, measure]);\n}\n","import React, {\n  memo,\n  createContext,\n  useCallback,\n  useEffect,\n  useMemo,\n  useReducer,\n  useRef,\n  useState,\n} from 'react';\nimport {unstable_batchedUpdates} from 'react-dom';\nimport {\n  add,\n  getEventCoordinates,\n  getWindow,\n  useLatestValue,\n  useIsomorphicLayoutEffect,\n  useUniqueId,\n} from '@dnd-kit/utilities';\nimport type {Transform} from '@dnd-kit/utilities';\n\nimport {\n  Action,\n  PublicContext,\n  InternalContext,\n  PublicContextDescriptor,\n  InternalContextDescriptor,\n  getInitialState,\n  reducer,\n} from '../../store';\nimport {DndMonitorContext, useDndMonitorProvider} from '../DndMonitor';\nimport {\n  useAutoScroller,\n  useCachedNode,\n  useCombineActivators,\n  useDragOverlayMeasuring,\n  useDroppableMeasuring,\n  useInitialRect,\n  useRect,\n  useRectDelta,\n  useRects,\n  useScrollableAncestors,\n  useScrollOffsets,\n  useScrollOffsetsDelta,\n  useSensorSetup,\n  useWindowRect,\n} from '../../hooks/utilities';\nimport type {AutoScrollOptions, SyntheticListener} from '../../hooks/utilities';\nimport type {\n  Sensor,\n  SensorContext,\n  SensorDescriptor,\n  SensorActivatorFunction,\n  SensorInstance,\n} from '../../sensors';\nimport {\n  adjustScale,\n  CollisionDetection,\n  defaultCoordinates,\n  getAdjustedRect,\n  getFirstCollision,\n  rectIntersection,\n} from '../../utilities';\nimport {applyModifiers, Modifiers} from '../../modifiers';\nimport type {Active, Over} from '../../store/types';\nimport type {\n  DragStartEvent,\n  DragCancelEvent,\n  DragEndEvent,\n  DragMoveEvent,\n  DragOverEvent,\n  UniqueIdentifier,\n} from '../../types';\nimport {\n  Accessibility,\n  Announcements,\n  RestoreFocus,\n  ScreenReaderInstructions,\n} from '../Accessibility';\n\nimport {defaultData, defaultSensors} from './defaults';\nimport {\n  useLayoutShiftScrollCompensation,\n  useMeasuringConfiguration,\n} from './hooks';\nimport type {MeasuringConfiguration} from './types';\n\nexport interface Props {\n  id?: string;\n  accessibility?: {\n    announcements?: Announcements;\n    container?: Element;\n    restoreFocus?: boolean;\n    screenReaderInstructions?: ScreenReaderInstructions;\n  };\n  autoScroll?: boolean | AutoScrollOptions;\n  cancelDrop?: CancelDrop;\n  children?: React.ReactNode;\n  collisionDetection?: CollisionDetection;\n  measuring?: MeasuringConfiguration;\n  modifiers?: Modifiers;\n  sensors?: SensorDescriptor<any>[];\n  onDragStart?(event: DragStartEvent): void;\n  onDragMove?(event: DragMoveEvent): void;\n  onDragOver?(event: DragOverEvent): void;\n  onDragEnd?(event: DragEndEvent): void;\n  onDragCancel?(event: DragCancelEvent): void;\n}\n\nexport interface CancelDropArguments extends DragEndEvent {}\n\nexport type CancelDrop = (\n  args: CancelDropArguments\n) => boolean | Promise<boolean>;\n\ninterface DndEvent extends Event {\n  dndKit?: {\n    capturedBy: Sensor<any>;\n  };\n}\n\nexport const ActiveDraggableContext = createContext<Transform>({\n  ...defaultCoordinates,\n  scaleX: 1,\n  scaleY: 1,\n});\n\nenum Status {\n  Uninitialized,\n  Initializing,\n  Initialized,\n}\n\nexport const DndContext = memo(function DndContext({\n  id,\n  accessibility,\n  autoScroll = true,\n  children,\n  sensors = defaultSensors,\n  collisionDetection = rectIntersection,\n  measuring,\n  modifiers,\n  ...props\n}: Props) {\n  const store = useReducer(reducer, undefined, getInitialState);\n  const [state, dispatch] = store;\n  const [dispatchMonitorEvent, registerMonitorListener] =\n    useDndMonitorProvider();\n  const [status, setStatus] = useState<Status>(Status.Uninitialized);\n  const isInitialized = status === Status.Initialized;\n  const {\n    draggable: {active: activeId, nodes: draggableNodes, translate},\n    droppable: {containers: droppableContainers},\n  } = state;\n  const node = activeId ? draggableNodes.get(activeId) : null;\n  const activeRects = useRef<Active['rect']['current']>({\n    initial: null,\n    translated: null,\n  });\n  const active = useMemo<Active | null>(\n    () =>\n      activeId != null\n        ? {\n            id: activeId,\n            // It's possible for the active node to unmount while dragging\n            data: node?.data ?? defaultData,\n            rect: activeRects,\n          }\n        : null,\n    [activeId, node]\n  );\n  const activeRef = useRef<UniqueIdentifier | null>(null);\n  const [activeSensor, setActiveSensor] = useState<SensorInstance | null>(null);\n  const [activatorEvent, setActivatorEvent] = useState<Event | null>(null);\n  const latestProps = useLatestValue(props, Object.values(props));\n  const draggableDescribedById = useUniqueId(`DndDescribedBy`, id);\n  const enabledDroppableContainers = useMemo(\n    () => droppableContainers.getEnabled(),\n    [droppableContainers]\n  );\n  const measuringConfiguration = useMeasuringConfiguration(measuring);\n  const {droppableRects, measureDroppableContainers, measuringScheduled} =\n    useDroppableMeasuring(enabledDroppableContainers, {\n      dragging: isInitialized,\n      dependencies: [translate.x, translate.y],\n      config: measuringConfiguration.droppable,\n    });\n  const activeNode = useCachedNode(draggableNodes, activeId);\n  const activationCoordinates = useMemo(\n    () => (activatorEvent ? getEventCoordinates(activatorEvent) : null),\n    [activatorEvent]\n  );\n  const autoScrollOptions = getAutoScrollerOptions();\n  const initialActiveNodeRect = useInitialRect(\n    activeNode,\n    measuringConfiguration.draggable.measure\n  );\n\n  useLayoutShiftScrollCompensation({\n    activeNode: activeId ? draggableNodes.get(activeId) : null,\n    config: autoScrollOptions.layoutShiftCompensation,\n    initialRect: initialActiveNodeRect,\n    measure: measuringConfiguration.draggable.measure,\n  });\n\n  const activeNodeRect = useRect(\n    activeNode,\n    measuringConfiguration.draggable.measure,\n    initialActiveNodeRect\n  );\n  const containerNodeRect = useRect(\n    activeNode ? activeNode.parentElement : null\n  );\n  const sensorContext = useRef<SensorContext>({\n    activatorEvent: null,\n    active: null,\n    activeNode,\n    collisionRect: null,\n    collisions: null,\n    droppableRects,\n    draggableNodes,\n    draggingNode: null,\n    draggingNodeRect: null,\n    droppableContainers,\n    over: null,\n    scrollableAncestors: [],\n    scrollAdjustedTranslate: null,\n  });\n  const overNode = droppableContainers.getNodeFor(\n    sensorContext.current.over?.id\n  );\n  const dragOverlay = useDragOverlayMeasuring({\n    measure: measuringConfiguration.dragOverlay.measure,\n  });\n\n  // Use the rect of the drag overlay if it is mounted\n  const draggingNode = dragOverlay.nodeRef.current ?? activeNode;\n  const draggingNodeRect = isInitialized\n    ? dragOverlay.rect ?? activeNodeRect\n    : null;\n  const usesDragOverlay = Boolean(\n    dragOverlay.nodeRef.current && dragOverlay.rect\n  );\n  // The delta between the previous and new position of the draggable node\n  // is only relevant when there is no drag overlay\n  const nodeRectDelta = useRectDelta(usesDragOverlay ? null : activeNodeRect);\n\n  // Get the window rect of the dragging node\n  const windowRect = useWindowRect(\n    draggingNode ? getWindow(draggingNode) : null\n  );\n\n  // Get scrollable ancestors of the dragging node\n  const scrollableAncestors = useScrollableAncestors(\n    isInitialized ? overNode ?? activeNode : null\n  );\n  const scrollableAncestorRects = useRects(scrollableAncestors);\n\n  // Apply modifiers\n  const modifiedTranslate = applyModifiers(modifiers, {\n    transform: {\n      x: translate.x - nodeRectDelta.x,\n      y: translate.y - nodeRectDelta.y,\n      scaleX: 1,\n      scaleY: 1,\n    },\n    activatorEvent,\n    active,\n    activeNodeRect,\n    containerNodeRect,\n    draggingNodeRect,\n    over: sensorContext.current.over,\n    overlayNodeRect: dragOverlay.rect,\n    scrollableAncestors,\n    scrollableAncestorRects,\n    windowRect,\n  });\n\n  const pointerCoordinates = activationCoordinates\n    ? add(activationCoordinates, translate)\n    : null;\n\n  const scrollOffsets = useScrollOffsets(scrollableAncestors);\n  // Represents the scroll delta since dragging was initiated\n  const scrollAdjustment = useScrollOffsetsDelta(scrollOffsets);\n  // Represents the scroll delta since the last time the active node rect was measured\n  const activeNodeScrollDelta = useScrollOffsetsDelta(scrollOffsets, [\n    activeNodeRect,\n  ]);\n\n  const scrollAdjustedTranslate = add(modifiedTranslate, scrollAdjustment);\n\n  const collisionRect = draggingNodeRect\n    ? getAdjustedRect(draggingNodeRect, modifiedTranslate)\n    : null;\n\n  const collisions =\n    active && collisionRect\n      ? collisionDetection({\n          active,\n          collisionRect,\n          droppableRects,\n          droppableContainers: enabledDroppableContainers,\n          pointerCoordinates,\n        })\n      : null;\n  const overId = getFirstCollision(collisions, 'id');\n  const [over, setOver] = useState<Over | null>(null);\n\n  // When there is no drag overlay used, we need to account for the\n  // window scroll delta\n  const appliedTranslate = usesDragOverlay\n    ? modifiedTranslate\n    : add(modifiedTranslate, activeNodeScrollDelta);\n\n  const transform = adjustScale(\n    appliedTranslate,\n    over?.rect ?? null,\n    activeNodeRect\n  );\n\n  const instantiateSensor = useCallback(\n    (\n      event: React.SyntheticEvent,\n      {sensor: Sensor, options}: SensorDescriptor<any>\n    ) => {\n      if (activeRef.current == null) {\n        return;\n      }\n\n      const activeNode = draggableNodes.get(activeRef.current);\n\n      if (!activeNode) {\n        return;\n      }\n\n      const activatorEvent = event.nativeEvent;\n\n      const sensorInstance = new Sensor({\n        active: activeRef.current,\n        activeNode,\n        event: activatorEvent,\n        options,\n        // Sensors need to be instantiated with refs for arguments that change over time\n        // otherwise they are frozen in time with the stale arguments\n        context: sensorContext,\n        onStart(initialCoordinates) {\n          const id = activeRef.current;\n\n          if (id == null) {\n            return;\n          }\n\n          const draggableNode = draggableNodes.get(id);\n\n          if (!draggableNode) {\n            return;\n          }\n\n          const {onDragStart} = latestProps.current;\n          const event: DragStartEvent = {\n            active: {id, data: draggableNode.data, rect: activeRects},\n          };\n\n          unstable_batchedUpdates(() => {\n            onDragStart?.(event);\n            setStatus(Status.Initializing);\n            dispatch({\n              type: Action.DragStart,\n              initialCoordinates,\n              active: id,\n            });\n            dispatchMonitorEvent({type: 'onDragStart', event});\n          });\n        },\n        onMove(coordinates) {\n          dispatch({\n            type: Action.DragMove,\n            coordinates,\n          });\n        },\n        onEnd: createHandler(Action.DragEnd),\n        onCancel: createHandler(Action.DragCancel),\n      });\n\n      unstable_batchedUpdates(() => {\n        setActiveSensor(sensorInstance);\n        setActivatorEvent(event.nativeEvent);\n      });\n\n      function createHandler(type: Action.DragEnd | Action.DragCancel) {\n        return async function handler() {\n          const {active, collisions, over, scrollAdjustedTranslate} =\n            sensorContext.current;\n          let event: DragEndEvent | null = null;\n\n          if (active && scrollAdjustedTranslate) {\n            const {cancelDrop} = latestProps.current;\n\n            event = {\n              activatorEvent,\n              active: active,\n              collisions,\n              delta: scrollAdjustedTranslate,\n              over,\n            };\n\n            if (type === Action.DragEnd && typeof cancelDrop === 'function') {\n              const shouldCancel = await Promise.resolve(cancelDrop(event));\n\n              if (shouldCancel) {\n                type = Action.DragCancel;\n              }\n            }\n          }\n\n          activeRef.current = null;\n\n          unstable_batchedUpdates(() => {\n            dispatch({type});\n            setStatus(Status.Uninitialized);\n            setOver(null);\n            setActiveSensor(null);\n            setActivatorEvent(null);\n\n            const eventName =\n              type === Action.DragEnd ? 'onDragEnd' : 'onDragCancel';\n\n            if (event) {\n              const handler = latestProps.current[eventName];\n\n              handler?.(event);\n              dispatchMonitorEvent({type: eventName, event});\n            }\n          });\n        };\n      }\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [draggableNodes]\n  );\n\n  const bindActivatorToSensorInstantiator = useCallback(\n    (\n      handler: SensorActivatorFunction<any>,\n      sensor: SensorDescriptor<any>\n    ): SyntheticListener['handler'] => {\n      return (event, active) => {\n        const nativeEvent = event.nativeEvent as DndEvent;\n        const activeDraggableNode = draggableNodes.get(active);\n\n        if (\n          // Another sensor is already instantiating\n          activeRef.current !== null ||\n          // No active draggable\n          !activeDraggableNode ||\n          // Event has already been captured\n          nativeEvent.dndKit ||\n          nativeEvent.defaultPrevented\n        ) {\n          return;\n        }\n\n        const activationContext = {\n          active: activeDraggableNode,\n        };\n        const shouldActivate = handler(\n          event,\n          sensor.options,\n          activationContext\n        );\n\n        if (shouldActivate === true) {\n          nativeEvent.dndKit = {\n            capturedBy: sensor.sensor,\n          };\n\n          activeRef.current = active;\n          instantiateSensor(event, sensor);\n        }\n      };\n    },\n    [draggableNodes, instantiateSensor]\n  );\n\n  const activators = useCombineActivators(\n    sensors,\n    bindActivatorToSensorInstantiator\n  );\n\n  useSensorSetup(sensors);\n\n  useIsomorphicLayoutEffect(() => {\n    if (activeNodeRect && status === Status.Initializing) {\n      setStatus(Status.Initialized);\n    }\n  }, [activeNodeRect, status]);\n\n  useEffect(\n    () => {\n      const {onDragMove} = latestProps.current;\n      const {active, activatorEvent, collisions, over} = sensorContext.current;\n\n      if (!active || !activatorEvent) {\n        return;\n      }\n\n      const event: DragMoveEvent = {\n        active,\n        activatorEvent,\n        collisions,\n        delta: {\n          x: scrollAdjustedTranslate.x,\n          y: scrollAdjustedTranslate.y,\n        },\n        over,\n      };\n\n      unstable_batchedUpdates(() => {\n        onDragMove?.(event);\n        dispatchMonitorEvent({type: 'onDragMove', event});\n      });\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [scrollAdjustedTranslate.x, scrollAdjustedTranslate.y]\n  );\n\n  useEffect(\n    () => {\n      const {\n        active,\n        activatorEvent,\n        collisions,\n        droppableContainers,\n        scrollAdjustedTranslate,\n      } = sensorContext.current;\n\n      if (\n        !active ||\n        activeRef.current == null ||\n        !activatorEvent ||\n        !scrollAdjustedTranslate\n      ) {\n        return;\n      }\n\n      const {onDragOver} = latestProps.current;\n      const overContainer = droppableContainers.get(overId);\n      const over =\n        overContainer && overContainer.rect.current\n          ? {\n              id: overContainer.id,\n              rect: overContainer.rect.current,\n              data: overContainer.data,\n              disabled: overContainer.disabled,\n            }\n          : null;\n      const event: DragOverEvent = {\n        active,\n        activatorEvent,\n        collisions,\n        delta: {\n          x: scrollAdjustedTranslate.x,\n          y: scrollAdjustedTranslate.y,\n        },\n        over,\n      };\n\n      unstable_batchedUpdates(() => {\n        setOver(over);\n        onDragOver?.(event);\n        dispatchMonitorEvent({type: 'onDragOver', event});\n      });\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [overId]\n  );\n\n  useIsomorphicLayoutEffect(() => {\n    sensorContext.current = {\n      activatorEvent,\n      active,\n      activeNode,\n      collisionRect,\n      collisions,\n      droppableRects,\n      draggableNodes,\n      draggingNode,\n      draggingNodeRect,\n      droppableContainers,\n      over,\n      scrollableAncestors,\n      scrollAdjustedTranslate,\n    };\n\n    activeRects.current = {\n      initial: draggingNodeRect,\n      translated: collisionRect,\n    };\n  }, [\n    active,\n    activeNode,\n    collisions,\n    collisionRect,\n    draggableNodes,\n    draggingNode,\n    draggingNodeRect,\n    droppableRects,\n    droppableContainers,\n    over,\n    scrollableAncestors,\n    scrollAdjustedTranslate,\n  ]);\n\n  useAutoScroller({\n    ...autoScrollOptions,\n    delta: translate,\n    draggingRect: collisionRect,\n    pointerCoordinates,\n    scrollableAncestors,\n    scrollableAncestorRects,\n  });\n\n  const publicContext = useMemo(() => {\n    const context: PublicContextDescriptor = {\n      active,\n      activeNode,\n      activeNodeRect,\n      activatorEvent,\n      collisions,\n      containerNodeRect,\n      dragOverlay,\n      draggableNodes,\n      droppableContainers,\n      droppableRects,\n      over,\n      measureDroppableContainers,\n      scrollableAncestors,\n      scrollableAncestorRects,\n      measuringConfiguration,\n      measuringScheduled,\n      windowRect,\n    };\n\n    return context;\n  }, [\n    active,\n    activeNode,\n    activeNodeRect,\n    activatorEvent,\n    collisions,\n    containerNodeRect,\n    dragOverlay,\n    draggableNodes,\n    droppableContainers,\n    droppableRects,\n    over,\n    measureDroppableContainers,\n    scrollableAncestors,\n    scrollableAncestorRects,\n    measuringConfiguration,\n    measuringScheduled,\n    windowRect,\n  ]);\n\n  const internalContext = useMemo(() => {\n    const context: InternalContextDescriptor = {\n      activatorEvent,\n      activators,\n      active,\n      activeNodeRect,\n      ariaDescribedById: {\n        draggable: draggableDescribedById,\n      },\n      dispatch,\n      draggableNodes,\n      over,\n      measureDroppableContainers,\n    };\n\n    return context;\n  }, [\n    activatorEvent,\n    activators,\n    active,\n    activeNodeRect,\n    dispatch,\n    draggableDescribedById,\n    draggableNodes,\n    over,\n    measureDroppableContainers,\n  ]);\n\n  return (\n    <DndMonitorContext.Provider value={registerMonitorListener}>\n      <InternalContext.Provider value={internalContext}>\n        <PublicContext.Provider value={publicContext}>\n          <ActiveDraggableContext.Provider value={transform}>\n            {children}\n          </ActiveDraggableContext.Provider>\n        </PublicContext.Provider>\n        <RestoreFocus disabled={accessibility?.restoreFocus === false} />\n      </InternalContext.Provider>\n      <Accessibility\n        {...accessibility}\n        hiddenTextDescribedById={draggableDescribedById}\n      />\n    </DndMonitorContext.Provider>\n  );\n\n  function getAutoScrollerOptions() {\n    const activeSensorDisablesAutoscroll =\n      activeSensor?.autoScrollEnabled === false;\n    const autoScrollGloballyDisabled =\n      typeof autoScroll === 'object'\n        ? autoScroll.enabled === false\n        : autoScroll === false;\n    const enabled =\n      isInitialized &&\n      !activeSensorDisablesAutoscroll &&\n      !autoScrollGloballyDisabled;\n\n    if (typeof autoScroll === 'object') {\n      return {\n        ...autoScroll,\n        enabled,\n      };\n    }\n\n    return {enabled};\n  }\n});\n","import {createContext, useContext, useMemo} from 'react';\nimport {\n  Transform,\n  useNodeRef,\n  useIsomorphicLayoutEffect,\n  useLatestValue,\n  useUniqueId,\n} from '@dnd-kit/utilities';\n\nimport {InternalContext, Data} from '../store';\nimport type {UniqueIdentifier} from '../types';\nimport {ActiveDraggableContext} from '../components/DndContext';\nimport {useSyntheticListeners, SyntheticListenerMap} from './utilities';\n\nexport interface UseDraggableArguments {\n  id: UniqueIdentifier;\n  data?: Data;\n  disabled?: boolean;\n  attributes?: {\n    role?: string;\n    roleDescription?: string;\n    tabIndex?: number;\n  };\n}\n\nexport interface DraggableAttributes {\n  role: string;\n  tabIndex: number;\n  'aria-disabled': boolean;\n  'aria-pressed': boolean | undefined;\n  'aria-roledescription': string;\n  'aria-describedby': string;\n}\n\nexport type DraggableSyntheticListeners = SyntheticListenerMap | undefined;\n\nconst NullContext = createContext<any>(null);\n\nconst defaultRole = 'button';\n\nconst ID_PREFIX = 'Droppable';\n\nexport function useDraggable({\n  id,\n  data,\n  disabled = false,\n  attributes,\n}: UseDraggableArguments) {\n  const key = useUniqueId(ID_PREFIX);\n  const {\n    activators,\n    activatorEvent,\n    active,\n    activeNodeRect,\n    ariaDescribedById,\n    draggableNodes,\n    over,\n  } = useContext(InternalContext);\n  const {\n    role = defaultRole,\n    roleDescription = 'draggable',\n    tabIndex = 0,\n  } = attributes ?? {};\n  const isDragging = active?.id === id;\n  const transform: Transform | null = useContext(\n    isDragging ? ActiveDraggableContext : NullContext\n  );\n  const [node, setNodeRef] = useNodeRef();\n  const [activatorNode, setActivatorNodeRef] = useNodeRef();\n  const listeners = useSyntheticListeners(activators, id);\n  const dataRef = useLatestValue(data);\n\n  useIsomorphicLayoutEffect(\n    () => {\n      draggableNodes.set(id, {id, key, node, activatorNode, data: dataRef});\n\n      return () => {\n        const node = draggableNodes.get(id);\n\n        if (node && node.key === key) {\n          draggableNodes.delete(id);\n        }\n      };\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [draggableNodes, id]\n  );\n\n  const memoizedAttributes: DraggableAttributes = useMemo(\n    () => ({\n      role,\n      tabIndex,\n      'aria-disabled': disabled,\n      'aria-pressed': isDragging && role === defaultRole ? true : undefined,\n      'aria-roledescription': roleDescription,\n      'aria-describedby': ariaDescribedById.draggable,\n    }),\n    [\n      disabled,\n      role,\n      tabIndex,\n      isDragging,\n      roleDescription,\n      ariaDescribedById.draggable,\n    ]\n  );\n\n  return {\n    active,\n    activatorEvent,\n    activeNodeRect,\n    attributes: memoizedAttributes,\n    isDragging,\n    listeners: disabled ? undefined : listeners,\n    node,\n    over,\n    setNodeRef,\n    setActivatorNodeRef,\n    transform,\n  };\n}\n","import {ContextType, useContext} from 'react';\nimport {PublicContext} from '../store';\n\nexport function useDndContext() {\n  return useContext(PublicContext);\n}\n\nexport type UseDndContextReturnValue = ContextType<typeof PublicContext>;\n","import {useCallback, useContext, useEffect, useRef} from 'react';\nimport {\n  useIsomorphicLayoutEffect,\n  useLatestValue,\n  useNodeRef,\n  useUniqueId,\n} from '@dnd-kit/utilities';\n\nimport {InternalContext, Action, Data} from '../store';\nimport type {ClientRect, UniqueIdentifier} from '../types';\n\nimport {useResizeObserver} from './utilities';\n\ninterface ResizeObserverConfig {\n  /** Whether the ResizeObserver should be disabled entirely */\n  disabled?: boolean;\n  /** Resize events may affect the layout and position of other droppable containers.\n   * Specify an array of `UniqueIdentifier` of droppable containers that should also be re-measured\n   * when this droppable container resizes. Specifying an empty array re-measures all droppable containers.\n   */\n  updateMeasurementsFor?: UniqueIdentifier[];\n  /** Represents the debounce timeout between when resize events are observed and when elements are re-measured */\n  timeout?: number;\n}\n\nexport interface UseDroppableArguments {\n  id: UniqueIdentifier;\n  disabled?: boolean;\n  data?: Data;\n  resizeObserverConfig?: ResizeObserverConfig;\n}\n\nconst ID_PREFIX = 'Droppable';\n\nconst defaultResizeObserverConfig = {\n  timeout: 25,\n};\n\nexport function useDroppable({\n  data,\n  disabled = false,\n  id,\n  resizeObserverConfig,\n}: UseDroppableArguments) {\n  const key = useUniqueId(ID_PREFIX);\n  const {active, dispatch, over, measureDroppableContainers} = useContext(\n    InternalContext\n  );\n  const previous = useRef({disabled});\n  const resizeObserverConnected = useRef(false);\n  const rect = useRef<ClientRect | null>(null);\n  const callbackId = useRef<NodeJS.Timeout | null>(null);\n  const {\n    disabled: resizeObserverDisabled,\n    updateMeasurementsFor,\n    timeout: resizeObserverTimeout,\n  } = {\n    ...defaultResizeObserverConfig,\n    ...resizeObserverConfig,\n  };\n  const ids = useLatestValue(updateMeasurementsFor ?? id);\n  const handleResize = useCallback(\n    () => {\n      if (!resizeObserverConnected.current) {\n        // ResizeObserver invokes the `handleResize` callback as soon as `observe` is called,\n        // assuming the element is rendered and displayed.\n        resizeObserverConnected.current = true;\n        return;\n      }\n\n      if (callbackId.current != null) {\n        clearTimeout(callbackId.current);\n      }\n\n      callbackId.current = setTimeout(() => {\n        measureDroppableContainers(\n          Array.isArray(ids.current) ? ids.current : [ids.current]\n        );\n        callbackId.current = null;\n      }, resizeObserverTimeout);\n    },\n    //eslint-disable-next-line react-hooks/exhaustive-deps\n    [resizeObserverTimeout]\n  );\n  const resizeObserver = useResizeObserver({\n    callback: handleResize,\n    disabled: resizeObserverDisabled || !active,\n  });\n  const handleNodeChange = useCallback(\n    (newElement: HTMLElement | null, previousElement: HTMLElement | null) => {\n      if (!resizeObserver) {\n        return;\n      }\n\n      if (previousElement) {\n        resizeObserver.unobserve(previousElement);\n        resizeObserverConnected.current = false;\n      }\n\n      if (newElement) {\n        resizeObserver.observe(newElement);\n      }\n    },\n    [resizeObserver]\n  );\n  const [nodeRef, setNodeRef] = useNodeRef(handleNodeChange);\n  const dataRef = useLatestValue(data);\n\n  useEffect(() => {\n    if (!resizeObserver || !nodeRef.current) {\n      return;\n    }\n\n    resizeObserver.disconnect();\n    resizeObserverConnected.current = false;\n    resizeObserver.observe(nodeRef.current);\n  }, [nodeRef, resizeObserver]);\n\n  useIsomorphicLayoutEffect(\n    () => {\n      dispatch({\n        type: Action.RegisterDroppable,\n        element: {\n          id,\n          key,\n          disabled,\n          node: nodeRef,\n          rect,\n          data: dataRef,\n        },\n      });\n\n      return () =>\n        dispatch({\n          type: Action.UnregisterDroppable,\n          key,\n          id,\n        });\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [id]\n  );\n\n  useEffect(() => {\n    if (disabled !== previous.current.disabled) {\n      dispatch({\n        type: Action.SetDroppableDisabled,\n        id,\n        key,\n        disabled,\n      });\n\n      previous.current.disabled = disabled;\n    }\n  }, [id, key, disabled, dispatch]);\n\n  return {\n    active,\n    rect,\n    isOver: over?.id === id,\n    node: nodeRef,\n    over,\n    setNodeRef,\n  };\n}\n","/**\n * Move an array item to a different position. Returns a new array with the item moved to the new position.\n */\nexport function arrayMove<T>(array: T[], from: number, to: number): T[] {\n  const newArray = array.slice();\n  newArray.splice(\n    to < 0 ? newArray.length + to : to,\n    0,\n    newArray.splice(from, 1)[0]\n  );\n\n  return newArray;\n}\n","import type {\n  ClientRect,\n  UniqueIdentifier,\n  UseDndContextReturnValue,\n} from '@dnd-kit/core';\n\nexport function getSortedRects(\n  items: UniqueIdentifier[],\n  rects: UseDndContextReturnValue['droppableRects']\n) {\n  return items.reduce<ClientRect[]>((accumulator, id, index) => {\n    const rect = rects.get(id);\n\n    if (rect) {\n      accumulator[index] = rect;\n    }\n\n    return accumulator;\n  }, Array(items.length));\n}\n","export function isValidIndex(index: number | null): index is number {\n  return index !== null && index >= 0;\n}\n","import type {UniqueIdentifier} from '@dnd-kit/core';\n\nexport function itemsEqual(a: UniqueIdentifier[], b: UniqueIdentifier[]) {\n  if (a === b) {\n    return true;\n  }\n\n  if (a.length !== b.length) {\n    return false;\n  }\n\n  for (let i = 0; i < a.length; i++) {\n    if (a[i] !== b[i]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n","import type {Disabled} from '../types';\n\nexport function normalizeDisabled(disabled: boolean | Disabled): Disabled {\n  if (typeof disabled === 'boolean') {\n    return {\n      draggable: disabled,\n      droppable: disabled,\n    };\n  }\n\n  return disabled;\n}\n","import {arrayMove} from '../utilities';\nimport type {SortingStrategy} from '../types';\n\nexport const rectSortingStrategy: SortingStrategy = ({\n  rects,\n  activeIndex,\n  overIndex,\n  index,\n}) => {\n  const newRects = arrayMove(rects, overIndex, activeIndex);\n\n  const oldRect = rects[index];\n  const newRect = newRects[index];\n\n  if (!newRect || !oldRect) {\n    return null;\n  }\n\n  return {\n    x: newRect.left - oldRect.left,\n    y: newRect.top - oldRect.top,\n    scaleX: newRect.width / oldRect.width,\n    scaleY: newRect.height / oldRect.height,\n  };\n};\n","import type {ClientRect} from '@dnd-kit/core';\nimport type {SortingStrategy} from '../types';\n\n// To-do: We should be calculating scale transformation\nconst defaultScale = {\n  scaleX: 1,\n  scaleY: 1,\n};\n\nexport const verticalListSortingStrategy: SortingStrategy = ({\n  activeIndex,\n  activeNodeRect: fallbackActiveRect,\n  index,\n  rects,\n  overIndex,\n}) => {\n  const activeNodeRect = rects[activeIndex] ?? fallbackActiveRect;\n\n  if (!activeNodeRect) {\n    return null;\n  }\n\n  if (index === activeIndex) {\n    const overIndexRect = rects[overIndex];\n\n    if (!overIndexRect) {\n      return null;\n    }\n\n    return {\n      x: 0,\n      y:\n        activeIndex < overIndex\n          ? overIndexRect.top +\n            overIndexRect.height -\n            (activeNodeRect.top + activeNodeRect.height)\n          : overIndexRect.top - activeNodeRect.top,\n      ...defaultScale,\n    };\n  }\n\n  const itemGap = getItemGap(rects, index, activeIndex);\n\n  if (index > activeIndex && index <= overIndex) {\n    return {\n      x: 0,\n      y: -activeNodeRect.height - itemGap,\n      ...defaultScale,\n    };\n  }\n\n  if (index < activeIndex && index >= overIndex) {\n    return {\n      x: 0,\n      y: activeNodeRect.height + itemGap,\n      ...defaultScale,\n    };\n  }\n\n  return {\n    x: 0,\n    y: 0,\n    ...defaultScale,\n  };\n};\n\nfunction getItemGap(\n  clientRects: ClientRect[],\n  index: number,\n  activeIndex: number\n) {\n  const currentRect: ClientRect | undefined = clientRects[index];\n  const previousRect: ClientRect | undefined = clientRects[index - 1];\n  const nextRect: ClientRect | undefined = clientRects[index + 1];\n\n  if (!currentRect) {\n    return 0;\n  }\n\n  if (activeIndex < index) {\n    return previousRect\n      ? currentRect.top - (previousRect.top + previousRect.height)\n      : nextRect\n      ? nextRect.top - (currentRect.top + currentRect.height)\n      : 0;\n  }\n\n  return nextRect\n    ? nextRect.top - (currentRect.top + currentRect.height)\n    : previousRect\n    ? currentRect.top - (previousRect.top + previousRect.height)\n    : 0;\n}\n","import React, {useEffect, useMemo, useRef} from 'react';\nimport {useDndContext, ClientRect, UniqueIdentifier} from '@dnd-kit/core';\nimport {useIsomorphicLayoutEffect, useUniqueId} from '@dnd-kit/utilities';\n\nimport type {Disabled, SortingStrategy} from '../types';\nimport {getSortedRects, itemsEqual, normalizeDisabled} from '../utilities';\nimport {rectSortingStrategy} from '../strategies';\n\nexport interface Props {\n  children: React.ReactNode;\n  items: (UniqueIdentifier | {id: UniqueIdentifier})[];\n  strategy?: SortingStrategy;\n  id?: string;\n  disabled?: boolean | Disabled;\n}\n\nconst ID_PREFIX = 'Sortable';\n\ninterface ContextDescriptor {\n  activeIndex: number;\n  containerId: string;\n  disabled: Disabled;\n  disableTransforms: boolean;\n  items: UniqueIdentifier[];\n  overIndex: number;\n  useDragOverlay: boolean;\n  sortedRects: ClientRect[];\n  strategy: SortingStrategy;\n}\n\nexport const Context = React.createContext<ContextDescriptor>({\n  activeIndex: -1,\n  containerId: ID_PREFIX,\n  disableTransforms: false,\n  items: [],\n  overIndex: -1,\n  useDragOverlay: false,\n  sortedRects: [],\n  strategy: rectSortingStrategy,\n  disabled: {\n    draggable: false,\n    droppable: false,\n  },\n});\n\nexport function SortableContext({\n  children,\n  id,\n  items: userDefinedItems,\n  strategy = rectSortingStrategy,\n  disabled: disabledProp = false,\n}: Props) {\n  const {\n    active,\n    dragOverlay,\n    droppableRects,\n    over,\n    measureDroppableContainers,\n  } = useDndContext();\n  const containerId = useUniqueId(ID_PREFIX, id);\n  const useDragOverlay = Boolean(dragOverlay.rect !== null);\n  const items = useMemo<UniqueIdentifier[]>(\n    () =>\n      userDefinedItems.map((item) =>\n        typeof item === 'object' && 'id' in item ? item.id : item\n      ),\n    [userDefinedItems]\n  );\n  const isDragging = active != null;\n  const activeIndex = active ? items.indexOf(active.id) : -1;\n  const overIndex = over ? items.indexOf(over.id) : -1;\n  const previousItemsRef = useRef(items);\n  const itemsHaveChanged = !itemsEqual(items, previousItemsRef.current);\n  const disableTransforms =\n    (overIndex !== -1 && activeIndex === -1) || itemsHaveChanged;\n  const disabled = normalizeDisabled(disabledProp);\n\n  useIsomorphicLayoutEffect(() => {\n    if (itemsHaveChanged && isDragging) {\n      measureDroppableContainers(items);\n    }\n  }, [itemsHaveChanged, items, isDragging, measureDroppableContainers]);\n\n  useEffect(() => {\n    previousItemsRef.current = items;\n  }, [items]);\n\n  const contextValue = useMemo(\n    (): ContextDescriptor => ({\n      activeIndex,\n      containerId,\n      disabled,\n      disableTransforms,\n      items,\n      overIndex,\n      useDragOverlay,\n      sortedRects: getSortedRects(items, droppableRects),\n      strategy,\n    }),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [\n      activeIndex,\n      containerId,\n      disabled.draggable,\n      disabled.droppable,\n      disableTransforms,\n      items,\n      overIndex,\n      droppableRects,\n      useDragOverlay,\n      strategy,\n    ]\n  );\n\n  return <Context.Provider value={contextValue}>{children}</Context.Provider>;\n}\n","import {CSS} from '@dnd-kit/utilities';\n\nimport {arrayMove} from '../utilities';\n\nimport type {\n  AnimateLayoutChanges,\n  NewIndexGetter,\n  SortableTransition,\n} from './types';\n\nexport const defaultNewIndexGetter: NewIndexGetter = ({\n  id,\n  items,\n  activeIndex,\n  overIndex,\n}) => arrayMove(items, activeIndex, overIndex).indexOf(id);\n\nexport const defaultAnimateLayoutChanges: AnimateLayoutChanges = ({\n  containerId,\n  isSorting,\n  wasDragging,\n  index,\n  items,\n  newIndex,\n  previousItems,\n  previousContainerId,\n  transition,\n}) => {\n  if (!transition || !wasDragging) {\n    return false;\n  }\n\n  if (previousItems !== items && index === newIndex) {\n    return false;\n  }\n\n  if (isSorting) {\n    return true;\n  }\n\n  return newIndex !== index && containerId === previousContainerId;\n};\n\nexport const defaultTransition: SortableTransition = {\n  duration: 200,\n  easing: 'ease',\n};\n\nexport const transitionProperty = 'transform';\n\nexport const disabledTransition = CSS.Transition.toString({\n  property: transitionProperty,\n  duration: 0,\n  easing: 'linear',\n});\n\nexport const defaultAttributes = {\n  roleDescription: 'sortable',\n};\n","import {useEffect, useRef, useState} from 'react';\nimport {getClientRect, ClientRect} from '@dnd-kit/core';\nimport {Transform, useIsomorphicLayoutEffect} from '@dnd-kit/utilities';\n\ninterface Arguments {\n  rect: React.MutableRefObject<ClientRect | null>;\n  disabled: boolean;\n  index: number;\n  node: React.MutableRefObject<HTMLElement | null>;\n}\n\n/*\n * When the index of an item changes while sorting,\n * we need to temporarily disable the transforms\n */\nexport function useDerivedTransform({disabled, index, node, rect}: Arguments) {\n  const [derivedTransform, setDerivedtransform] = useState<Transform | null>(\n    null\n  );\n  const previousIndex = useRef(index);\n\n  useIsomorphicLayoutEffect(() => {\n    if (!disabled && index !== previousIndex.current && node.current) {\n      const initial = rect.current;\n\n      if (initial) {\n        const current = getClientRect(node.current, {\n          ignoreTransform: true,\n        });\n\n        const delta = {\n          x: initial.left - current.left,\n          y: initial.top - current.top,\n          scaleX: initial.width / current.width,\n          scaleY: initial.height / current.height,\n        };\n\n        if (delta.x || delta.y) {\n          setDerivedtransform(delta);\n        }\n      }\n    }\n\n    if (index !== previousIndex.current) {\n      previousIndex.current = index;\n    }\n  }, [disabled, index, node, rect]);\n\n  useEffect(() => {\n    if (derivedTransform) {\n      setDerivedtransform(null);\n    }\n  }, [derivedTransform]);\n\n  return derivedTransform;\n}\n","import {useContext, useEffect, useMemo, useRef} from 'react';\nimport {\n  useDraggable,\n  useDroppable,\n  UseDraggableArguments,\n  UseDroppableArguments,\n} from '@dnd-kit/core';\nimport type {Data} from '@dnd-kit/core';\nimport {CSS, isKeyboardEvent, useCombinedRefs} from '@dnd-kit/utilities';\n\nimport {Context} from '../components';\nimport type {Disabled, SortableData, SortingStrategy} from '../types';\nimport {isValidIndex} from '../utilities';\nimport {\n  defaultAnimateLayoutChanges,\n  defaultAttributes,\n  defaultNewIndexGetter,\n  defaultTransition,\n  disabledTransition,\n  transitionProperty,\n} from './defaults';\nimport type {\n  AnimateLayoutChanges,\n  NewIndexGetter,\n  SortableTransition,\n} from './types';\nimport {useDerivedTransform} from './utilities';\n\nexport interface Arguments\n  extends Omit<UseDraggableArguments, 'disabled'>,\n    Pick<UseDroppableArguments, 'resizeObserverConfig'> {\n  animateLayoutChanges?: AnimateLayoutChanges;\n  disabled?: boolean | Disabled;\n  getNewIndex?: NewIndexGetter;\n  strategy?: SortingStrategy;\n  transition?: SortableTransition | null;\n}\n\nexport function useSortable({\n  animateLayoutChanges = defaultAnimateLayoutChanges,\n  attributes: userDefinedAttributes,\n  disabled: localDisabled,\n  data: customData,\n  getNewIndex = defaultNewIndexGetter,\n  id,\n  strategy: localStrategy,\n  resizeObserverConfig,\n  transition = defaultTransition,\n}: Arguments) {\n  const {\n    items,\n    containerId,\n    activeIndex,\n    disabled: globalDisabled,\n    disableTransforms,\n    sortedRects,\n    overIndex,\n    useDragOverlay,\n    strategy: globalStrategy,\n  } = useContext(Context);\n  const disabled: Disabled = normalizeLocalDisabled(\n    localDisabled,\n    globalDisabled\n  );\n  const index = items.indexOf(id);\n  const data = useMemo<SortableData & Data>(\n    () => ({sortable: {containerId, index, items}, ...customData}),\n    [containerId, customData, index, items]\n  );\n  const itemsAfterCurrentSortable = useMemo(\n    () => items.slice(items.indexOf(id)),\n    [items, id]\n  );\n  const {\n    rect,\n    node,\n    isOver,\n    setNodeRef: setDroppableNodeRef,\n  } = useDroppable({\n    id,\n    data,\n    disabled: disabled.droppable,\n    resizeObserverConfig: {\n      updateMeasurementsFor: itemsAfterCurrentSortable,\n      ...resizeObserverConfig,\n    },\n  });\n  const {\n    active,\n    activatorEvent,\n    activeNodeRect,\n    attributes,\n    setNodeRef: setDraggableNodeRef,\n    listeners,\n    isDragging,\n    over,\n    setActivatorNodeRef,\n    transform,\n  } = useDraggable({\n    id,\n    data,\n    attributes: {\n      ...defaultAttributes,\n      ...userDefinedAttributes,\n    },\n    disabled: disabled.draggable,\n  });\n  const setNodeRef = useCombinedRefs(setDroppableNodeRef, setDraggableNodeRef);\n  const isSorting = Boolean(active);\n  const displaceItem =\n    isSorting &&\n    !disableTransforms &&\n    isValidIndex(activeIndex) &&\n    isValidIndex(overIndex);\n  const shouldDisplaceDragSource = !useDragOverlay && isDragging;\n  const dragSourceDisplacement =\n    shouldDisplaceDragSource && displaceItem ? transform : null;\n  const strategy = localStrategy ?? globalStrategy;\n  const finalTransform = displaceItem\n    ? dragSourceDisplacement ??\n      strategy({\n        rects: sortedRects,\n        activeNodeRect,\n        activeIndex,\n        overIndex,\n        index,\n      })\n    : null;\n  const newIndex =\n    isValidIndex(activeIndex) && isValidIndex(overIndex)\n      ? getNewIndex({id, items, activeIndex, overIndex})\n      : index;\n  const activeId = active?.id;\n  const previous = useRef({\n    activeId,\n    items,\n    newIndex,\n    containerId,\n  });\n  const itemsHaveChanged = items !== previous.current.items;\n  const shouldAnimateLayoutChanges = animateLayoutChanges({\n    active,\n    containerId,\n    isDragging,\n    isSorting,\n    id,\n    index,\n    items,\n    newIndex: previous.current.newIndex,\n    previousItems: previous.current.items,\n    previousContainerId: previous.current.containerId,\n    transition,\n    wasDragging: previous.current.activeId != null,\n  });\n\n  const derivedTransform = useDerivedTransform({\n    disabled: !shouldAnimateLayoutChanges,\n    index,\n    node,\n    rect,\n  });\n\n  useEffect(() => {\n    if (isSorting && previous.current.newIndex !== newIndex) {\n      previous.current.newIndex = newIndex;\n    }\n\n    if (containerId !== previous.current.containerId) {\n      previous.current.containerId = containerId;\n    }\n\n    if (items !== previous.current.items) {\n      previous.current.items = items;\n    }\n  }, [isSorting, newIndex, containerId, items]);\n\n  useEffect(() => {\n    if (activeId === previous.current.activeId) {\n      return;\n    }\n\n    if (activeId && !previous.current.activeId) {\n      previous.current.activeId = activeId;\n      return;\n    }\n\n    const timeoutId = setTimeout(() => {\n      previous.current.activeId = activeId;\n    }, 50);\n\n    return () => clearTimeout(timeoutId);\n  }, [activeId]);\n\n  return {\n    active,\n    activeIndex,\n    attributes,\n    data,\n    rect,\n    index,\n    newIndex,\n    items,\n    isOver,\n    isSorting,\n    isDragging,\n    listeners,\n    node,\n    overIndex,\n    over,\n    setNodeRef,\n    setActivatorNodeRef,\n    setDroppableNodeRef,\n    setDraggableNodeRef,\n    transform: derivedTransform ?? finalTransform,\n    transition: getTransition(),\n  };\n\n  function getTransition() {\n    if (\n      // Temporarily disable transitions for a single frame to set up derived transforms\n      derivedTransform ||\n      // Or to prevent items jumping to back to their \"new\" position when items change\n      (itemsHaveChanged && previous.current.newIndex === index)\n    ) {\n      return disabledTransition;\n    }\n\n    if (\n      (shouldDisplaceDragSource && !isKeyboardEvent(activatorEvent)) ||\n      !transition\n    ) {\n      return undefined;\n    }\n\n    if (isSorting || shouldAnimateLayoutChanges) {\n      return CSS.Transition.toString({\n        ...transition,\n        property: transitionProperty,\n      });\n    }\n\n    return undefined;\n  }\n}\n\nfunction normalizeLocalDisabled(\n  localDisabled: Arguments['disabled'],\n  globalDisabled: Disabled\n) {\n  if (typeof localDisabled === 'boolean') {\n    return {\n      draggable: localDisabled,\n      // Backwards compatibility\n      droppable: false,\n    };\n  }\n\n  return {\n    draggable: localDisabled?.draggable ?? globalDisabled.draggable,\n    droppable: localDisabled?.droppable ?? globalDisabled.droppable,\n  };\n}\n","import type {\n  Active,\n  Data,\n  DroppableContainer,\n  DraggableNode,\n  Over,\n} from '@dnd-kit/core';\n\nimport type {SortableData} from './data';\n\nexport function hasSortableData<\n  T extends Active | Over | DraggableNode | DroppableContainer\n>(\n  entry: T | null | undefined\n): entry is T & {data: {current: Data<SortableData>}} {\n  if (!entry) {\n    return false;\n  }\n\n  const data = entry.data.current;\n\n  if (\n    data &&\n    'sortable' in data &&\n    typeof data.sortable === 'object' &&\n    'containerId' in data.sortable &&\n    'items' in data.sortable &&\n    'index' in data.sortable\n  ) {\n    return true;\n  }\n\n  return false;\n}\n","import {\n  closestCorners,\n  getScrollableAncestors,\n  getFirstCollision,\n  KeyboardCode,\n  DroppableContainer,\n  KeyboardCoordinateGetter,\n} from '@dnd-kit/core';\nimport {subtract} from '@dnd-kit/utilities';\n\nimport {hasSortableData} from '../../types';\n\nconst directions: string[] = [\n  KeyboardCode.Down,\n  KeyboardCode.Right,\n  KeyboardCode.Up,\n  KeyboardCode.Left,\n];\n\nexport const sortableKeyboardCoordinates: KeyboardCoordinateGetter = (\n  event,\n  {\n    context: {\n      active,\n      collisionRect,\n      droppableRects,\n      droppableContainers,\n      over,\n      scrollableAncestors,\n    },\n  }\n) => {\n  if (directions.includes(event.code)) {\n    event.preventDefault();\n\n    if (!active || !collisionRect) {\n      return;\n    }\n\n    const filteredContainers: DroppableContainer[] = [];\n\n    droppableContainers.getEnabled().forEach((entry) => {\n      if (!entry || entry?.disabled) {\n        return;\n      }\n\n      const rect = droppableRects.get(entry.id);\n\n      if (!rect) {\n        return;\n      }\n\n      switch (event.code) {\n        case KeyboardCode.Down:\n          if (collisionRect.top < rect.top) {\n            filteredContainers.push(entry);\n          }\n          break;\n        case KeyboardCode.Up:\n          if (collisionRect.top > rect.top) {\n            filteredContainers.push(entry);\n          }\n          break;\n        case KeyboardCode.Left:\n          if (collisionRect.left > rect.left) {\n            filteredContainers.push(entry);\n          }\n          break;\n        case KeyboardCode.Right:\n          if (collisionRect.left < rect.left) {\n            filteredContainers.push(entry);\n          }\n          break;\n      }\n    });\n\n    const collisions = closestCorners({\n      active,\n      collisionRect: collisionRect,\n      droppableRects,\n      droppableContainers: filteredContainers,\n      pointerCoordinates: null,\n    });\n    let closestId = getFirstCollision(collisions, 'id');\n\n    if (closestId === over?.id && collisions.length > 1) {\n      closestId = collisions[1].id;\n    }\n\n    if (closestId != null) {\n      const activeDroppable = droppableContainers.get(active.id);\n      const newDroppable = droppableContainers.get(closestId);\n      const newRect = newDroppable ? droppableRects.get(newDroppable.id) : null;\n      const newNode = newDroppable?.node.current;\n\n      if (newNode && newRect && activeDroppable && newDroppable) {\n        const newScrollAncestors = getScrollableAncestors(newNode);\n        const hasDifferentScrollAncestors = newScrollAncestors.some(\n          (element, index) => scrollableAncestors[index] !== element\n        );\n        const hasSameContainer = isSameContainer(activeDroppable, newDroppable);\n        const isAfterActive = isAfter(activeDroppable, newDroppable);\n        const offset =\n          hasDifferentScrollAncestors || !hasSameContainer\n            ? {\n                x: 0,\n                y: 0,\n              }\n            : {\n                x: isAfterActive ? collisionRect.width - newRect.width : 0,\n                y: isAfterActive ? collisionRect.height - newRect.height : 0,\n              };\n        const rectCoordinates = {\n          x: newRect.left,\n          y: newRect.top,\n        };\n\n        const newCoordinates =\n          offset.x && offset.y\n            ? rectCoordinates\n            : subtract(rectCoordinates, offset);\n\n        return newCoordinates;\n      }\n    }\n  }\n\n  return undefined;\n};\n\nfunction isSameContainer(a: DroppableContainer, b: DroppableContainer) {\n  if (!hasSortableData(a) || !hasSortableData(b)) {\n    return false;\n  }\n\n  return (\n    a.data.current.sortable.containerId === b.data.current.sortable.containerId\n  );\n}\n\nfunction isAfter(a: DroppableContainer, b: DroppableContainer) {\n  if (!hasSortableData(a) || !hasSortableData(b)) {\n    return false;\n  }\n\n  if (!isSameContainer(a, b)) {\n    return false;\n  }\n\n  return a.data.current.sortable.index < b.data.current.sortable.index;\n}\n","import { createContext, useContext, useMemo } from 'react';\r\nimport { useYooptaReadOnly } from './YooptaContext';\r\n\r\nexport type ToolProps<RenderProps = any, ToolProps = any> = {\r\n  render: React.ComponentType<RenderProps>;\r\n  tool: React.ComponentType<ToolProps>;\r\n  props?: Record<string, unknown>;\r\n};\r\n\r\nexport type Tools = {\r\n  ActionMenu: ToolProps;\r\n  Toolbar: ToolProps;\r\n  LinkTool: ToolProps;\r\n  [key: string]: ToolProps;\r\n};\r\n\r\nexport type ToolsContextType = {\r\n  [key: string]: ToolProps['render'];\r\n};\r\n\r\nconst ToolsContext = createContext<ToolsContextType | undefined>(undefined);\r\n\r\ntype Props = {\r\n  tools?: Partial<Tools>;\r\n  children: React.ReactNode;\r\n};\r\n\r\nexport const ToolsProvider = ({ children, tools }: Props) => {\r\n  const isReadOnly = useYooptaReadOnly();\r\n\r\n  const contextValue = useMemo(() => {\r\n    if (!tools) return {};\r\n\r\n    return Object.keys(tools).reduce((acc, toolname) => {\r\n      return {\r\n        ...acc,\r\n        [toolname]: tools[toolname]?.render,\r\n      };\r\n    }, {});\r\n  }, [tools]);\r\n\r\n  const toolsRender = useMemo(() => {\r\n    if (!tools || isReadOnly) return null;\r\n\r\n    return Object.keys(tools).map((toolname) => {\r\n      const Tool = tools?.[toolname]?.tool;\r\n      const render = tools?.[toolname]?.render;\r\n      const props = tools?.[toolname]?.props;\r\n      if (!Tool) return null;\r\n      // @ts-ignore - fixme\r\n      return <Tool key={toolname} render={render} {...props} />;\r\n    });\r\n  }, [tools]);\r\n\r\n  return (\r\n    <ToolsContext.Provider value={contextValue}>\r\n      <>\r\n        {toolsRender}\r\n        {children}\r\n      </>\r\n    </ToolsContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useYooptaTools = (): ToolsContextType => {\r\n  const context = useContext(ToolsContext);\r\n  if (context === undefined) {\r\n    throw new Error('useYooptaTools must be used within a ToolsProvider');\r\n  }\r\n\r\n  return context;\r\n};\r\n","function getNodeName(node) {\n  if (isNode(node)) {\n    return (node.nodeName || '').toLowerCase();\n  }\n  // Mocked nodes in testing environments may not be instances of Node. By\n  // returning `#document` an infinite loop won't occur.\n  // https://github.com/floating-ui/floating-ui/issues/2317\n  return '#document';\n}\nfunction getWindow(node) {\n  var _node$ownerDocument;\n  return (node == null || (_node$ownerDocument = node.ownerDocument) == null ? void 0 : _node$ownerDocument.defaultView) || window;\n}\nfunction getDocumentElement(node) {\n  var _ref;\n  return (_ref = (isNode(node) ? node.ownerDocument : node.document) || window.document) == null ? void 0 : _ref.documentElement;\n}\nfunction isNode(value) {\n  return value instanceof Node || value instanceof getWindow(value).Node;\n}\nfunction isElement(value) {\n  return value instanceof Element || value instanceof getWindow(value).Element;\n}\nfunction isHTMLElement(value) {\n  return value instanceof HTMLElement || value instanceof getWindow(value).HTMLElement;\n}\nfunction isShadowRoot(value) {\n  // Browsers without `ShadowRoot` support.\n  if (typeof ShadowRoot === 'undefined') {\n    return false;\n  }\n  return value instanceof ShadowRoot || value instanceof getWindow(value).ShadowRoot;\n}\nfunction isOverflowElement(element) {\n  const {\n    overflow,\n    overflowX,\n    overflowY,\n    display\n  } = getComputedStyle(element);\n  return /auto|scroll|overlay|hidden|clip/.test(overflow + overflowY + overflowX) && !['inline', 'contents'].includes(display);\n}\nfunction isTableElement(element) {\n  return ['table', 'td', 'th'].includes(getNodeName(element));\n}\nfunction isContainingBlock(element) {\n  const webkit = isWebKit();\n  const css = getComputedStyle(element);\n\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n  return css.transform !== 'none' || css.perspective !== 'none' || (css.containerType ? css.containerType !== 'normal' : false) || !webkit && (css.backdropFilter ? css.backdropFilter !== 'none' : false) || !webkit && (css.filter ? css.filter !== 'none' : false) || ['transform', 'perspective', 'filter'].some(value => (css.willChange || '').includes(value)) || ['paint', 'layout', 'strict', 'content'].some(value => (css.contain || '').includes(value));\n}\nfunction getContainingBlock(element) {\n  let currentNode = getParentNode(element);\n  while (isHTMLElement(currentNode) && !isLastTraversableNode(currentNode)) {\n    if (isContainingBlock(currentNode)) {\n      return currentNode;\n    } else {\n      currentNode = getParentNode(currentNode);\n    }\n  }\n  return null;\n}\nfunction isWebKit() {\n  if (typeof CSS === 'undefined' || !CSS.supports) return false;\n  return CSS.supports('-webkit-backdrop-filter', 'none');\n}\nfunction isLastTraversableNode(node) {\n  return ['html', 'body', '#document'].includes(getNodeName(node));\n}\nfunction getComputedStyle(element) {\n  return getWindow(element).getComputedStyle(element);\n}\nfunction getNodeScroll(element) {\n  if (isElement(element)) {\n    return {\n      scrollLeft: element.scrollLeft,\n      scrollTop: element.scrollTop\n    };\n  }\n  return {\n    scrollLeft: element.pageXOffset,\n    scrollTop: element.pageYOffset\n  };\n}\nfunction getParentNode(node) {\n  if (getNodeName(node) === 'html') {\n    return node;\n  }\n  const result =\n  // Step into the shadow DOM of the parent of a slotted node.\n  node.assignedSlot ||\n  // DOM Element detected.\n  node.parentNode ||\n  // ShadowRoot detected.\n  isShadowRoot(node) && node.host ||\n  // Fallback.\n  getDocumentElement(node);\n  return isShadowRoot(result) ? result.host : result;\n}\nfunction getNearestOverflowAncestor(node) {\n  const parentNode = getParentNode(node);\n  if (isLastTraversableNode(parentNode)) {\n    return node.ownerDocument ? node.ownerDocument.body : node.body;\n  }\n  if (isHTMLElement(parentNode) && isOverflowElement(parentNode)) {\n    return parentNode;\n  }\n  return getNearestOverflowAncestor(parentNode);\n}\nfunction getOverflowAncestors(node, list, traverseIframes) {\n  var _node$ownerDocument2;\n  if (list === void 0) {\n    list = [];\n  }\n  if (traverseIframes === void 0) {\n    traverseIframes = true;\n  }\n  const scrollableAncestor = getNearestOverflowAncestor(node);\n  const isBody = scrollableAncestor === ((_node$ownerDocument2 = node.ownerDocument) == null ? void 0 : _node$ownerDocument2.body);\n  const win = getWindow(scrollableAncestor);\n  if (isBody) {\n    return list.concat(win, win.visualViewport || [], isOverflowElement(scrollableAncestor) ? scrollableAncestor : [], win.frameElement && traverseIframes ? getOverflowAncestors(win.frameElement) : []);\n  }\n  return list.concat(scrollableAncestor, getOverflowAncestors(scrollableAncestor, [], traverseIframes));\n}\n\nexport { getComputedStyle, getContainingBlock, getDocumentElement, getNearestOverflowAncestor, getNodeName, getNodeScroll, getOverflowAncestors, getParentNode, getWindow, isContainingBlock, isElement, isHTMLElement, isLastTraversableNode, isNode, isOverflowElement, isShadowRoot, isTableElement, isWebKit };\n","import { isShadowRoot, isHTMLElement } from '@floating-ui/utils/dom';\n\nfunction activeElement(doc) {\n  let activeElement = doc.activeElement;\n  while (((_activeElement = activeElement) == null || (_activeElement = _activeElement.shadowRoot) == null ? void 0 : _activeElement.activeElement) != null) {\n    var _activeElement;\n    activeElement = activeElement.shadowRoot.activeElement;\n  }\n  return activeElement;\n}\nfunction contains(parent, child) {\n  if (!parent || !child) {\n    return false;\n  }\n  const rootNode = child.getRootNode == null ? void 0 : child.getRootNode();\n\n  // First, attempt with faster native method\n  if (parent.contains(child)) {\n    return true;\n  }\n\n  // then fallback to custom implementation with Shadow DOM support\n  if (rootNode && isShadowRoot(rootNode)) {\n    let next = child;\n    while (next) {\n      if (parent === next) {\n        return true;\n      }\n      // @ts-ignore\n      next = next.parentNode || next.host;\n    }\n  }\n\n  // Give up, the result is false\n  return false;\n}\n// Avoid Chrome DevTools blue warning.\nfunction getPlatform() {\n  const uaData = navigator.userAgentData;\n  if (uaData != null && uaData.platform) {\n    return uaData.platform;\n  }\n  return navigator.platform;\n}\nfunction getUserAgent() {\n  const uaData = navigator.userAgentData;\n  if (uaData && Array.isArray(uaData.brands)) {\n    return uaData.brands.map(_ref => {\n      let {\n        brand,\n        version\n      } = _ref;\n      return brand + \"/\" + version;\n    }).join(' ');\n  }\n  return navigator.userAgent;\n}\n\n// License: https://github.com/adobe/react-spectrum/blob/b35d5c02fe900badccd0cf1a8f23bb593419f238/packages/@react-aria/utils/src/isVirtualEvent.ts\nfunction isVirtualClick(event) {\n  // FIXME: Firefox is now emitting a deprecation warning for `mozInputSource`.\n  // Try to find a workaround for this. `react-aria` source still has the check.\n  if (event.mozInputSource === 0 && event.isTrusted) {\n    return true;\n  }\n  if (isAndroid() && event.pointerType) {\n    return event.type === 'click' && event.buttons === 1;\n  }\n  return event.detail === 0 && !event.pointerType;\n}\nfunction isVirtualPointerEvent(event) {\n  if (isJSDOM()) return false;\n  return !isAndroid() && event.width === 0 && event.height === 0 || isAndroid() && event.width === 1 && event.height === 1 && event.pressure === 0 && event.detail === 0 && event.pointerType === 'mouse' ||\n  // iOS VoiceOver returns 0.333• for width/height.\n  event.width < 1 && event.height < 1 && event.pressure === 0 && event.detail === 0 && event.pointerType === 'touch';\n}\nfunction isSafari() {\n  // Chrome DevTools does not complain about navigator.vendor\n  return /apple/i.test(navigator.vendor);\n}\nfunction isAndroid() {\n  const re = /android/i;\n  return re.test(getPlatform()) || re.test(getUserAgent());\n}\nfunction isMac() {\n  return getPlatform().toLowerCase().startsWith('mac') && !navigator.maxTouchPoints;\n}\nfunction isJSDOM() {\n  return getUserAgent().includes('jsdom/');\n}\nfunction isMouseLikePointerType(pointerType, strict) {\n  // On some Linux machines with Chromium, mouse inputs return a `pointerType`\n  // of \"pen\": https://github.com/floating-ui/floating-ui/issues/2015\n  const values = ['mouse', 'pen'];\n  if (!strict) {\n    values.push('', undefined);\n  }\n  return values.includes(pointerType);\n}\nfunction isReactEvent(event) {\n  return 'nativeEvent' in event;\n}\nfunction isRootElement(element) {\n  return element.matches('html,body');\n}\nfunction getDocument(node) {\n  return (node == null ? void 0 : node.ownerDocument) || document;\n}\nfunction isEventTargetWithin(event, node) {\n  if (node == null) {\n    return false;\n  }\n  if ('composedPath' in event) {\n    return event.composedPath().includes(node);\n  }\n\n  // TS thinks `event` is of type never as it assumes all browsers support composedPath, but browsers without shadow dom don't\n  const e = event;\n  return e.target != null && node.contains(e.target);\n}\nfunction getTarget(event) {\n  if ('composedPath' in event) {\n    return event.composedPath()[0];\n  }\n\n  // TS thinks `event` is of type never as it assumes all browsers support\n  // `composedPath()`, but browsers without shadow DOM don't.\n  return event.target;\n}\nconst TYPEABLE_SELECTOR = \"input:not([type='hidden']):not([disabled]),\" + \"[contenteditable]:not([contenteditable='false']),textarea:not([disabled])\";\nfunction isTypeableElement(element) {\n  return isHTMLElement(element) && element.matches(TYPEABLE_SELECTOR);\n}\nfunction stopEvent(event) {\n  event.preventDefault();\n  event.stopPropagation();\n}\nfunction isTypeableCombobox(element) {\n  if (!element) return false;\n  return element.getAttribute('role') === 'combobox' && isTypeableElement(element);\n}\n\nexport { TYPEABLE_SELECTOR, activeElement, contains, getDocument, getPlatform, getTarget, getUserAgent, isAndroid, isEventTargetWithin, isJSDOM, isMac, isMouseLikePointerType, isReactEvent, isRootElement, isSafari, isTypeableCombobox, isTypeableElement, isVirtualClick, isVirtualPointerEvent, stopEvent };\n","/**\n * Custom positioning reference element.\n * @see https://floating-ui.com/docs/virtual-elements\n */\n\nconst sides = ['top', 'right', 'bottom', 'left'];\nconst alignments = ['start', 'end'];\nconst placements = /*#__PURE__*/sides.reduce((acc, side) => acc.concat(side, side + \"-\" + alignments[0], side + \"-\" + alignments[1]), []);\nconst min = Math.min;\nconst max = Math.max;\nconst round = Math.round;\nconst floor = Math.floor;\nconst createCoords = v => ({\n  x: v,\n  y: v\n});\nconst oppositeSideMap = {\n  left: 'right',\n  right: 'left',\n  bottom: 'top',\n  top: 'bottom'\n};\nconst oppositeAlignmentMap = {\n  start: 'end',\n  end: 'start'\n};\nfunction clamp(start, value, end) {\n  return max(start, min(value, end));\n}\nfunction evaluate(value, param) {\n  return typeof value === 'function' ? value(param) : value;\n}\nfunction getSide(placement) {\n  return placement.split('-')[0];\n}\nfunction getAlignment(placement) {\n  return placement.split('-')[1];\n}\nfunction getOppositeAxis(axis) {\n  return axis === 'x' ? 'y' : 'x';\n}\nfunction getAxisLength(axis) {\n  return axis === 'y' ? 'height' : 'width';\n}\nfunction getSideAxis(placement) {\n  return ['top', 'bottom'].includes(getSide(placement)) ? 'y' : 'x';\n}\nfunction getAlignmentAxis(placement) {\n  return getOppositeAxis(getSideAxis(placement));\n}\nfunction getAlignmentSides(placement, rects, rtl) {\n  if (rtl === void 0) {\n    rtl = false;\n  }\n  const alignment = getAlignment(placement);\n  const alignmentAxis = getAlignmentAxis(placement);\n  const length = getAxisLength(alignmentAxis);\n  let mainAlignmentSide = alignmentAxis === 'x' ? alignment === (rtl ? 'end' : 'start') ? 'right' : 'left' : alignment === 'start' ? 'bottom' : 'top';\n  if (rects.reference[length] > rects.floating[length]) {\n    mainAlignmentSide = getOppositePlacement(mainAlignmentSide);\n  }\n  return [mainAlignmentSide, getOppositePlacement(mainAlignmentSide)];\n}\nfunction getExpandedPlacements(placement) {\n  const oppositePlacement = getOppositePlacement(placement);\n  return [getOppositeAlignmentPlacement(placement), oppositePlacement, getOppositeAlignmentPlacement(oppositePlacement)];\n}\nfunction getOppositeAlignmentPlacement(placement) {\n  return placement.replace(/start|end/g, alignment => oppositeAlignmentMap[alignment]);\n}\nfunction getSideList(side, isStart, rtl) {\n  const lr = ['left', 'right'];\n  const rl = ['right', 'left'];\n  const tb = ['top', 'bottom'];\n  const bt = ['bottom', 'top'];\n  switch (side) {\n    case 'top':\n    case 'bottom':\n      if (rtl) return isStart ? rl : lr;\n      return isStart ? lr : rl;\n    case 'left':\n    case 'right':\n      return isStart ? tb : bt;\n    default:\n      return [];\n  }\n}\nfunction getOppositeAxisPlacements(placement, flipAlignment, direction, rtl) {\n  const alignment = getAlignment(placement);\n  let list = getSideList(getSide(placement), direction === 'start', rtl);\n  if (alignment) {\n    list = list.map(side => side + \"-\" + alignment);\n    if (flipAlignment) {\n      list = list.concat(list.map(getOppositeAlignmentPlacement));\n    }\n  }\n  return list;\n}\nfunction getOppositePlacement(placement) {\n  return placement.replace(/left|right|bottom|top/g, side => oppositeSideMap[side]);\n}\nfunction expandPaddingObject(padding) {\n  return {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n    ...padding\n  };\n}\nfunction getPaddingObject(padding) {\n  return typeof padding !== 'number' ? expandPaddingObject(padding) : {\n    top: padding,\n    right: padding,\n    bottom: padding,\n    left: padding\n  };\n}\nfunction rectToClientRect(rect) {\n  return {\n    ...rect,\n    top: rect.y,\n    left: rect.x,\n    right: rect.x + rect.width,\n    bottom: rect.y + rect.height\n  };\n}\n\nexport { alignments, clamp, createCoords, evaluate, expandPaddingObject, floor, getAlignment, getAlignmentAxis, getAlignmentSides, getAxisLength, getExpandedPlacements, getOppositeAlignmentPlacement, getOppositeAxis, getOppositeAxisPlacements, getOppositePlacement, getPaddingObject, getSide, getSideAxis, max, min, placements, rectToClientRect, round, sides };\n","import { getSideAxis, getAlignmentAxis, getAxisLength, getSide, getAlignment, evaluate, getPaddingObject, rectToClientRect, min, clamp, placements, getAlignmentSides, getOppositeAlignmentPlacement, getOppositePlacement, getExpandedPlacements, getOppositeAxisPlacements, sides, max, getOppositeAxis } from '@floating-ui/utils';\nexport { rectToClientRect } from '@floating-ui/utils';\n\nfunction computeCoordsFromPlacement(_ref, placement, rtl) {\n  let {\n    reference,\n    floating\n  } = _ref;\n  const sideAxis = getSideAxis(placement);\n  const alignmentAxis = getAlignmentAxis(placement);\n  const alignLength = getAxisLength(alignmentAxis);\n  const side = getSide(placement);\n  const isVertical = sideAxis === 'y';\n  const commonX = reference.x + reference.width / 2 - floating.width / 2;\n  const commonY = reference.y + reference.height / 2 - floating.height / 2;\n  const commonAlign = reference[alignLength] / 2 - floating[alignLength] / 2;\n  let coords;\n  switch (side) {\n    case 'top':\n      coords = {\n        x: commonX,\n        y: reference.y - floating.height\n      };\n      break;\n    case 'bottom':\n      coords = {\n        x: commonX,\n        y: reference.y + reference.height\n      };\n      break;\n    case 'right':\n      coords = {\n        x: reference.x + reference.width,\n        y: commonY\n      };\n      break;\n    case 'left':\n      coords = {\n        x: reference.x - floating.width,\n        y: commonY\n      };\n      break;\n    default:\n      coords = {\n        x: reference.x,\n        y: reference.y\n      };\n  }\n  switch (getAlignment(placement)) {\n    case 'start':\n      coords[alignmentAxis] -= commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n    case 'end':\n      coords[alignmentAxis] += commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n  }\n  return coords;\n}\n\n/**\n * Computes the `x` and `y` coordinates that will place the floating element\n * next to a given reference element.\n *\n * This export does not have any `platform` interface logic. You will need to\n * write one for the platform you are using Floating UI with.\n */\nconst computePosition = async (reference, floating, config) => {\n  const {\n    placement = 'bottom',\n    strategy = 'absolute',\n    middleware = [],\n    platform\n  } = config;\n  const validMiddleware = middleware.filter(Boolean);\n  const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(floating));\n  let rects = await platform.getElementRects({\n    reference,\n    floating,\n    strategy\n  });\n  let {\n    x,\n    y\n  } = computeCoordsFromPlacement(rects, placement, rtl);\n  let statefulPlacement = placement;\n  let middlewareData = {};\n  let resetCount = 0;\n  for (let i = 0; i < validMiddleware.length; i++) {\n    const {\n      name,\n      fn\n    } = validMiddleware[i];\n    const {\n      x: nextX,\n      y: nextY,\n      data,\n      reset\n    } = await fn({\n      x,\n      y,\n      initialPlacement: placement,\n      placement: statefulPlacement,\n      strategy,\n      middlewareData,\n      rects,\n      platform,\n      elements: {\n        reference,\n        floating\n      }\n    });\n    x = nextX != null ? nextX : x;\n    y = nextY != null ? nextY : y;\n    middlewareData = {\n      ...middlewareData,\n      [name]: {\n        ...middlewareData[name],\n        ...data\n      }\n    };\n    if (reset && resetCount <= 50) {\n      resetCount++;\n      if (typeof reset === 'object') {\n        if (reset.placement) {\n          statefulPlacement = reset.placement;\n        }\n        if (reset.rects) {\n          rects = reset.rects === true ? await platform.getElementRects({\n            reference,\n            floating,\n            strategy\n          }) : reset.rects;\n        }\n        ({\n          x,\n          y\n        } = computeCoordsFromPlacement(rects, statefulPlacement, rtl));\n      }\n      i = -1;\n    }\n  }\n  return {\n    x,\n    y,\n    placement: statefulPlacement,\n    strategy,\n    middlewareData\n  };\n};\n\n/**\n * Resolves with an object of overflow side offsets that determine how much the\n * element is overflowing a given clipping boundary on each side.\n * - positive = overflowing the boundary by that number of pixels\n * - negative = how many pixels left before it will overflow\n * - 0 = lies flush with the boundary\n * @see https://floating-ui.com/docs/detectOverflow\n */\nasync function detectOverflow(state, options) {\n  var _await$platform$isEle;\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    x,\n    y,\n    platform,\n    rects,\n    elements,\n    strategy\n  } = state;\n  const {\n    boundary = 'clippingAncestors',\n    rootBoundary = 'viewport',\n    elementContext = 'floating',\n    altBoundary = false,\n    padding = 0\n  } = evaluate(options, state);\n  const paddingObject = getPaddingObject(padding);\n  const altContext = elementContext === 'floating' ? 'reference' : 'floating';\n  const element = elements[altBoundary ? altContext : elementContext];\n  const clippingClientRect = rectToClientRect(await platform.getClippingRect({\n    element: ((_await$platform$isEle = await (platform.isElement == null ? void 0 : platform.isElement(element))) != null ? _await$platform$isEle : true) ? element : element.contextElement || (await (platform.getDocumentElement == null ? void 0 : platform.getDocumentElement(elements.floating))),\n    boundary,\n    rootBoundary,\n    strategy\n  }));\n  const rect = elementContext === 'floating' ? {\n    ...rects.floating,\n    x,\n    y\n  } : rects.reference;\n  const offsetParent = await (platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(elements.floating));\n  const offsetScale = (await (platform.isElement == null ? void 0 : platform.isElement(offsetParent))) ? (await (platform.getScale == null ? void 0 : platform.getScale(offsetParent))) || {\n    x: 1,\n    y: 1\n  } : {\n    x: 1,\n    y: 1\n  };\n  const elementClientRect = rectToClientRect(platform.convertOffsetParentRelativeRectToViewportRelativeRect ? await platform.convertOffsetParentRelativeRectToViewportRelativeRect({\n    elements,\n    rect,\n    offsetParent,\n    strategy\n  }) : rect);\n  return {\n    top: (clippingClientRect.top - elementClientRect.top + paddingObject.top) / offsetScale.y,\n    bottom: (elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom) / offsetScale.y,\n    left: (clippingClientRect.left - elementClientRect.left + paddingObject.left) / offsetScale.x,\n    right: (elementClientRect.right - clippingClientRect.right + paddingObject.right) / offsetScale.x\n  };\n}\n\n/**\n * Provides data to position an inner element of the floating element so that it\n * appears centered to the reference element.\n * @see https://floating-ui.com/docs/arrow\n */\nconst arrow = options => ({\n  name: 'arrow',\n  options,\n  async fn(state) {\n    const {\n      x,\n      y,\n      placement,\n      rects,\n      platform,\n      elements,\n      middlewareData\n    } = state;\n    // Since `element` is required, we don't Partial<> the type.\n    const {\n      element,\n      padding = 0\n    } = evaluate(options, state) || {};\n    if (element == null) {\n      return {};\n    }\n    const paddingObject = getPaddingObject(padding);\n    const coords = {\n      x,\n      y\n    };\n    const axis = getAlignmentAxis(placement);\n    const length = getAxisLength(axis);\n    const arrowDimensions = await platform.getDimensions(element);\n    const isYAxis = axis === 'y';\n    const minProp = isYAxis ? 'top' : 'left';\n    const maxProp = isYAxis ? 'bottom' : 'right';\n    const clientProp = isYAxis ? 'clientHeight' : 'clientWidth';\n    const endDiff = rects.reference[length] + rects.reference[axis] - coords[axis] - rects.floating[length];\n    const startDiff = coords[axis] - rects.reference[axis];\n    const arrowOffsetParent = await (platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(element));\n    let clientSize = arrowOffsetParent ? arrowOffsetParent[clientProp] : 0;\n\n    // DOM platform can return `window` as the `offsetParent`.\n    if (!clientSize || !(await (platform.isElement == null ? void 0 : platform.isElement(arrowOffsetParent)))) {\n      clientSize = elements.floating[clientProp] || rects.floating[length];\n    }\n    const centerToReference = endDiff / 2 - startDiff / 2;\n\n    // If the padding is large enough that it causes the arrow to no longer be\n    // centered, modify the padding so that it is centered.\n    const largestPossiblePadding = clientSize / 2 - arrowDimensions[length] / 2 - 1;\n    const minPadding = min(paddingObject[minProp], largestPossiblePadding);\n    const maxPadding = min(paddingObject[maxProp], largestPossiblePadding);\n\n    // Make sure the arrow doesn't overflow the floating element if the center\n    // point is outside the floating element's bounds.\n    const min$1 = minPadding;\n    const max = clientSize - arrowDimensions[length] - maxPadding;\n    const center = clientSize / 2 - arrowDimensions[length] / 2 + centerToReference;\n    const offset = clamp(min$1, center, max);\n\n    // If the reference is small enough that the arrow's padding causes it to\n    // to point to nothing for an aligned placement, adjust the offset of the\n    // floating element itself. To ensure `shift()` continues to take action,\n    // a single reset is performed when this is true.\n    const shouldAddOffset = !middlewareData.arrow && getAlignment(placement) != null && center !== offset && rects.reference[length] / 2 - (center < min$1 ? minPadding : maxPadding) - arrowDimensions[length] / 2 < 0;\n    const alignmentOffset = shouldAddOffset ? center < min$1 ? center - min$1 : center - max : 0;\n    return {\n      [axis]: coords[axis] + alignmentOffset,\n      data: {\n        [axis]: offset,\n        centerOffset: center - offset - alignmentOffset,\n        ...(shouldAddOffset && {\n          alignmentOffset\n        })\n      },\n      reset: shouldAddOffset\n    };\n  }\n});\n\nfunction getPlacementList(alignment, autoAlignment, allowedPlacements) {\n  const allowedPlacementsSortedByAlignment = alignment ? [...allowedPlacements.filter(placement => getAlignment(placement) === alignment), ...allowedPlacements.filter(placement => getAlignment(placement) !== alignment)] : allowedPlacements.filter(placement => getSide(placement) === placement);\n  return allowedPlacementsSortedByAlignment.filter(placement => {\n    if (alignment) {\n      return getAlignment(placement) === alignment || (autoAlignment ? getOppositeAlignmentPlacement(placement) !== placement : false);\n    }\n    return true;\n  });\n}\n/**\n * Optimizes the visibility of the floating element by choosing the placement\n * that has the most space available automatically, without needing to specify a\n * preferred placement. Alternative to `flip`.\n * @see https://floating-ui.com/docs/autoPlacement\n */\nconst autoPlacement = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'autoPlacement',\n    options,\n    async fn(state) {\n      var _middlewareData$autoP, _middlewareData$autoP2, _placementsThatFitOnE;\n      const {\n        rects,\n        middlewareData,\n        placement,\n        platform,\n        elements\n      } = state;\n      const {\n        crossAxis = false,\n        alignment,\n        allowedPlacements = placements,\n        autoAlignment = true,\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const placements$1 = alignment !== undefined || allowedPlacements === placements ? getPlacementList(alignment || null, autoAlignment, allowedPlacements) : allowedPlacements;\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const currentIndex = ((_middlewareData$autoP = middlewareData.autoPlacement) == null ? void 0 : _middlewareData$autoP.index) || 0;\n      const currentPlacement = placements$1[currentIndex];\n      if (currentPlacement == null) {\n        return {};\n      }\n      const alignmentSides = getAlignmentSides(currentPlacement, rects, await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating)));\n\n      // Make `computeCoords` start from the right place.\n      if (placement !== currentPlacement) {\n        return {\n          reset: {\n            placement: placements$1[0]\n          }\n        };\n      }\n      const currentOverflows = [overflow[getSide(currentPlacement)], overflow[alignmentSides[0]], overflow[alignmentSides[1]]];\n      const allOverflows = [...(((_middlewareData$autoP2 = middlewareData.autoPlacement) == null ? void 0 : _middlewareData$autoP2.overflows) || []), {\n        placement: currentPlacement,\n        overflows: currentOverflows\n      }];\n      const nextPlacement = placements$1[currentIndex + 1];\n\n      // There are more placements to check.\n      if (nextPlacement) {\n        return {\n          data: {\n            index: currentIndex + 1,\n            overflows: allOverflows\n          },\n          reset: {\n            placement: nextPlacement\n          }\n        };\n      }\n      const placementsSortedByMostSpace = allOverflows.map(d => {\n        const alignment = getAlignment(d.placement);\n        return [d.placement, alignment && crossAxis ?\n        // Check along the mainAxis and main crossAxis side.\n        d.overflows.slice(0, 2).reduce((acc, v) => acc + v, 0) :\n        // Check only the mainAxis.\n        d.overflows[0], d.overflows];\n      }).sort((a, b) => a[1] - b[1]);\n      const placementsThatFitOnEachSide = placementsSortedByMostSpace.filter(d => d[2].slice(0,\n      // Aligned placements should not check their opposite crossAxis\n      // side.\n      getAlignment(d[0]) ? 2 : 3).every(v => v <= 0));\n      const resetPlacement = ((_placementsThatFitOnE = placementsThatFitOnEachSide[0]) == null ? void 0 : _placementsThatFitOnE[0]) || placementsSortedByMostSpace[0][0];\n      if (resetPlacement !== placement) {\n        return {\n          data: {\n            index: currentIndex + 1,\n            overflows: allOverflows\n          },\n          reset: {\n            placement: resetPlacement\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\n/**\n * Optimizes the visibility of the floating element by flipping the `placement`\n * in order to keep it in view when the preferred placement(s) will overflow the\n * clipping boundary. Alternative to `autoPlacement`.\n * @see https://floating-ui.com/docs/flip\n */\nconst flip = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'flip',\n    options,\n    async fn(state) {\n      var _middlewareData$arrow, _middlewareData$flip;\n      const {\n        placement,\n        middlewareData,\n        rects,\n        initialPlacement,\n        platform,\n        elements\n      } = state;\n      const {\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = true,\n        fallbackPlacements: specifiedFallbackPlacements,\n        fallbackStrategy = 'bestFit',\n        fallbackAxisSideDirection = 'none',\n        flipAlignment = true,\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n\n      // If a reset by the arrow was caused due to an alignment offset being\n      // added, we should skip any logic now since `flip()` has already done its\n      // work.\n      // https://github.com/floating-ui/floating-ui/issues/2549#issuecomment-1719601643\n      if ((_middlewareData$arrow = middlewareData.arrow) != null && _middlewareData$arrow.alignmentOffset) {\n        return {};\n      }\n      const side = getSide(placement);\n      const isBasePlacement = getSide(initialPlacement) === initialPlacement;\n      const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating));\n      const fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipAlignment ? [getOppositePlacement(initialPlacement)] : getExpandedPlacements(initialPlacement));\n      if (!specifiedFallbackPlacements && fallbackAxisSideDirection !== 'none') {\n        fallbackPlacements.push(...getOppositeAxisPlacements(initialPlacement, flipAlignment, fallbackAxisSideDirection, rtl));\n      }\n      const placements = [initialPlacement, ...fallbackPlacements];\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const overflows = [];\n      let overflowsData = ((_middlewareData$flip = middlewareData.flip) == null ? void 0 : _middlewareData$flip.overflows) || [];\n      if (checkMainAxis) {\n        overflows.push(overflow[side]);\n      }\n      if (checkCrossAxis) {\n        const sides = getAlignmentSides(placement, rects, rtl);\n        overflows.push(overflow[sides[0]], overflow[sides[1]]);\n      }\n      overflowsData = [...overflowsData, {\n        placement,\n        overflows\n      }];\n\n      // One or more sides is overflowing.\n      if (!overflows.every(side => side <= 0)) {\n        var _middlewareData$flip2, _overflowsData$filter;\n        const nextIndex = (((_middlewareData$flip2 = middlewareData.flip) == null ? void 0 : _middlewareData$flip2.index) || 0) + 1;\n        const nextPlacement = placements[nextIndex];\n        if (nextPlacement) {\n          // Try next placement and re-run the lifecycle.\n          return {\n            data: {\n              index: nextIndex,\n              overflows: overflowsData\n            },\n            reset: {\n              placement: nextPlacement\n            }\n          };\n        }\n\n        // First, find the candidates that fit on the mainAxis side of overflow,\n        // then find the placement that fits the best on the main crossAxis side.\n        let resetPlacement = (_overflowsData$filter = overflowsData.filter(d => d.overflows[0] <= 0).sort((a, b) => a.overflows[1] - b.overflows[1])[0]) == null ? void 0 : _overflowsData$filter.placement;\n\n        // Otherwise fallback.\n        if (!resetPlacement) {\n          switch (fallbackStrategy) {\n            case 'bestFit':\n              {\n                var _overflowsData$map$so;\n                const placement = (_overflowsData$map$so = overflowsData.map(d => [d.placement, d.overflows.filter(overflow => overflow > 0).reduce((acc, overflow) => acc + overflow, 0)]).sort((a, b) => a[1] - b[1])[0]) == null ? void 0 : _overflowsData$map$so[0];\n                if (placement) {\n                  resetPlacement = placement;\n                }\n                break;\n              }\n            case 'initialPlacement':\n              resetPlacement = initialPlacement;\n              break;\n          }\n        }\n        if (placement !== resetPlacement) {\n          return {\n            reset: {\n              placement: resetPlacement\n            }\n          };\n        }\n      }\n      return {};\n    }\n  };\n};\n\nfunction getSideOffsets(overflow, rect) {\n  return {\n    top: overflow.top - rect.height,\n    right: overflow.right - rect.width,\n    bottom: overflow.bottom - rect.height,\n    left: overflow.left - rect.width\n  };\n}\nfunction isAnySideFullyClipped(overflow) {\n  return sides.some(side => overflow[side] >= 0);\n}\n/**\n * Provides data to hide the floating element in applicable situations, such as\n * when it is not in the same clipping context as the reference element.\n * @see https://floating-ui.com/docs/hide\n */\nconst hide = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'hide',\n    options,\n    async fn(state) {\n      const {\n        rects\n      } = state;\n      const {\n        strategy = 'referenceHidden',\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      switch (strategy) {\n        case 'referenceHidden':\n          {\n            const overflow = await detectOverflow(state, {\n              ...detectOverflowOptions,\n              elementContext: 'reference'\n            });\n            const offsets = getSideOffsets(overflow, rects.reference);\n            return {\n              data: {\n                referenceHiddenOffsets: offsets,\n                referenceHidden: isAnySideFullyClipped(offsets)\n              }\n            };\n          }\n        case 'escaped':\n          {\n            const overflow = await detectOverflow(state, {\n              ...detectOverflowOptions,\n              altBoundary: true\n            });\n            const offsets = getSideOffsets(overflow, rects.floating);\n            return {\n              data: {\n                escapedOffsets: offsets,\n                escaped: isAnySideFullyClipped(offsets)\n              }\n            };\n          }\n        default:\n          {\n            return {};\n          }\n      }\n    }\n  };\n};\n\nfunction getBoundingRect(rects) {\n  const minX = min(...rects.map(rect => rect.left));\n  const minY = min(...rects.map(rect => rect.top));\n  const maxX = max(...rects.map(rect => rect.right));\n  const maxY = max(...rects.map(rect => rect.bottom));\n  return {\n    x: minX,\n    y: minY,\n    width: maxX - minX,\n    height: maxY - minY\n  };\n}\nfunction getRectsByLine(rects) {\n  const sortedRects = rects.slice().sort((a, b) => a.y - b.y);\n  const groups = [];\n  let prevRect = null;\n  for (let i = 0; i < sortedRects.length; i++) {\n    const rect = sortedRects[i];\n    if (!prevRect || rect.y - prevRect.y > prevRect.height / 2) {\n      groups.push([rect]);\n    } else {\n      groups[groups.length - 1].push(rect);\n    }\n    prevRect = rect;\n  }\n  return groups.map(rect => rectToClientRect(getBoundingRect(rect)));\n}\n/**\n * Provides improved positioning for inline reference elements that can span\n * over multiple lines, such as hyperlinks or range selections.\n * @see https://floating-ui.com/docs/inline\n */\nconst inline = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'inline',\n    options,\n    async fn(state) {\n      const {\n        placement,\n        elements,\n        rects,\n        platform,\n        strategy\n      } = state;\n      // A MouseEvent's client{X,Y} coords can be up to 2 pixels off a\n      // ClientRect's bounds, despite the event listener being triggered. A\n      // padding of 2 seems to handle this issue.\n      const {\n        padding = 2,\n        x,\n        y\n      } = evaluate(options, state);\n      const nativeClientRects = Array.from((await (platform.getClientRects == null ? void 0 : platform.getClientRects(elements.reference))) || []);\n      const clientRects = getRectsByLine(nativeClientRects);\n      const fallback = rectToClientRect(getBoundingRect(nativeClientRects));\n      const paddingObject = getPaddingObject(padding);\n      function getBoundingClientRect() {\n        // There are two rects and they are disjoined.\n        if (clientRects.length === 2 && clientRects[0].left > clientRects[1].right && x != null && y != null) {\n          // Find the first rect in which the point is fully inside.\n          return clientRects.find(rect => x > rect.left - paddingObject.left && x < rect.right + paddingObject.right && y > rect.top - paddingObject.top && y < rect.bottom + paddingObject.bottom) || fallback;\n        }\n\n        // There are 2 or more connected rects.\n        if (clientRects.length >= 2) {\n          if (getSideAxis(placement) === 'y') {\n            const firstRect = clientRects[0];\n            const lastRect = clientRects[clientRects.length - 1];\n            const isTop = getSide(placement) === 'top';\n            const top = firstRect.top;\n            const bottom = lastRect.bottom;\n            const left = isTop ? firstRect.left : lastRect.left;\n            const right = isTop ? firstRect.right : lastRect.right;\n            const width = right - left;\n            const height = bottom - top;\n            return {\n              top,\n              bottom,\n              left,\n              right,\n              width,\n              height,\n              x: left,\n              y: top\n            };\n          }\n          const isLeftSide = getSide(placement) === 'left';\n          const maxRight = max(...clientRects.map(rect => rect.right));\n          const minLeft = min(...clientRects.map(rect => rect.left));\n          const measureRects = clientRects.filter(rect => isLeftSide ? rect.left === minLeft : rect.right === maxRight);\n          const top = measureRects[0].top;\n          const bottom = measureRects[measureRects.length - 1].bottom;\n          const left = minLeft;\n          const right = maxRight;\n          const width = right - left;\n          const height = bottom - top;\n          return {\n            top,\n            bottom,\n            left,\n            right,\n            width,\n            height,\n            x: left,\n            y: top\n          };\n        }\n        return fallback;\n      }\n      const resetRects = await platform.getElementRects({\n        reference: {\n          getBoundingClientRect\n        },\n        floating: elements.floating,\n        strategy\n      });\n      if (rects.reference.x !== resetRects.reference.x || rects.reference.y !== resetRects.reference.y || rects.reference.width !== resetRects.reference.width || rects.reference.height !== resetRects.reference.height) {\n        return {\n          reset: {\n            rects: resetRects\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\n// For type backwards-compatibility, the `OffsetOptions` type was also\n// Derivable.\n\nasync function convertValueToCoords(state, options) {\n  const {\n    placement,\n    platform,\n    elements\n  } = state;\n  const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating));\n  const side = getSide(placement);\n  const alignment = getAlignment(placement);\n  const isVertical = getSideAxis(placement) === 'y';\n  const mainAxisMulti = ['left', 'top'].includes(side) ? -1 : 1;\n  const crossAxisMulti = rtl && isVertical ? -1 : 1;\n  const rawValue = evaluate(options, state);\n  let {\n    mainAxis,\n    crossAxis,\n    alignmentAxis\n  } = typeof rawValue === 'number' ? {\n    mainAxis: rawValue,\n    crossAxis: 0,\n    alignmentAxis: null\n  } : {\n    mainAxis: 0,\n    crossAxis: 0,\n    alignmentAxis: null,\n    ...rawValue\n  };\n  if (alignment && typeof alignmentAxis === 'number') {\n    crossAxis = alignment === 'end' ? alignmentAxis * -1 : alignmentAxis;\n  }\n  return isVertical ? {\n    x: crossAxis * crossAxisMulti,\n    y: mainAxis * mainAxisMulti\n  } : {\n    x: mainAxis * mainAxisMulti,\n    y: crossAxis * crossAxisMulti\n  };\n}\n\n/**\n * Modifies the placement by translating the floating element along the\n * specified axes.\n * A number (shorthand for `mainAxis` or distance), or an axes configuration\n * object may be passed.\n * @see https://floating-ui.com/docs/offset\n */\nconst offset = function (options) {\n  if (options === void 0) {\n    options = 0;\n  }\n  return {\n    name: 'offset',\n    options,\n    async fn(state) {\n      var _middlewareData$offse, _middlewareData$arrow;\n      const {\n        x,\n        y,\n        placement,\n        middlewareData\n      } = state;\n      const diffCoords = await convertValueToCoords(state, options);\n\n      // If the placement is the same and the arrow caused an alignment offset\n      // then we don't need to change the positioning coordinates.\n      if (placement === ((_middlewareData$offse = middlewareData.offset) == null ? void 0 : _middlewareData$offse.placement) && (_middlewareData$arrow = middlewareData.arrow) != null && _middlewareData$arrow.alignmentOffset) {\n        return {};\n      }\n      return {\n        x: x + diffCoords.x,\n        y: y + diffCoords.y,\n        data: {\n          ...diffCoords,\n          placement\n        }\n      };\n    }\n  };\n};\n\n/**\n * Optimizes the visibility of the floating element by shifting it in order to\n * keep it in view when it will overflow the clipping boundary.\n * @see https://floating-ui.com/docs/shift\n */\nconst shift = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'shift',\n    options,\n    async fn(state) {\n      const {\n        x,\n        y,\n        placement\n      } = state;\n      const {\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = false,\n        limiter = {\n          fn: _ref => {\n            let {\n              x,\n              y\n            } = _ref;\n            return {\n              x,\n              y\n            };\n          }\n        },\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const coords = {\n        x,\n        y\n      };\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const crossAxis = getSideAxis(getSide(placement));\n      const mainAxis = getOppositeAxis(crossAxis);\n      let mainAxisCoord = coords[mainAxis];\n      let crossAxisCoord = coords[crossAxis];\n      if (checkMainAxis) {\n        const minSide = mainAxis === 'y' ? 'top' : 'left';\n        const maxSide = mainAxis === 'y' ? 'bottom' : 'right';\n        const min = mainAxisCoord + overflow[minSide];\n        const max = mainAxisCoord - overflow[maxSide];\n        mainAxisCoord = clamp(min, mainAxisCoord, max);\n      }\n      if (checkCrossAxis) {\n        const minSide = crossAxis === 'y' ? 'top' : 'left';\n        const maxSide = crossAxis === 'y' ? 'bottom' : 'right';\n        const min = crossAxisCoord + overflow[minSide];\n        const max = crossAxisCoord - overflow[maxSide];\n        crossAxisCoord = clamp(min, crossAxisCoord, max);\n      }\n      const limitedCoords = limiter.fn({\n        ...state,\n        [mainAxis]: mainAxisCoord,\n        [crossAxis]: crossAxisCoord\n      });\n      return {\n        ...limitedCoords,\n        data: {\n          x: limitedCoords.x - x,\n          y: limitedCoords.y - y\n        }\n      };\n    }\n  };\n};\n/**\n * Built-in `limiter` that will stop `shift()` at a certain point.\n */\nconst limitShift = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    options,\n    fn(state) {\n      const {\n        x,\n        y,\n        placement,\n        rects,\n        middlewareData\n      } = state;\n      const {\n        offset = 0,\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = true\n      } = evaluate(options, state);\n      const coords = {\n        x,\n        y\n      };\n      const crossAxis = getSideAxis(placement);\n      const mainAxis = getOppositeAxis(crossAxis);\n      let mainAxisCoord = coords[mainAxis];\n      let crossAxisCoord = coords[crossAxis];\n      const rawOffset = evaluate(offset, state);\n      const computedOffset = typeof rawOffset === 'number' ? {\n        mainAxis: rawOffset,\n        crossAxis: 0\n      } : {\n        mainAxis: 0,\n        crossAxis: 0,\n        ...rawOffset\n      };\n      if (checkMainAxis) {\n        const len = mainAxis === 'y' ? 'height' : 'width';\n        const limitMin = rects.reference[mainAxis] - rects.floating[len] + computedOffset.mainAxis;\n        const limitMax = rects.reference[mainAxis] + rects.reference[len] - computedOffset.mainAxis;\n        if (mainAxisCoord < limitMin) {\n          mainAxisCoord = limitMin;\n        } else if (mainAxisCoord > limitMax) {\n          mainAxisCoord = limitMax;\n        }\n      }\n      if (checkCrossAxis) {\n        var _middlewareData$offse, _middlewareData$offse2;\n        const len = mainAxis === 'y' ? 'width' : 'height';\n        const isOriginSide = ['top', 'left'].includes(getSide(placement));\n        const limitMin = rects.reference[crossAxis] - rects.floating[len] + (isOriginSide ? ((_middlewareData$offse = middlewareData.offset) == null ? void 0 : _middlewareData$offse[crossAxis]) || 0 : 0) + (isOriginSide ? 0 : computedOffset.crossAxis);\n        const limitMax = rects.reference[crossAxis] + rects.reference[len] + (isOriginSide ? 0 : ((_middlewareData$offse2 = middlewareData.offset) == null ? void 0 : _middlewareData$offse2[crossAxis]) || 0) - (isOriginSide ? computedOffset.crossAxis : 0);\n        if (crossAxisCoord < limitMin) {\n          crossAxisCoord = limitMin;\n        } else if (crossAxisCoord > limitMax) {\n          crossAxisCoord = limitMax;\n        }\n      }\n      return {\n        [mainAxis]: mainAxisCoord,\n        [crossAxis]: crossAxisCoord\n      };\n    }\n  };\n};\n\n/**\n * Provides data that allows you to change the size of the floating element —\n * for instance, prevent it from overflowing the clipping boundary or match the\n * width of the reference element.\n * @see https://floating-ui.com/docs/size\n */\nconst size = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'size',\n    options,\n    async fn(state) {\n      const {\n        placement,\n        rects,\n        platform,\n        elements\n      } = state;\n      const {\n        apply = () => {},\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const side = getSide(placement);\n      const alignment = getAlignment(placement);\n      const isYAxis = getSideAxis(placement) === 'y';\n      const {\n        width,\n        height\n      } = rects.floating;\n      let heightSide;\n      let widthSide;\n      if (side === 'top' || side === 'bottom') {\n        heightSide = side;\n        widthSide = alignment === ((await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating))) ? 'start' : 'end') ? 'left' : 'right';\n      } else {\n        widthSide = side;\n        heightSide = alignment === 'end' ? 'top' : 'bottom';\n      }\n      const overflowAvailableHeight = height - overflow[heightSide];\n      const overflowAvailableWidth = width - overflow[widthSide];\n      const noShift = !state.middlewareData.shift;\n      let availableHeight = overflowAvailableHeight;\n      let availableWidth = overflowAvailableWidth;\n      if (isYAxis) {\n        const maximumClippingWidth = width - overflow.left - overflow.right;\n        availableWidth = alignment || noShift ? min(overflowAvailableWidth, maximumClippingWidth) : maximumClippingWidth;\n      } else {\n        const maximumClippingHeight = height - overflow.top - overflow.bottom;\n        availableHeight = alignment || noShift ? min(overflowAvailableHeight, maximumClippingHeight) : maximumClippingHeight;\n      }\n      if (noShift && !alignment) {\n        const xMin = max(overflow.left, 0);\n        const xMax = max(overflow.right, 0);\n        const yMin = max(overflow.top, 0);\n        const yMax = max(overflow.bottom, 0);\n        if (isYAxis) {\n          availableWidth = width - 2 * (xMin !== 0 || xMax !== 0 ? xMin + xMax : max(overflow.left, overflow.right));\n        } else {\n          availableHeight = height - 2 * (yMin !== 0 || yMax !== 0 ? yMin + yMax : max(overflow.top, overflow.bottom));\n        }\n      }\n      await apply({\n        ...state,\n        availableWidth,\n        availableHeight\n      });\n      const nextDimensions = await platform.getDimensions(elements.floating);\n      if (width !== nextDimensions.width || height !== nextDimensions.height) {\n        return {\n          reset: {\n            rects: true\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\nexport { arrow, autoPlacement, computePosition, detectOverflow, flip, hide, inline, limitShift, offset, shift, size };\n","import { rectToClientRect, autoPlacement as autoPlacement$1, shift as shift$1, flip as flip$1, size as size$1, hide as hide$1, arrow as arrow$1, inline as inline$1, limitShift as limitShift$1, computePosition as computePosition$1 } from '@floating-ui/core';\nexport { detectOverflow, offset } from '@floating-ui/core';\nimport { round, createCoords, max, min, floor } from '@floating-ui/utils';\nimport { getComputedStyle, isHTMLElement, isElement, getWindow, isWebKit, getDocumentElement, getNodeName, isOverflowElement, getNodeScroll, getOverflowAncestors, getParentNode, isLastTraversableNode, isContainingBlock, isTableElement, getContainingBlock } from '@floating-ui/utils/dom';\nexport { getOverflowAncestors } from '@floating-ui/utils/dom';\n\nfunction getCssDimensions(element) {\n  const css = getComputedStyle(element);\n  // In testing environments, the `width` and `height` properties are empty\n  // strings for SVG elements, returning NaN. Fallback to `0` in this case.\n  let width = parseFloat(css.width) || 0;\n  let height = parseFloat(css.height) || 0;\n  const hasOffset = isHTMLElement(element);\n  const offsetWidth = hasOffset ? element.offsetWidth : width;\n  const offsetHeight = hasOffset ? element.offsetHeight : height;\n  const shouldFallback = round(width) !== offsetWidth || round(height) !== offsetHeight;\n  if (shouldFallback) {\n    width = offsetWidth;\n    height = offsetHeight;\n  }\n  return {\n    width,\n    height,\n    $: shouldFallback\n  };\n}\n\nfunction unwrapElement(element) {\n  return !isElement(element) ? element.contextElement : element;\n}\n\nfunction getScale(element) {\n  const domElement = unwrapElement(element);\n  if (!isHTMLElement(domElement)) {\n    return createCoords(1);\n  }\n  const rect = domElement.getBoundingClientRect();\n  const {\n    width,\n    height,\n    $\n  } = getCssDimensions(domElement);\n  let x = ($ ? round(rect.width) : rect.width) / width;\n  let y = ($ ? round(rect.height) : rect.height) / height;\n\n  // 0, NaN, or Infinity should always fallback to 1.\n\n  if (!x || !Number.isFinite(x)) {\n    x = 1;\n  }\n  if (!y || !Number.isFinite(y)) {\n    y = 1;\n  }\n  return {\n    x,\n    y\n  };\n}\n\nconst noOffsets = /*#__PURE__*/createCoords(0);\nfunction getVisualOffsets(element) {\n  const win = getWindow(element);\n  if (!isWebKit() || !win.visualViewport) {\n    return noOffsets;\n  }\n  return {\n    x: win.visualViewport.offsetLeft,\n    y: win.visualViewport.offsetTop\n  };\n}\nfunction shouldAddVisualOffsets(element, isFixed, floatingOffsetParent) {\n  if (isFixed === void 0) {\n    isFixed = false;\n  }\n  if (!floatingOffsetParent || isFixed && floatingOffsetParent !== getWindow(element)) {\n    return false;\n  }\n  return isFixed;\n}\n\nfunction getBoundingClientRect(element, includeScale, isFixedStrategy, offsetParent) {\n  if (includeScale === void 0) {\n    includeScale = false;\n  }\n  if (isFixedStrategy === void 0) {\n    isFixedStrategy = false;\n  }\n  const clientRect = element.getBoundingClientRect();\n  const domElement = unwrapElement(element);\n  let scale = createCoords(1);\n  if (includeScale) {\n    if (offsetParent) {\n      if (isElement(offsetParent)) {\n        scale = getScale(offsetParent);\n      }\n    } else {\n      scale = getScale(element);\n    }\n  }\n  const visualOffsets = shouldAddVisualOffsets(domElement, isFixedStrategy, offsetParent) ? getVisualOffsets(domElement) : createCoords(0);\n  let x = (clientRect.left + visualOffsets.x) / scale.x;\n  let y = (clientRect.top + visualOffsets.y) / scale.y;\n  let width = clientRect.width / scale.x;\n  let height = clientRect.height / scale.y;\n  if (domElement) {\n    const win = getWindow(domElement);\n    const offsetWin = offsetParent && isElement(offsetParent) ? getWindow(offsetParent) : offsetParent;\n    let currentWin = win;\n    let currentIFrame = currentWin.frameElement;\n    while (currentIFrame && offsetParent && offsetWin !== currentWin) {\n      const iframeScale = getScale(currentIFrame);\n      const iframeRect = currentIFrame.getBoundingClientRect();\n      const css = getComputedStyle(currentIFrame);\n      const left = iframeRect.left + (currentIFrame.clientLeft + parseFloat(css.paddingLeft)) * iframeScale.x;\n      const top = iframeRect.top + (currentIFrame.clientTop + parseFloat(css.paddingTop)) * iframeScale.y;\n      x *= iframeScale.x;\n      y *= iframeScale.y;\n      width *= iframeScale.x;\n      height *= iframeScale.y;\n      x += left;\n      y += top;\n      currentWin = getWindow(currentIFrame);\n      currentIFrame = currentWin.frameElement;\n    }\n  }\n  return rectToClientRect({\n    width,\n    height,\n    x,\n    y\n  });\n}\n\nconst topLayerSelectors = [':popover-open', ':modal'];\nfunction isTopLayer(floating) {\n  return topLayerSelectors.some(selector => {\n    try {\n      return floating.matches(selector);\n    } catch (e) {\n      return false;\n    }\n  });\n}\n\nfunction convertOffsetParentRelativeRectToViewportRelativeRect(_ref) {\n  let {\n    elements,\n    rect,\n    offsetParent,\n    strategy\n  } = _ref;\n  const isFixed = strategy === 'fixed';\n  const documentElement = getDocumentElement(offsetParent);\n  const topLayer = elements ? isTopLayer(elements.floating) : false;\n  if (offsetParent === documentElement || topLayer && isFixed) {\n    return rect;\n  }\n  let scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  let scale = createCoords(1);\n  const offsets = createCoords(0);\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== 'body' || isOverflowElement(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n    if (isHTMLElement(offsetParent)) {\n      const offsetRect = getBoundingClientRect(offsetParent);\n      scale = getScale(offsetParent);\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\n      offsets.y = offsetRect.y + offsetParent.clientTop;\n    }\n  }\n  return {\n    width: rect.width * scale.x,\n    height: rect.height * scale.y,\n    x: rect.x * scale.x - scroll.scrollLeft * scale.x + offsets.x,\n    y: rect.y * scale.y - scroll.scrollTop * scale.y + offsets.y\n  };\n}\n\nfunction getClientRects(element) {\n  return Array.from(element.getClientRects());\n}\n\nfunction getWindowScrollBarX(element) {\n  // If <html> has a CSS width greater than the viewport, then this will be\n  // incorrect for RTL.\n  return getBoundingClientRect(getDocumentElement(element)).left + getNodeScroll(element).scrollLeft;\n}\n\n// Gets the entire size of the scrollable document area, even extending outside\n// of the `<html>` and `<body>` rect bounds if horizontally scrollable.\nfunction getDocumentRect(element) {\n  const html = getDocumentElement(element);\n  const scroll = getNodeScroll(element);\n  const body = element.ownerDocument.body;\n  const width = max(html.scrollWidth, html.clientWidth, body.scrollWidth, body.clientWidth);\n  const height = max(html.scrollHeight, html.clientHeight, body.scrollHeight, body.clientHeight);\n  let x = -scroll.scrollLeft + getWindowScrollBarX(element);\n  const y = -scroll.scrollTop;\n  if (getComputedStyle(body).direction === 'rtl') {\n    x += max(html.clientWidth, body.clientWidth) - width;\n  }\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\n\nfunction getViewportRect(element, strategy) {\n  const win = getWindow(element);\n  const html = getDocumentElement(element);\n  const visualViewport = win.visualViewport;\n  let width = html.clientWidth;\n  let height = html.clientHeight;\n  let x = 0;\n  let y = 0;\n  if (visualViewport) {\n    width = visualViewport.width;\n    height = visualViewport.height;\n    const visualViewportBased = isWebKit();\n    if (!visualViewportBased || visualViewportBased && strategy === 'fixed') {\n      x = visualViewport.offsetLeft;\n      y = visualViewport.offsetTop;\n    }\n  }\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\n\n// Returns the inner client rect, subtracting scrollbars if present.\nfunction getInnerBoundingClientRect(element, strategy) {\n  const clientRect = getBoundingClientRect(element, true, strategy === 'fixed');\n  const top = clientRect.top + element.clientTop;\n  const left = clientRect.left + element.clientLeft;\n  const scale = isHTMLElement(element) ? getScale(element) : createCoords(1);\n  const width = element.clientWidth * scale.x;\n  const height = element.clientHeight * scale.y;\n  const x = left * scale.x;\n  const y = top * scale.y;\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\nfunction getClientRectFromClippingAncestor(element, clippingAncestor, strategy) {\n  let rect;\n  if (clippingAncestor === 'viewport') {\n    rect = getViewportRect(element, strategy);\n  } else if (clippingAncestor === 'document') {\n    rect = getDocumentRect(getDocumentElement(element));\n  } else if (isElement(clippingAncestor)) {\n    rect = getInnerBoundingClientRect(clippingAncestor, strategy);\n  } else {\n    const visualOffsets = getVisualOffsets(element);\n    rect = {\n      ...clippingAncestor,\n      x: clippingAncestor.x - visualOffsets.x,\n      y: clippingAncestor.y - visualOffsets.y\n    };\n  }\n  return rectToClientRect(rect);\n}\nfunction hasFixedPositionAncestor(element, stopNode) {\n  const parentNode = getParentNode(element);\n  if (parentNode === stopNode || !isElement(parentNode) || isLastTraversableNode(parentNode)) {\n    return false;\n  }\n  return getComputedStyle(parentNode).position === 'fixed' || hasFixedPositionAncestor(parentNode, stopNode);\n}\n\n// A \"clipping ancestor\" is an `overflow` element with the characteristic of\n// clipping (or hiding) child elements. This returns all clipping ancestors\n// of the given element up the tree.\nfunction getClippingElementAncestors(element, cache) {\n  const cachedResult = cache.get(element);\n  if (cachedResult) {\n    return cachedResult;\n  }\n  let result = getOverflowAncestors(element, [], false).filter(el => isElement(el) && getNodeName(el) !== 'body');\n  let currentContainingBlockComputedStyle = null;\n  const elementIsFixed = getComputedStyle(element).position === 'fixed';\n  let currentNode = elementIsFixed ? getParentNode(element) : element;\n\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n  while (isElement(currentNode) && !isLastTraversableNode(currentNode)) {\n    const computedStyle = getComputedStyle(currentNode);\n    const currentNodeIsContaining = isContainingBlock(currentNode);\n    if (!currentNodeIsContaining && computedStyle.position === 'fixed') {\n      currentContainingBlockComputedStyle = null;\n    }\n    const shouldDropCurrentNode = elementIsFixed ? !currentNodeIsContaining && !currentContainingBlockComputedStyle : !currentNodeIsContaining && computedStyle.position === 'static' && !!currentContainingBlockComputedStyle && ['absolute', 'fixed'].includes(currentContainingBlockComputedStyle.position) || isOverflowElement(currentNode) && !currentNodeIsContaining && hasFixedPositionAncestor(element, currentNode);\n    if (shouldDropCurrentNode) {\n      // Drop non-containing blocks.\n      result = result.filter(ancestor => ancestor !== currentNode);\n    } else {\n      // Record last containing block for next iteration.\n      currentContainingBlockComputedStyle = computedStyle;\n    }\n    currentNode = getParentNode(currentNode);\n  }\n  cache.set(element, result);\n  return result;\n}\n\n// Gets the maximum area that the element is visible in due to any number of\n// clipping ancestors.\nfunction getClippingRect(_ref) {\n  let {\n    element,\n    boundary,\n    rootBoundary,\n    strategy\n  } = _ref;\n  const elementClippingAncestors = boundary === 'clippingAncestors' ? getClippingElementAncestors(element, this._c) : [].concat(boundary);\n  const clippingAncestors = [...elementClippingAncestors, rootBoundary];\n  const firstClippingAncestor = clippingAncestors[0];\n  const clippingRect = clippingAncestors.reduce((accRect, clippingAncestor) => {\n    const rect = getClientRectFromClippingAncestor(element, clippingAncestor, strategy);\n    accRect.top = max(rect.top, accRect.top);\n    accRect.right = min(rect.right, accRect.right);\n    accRect.bottom = min(rect.bottom, accRect.bottom);\n    accRect.left = max(rect.left, accRect.left);\n    return accRect;\n  }, getClientRectFromClippingAncestor(element, firstClippingAncestor, strategy));\n  return {\n    width: clippingRect.right - clippingRect.left,\n    height: clippingRect.bottom - clippingRect.top,\n    x: clippingRect.left,\n    y: clippingRect.top\n  };\n}\n\nfunction getDimensions(element) {\n  const {\n    width,\n    height\n  } = getCssDimensions(element);\n  return {\n    width,\n    height\n  };\n}\n\nfunction getRectRelativeToOffsetParent(element, offsetParent, strategy) {\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\n  const documentElement = getDocumentElement(offsetParent);\n  const isFixed = strategy === 'fixed';\n  const rect = getBoundingClientRect(element, true, isFixed, offsetParent);\n  let scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  const offsets = createCoords(0);\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== 'body' || isOverflowElement(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n    if (isOffsetParentAnElement) {\n      const offsetRect = getBoundingClientRect(offsetParent, true, isFixed, offsetParent);\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\n      offsets.y = offsetRect.y + offsetParent.clientTop;\n    } else if (documentElement) {\n      offsets.x = getWindowScrollBarX(documentElement);\n    }\n  }\n  const x = rect.left + scroll.scrollLeft - offsets.x;\n  const y = rect.top + scroll.scrollTop - offsets.y;\n  return {\n    x,\n    y,\n    width: rect.width,\n    height: rect.height\n  };\n}\n\nfunction getTrueOffsetParent(element, polyfill) {\n  if (!isHTMLElement(element) || getComputedStyle(element).position === 'fixed') {\n    return null;\n  }\n  if (polyfill) {\n    return polyfill(element);\n  }\n  return element.offsetParent;\n}\n\n// Gets the closest ancestor positioned element. Handles some edge cases,\n// such as table ancestors and cross browser bugs.\nfunction getOffsetParent(element, polyfill) {\n  const window = getWindow(element);\n  if (!isHTMLElement(element) || isTopLayer(element)) {\n    return window;\n  }\n  let offsetParent = getTrueOffsetParent(element, polyfill);\n  while (offsetParent && isTableElement(offsetParent) && getComputedStyle(offsetParent).position === 'static') {\n    offsetParent = getTrueOffsetParent(offsetParent, polyfill);\n  }\n  if (offsetParent && (getNodeName(offsetParent) === 'html' || getNodeName(offsetParent) === 'body' && getComputedStyle(offsetParent).position === 'static' && !isContainingBlock(offsetParent))) {\n    return window;\n  }\n  return offsetParent || getContainingBlock(element) || window;\n}\n\nconst getElementRects = async function (data) {\n  const getOffsetParentFn = this.getOffsetParent || getOffsetParent;\n  const getDimensionsFn = this.getDimensions;\n  return {\n    reference: getRectRelativeToOffsetParent(data.reference, await getOffsetParentFn(data.floating), data.strategy),\n    floating: {\n      x: 0,\n      y: 0,\n      ...(await getDimensionsFn(data.floating))\n    }\n  };\n};\n\nfunction isRTL(element) {\n  return getComputedStyle(element).direction === 'rtl';\n}\n\nconst platform = {\n  convertOffsetParentRelativeRectToViewportRelativeRect,\n  getDocumentElement,\n  getClippingRect,\n  getOffsetParent,\n  getElementRects,\n  getClientRects,\n  getDimensions,\n  getScale,\n  isElement,\n  isRTL\n};\n\n// https://samthor.au/2021/observing-dom/\nfunction observeMove(element, onMove) {\n  let io = null;\n  let timeoutId;\n  const root = getDocumentElement(element);\n  function cleanup() {\n    var _io;\n    clearTimeout(timeoutId);\n    (_io = io) == null || _io.disconnect();\n    io = null;\n  }\n  function refresh(skip, threshold) {\n    if (skip === void 0) {\n      skip = false;\n    }\n    if (threshold === void 0) {\n      threshold = 1;\n    }\n    cleanup();\n    const {\n      left,\n      top,\n      width,\n      height\n    } = element.getBoundingClientRect();\n    if (!skip) {\n      onMove();\n    }\n    if (!width || !height) {\n      return;\n    }\n    const insetTop = floor(top);\n    const insetRight = floor(root.clientWidth - (left + width));\n    const insetBottom = floor(root.clientHeight - (top + height));\n    const insetLeft = floor(left);\n    const rootMargin = -insetTop + \"px \" + -insetRight + \"px \" + -insetBottom + \"px \" + -insetLeft + \"px\";\n    const options = {\n      rootMargin,\n      threshold: max(0, min(1, threshold)) || 1\n    };\n    let isFirstUpdate = true;\n    function handleObserve(entries) {\n      const ratio = entries[0].intersectionRatio;\n      if (ratio !== threshold) {\n        if (!isFirstUpdate) {\n          return refresh();\n        }\n        if (!ratio) {\n          timeoutId = setTimeout(() => {\n            refresh(false, 1e-7);\n          }, 100);\n        } else {\n          refresh(false, ratio);\n        }\n      }\n      isFirstUpdate = false;\n    }\n\n    // Older browsers don't support a `document` as the root and will throw an\n    // error.\n    try {\n      io = new IntersectionObserver(handleObserve, {\n        ...options,\n        // Handle <iframe>s\n        root: root.ownerDocument\n      });\n    } catch (e) {\n      io = new IntersectionObserver(handleObserve, options);\n    }\n    io.observe(element);\n  }\n  refresh(true);\n  return cleanup;\n}\n\n/**\n * Automatically updates the position of the floating element when necessary.\n * Should only be called when the floating element is mounted on the DOM or\n * visible on the screen.\n * @returns cleanup function that should be invoked when the floating element is\n * removed from the DOM or hidden from the screen.\n * @see https://floating-ui.com/docs/autoUpdate\n */\nfunction autoUpdate(reference, floating, update, options) {\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    ancestorScroll = true,\n    ancestorResize = true,\n    elementResize = typeof ResizeObserver === 'function',\n    layoutShift = typeof IntersectionObserver === 'function',\n    animationFrame = false\n  } = options;\n  const referenceEl = unwrapElement(reference);\n  const ancestors = ancestorScroll || ancestorResize ? [...(referenceEl ? getOverflowAncestors(referenceEl) : []), ...getOverflowAncestors(floating)] : [];\n  ancestors.forEach(ancestor => {\n    ancestorScroll && ancestor.addEventListener('scroll', update, {\n      passive: true\n    });\n    ancestorResize && ancestor.addEventListener('resize', update);\n  });\n  const cleanupIo = referenceEl && layoutShift ? observeMove(referenceEl, update) : null;\n  let reobserveFrame = -1;\n  let resizeObserver = null;\n  if (elementResize) {\n    resizeObserver = new ResizeObserver(_ref => {\n      let [firstEntry] = _ref;\n      if (firstEntry && firstEntry.target === referenceEl && resizeObserver) {\n        // Prevent update loops when using the `size` middleware.\n        // https://github.com/floating-ui/floating-ui/issues/1740\n        resizeObserver.unobserve(floating);\n        cancelAnimationFrame(reobserveFrame);\n        reobserveFrame = requestAnimationFrame(() => {\n          var _resizeObserver;\n          (_resizeObserver = resizeObserver) == null || _resizeObserver.observe(floating);\n        });\n      }\n      update();\n    });\n    if (referenceEl && !animationFrame) {\n      resizeObserver.observe(referenceEl);\n    }\n    resizeObserver.observe(floating);\n  }\n  let frameId;\n  let prevRefRect = animationFrame ? getBoundingClientRect(reference) : null;\n  if (animationFrame) {\n    frameLoop();\n  }\n  function frameLoop() {\n    const nextRefRect = getBoundingClientRect(reference);\n    if (prevRefRect && (nextRefRect.x !== prevRefRect.x || nextRefRect.y !== prevRefRect.y || nextRefRect.width !== prevRefRect.width || nextRefRect.height !== prevRefRect.height)) {\n      update();\n    }\n    prevRefRect = nextRefRect;\n    frameId = requestAnimationFrame(frameLoop);\n  }\n  update();\n  return () => {\n    var _resizeObserver2;\n    ancestors.forEach(ancestor => {\n      ancestorScroll && ancestor.removeEventListener('scroll', update);\n      ancestorResize && ancestor.removeEventListener('resize', update);\n    });\n    cleanupIo == null || cleanupIo();\n    (_resizeObserver2 = resizeObserver) == null || _resizeObserver2.disconnect();\n    resizeObserver = null;\n    if (animationFrame) {\n      cancelAnimationFrame(frameId);\n    }\n  };\n}\n\n/**\n * Optimizes the visibility of the floating element by choosing the placement\n * that has the most space available automatically, without needing to specify a\n * preferred placement. Alternative to `flip`.\n * @see https://floating-ui.com/docs/autoPlacement\n */\nconst autoPlacement = autoPlacement$1;\n\n/**\n * Optimizes the visibility of the floating element by shifting it in order to\n * keep it in view when it will overflow the clipping boundary.\n * @see https://floating-ui.com/docs/shift\n */\nconst shift = shift$1;\n\n/**\n * Optimizes the visibility of the floating element by flipping the `placement`\n * in order to keep it in view when the preferred placement(s) will overflow the\n * clipping boundary. Alternative to `autoPlacement`.\n * @see https://floating-ui.com/docs/flip\n */\nconst flip = flip$1;\n\n/**\n * Provides data that allows you to change the size of the floating element —\n * for instance, prevent it from overflowing the clipping boundary or match the\n * width of the reference element.\n * @see https://floating-ui.com/docs/size\n */\nconst size = size$1;\n\n/**\n * Provides data to hide the floating element in applicable situations, such as\n * when it is not in the same clipping context as the reference element.\n * @see https://floating-ui.com/docs/hide\n */\nconst hide = hide$1;\n\n/**\n * Provides data to position an inner element of the floating element so that it\n * appears centered to the reference element.\n * @see https://floating-ui.com/docs/arrow\n */\nconst arrow = arrow$1;\n\n/**\n * Provides improved positioning for inline reference elements that can span\n * over multiple lines, such as hyperlinks or range selections.\n * @see https://floating-ui.com/docs/inline\n */\nconst inline = inline$1;\n\n/**\n * Built-in `limiter` that will stop `shift()` at a certain point.\n */\nconst limitShift = limitShift$1;\n\n/**\n * Computes the `x` and `y` coordinates that will place the floating element\n * next to a given reference element.\n */\nconst computePosition = (reference, floating, options) => {\n  // This caches the expensive `getClippingElementAncestors` function so that\n  // multiple lifecycle resets re-use the same result. It only lives for a\n  // single call. If other functions become expensive, we can add them as well.\n  const cache = new Map();\n  const mergedOptions = {\n    platform,\n    ...options\n  };\n  const platformWithCache = {\n    ...mergedOptions.platform,\n    _c: cache\n  };\n  return computePosition$1(reference, floating, {\n    ...mergedOptions,\n    platform: platformWithCache\n  });\n};\n\nexport { arrow, autoPlacement, autoUpdate, computePosition, flip, hide, inline, limitShift, platform, shift, size };\n","import { arrow as arrow$1, computePosition } from '@floating-ui/dom';\nexport { autoPlacement, autoUpdate, computePosition, detectOverflow, flip, getOverflowAncestors, hide, inline, limitShift, offset, platform, shift, size } from '@floating-ui/dom';\nimport * as React from 'react';\nimport { useLayoutEffect, useEffect } from 'react';\nimport * as ReactDOM from 'react-dom';\n\n/**\n * Provides data to position an inner element of the floating element so that it\n * appears centered to the reference element.\n * This wraps the core `arrow` middleware to allow React refs as the element.\n * @see https://floating-ui.com/docs/arrow\n */\nconst arrow = options => {\n  function isRef(value) {\n    return {}.hasOwnProperty.call(value, 'current');\n  }\n  return {\n    name: 'arrow',\n    options,\n    fn(state) {\n      const {\n        element,\n        padding\n      } = typeof options === 'function' ? options(state) : options;\n      if (element && isRef(element)) {\n        if (element.current != null) {\n          return arrow$1({\n            element: element.current,\n            padding\n          }).fn(state);\n        }\n        return {};\n      }\n      if (element) {\n        return arrow$1({\n          element,\n          padding\n        }).fn(state);\n      }\n      return {};\n    }\n  };\n};\n\nvar index = typeof document !== 'undefined' ? useLayoutEffect : useEffect;\n\n// Fork of `fast-deep-equal` that only does the comparisons we need and compares\n// functions\nfunction deepEqual(a, b) {\n  if (a === b) {\n    return true;\n  }\n  if (typeof a !== typeof b) {\n    return false;\n  }\n  if (typeof a === 'function' && a.toString() === b.toString()) {\n    return true;\n  }\n  let length;\n  let i;\n  let keys;\n  if (a && b && typeof a === 'object') {\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length !== b.length) return false;\n      for (i = length; i-- !== 0;) {\n        if (!deepEqual(a[i], b[i])) {\n          return false;\n        }\n      }\n      return true;\n    }\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) {\n      return false;\n    }\n    for (i = length; i-- !== 0;) {\n      if (!{}.hasOwnProperty.call(b, keys[i])) {\n        return false;\n      }\n    }\n    for (i = length; i-- !== 0;) {\n      const key = keys[i];\n      if (key === '_owner' && a.$$typeof) {\n        continue;\n      }\n      if (!deepEqual(a[key], b[key])) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  // biome-ignore lint/suspicious/noSelfCompare: in source\n  return a !== a && b !== b;\n}\n\nfunction getDPR(element) {\n  if (typeof window === 'undefined') {\n    return 1;\n  }\n  const win = element.ownerDocument.defaultView || window;\n  return win.devicePixelRatio || 1;\n}\n\nfunction roundByDPR(element, value) {\n  const dpr = getDPR(element);\n  return Math.round(value * dpr) / dpr;\n}\n\nfunction useLatestRef(value) {\n  const ref = React.useRef(value);\n  index(() => {\n    ref.current = value;\n  });\n  return ref;\n}\n\n/**\n * Provides data to position a floating element.\n * @see https://floating-ui.com/docs/useFloating\n */\nfunction useFloating(options) {\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    placement = 'bottom',\n    strategy = 'absolute',\n    middleware = [],\n    platform,\n    elements: {\n      reference: externalReference,\n      floating: externalFloating\n    } = {},\n    transform = true,\n    whileElementsMounted,\n    open\n  } = options;\n  const [data, setData] = React.useState({\n    x: 0,\n    y: 0,\n    strategy,\n    placement,\n    middlewareData: {},\n    isPositioned: false\n  });\n  const [latestMiddleware, setLatestMiddleware] = React.useState(middleware);\n  if (!deepEqual(latestMiddleware, middleware)) {\n    setLatestMiddleware(middleware);\n  }\n  const [_reference, _setReference] = React.useState(null);\n  const [_floating, _setFloating] = React.useState(null);\n  const setReference = React.useCallback(node => {\n    if (node !== referenceRef.current) {\n      referenceRef.current = node;\n      _setReference(node);\n    }\n  }, []);\n  const setFloating = React.useCallback(node => {\n    if (node !== floatingRef.current) {\n      floatingRef.current = node;\n      _setFloating(node);\n    }\n  }, []);\n  const referenceEl = externalReference || _reference;\n  const floatingEl = externalFloating || _floating;\n  const referenceRef = React.useRef(null);\n  const floatingRef = React.useRef(null);\n  const dataRef = React.useRef(data);\n  const hasWhileElementsMounted = whileElementsMounted != null;\n  const whileElementsMountedRef = useLatestRef(whileElementsMounted);\n  const platformRef = useLatestRef(platform);\n  const update = React.useCallback(() => {\n    if (!referenceRef.current || !floatingRef.current) {\n      return;\n    }\n    const config = {\n      placement,\n      strategy,\n      middleware: latestMiddleware\n    };\n    if (platformRef.current) {\n      config.platform = platformRef.current;\n    }\n    computePosition(referenceRef.current, floatingRef.current, config).then(data => {\n      const fullData = {\n        ...data,\n        isPositioned: true\n      };\n      if (isMountedRef.current && !deepEqual(dataRef.current, fullData)) {\n        dataRef.current = fullData;\n        ReactDOM.flushSync(() => {\n          setData(fullData);\n        });\n      }\n    });\n  }, [latestMiddleware, placement, strategy, platformRef]);\n  index(() => {\n    if (open === false && dataRef.current.isPositioned) {\n      dataRef.current.isPositioned = false;\n      setData(data => ({\n        ...data,\n        isPositioned: false\n      }));\n    }\n  }, [open]);\n  const isMountedRef = React.useRef(false);\n  index(() => {\n    isMountedRef.current = true;\n    return () => {\n      isMountedRef.current = false;\n    };\n  }, []);\n\n  // biome-ignore lint/correctness/useExhaustiveDependencies: `hasWhileElementsMounted` is intentionally included.\n  index(() => {\n    if (referenceEl) referenceRef.current = referenceEl;\n    if (floatingEl) floatingRef.current = floatingEl;\n    if (referenceEl && floatingEl) {\n      if (whileElementsMountedRef.current) {\n        return whileElementsMountedRef.current(referenceEl, floatingEl, update);\n      }\n      update();\n    }\n  }, [referenceEl, floatingEl, update, whileElementsMountedRef, hasWhileElementsMounted]);\n  const refs = React.useMemo(() => ({\n    reference: referenceRef,\n    floating: floatingRef,\n    setReference,\n    setFloating\n  }), [setReference, setFloating]);\n  const elements = React.useMemo(() => ({\n    reference: referenceEl,\n    floating: floatingEl\n  }), [referenceEl, floatingEl]);\n  const floatingStyles = React.useMemo(() => {\n    const initialStyles = {\n      position: strategy,\n      left: 0,\n      top: 0\n    };\n    if (!elements.floating) {\n      return initialStyles;\n    }\n    const x = roundByDPR(elements.floating, data.x);\n    const y = roundByDPR(elements.floating, data.y);\n    if (transform) {\n      return {\n        ...initialStyles,\n        transform: \"translate(\" + x + \"px, \" + y + \"px)\",\n        ...(getDPR(elements.floating) >= 1.5 && {\n          willChange: 'transform'\n        })\n      };\n    }\n    return {\n      position: strategy,\n      left: x,\n      top: y\n    };\n  }, [strategy, transform, elements.floating, data.x, data.y]);\n  return React.useMemo(() => ({\n    ...data,\n    update,\n    refs,\n    elements,\n    floatingStyles\n  }), [data, update, refs, elements, floatingStyles]);\n}\n\nexport { arrow, useFloating };\n","// NOTE: separate `:not()` selectors has broader browser support than the newer\n//  `:not([inert], [inert] *)` (Feb 2023)\n// CAREFUL: JSDom does not support `:not([inert] *)` as a selector; using it causes\n//  the entire query to fail, resulting in no nodes found, which will break a lot\n//  of things... so we have to rely on JS to identify nodes inside an inert container\nconst candidateSelectors = [\n  'input:not([inert])',\n  'select:not([inert])',\n  'textarea:not([inert])',\n  'a[href]:not([inert])',\n  'button:not([inert])',\n  '[tabindex]:not(slot):not([inert])',\n  'audio[controls]:not([inert])',\n  'video[controls]:not([inert])',\n  '[contenteditable]:not([contenteditable=\"false\"]):not([inert])',\n  'details>summary:first-of-type:not([inert])',\n  'details:not([inert])',\n];\nconst candidateSelector = /* #__PURE__ */ candidateSelectors.join(',');\n\nconst NoElement = typeof Element === 'undefined';\n\nconst matches = NoElement\n  ? function () {}\n  : Element.prototype.matches ||\n    Element.prototype.msMatchesSelector ||\n    Element.prototype.webkitMatchesSelector;\n\nconst getRootNode =\n  !NoElement && Element.prototype.getRootNode\n    ? (element) => element?.getRootNode?.()\n    : (element) => element?.ownerDocument;\n\n/**\n * Determines if a node is inert or in an inert ancestor.\n * @param {Element} [node]\n * @param {boolean} [lookUp] If true and `node` is not inert, looks up at ancestors to\n *  see if any of them are inert. If false, only `node` itself is considered.\n * @returns {boolean} True if inert itself or by way of being in an inert ancestor.\n *  False if `node` is falsy.\n */\nconst isInert = function (node, lookUp = true) {\n  // CAREFUL: JSDom does not support inert at all, so we can't use the `HTMLElement.inert`\n  //  JS API property; we have to check the attribute, which can either be empty or 'true';\n  //  if it's `null` (not specified) or 'false', it's an active element\n  const inertAtt = node?.getAttribute?.('inert');\n  const inert = inertAtt === '' || inertAtt === 'true';\n\n  // NOTE: this could also be handled with `node.matches('[inert], :is([inert] *)')`\n  //  if it weren't for `matches()` not being a function on shadow roots; the following\n  //  code works for any kind of node\n  // CAREFUL: JSDom does not appear to support certain selectors like `:not([inert] *)`\n  //  so it likely would not support `:is([inert] *)` either...\n  const result = inert || (lookUp && node && isInert(node.parentNode)); // recursive\n\n  return result;\n};\n\n/**\n * Determines if a node's content is editable.\n * @param {Element} [node]\n * @returns True if it's content-editable; false if it's not or `node` is falsy.\n */\nconst isContentEditable = function (node) {\n  // CAREFUL: JSDom does not support the `HTMLElement.isContentEditable` API so we have\n  //  to use the attribute directly to check for this, which can either be empty or 'true';\n  //  if it's `null` (not specified) or 'false', it's a non-editable element\n  const attValue = node?.getAttribute?.('contenteditable');\n  return attValue === '' || attValue === 'true';\n};\n\n/**\n * @param {Element} el container to check in\n * @param {boolean} includeContainer add container to check\n * @param {(node: Element) => boolean} filter filter candidates\n * @returns {Element[]}\n */\nconst getCandidates = function (el, includeContainer, filter) {\n  // even if `includeContainer=false`, we still have to check it for inertness because\n  //  if it's inert, all its children are inert\n  if (isInert(el)) {\n    return [];\n  }\n\n  let candidates = Array.prototype.slice.apply(\n    el.querySelectorAll(candidateSelector)\n  );\n  if (includeContainer && matches.call(el, candidateSelector)) {\n    candidates.unshift(el);\n  }\n  candidates = candidates.filter(filter);\n  return candidates;\n};\n\n/**\n * @callback GetShadowRoot\n * @param {Element} element to check for shadow root\n * @returns {ShadowRoot|boolean} ShadowRoot if available or boolean indicating if a shadowRoot is attached but not available.\n */\n\n/**\n * @callback ShadowRootFilter\n * @param {Element} shadowHostNode the element which contains shadow content\n * @returns {boolean} true if a shadow root could potentially contain valid candidates.\n */\n\n/**\n * @typedef {Object} CandidateScope\n * @property {Element} scopeParent contains inner candidates\n * @property {Element[]} candidates list of candidates found in the scope parent\n */\n\n/**\n * @typedef {Object} IterativeOptions\n * @property {GetShadowRoot|boolean} getShadowRoot true if shadow support is enabled; falsy if not;\n *  if a function, implies shadow support is enabled and either returns the shadow root of an element\n *  or a boolean stating if it has an undisclosed shadow root\n * @property {(node: Element) => boolean} filter filter candidates\n * @property {boolean} flatten if true then result will flatten any CandidateScope into the returned list\n * @property {ShadowRootFilter} shadowRootFilter filter shadow roots;\n */\n\n/**\n * @param {Element[]} elements list of element containers to match candidates from\n * @param {boolean} includeContainer add container list to check\n * @param {IterativeOptions} options\n * @returns {Array.<Element|CandidateScope>}\n */\nconst getCandidatesIteratively = function (\n  elements,\n  includeContainer,\n  options\n) {\n  const candidates = [];\n  const elementsToCheck = Array.from(elements);\n  while (elementsToCheck.length) {\n    const element = elementsToCheck.shift();\n    if (isInert(element, false)) {\n      // no need to look up since we're drilling down\n      // anything inside this container will also be inert\n      continue;\n    }\n\n    if (element.tagName === 'SLOT') {\n      // add shadow dom slot scope (slot itself cannot be focusable)\n      const assigned = element.assignedElements();\n      const content = assigned.length ? assigned : element.children;\n      const nestedCandidates = getCandidatesIteratively(content, true, options);\n      if (options.flatten) {\n        candidates.push(...nestedCandidates);\n      } else {\n        candidates.push({\n          scopeParent: element,\n          candidates: nestedCandidates,\n        });\n      }\n    } else {\n      // check candidate element\n      const validCandidate = matches.call(element, candidateSelector);\n      if (\n        validCandidate &&\n        options.filter(element) &&\n        (includeContainer || !elements.includes(element))\n      ) {\n        candidates.push(element);\n      }\n\n      // iterate over shadow content if possible\n      const shadowRoot =\n        element.shadowRoot ||\n        // check for an undisclosed shadow\n        (typeof options.getShadowRoot === 'function' &&\n          options.getShadowRoot(element));\n\n      // no inert look up because we're already drilling down and checking for inertness\n      //  on the way down, so all containers to this root node should have already been\n      //  vetted as non-inert\n      const validShadowRoot =\n        !isInert(shadowRoot, false) &&\n        (!options.shadowRootFilter || options.shadowRootFilter(element));\n\n      if (shadowRoot && validShadowRoot) {\n        // add shadow dom scope IIF a shadow root node was given; otherwise, an undisclosed\n        //  shadow exists, so look at light dom children as fallback BUT create a scope for any\n        //  child candidates found because they're likely slotted elements (elements that are\n        //  children of the web component element (which has the shadow), in the light dom, but\n        //  slotted somewhere _inside_ the undisclosed shadow) -- the scope is created below,\n        //  _after_ we return from this recursive call\n        const nestedCandidates = getCandidatesIteratively(\n          shadowRoot === true ? element.children : shadowRoot.children,\n          true,\n          options\n        );\n\n        if (options.flatten) {\n          candidates.push(...nestedCandidates);\n        } else {\n          candidates.push({\n            scopeParent: element,\n            candidates: nestedCandidates,\n          });\n        }\n      } else {\n        // there's not shadow so just dig into the element's (light dom) children\n        //  __without__ giving the element special scope treatment\n        elementsToCheck.unshift(...element.children);\n      }\n    }\n  }\n  return candidates;\n};\n\n/**\n * @private\n * Determines if the node has an explicitly specified `tabindex` attribute.\n * @param {HTMLElement} node\n * @returns {boolean} True if so; false if not.\n */\nconst hasTabIndex = function (node) {\n  return !isNaN(parseInt(node.getAttribute('tabindex'), 10));\n};\n\n/**\n * Determine the tab index of a given node.\n * @param {HTMLElement} node\n * @returns {number} Tab order (negative, 0, or positive number).\n * @throws {Error} If `node` is falsy.\n */\nconst getTabIndex = function (node) {\n  if (!node) {\n    throw new Error('No node provided');\n  }\n\n  if (node.tabIndex < 0) {\n    // in Chrome, <details/>, <audio controls/> and <video controls/> elements get a default\n    // `tabIndex` of -1 when the 'tabindex' attribute isn't specified in the DOM,\n    // yet they are still part of the regular tab order; in FF, they get a default\n    // `tabIndex` of 0; since Chrome still puts those elements in the regular tab\n    // order, consider their tab index to be 0.\n    // Also browsers do not return `tabIndex` correctly for contentEditable nodes;\n    // so if they don't have a tabindex attribute specifically set, assume it's 0.\n    if (\n      (/^(AUDIO|VIDEO|DETAILS)$/.test(node.tagName) ||\n        isContentEditable(node)) &&\n      !hasTabIndex(node)\n    ) {\n      return 0;\n    }\n  }\n\n  return node.tabIndex;\n};\n\n/**\n * Determine the tab index of a given node __for sort order purposes__.\n * @param {HTMLElement} node\n * @param {boolean} [isScope] True for a custom element with shadow root or slot that, by default,\n *  has tabIndex -1, but needs to be sorted by document order in order for its content to be\n *  inserted into the correct sort position.\n * @returns {number} Tab order (negative, 0, or positive number).\n */\nconst getSortOrderTabIndex = function (node, isScope) {\n  const tabIndex = getTabIndex(node);\n\n  if (tabIndex < 0 && isScope && !hasTabIndex(node)) {\n    return 0;\n  }\n\n  return tabIndex;\n};\n\nconst sortOrderedTabbables = function (a, b) {\n  return a.tabIndex === b.tabIndex\n    ? a.documentOrder - b.documentOrder\n    : a.tabIndex - b.tabIndex;\n};\n\nconst isInput = function (node) {\n  return node.tagName === 'INPUT';\n};\n\nconst isHiddenInput = function (node) {\n  return isInput(node) && node.type === 'hidden';\n};\n\nconst isDetailsWithSummary = function (node) {\n  const r =\n    node.tagName === 'DETAILS' &&\n    Array.prototype.slice\n      .apply(node.children)\n      .some((child) => child.tagName === 'SUMMARY');\n  return r;\n};\n\nconst getCheckedRadio = function (nodes, form) {\n  for (let i = 0; i < nodes.length; i++) {\n    if (nodes[i].checked && nodes[i].form === form) {\n      return nodes[i];\n    }\n  }\n};\n\nconst isTabbableRadio = function (node) {\n  if (!node.name) {\n    return true;\n  }\n  const radioScope = node.form || getRootNode(node);\n  const queryRadios = function (name) {\n    return radioScope.querySelectorAll(\n      'input[type=\"radio\"][name=\"' + name + '\"]'\n    );\n  };\n\n  let radioSet;\n  if (\n    typeof window !== 'undefined' &&\n    typeof window.CSS !== 'undefined' &&\n    typeof window.CSS.escape === 'function'\n  ) {\n    radioSet = queryRadios(window.CSS.escape(node.name));\n  } else {\n    try {\n      radioSet = queryRadios(node.name);\n    } catch (err) {\n      // eslint-disable-next-line no-console\n      console.error(\n        'Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s',\n        err.message\n      );\n      return false;\n    }\n  }\n\n  const checked = getCheckedRadio(radioSet, node.form);\n  return !checked || checked === node;\n};\n\nconst isRadio = function (node) {\n  return isInput(node) && node.type === 'radio';\n};\n\nconst isNonTabbableRadio = function (node) {\n  return isRadio(node) && !isTabbableRadio(node);\n};\n\n// determines if a node is ultimately attached to the window's document\nconst isNodeAttached = function (node) {\n  // The root node is the shadow root if the node is in a shadow DOM; some document otherwise\n  //  (but NOT _the_ document; see second 'If' comment below for more).\n  // If rootNode is shadow root, it'll have a host, which is the element to which the shadow\n  //  is attached, and the one we need to check if it's in the document or not (because the\n  //  shadow, and all nodes it contains, is never considered in the document since shadows\n  //  behave like self-contained DOMs; but if the shadow's HOST, which is part of the document,\n  //  is hidden, or is not in the document itself but is detached, it will affect the shadow's\n  //  visibility, including all the nodes it contains). The host could be any normal node,\n  //  or a custom element (i.e. web component). Either way, that's the one that is considered\n  //  part of the document, not the shadow root, nor any of its children (i.e. the node being\n  //  tested).\n  // To further complicate things, we have to look all the way up until we find a shadow HOST\n  //  that is attached (or find none) because the node might be in nested shadows...\n  // If rootNode is not a shadow root, it won't have a host, and so rootNode should be the\n  //  document (per the docs) and while it's a Document-type object, that document does not\n  //  appear to be the same as the node's `ownerDocument` for some reason, so it's safer\n  //  to ignore the rootNode at this point, and use `node.ownerDocument`. Otherwise,\n  //  using `rootNode.contains(node)` will _always_ be true we'll get false-positives when\n  //  node is actually detached.\n  // NOTE: If `nodeRootHost` or `node` happens to be the `document` itself (which is possible\n  //  if a tabbable/focusable node was quickly added to the DOM, focused, and then removed\n  //  from the DOM as in https://github.com/focus-trap/focus-trap-react/issues/905), then\n  //  `ownerDocument` will be `null`, hence the optional chaining on it.\n  let nodeRoot = node && getRootNode(node);\n  let nodeRootHost = nodeRoot?.host;\n\n  // in some cases, a detached node will return itself as the root instead of a document or\n  //  shadow root object, in which case, we shouldn't try to look further up the host chain\n  let attached = false;\n  if (nodeRoot && nodeRoot !== node) {\n    attached = !!(\n      nodeRootHost?.ownerDocument?.contains(nodeRootHost) ||\n      node?.ownerDocument?.contains(node)\n    );\n\n    while (!attached && nodeRootHost) {\n      // since it's not attached and we have a root host, the node MUST be in a nested shadow DOM,\n      //  which means we need to get the host's host and check if that parent host is contained\n      //  in (i.e. attached to) the document\n      nodeRoot = getRootNode(nodeRootHost);\n      nodeRootHost = nodeRoot?.host;\n      attached = !!nodeRootHost?.ownerDocument?.contains(nodeRootHost);\n    }\n  }\n\n  return attached;\n};\n\nconst isZeroArea = function (node) {\n  const { width, height } = node.getBoundingClientRect();\n  return width === 0 && height === 0;\n};\nconst isHidden = function (node, { displayCheck, getShadowRoot }) {\n  // NOTE: visibility will be `undefined` if node is detached from the document\n  //  (see notes about this further down), which means we will consider it visible\n  //  (this is legacy behavior from a very long way back)\n  // NOTE: we check this regardless of `displayCheck=\"none\"` because this is a\n  //  _visibility_ check, not a _display_ check\n  if (getComputedStyle(node).visibility === 'hidden') {\n    return true;\n  }\n\n  const isDirectSummary = matches.call(node, 'details>summary:first-of-type');\n  const nodeUnderDetails = isDirectSummary ? node.parentElement : node;\n  if (matches.call(nodeUnderDetails, 'details:not([open]) *')) {\n    return true;\n  }\n\n  if (\n    !displayCheck ||\n    displayCheck === 'full' ||\n    displayCheck === 'legacy-full'\n  ) {\n    if (typeof getShadowRoot === 'function') {\n      // figure out if we should consider the node to be in an undisclosed shadow and use the\n      //  'non-zero-area' fallback\n      const originalNode = node;\n      while (node) {\n        const parentElement = node.parentElement;\n        const rootNode = getRootNode(node);\n        if (\n          parentElement &&\n          !parentElement.shadowRoot &&\n          getShadowRoot(parentElement) === true // check if there's an undisclosed shadow\n        ) {\n          // node has an undisclosed shadow which means we can only treat it as a black box, so we\n          //  fall back to a non-zero-area test\n          return isZeroArea(node);\n        } else if (node.assignedSlot) {\n          // iterate up slot\n          node = node.assignedSlot;\n        } else if (!parentElement && rootNode !== node.ownerDocument) {\n          // cross shadow boundary\n          node = rootNode.host;\n        } else {\n          // iterate up normal dom\n          node = parentElement;\n        }\n      }\n\n      node = originalNode;\n    }\n    // else, `getShadowRoot` might be true, but all that does is enable shadow DOM support\n    //  (i.e. it does not also presume that all nodes might have undisclosed shadows); or\n    //  it might be a falsy value, which means shadow DOM support is disabled\n\n    // Since we didn't find it sitting in an undisclosed shadow (or shadows are disabled)\n    //  now we can just test to see if it would normally be visible or not, provided it's\n    //  attached to the main document.\n    // NOTE: We must consider case where node is inside a shadow DOM and given directly to\n    //  `isTabbable()` or `isFocusable()` -- regardless of `getShadowRoot` option setting.\n\n    if (isNodeAttached(node)) {\n      // this works wherever the node is: if there's at least one client rect, it's\n      //  somehow displayed; it also covers the CSS 'display: contents' case where the\n      //  node itself is hidden in place of its contents; and there's no need to search\n      //  up the hierarchy either\n      return !node.getClientRects().length;\n    }\n\n    // Else, the node isn't attached to the document, which means the `getClientRects()`\n    //  API will __always__ return zero rects (this can happen, for example, if React\n    //  is used to render nodes onto a detached tree, as confirmed in this thread:\n    //  https://github.com/facebook/react/issues/9117#issuecomment-284228870)\n    //\n    // It also means that even window.getComputedStyle(node).display will return `undefined`\n    //  because styles are only computed for nodes that are in the document.\n    //\n    // NOTE: THIS HAS BEEN THE CASE FOR YEARS. It is not new, nor is it caused by tabbable\n    //  somehow. Though it was never stated officially, anyone who has ever used tabbable\n    //  APIs on nodes in detached containers has actually implicitly used tabbable in what\n    //  was later (as of v5.2.0 on Apr 9, 2021) called `displayCheck=\"none\"` mode -- essentially\n    //  considering __everything__ to be visible because of the innability to determine styles.\n    //\n    // v6.0.0: As of this major release, the default 'full' option __no longer treats detached\n    //  nodes as visible with the 'none' fallback.__\n    if (displayCheck !== 'legacy-full') {\n      return true; // hidden\n    }\n    // else, fallback to 'none' mode and consider the node visible\n  } else if (displayCheck === 'non-zero-area') {\n    // NOTE: Even though this tests that the node's client rect is non-zero to determine\n    //  whether it's displayed, and that a detached node will __always__ have a zero-area\n    //  client rect, we don't special-case for whether the node is attached or not. In\n    //  this mode, we do want to consider nodes that have a zero area to be hidden at all\n    //  times, and that includes attached or not.\n    return isZeroArea(node);\n  }\n\n  // visible, as far as we can tell, or per current `displayCheck=none` mode, we assume\n  //  it's visible\n  return false;\n};\n\n// form fields (nested) inside a disabled fieldset are not focusable/tabbable\n//  unless they are in the _first_ <legend> element of the top-most disabled\n//  fieldset\nconst isDisabledFromFieldset = function (node) {\n  if (/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(node.tagName)) {\n    let parentNode = node.parentElement;\n    // check if `node` is contained in a disabled <fieldset>\n    while (parentNode) {\n      if (parentNode.tagName === 'FIELDSET' && parentNode.disabled) {\n        // look for the first <legend> among the children of the disabled <fieldset>\n        for (let i = 0; i < parentNode.children.length; i++) {\n          const child = parentNode.children.item(i);\n          // when the first <legend> (in document order) is found\n          if (child.tagName === 'LEGEND') {\n            // if its parent <fieldset> is not nested in another disabled <fieldset>,\n            // return whether `node` is a descendant of its first <legend>\n            return matches.call(parentNode, 'fieldset[disabled] *')\n              ? true\n              : !child.contains(node);\n          }\n        }\n        // the disabled <fieldset> containing `node` has no <legend>\n        return true;\n      }\n      parentNode = parentNode.parentElement;\n    }\n  }\n\n  // else, node's tabbable/focusable state should not be affected by a fieldset's\n  //  enabled/disabled state\n  return false;\n};\n\nconst isNodeMatchingSelectorFocusable = function (options, node) {\n  if (\n    node.disabled ||\n    // we must do an inert look up to filter out any elements inside an inert ancestor\n    //  because we're limited in the type of selectors we can use in JSDom (see related\n    //  note related to `candidateSelectors`)\n    isInert(node) ||\n    isHiddenInput(node) ||\n    isHidden(node, options) ||\n    // For a details element with a summary, the summary element gets the focus\n    isDetailsWithSummary(node) ||\n    isDisabledFromFieldset(node)\n  ) {\n    return false;\n  }\n  return true;\n};\n\nconst isNodeMatchingSelectorTabbable = function (options, node) {\n  if (\n    isNonTabbableRadio(node) ||\n    getTabIndex(node) < 0 ||\n    !isNodeMatchingSelectorFocusable(options, node)\n  ) {\n    return false;\n  }\n  return true;\n};\n\nconst isValidShadowRootTabbable = function (shadowHostNode) {\n  const tabIndex = parseInt(shadowHostNode.getAttribute('tabindex'), 10);\n  if (isNaN(tabIndex) || tabIndex >= 0) {\n    return true;\n  }\n  // If a custom element has an explicit negative tabindex,\n  // browsers will not allow tab targeting said element's children.\n  return false;\n};\n\n/**\n * @param {Array.<Element|CandidateScope>} candidates\n * @returns Element[]\n */\nconst sortByOrder = function (candidates) {\n  const regularTabbables = [];\n  const orderedTabbables = [];\n  candidates.forEach(function (item, i) {\n    const isScope = !!item.scopeParent;\n    const element = isScope ? item.scopeParent : item;\n    const candidateTabindex = getSortOrderTabIndex(element, isScope);\n    const elements = isScope ? sortByOrder(item.candidates) : element;\n    if (candidateTabindex === 0) {\n      isScope\n        ? regularTabbables.push(...elements)\n        : regularTabbables.push(element);\n    } else {\n      orderedTabbables.push({\n        documentOrder: i,\n        tabIndex: candidateTabindex,\n        item: item,\n        isScope: isScope,\n        content: elements,\n      });\n    }\n  });\n\n  return orderedTabbables\n    .sort(sortOrderedTabbables)\n    .reduce((acc, sortable) => {\n      sortable.isScope\n        ? acc.push(...sortable.content)\n        : acc.push(sortable.content);\n      return acc;\n    }, [])\n    .concat(regularTabbables);\n};\n\nconst tabbable = function (container, options) {\n  options = options || {};\n\n  let candidates;\n  if (options.getShadowRoot) {\n    candidates = getCandidatesIteratively(\n      [container],\n      options.includeContainer,\n      {\n        filter: isNodeMatchingSelectorTabbable.bind(null, options),\n        flatten: false,\n        getShadowRoot: options.getShadowRoot,\n        shadowRootFilter: isValidShadowRootTabbable,\n      }\n    );\n  } else {\n    candidates = getCandidates(\n      container,\n      options.includeContainer,\n      isNodeMatchingSelectorTabbable.bind(null, options)\n    );\n  }\n  return sortByOrder(candidates);\n};\n\nconst focusable = function (container, options) {\n  options = options || {};\n\n  let candidates;\n  if (options.getShadowRoot) {\n    candidates = getCandidatesIteratively(\n      [container],\n      options.includeContainer,\n      {\n        filter: isNodeMatchingSelectorFocusable.bind(null, options),\n        flatten: true,\n        getShadowRoot: options.getShadowRoot,\n      }\n    );\n  } else {\n    candidates = getCandidates(\n      container,\n      options.includeContainer,\n      isNodeMatchingSelectorFocusable.bind(null, options)\n    );\n  }\n\n  return candidates;\n};\n\nconst isTabbable = function (node, options) {\n  options = options || {};\n  if (!node) {\n    throw new Error('No node provided');\n  }\n  if (matches.call(node, candidateSelector) === false) {\n    return false;\n  }\n  return isNodeMatchingSelectorTabbable(options, node);\n};\n\nconst focusableCandidateSelector = /* #__PURE__ */ candidateSelectors\n  .concat('iframe')\n  .join(',');\n\nconst isFocusable = function (node, options) {\n  options = options || {};\n  if (!node) {\n    throw new Error('No node provided');\n  }\n  if (matches.call(node, focusableCandidateSelector) === false) {\n    return false;\n  }\n  return isNodeMatchingSelectorFocusable(options, node);\n};\n\nexport { tabbable, focusable, isTabbable, isFocusable, getTabIndex };\n","import * as React from 'react';\nimport { useLayoutEffect, useEffect, useRef } from 'react';\nimport { stopEvent, getDocument, isMouseLikePointerType, contains, activeElement, isSafari, isTypeableCombobox, isVirtualClick, isVirtualPointerEvent, getTarget, getPlatform, isTypeableElement, isReactEvent, isRootElement, isEventTargetWithin, isMac, getUserAgent } from '@floating-ui/react/utils';\nimport { floor } from '@floating-ui/utils';\nimport { platform, getOverflowAncestors, useFloating as useFloating$1, offset, detectOverflow } from '@floating-ui/react-dom';\nexport { arrow, autoPlacement, autoUpdate, computePosition, detectOverflow, flip, getOverflowAncestors, hide, inline, limitShift, offset, platform, shift, size } from '@floating-ui/react-dom';\nimport { isElement, isHTMLElement, getNodeName, getWindow, isLastTraversableNode, getParentNode, getComputedStyle } from '@floating-ui/utils/dom';\nimport { tabbable } from 'tabbable';\nimport { createPortal, flushSync } from 'react-dom';\n\n/**\n * Merges an array of refs into a single memoized callback ref or `null`.\n * @see https://floating-ui.com/docs/react-utils#usemergerefs\n */\nfunction useMergeRefs(refs) {\n  // biome-ignore lint/correctness/useExhaustiveDependencies: intentional\n  return React.useMemo(() => {\n    if (refs.every(ref => ref == null)) {\n      return null;\n    }\n    return value => {\n      refs.forEach(ref => {\n        if (typeof ref === 'function') {\n          ref(value);\n        } else if (ref != null) {\n          ref.current = value;\n        }\n      });\n    };\n  }, refs);\n}\n\n// `toString()` prevents bundlers from trying to `import { useInsertionEffect } from 'react'`\nconst useInsertionEffect = React[/*#__PURE__*/'useInsertionEffect'.toString()];\nconst useSafeInsertionEffect = useInsertionEffect || (fn => fn());\nfunction useEffectEvent(callback) {\n  const ref = React.useRef(() => {\n    if (process.env.NODE_ENV !== \"production\") {\n      throw new Error('Cannot call an event handler while rendering.');\n    }\n  });\n  useSafeInsertionEffect(() => {\n    ref.current = callback;\n  });\n  return React.useCallback(function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    return ref.current == null ? void 0 : ref.current(...args);\n  }, []);\n}\n\nconst ARROW_UP = 'ArrowUp';\nconst ARROW_DOWN = 'ArrowDown';\nconst ARROW_LEFT = 'ArrowLeft';\nconst ARROW_RIGHT = 'ArrowRight';\nfunction isDifferentRow(index, cols, prevRow) {\n  return Math.floor(index / cols) !== prevRow;\n}\nfunction isIndexOutOfBounds(listRef, index) {\n  return index < 0 || index >= listRef.current.length;\n}\nfunction getMinIndex(listRef, disabledIndices) {\n  return findNonDisabledIndex(listRef, {\n    disabledIndices\n  });\n}\nfunction getMaxIndex(listRef, disabledIndices) {\n  return findNonDisabledIndex(listRef, {\n    decrement: true,\n    startingIndex: listRef.current.length,\n    disabledIndices\n  });\n}\nfunction findNonDisabledIndex(listRef, _temp) {\n  let {\n    startingIndex = -1,\n    decrement = false,\n    disabledIndices,\n    amount = 1\n  } = _temp === void 0 ? {} : _temp;\n  const list = listRef.current;\n  const isDisabledIndex = disabledIndices ? index => disabledIndices.includes(index) : index => {\n    const element = list[index];\n    return element == null || element.hasAttribute('disabled') || element.getAttribute('aria-disabled') === 'true';\n  };\n  let index = startingIndex;\n  do {\n    index += decrement ? -amount : amount;\n  } while (index >= 0 && index <= list.length - 1 && isDisabledIndex(index));\n  return index;\n}\nfunction getGridNavigatedIndex(elementsRef, _ref) {\n  let {\n    event,\n    orientation,\n    loop,\n    cols,\n    disabledIndices,\n    minIndex,\n    maxIndex,\n    prevIndex,\n    stopEvent: stop = false\n  } = _ref;\n  let nextIndex = prevIndex;\n  if (event.key === ARROW_UP) {\n    stop && stopEvent(event);\n    if (prevIndex === -1) {\n      nextIndex = maxIndex;\n    } else {\n      nextIndex = findNonDisabledIndex(elementsRef, {\n        startingIndex: nextIndex,\n        amount: cols,\n        decrement: true,\n        disabledIndices\n      });\n      if (loop && (prevIndex - cols < minIndex || nextIndex < 0)) {\n        const col = prevIndex % cols;\n        const maxCol = maxIndex % cols;\n        const offset = maxIndex - (maxCol - col);\n        if (maxCol === col) {\n          nextIndex = maxIndex;\n        } else {\n          nextIndex = maxCol > col ? offset : offset - cols;\n        }\n      }\n    }\n    if (isIndexOutOfBounds(elementsRef, nextIndex)) {\n      nextIndex = prevIndex;\n    }\n  }\n  if (event.key === ARROW_DOWN) {\n    stop && stopEvent(event);\n    if (prevIndex === -1) {\n      nextIndex = minIndex;\n    } else {\n      nextIndex = findNonDisabledIndex(elementsRef, {\n        startingIndex: prevIndex,\n        amount: cols,\n        disabledIndices\n      });\n      if (loop && prevIndex + cols > maxIndex) {\n        nextIndex = findNonDisabledIndex(elementsRef, {\n          startingIndex: prevIndex % cols - cols,\n          amount: cols,\n          disabledIndices\n        });\n      }\n    }\n    if (isIndexOutOfBounds(elementsRef, nextIndex)) {\n      nextIndex = prevIndex;\n    }\n  }\n\n  // Remains on the same row/column.\n  if (orientation === 'both') {\n    const prevRow = floor(prevIndex / cols);\n    if (event.key === ARROW_RIGHT) {\n      stop && stopEvent(event);\n      if (prevIndex % cols !== cols - 1) {\n        nextIndex = findNonDisabledIndex(elementsRef, {\n          startingIndex: prevIndex,\n          disabledIndices\n        });\n        if (loop && isDifferentRow(nextIndex, cols, prevRow)) {\n          nextIndex = findNonDisabledIndex(elementsRef, {\n            startingIndex: prevIndex - prevIndex % cols - 1,\n            disabledIndices\n          });\n        }\n      } else if (loop) {\n        nextIndex = findNonDisabledIndex(elementsRef, {\n          startingIndex: prevIndex - prevIndex % cols - 1,\n          disabledIndices\n        });\n      }\n      if (isDifferentRow(nextIndex, cols, prevRow)) {\n        nextIndex = prevIndex;\n      }\n    }\n    if (event.key === ARROW_LEFT) {\n      stop && stopEvent(event);\n      if (prevIndex % cols !== 0) {\n        nextIndex = findNonDisabledIndex(elementsRef, {\n          startingIndex: prevIndex,\n          disabledIndices,\n          decrement: true\n        });\n        if (loop && isDifferentRow(nextIndex, cols, prevRow)) {\n          nextIndex = findNonDisabledIndex(elementsRef, {\n            startingIndex: prevIndex + (cols - prevIndex % cols),\n            decrement: true,\n            disabledIndices\n          });\n        }\n      } else if (loop) {\n        nextIndex = findNonDisabledIndex(elementsRef, {\n          startingIndex: prevIndex + (cols - prevIndex % cols),\n          decrement: true,\n          disabledIndices\n        });\n      }\n      if (isDifferentRow(nextIndex, cols, prevRow)) {\n        nextIndex = prevIndex;\n      }\n    }\n    const lastRow = floor(maxIndex / cols) === prevRow;\n    if (isIndexOutOfBounds(elementsRef, nextIndex)) {\n      if (loop && lastRow) {\n        nextIndex = event.key === ARROW_LEFT ? maxIndex : findNonDisabledIndex(elementsRef, {\n          startingIndex: prevIndex - prevIndex % cols - 1,\n          disabledIndices\n        });\n      } else {\n        nextIndex = prevIndex;\n      }\n    }\n  }\n  return nextIndex;\n}\n\n/** For each cell index, gets the item index that occupies that cell */\nfunction buildCellMap(sizes, cols, dense) {\n  const cellMap = [];\n  let startIndex = 0;\n  sizes.forEach((_ref2, index) => {\n    let {\n      width,\n      height\n    } = _ref2;\n    if (width > cols) {\n      if (process.env.NODE_ENV !== \"production\") {\n        throw new Error(\"[Floating UI]: Invalid grid - item width at index \" + index + \" is greater than grid columns\");\n      }\n    }\n    let itemPlaced = false;\n    if (dense) {\n      startIndex = 0;\n    }\n    while (!itemPlaced) {\n      const targetCells = [];\n      for (let i = 0; i < width; i++) {\n        for (let j = 0; j < height; j++) {\n          targetCells.push(startIndex + i + j * cols);\n        }\n      }\n      if (startIndex % cols + width <= cols && targetCells.every(cell => cellMap[cell] == null)) {\n        targetCells.forEach(cell => {\n          cellMap[cell] = index;\n        });\n        itemPlaced = true;\n      } else {\n        startIndex++;\n      }\n    }\n  });\n\n  // convert into a non-sparse array\n  return [...cellMap];\n}\n\n/** Gets cell index of an item's corner or -1 when index is -1. */\nfunction getCellIndexOfCorner(index, sizes, cellMap, cols, corner) {\n  if (index === -1) return -1;\n  const firstCellIndex = cellMap.indexOf(index);\n  switch (corner) {\n    case 'tl':\n      return firstCellIndex;\n    case 'tr':\n      return firstCellIndex + sizes[index].width - 1;\n    case 'bl':\n      return firstCellIndex + (sizes[index].height - 1) * cols;\n    case 'br':\n      return cellMap.lastIndexOf(index);\n  }\n}\n\n/** Gets all cell indices that correspond to the specified indices */\nfunction getCellIndices(indices, cellMap) {\n  return cellMap.flatMap((index, cellIndex) => indices.includes(index) ? [cellIndex] : []);\n}\n\nlet rafId = 0;\nfunction enqueueFocus(el, options) {\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    preventScroll = false,\n    cancelPrevious = true,\n    sync = false\n  } = options;\n  cancelPrevious && cancelAnimationFrame(rafId);\n  const exec = () => el == null ? void 0 : el.focus({\n    preventScroll\n  });\n  if (sync) {\n    exec();\n  } else {\n    rafId = requestAnimationFrame(exec);\n  }\n}\n\nvar index = typeof document !== 'undefined' ? useLayoutEffect : useEffect;\n\nfunction sortByDocumentPosition(a, b) {\n  const position = a.compareDocumentPosition(b);\n  if (position & Node.DOCUMENT_POSITION_FOLLOWING || position & Node.DOCUMENT_POSITION_CONTAINED_BY) {\n    return -1;\n  }\n  if (position & Node.DOCUMENT_POSITION_PRECEDING || position & Node.DOCUMENT_POSITION_CONTAINS) {\n    return 1;\n  }\n  return 0;\n}\nfunction areMapsEqual(map1, map2) {\n  if (map1.size !== map2.size) {\n    return false;\n  }\n  for (const [key, value] of map1.entries()) {\n    if (value !== map2.get(key)) {\n      return false;\n    }\n  }\n  return true;\n}\nconst FloatingListContext = /*#__PURE__*/React.createContext({\n  register: () => {},\n  unregister: () => {},\n  map: /*#__PURE__*/new Map(),\n  elementsRef: {\n    current: []\n  }\n});\n/**\n * Provides context for a list of items within the floating element.\n * @see https://floating-ui.com/docs/FloatingList\n */\nfunction FloatingList(_ref) {\n  let {\n    children,\n    elementsRef,\n    labelsRef\n  } = _ref;\n  const [map, setMap] = React.useState(() => new Map());\n  const register = React.useCallback(node => {\n    setMap(prevMap => new Map(prevMap).set(node, null));\n  }, []);\n  const unregister = React.useCallback(node => {\n    setMap(prevMap => {\n      const map = new Map(prevMap);\n      map.delete(node);\n      return map;\n    });\n  }, []);\n  index(() => {\n    const newMap = new Map(map);\n    const nodes = Array.from(newMap.keys()).sort(sortByDocumentPosition);\n    nodes.forEach((node, index) => {\n      newMap.set(node, index);\n    });\n    if (!areMapsEqual(map, newMap)) {\n      setMap(newMap);\n    }\n  }, [map]);\n  return /*#__PURE__*/React.createElement(FloatingListContext.Provider, {\n    value: React.useMemo(() => ({\n      register,\n      unregister,\n      map,\n      elementsRef,\n      labelsRef\n    }), [register, unregister, map, elementsRef, labelsRef])\n  }, children);\n}\n/**\n * Used to register a list item and its index (DOM position) in the\n * `FloatingList`.\n * @see https://floating-ui.com/docs/FloatingList#uselistitem\n */\nfunction useListItem(_temp) {\n  let {\n    label\n  } = _temp === void 0 ? {} : _temp;\n  const [index$1, setIndex] = React.useState(null);\n  const componentRef = React.useRef(null);\n  const {\n    register,\n    unregister,\n    map,\n    elementsRef,\n    labelsRef\n  } = React.useContext(FloatingListContext);\n  const ref = React.useCallback(node => {\n    componentRef.current = node;\n    if (index$1 !== null) {\n      elementsRef.current[index$1] = node;\n      if (labelsRef) {\n        var _node$textContent;\n        const isLabelDefined = label !== undefined;\n        labelsRef.current[index$1] = isLabelDefined ? label : (_node$textContent = node == null ? void 0 : node.textContent) != null ? _node$textContent : null;\n      }\n    }\n  }, [index$1, elementsRef, labelsRef, label]);\n  index(() => {\n    const node = componentRef.current;\n    if (node) {\n      register(node);\n      return () => {\n        unregister(node);\n      };\n    }\n  }, [register, unregister]);\n  index(() => {\n    const index = componentRef.current ? map.get(componentRef.current) : null;\n    if (index != null) {\n      setIndex(index);\n    }\n  }, [map]);\n  return React.useMemo(() => ({\n    ref,\n    index: index$1 == null ? -1 : index$1\n  }), [index$1, ref]);\n}\n\nfunction renderJsx(render, computedProps) {\n  if (typeof render === 'function') {\n    return render(computedProps);\n  }\n  if (render) {\n    return /*#__PURE__*/React.cloneElement(render, computedProps);\n  }\n  return /*#__PURE__*/React.createElement(\"div\", computedProps);\n}\nconst CompositeContext = /*#__PURE__*/React.createContext({\n  activeIndex: 0,\n  onNavigate: () => {}\n});\nconst horizontalKeys = [ARROW_LEFT, ARROW_RIGHT];\nconst verticalKeys = [ARROW_UP, ARROW_DOWN];\nconst allKeys = [...horizontalKeys, ...verticalKeys];\n\n/**\n * Creates a single tab stop whose items are navigated by arrow keys, which\n * provides list navigation outside of floating element contexts.\n *\n * This is useful to enable navigation of a list of items that aren’t part of a\n * floating element. A menubar is an example of a composite, with each reference\n * element being an item.\n * @see https://floating-ui.com/docs/Composite\n */\nconst Composite = /*#__PURE__*/React.forwardRef(function Composite(_ref, forwardedRef) {\n  let {\n    render,\n    orientation = 'both',\n    loop = true,\n    cols = 1,\n    disabledIndices = [],\n    activeIndex: externalActiveIndex,\n    onNavigate: externalSetActiveIndex,\n    itemSizes,\n    dense = false,\n    ...props\n  } = _ref;\n  const [internalActiveIndex, internalSetActiveIndex] = React.useState(0);\n  const activeIndex = externalActiveIndex != null ? externalActiveIndex : internalActiveIndex;\n  const onNavigate = useEffectEvent(externalSetActiveIndex != null ? externalSetActiveIndex : internalSetActiveIndex);\n  const elementsRef = React.useRef([]);\n  const renderElementProps = render && typeof render !== 'function' ? render.props : {};\n  const contextValue = React.useMemo(() => ({\n    activeIndex,\n    onNavigate\n  }), [activeIndex, onNavigate]);\n  const isGrid = cols > 1;\n  function handleKeyDown(event) {\n    if (!allKeys.includes(event.key)) return;\n    let nextIndex = activeIndex;\n    if (isGrid) {\n      const sizes = itemSizes || Array.from({\n        length: elementsRef.current.length\n      }, () => ({\n        width: 1,\n        height: 1\n      }));\n      // To calculate movements on the grid, we use hypothetical cell indices\n      // as if every item was 1x1, then convert back to real indices.\n      const cellMap = buildCellMap(sizes, cols, dense);\n      const minGridIndex = cellMap.findIndex(index => index != null && !disabledIndices.includes(index));\n      // last enabled index\n      const maxGridIndex = cellMap.reduce((foundIndex, index, cellIndex) => index != null && !(disabledIndices != null && disabledIndices.includes(index)) ? cellIndex : foundIndex, -1);\n      nextIndex = cellMap[getGridNavigatedIndex({\n        current: cellMap.map(itemIndex => itemIndex ? elementsRef.current[itemIndex] : null)\n      }, {\n        event,\n        orientation,\n        loop,\n        cols,\n        // treat undefined (empty grid spaces) as disabled indices so we\n        // don't end up in them\n        disabledIndices: getCellIndices([...disabledIndices, undefined], cellMap),\n        minIndex: minGridIndex,\n        maxIndex: maxGridIndex,\n        prevIndex: getCellIndexOfCorner(activeIndex, sizes, cellMap, cols,\n        // use a corner matching the edge closest to the direction we're\n        // moving in so we don't end up in the same item. Prefer\n        // top/left over bottom/right.\n        event.key === ARROW_DOWN ? 'bl' : event.key === ARROW_RIGHT ? 'tr' : 'tl')\n      })]; // navigated cell will never be nullish\n    }\n    const minIndex = getMinIndex(elementsRef, disabledIndices);\n    const maxIndex = getMaxIndex(elementsRef, disabledIndices);\n    const toEndKeys = {\n      horizontal: [ARROW_RIGHT],\n      vertical: [ARROW_DOWN],\n      both: [ARROW_RIGHT, ARROW_DOWN]\n    }[orientation];\n    const toStartKeys = {\n      horizontal: [ARROW_LEFT],\n      vertical: [ARROW_UP],\n      both: [ARROW_LEFT, ARROW_UP]\n    }[orientation];\n    const preventedKeys = isGrid ? allKeys : {\n      horizontal: horizontalKeys,\n      vertical: verticalKeys,\n      both: allKeys\n    }[orientation];\n    if (nextIndex === activeIndex && [...toEndKeys, ...toStartKeys].includes(event.key)) {\n      if (loop && nextIndex === maxIndex && toEndKeys.includes(event.key)) {\n        nextIndex = minIndex;\n      } else if (loop && nextIndex === minIndex && toStartKeys.includes(event.key)) {\n        nextIndex = maxIndex;\n      } else {\n        nextIndex = findNonDisabledIndex(elementsRef, {\n          startingIndex: nextIndex,\n          decrement: toStartKeys.includes(event.key),\n          disabledIndices\n        });\n      }\n    }\n    if (nextIndex !== activeIndex && !isIndexOutOfBounds(elementsRef, nextIndex)) {\n      event.stopPropagation();\n      if (preventedKeys.includes(event.key)) {\n        event.preventDefault();\n      }\n      onNavigate(nextIndex);\n\n      // Wait for FocusManager `returnFocus` to execute.\n      queueMicrotask(() => {\n        enqueueFocus(elementsRef.current[nextIndex]);\n      });\n    }\n  }\n  const computedProps = {\n    ...props,\n    ...renderElementProps,\n    ref: forwardedRef,\n    'aria-orientation': orientation === 'both' ? undefined : orientation,\n    onKeyDown(e) {\n      props.onKeyDown == null || props.onKeyDown(e);\n      renderElementProps.onKeyDown == null || renderElementProps.onKeyDown(e);\n      handleKeyDown(e);\n    }\n  };\n  return /*#__PURE__*/React.createElement(CompositeContext.Provider, {\n    value: contextValue\n  }, /*#__PURE__*/React.createElement(FloatingList, {\n    elementsRef: elementsRef\n  }, renderJsx(render, computedProps)));\n});\n/**\n * @see https://floating-ui.com/docs/Composite\n */\nconst CompositeItem = /*#__PURE__*/React.forwardRef(function CompositeItem(_ref2, forwardedRef) {\n  let {\n    render,\n    ...props\n  } = _ref2;\n  const renderElementProps = render && typeof render !== 'function' ? render.props : {};\n  const {\n    activeIndex,\n    onNavigate\n  } = React.useContext(CompositeContext);\n  const {\n    ref,\n    index\n  } = useListItem();\n  const mergedRef = useMergeRefs([ref, forwardedRef, renderElementProps.ref]);\n  const isActive = activeIndex === index;\n  const computedProps = {\n    ...props,\n    ...renderElementProps,\n    ref: mergedRef,\n    tabIndex: isActive ? 0 : -1,\n    'data-active': isActive ? '' : undefined,\n    onFocus(e) {\n      props.onFocus == null || props.onFocus(e);\n      renderElementProps.onFocus == null || renderElementProps.onFocus(e);\n      onNavigate(index);\n    }\n  };\n  return renderJsx(render, computedProps);\n});\n\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\n\nlet serverHandoffComplete = false;\nlet count = 0;\nconst genId = () => \"floating-ui-\" + count++;\nfunction useFloatingId() {\n  const [id, setId] = React.useState(() => serverHandoffComplete ? genId() : undefined);\n\n  // biome-ignore lint/correctness/useExhaustiveDependencies: intentional\n  index(() => {\n    if (id == null) {\n      setId(genId());\n    }\n  }, []);\n  React.useEffect(() => {\n    if (!serverHandoffComplete) {\n      serverHandoffComplete = true;\n    }\n  }, []);\n  return id;\n}\n\n// `toString()` prevents bundlers from trying to `import { useId } from 'react'`\nconst useReactId = React[/*#__PURE__*/'useId'.toString()];\n\n/**\n * Uses React 18's built-in `useId()` when available, or falls back to a\n * slightly less performant (requiring a double render) implementation for\n * earlier React versions.\n * @see https://floating-ui.com/docs/react-utils#useid\n */\nconst useId = useReactId || useFloatingId;\n\n/**\n * Renders a pointing arrow triangle.\n * @see https://floating-ui.com/docs/FloatingArrow\n */\nconst FloatingArrow = /*#__PURE__*/React.forwardRef(function FloatingArrow(_ref, ref) {\n  let {\n    context: {\n      placement,\n      elements: {\n        floating\n      },\n      middlewareData: {\n        arrow\n      }\n    },\n    width = 14,\n    height = 7,\n    tipRadius = 0,\n    strokeWidth = 0,\n    staticOffset,\n    stroke,\n    d,\n    style: {\n      transform,\n      ...restStyle\n    } = {},\n    ...rest\n  } = _ref;\n  if (process.env.NODE_ENV !== \"production\") {\n    if (!ref) {\n      console.warn('Floating UI: The `ref` prop is required for the `FloatingArrow`', 'component.');\n    }\n  }\n  const clipPathId = useId();\n  if (!floating) {\n    return null;\n  }\n\n  // Strokes must be double the border width, this ensures the stroke's width\n  // works as you'd expect.\n  strokeWidth *= 2;\n  const halfStrokeWidth = strokeWidth / 2;\n  const svgX = width / 2 * (tipRadius / -8 + 1);\n  const svgY = height / 2 * tipRadius / 4;\n  const [side, alignment] = placement.split('-');\n  const isRTL = platform.isRTL(floating);\n  const isCustomShape = !!d;\n  const isVerticalSide = side === 'top' || side === 'bottom';\n  const yOffsetProp = staticOffset && alignment === 'end' ? 'bottom' : 'top';\n  let xOffsetProp = staticOffset && alignment === 'end' ? 'right' : 'left';\n  if (staticOffset && isRTL) {\n    xOffsetProp = alignment === 'end' ? 'left' : 'right';\n  }\n  const arrowX = (arrow == null ? void 0 : arrow.x) != null ? staticOffset || arrow.x : '';\n  const arrowY = (arrow == null ? void 0 : arrow.y) != null ? staticOffset || arrow.y : '';\n  const dValue = d ||\n  // biome-ignore lint/style/useTemplate: readability\n  'M0,0' + (\" H\" + width) + (\" L\" + (width - svgX) + \",\" + (height - svgY)) + (\" Q\" + width / 2 + \",\" + height + \" \" + svgX + \",\" + (height - svgY)) + ' Z';\n  const rotation = {\n    top: isCustomShape ? 'rotate(180deg)' : '',\n    left: isCustomShape ? 'rotate(90deg)' : 'rotate(-90deg)',\n    bottom: isCustomShape ? '' : 'rotate(180deg)',\n    right: isCustomShape ? 'rotate(-90deg)' : 'rotate(90deg)'\n  }[side];\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({}, rest, {\n    \"aria-hidden\": true,\n    ref: ref,\n    width: isCustomShape ? width : width + strokeWidth,\n    height: width,\n    viewBox: \"0 0 \" + width + \" \" + (height > width ? height : width),\n    style: {\n      position: 'absolute',\n      pointerEvents: 'none',\n      [xOffsetProp]: arrowX,\n      [yOffsetProp]: arrowY,\n      [side]: isVerticalSide || isCustomShape ? '100%' : \"calc(100% - \" + strokeWidth / 2 + \"px)\",\n      transform: \"\" + rotation + (transform != null ? transform : ''),\n      ...restStyle\n    }\n  }), strokeWidth > 0 && /*#__PURE__*/React.createElement(\"path\", {\n    clipPath: \"url(#\" + clipPathId + \")\",\n    fill: \"none\",\n    stroke: stroke\n    // Account for the stroke on the fill path rendered below.\n    ,\n    strokeWidth: strokeWidth + (d ? 0 : 1),\n    d: dValue\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    stroke: strokeWidth && !d ? rest.fill : 'none',\n    d: dValue\n  }), /*#__PURE__*/React.createElement(\"clipPath\", {\n    id: clipPathId\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    x: -halfStrokeWidth,\n    y: halfStrokeWidth * (isCustomShape ? -1 : 1),\n    width: width + strokeWidth,\n    height: width\n  })));\n});\n\nfunction createPubSub() {\n  const map = new Map();\n  return {\n    emit(event, data) {\n      var _map$get;\n      (_map$get = map.get(event)) == null || _map$get.forEach(handler => handler(data));\n    },\n    on(event, listener) {\n      map.set(event, [...(map.get(event) || []), listener]);\n    },\n    off(event, listener) {\n      var _map$get2;\n      map.set(event, ((_map$get2 = map.get(event)) == null ? void 0 : _map$get2.filter(l => l !== listener)) || []);\n    }\n  };\n}\n\nconst FloatingNodeContext = /*#__PURE__*/React.createContext(null);\nconst FloatingTreeContext = /*#__PURE__*/React.createContext(null);\n\n/**\n * Returns the parent node id for nested floating elements, if available.\n * Returns `null` for top-level floating elements.\n */\nconst useFloatingParentNodeId = () => {\n  var _React$useContext;\n  return ((_React$useContext = React.useContext(FloatingNodeContext)) == null ? void 0 : _React$useContext.id) || null;\n};\n\n/**\n * Returns the nearest floating tree context, if available.\n */\nconst useFloatingTree = () => React.useContext(FloatingTreeContext);\n\n/**\n * Registers a node into the `FloatingTree`, returning its id.\n * @see https://floating-ui.com/docs/FloatingTree\n */\nfunction useFloatingNodeId(customParentId) {\n  const id = useId();\n  const tree = useFloatingTree();\n  const reactParentId = useFloatingParentNodeId();\n  const parentId = customParentId || reactParentId;\n  index(() => {\n    const node = {\n      id,\n      parentId\n    };\n    tree == null || tree.addNode(node);\n    return () => {\n      tree == null || tree.removeNode(node);\n    };\n  }, [tree, id, parentId]);\n  return id;\n}\n\n/**\n * Provides parent node context for nested floating elements.\n * @see https://floating-ui.com/docs/FloatingTree\n */\nfunction FloatingNode(_ref) {\n  let {\n    children,\n    id\n  } = _ref;\n  const parentId = useFloatingParentNodeId();\n  return /*#__PURE__*/React.createElement(FloatingNodeContext.Provider, {\n    value: React.useMemo(() => ({\n      id,\n      parentId\n    }), [id, parentId])\n  }, children);\n}\n\n/**\n * Provides context for nested floating elements when they are not children of\n * each other on the DOM.\n * This is not necessary in all cases, except when there must be explicit communication between parent and child floating elements. It is necessary for:\n * - The `bubbles` option in the `useDismiss()` Hook\n * - Nested virtual list navigation\n * - Nested floating elements that each open on hover\n * - Custom communication between parent and child floating elements\n * @see https://floating-ui.com/docs/FloatingTree\n */\nfunction FloatingTree(_ref2) {\n  let {\n    children\n  } = _ref2;\n  const nodesRef = React.useRef([]);\n  const addNode = React.useCallback(node => {\n    nodesRef.current = [...nodesRef.current, node];\n  }, []);\n  const removeNode = React.useCallback(node => {\n    nodesRef.current = nodesRef.current.filter(n => n !== node);\n  }, []);\n  const events = React.useState(() => createPubSub())[0];\n  return /*#__PURE__*/React.createElement(FloatingTreeContext.Provider, {\n    value: React.useMemo(() => ({\n      nodesRef,\n      addNode,\n      removeNode,\n      events\n    }), [addNode, removeNode, events])\n  }, children);\n}\n\nfunction createAttribute(name) {\n  return \"data-floating-ui-\" + name;\n}\n\nfunction useLatestRef(value) {\n  const ref = useRef(value);\n  index(() => {\n    ref.current = value;\n  });\n  return ref;\n}\n\nconst safePolygonIdentifier = /*#__PURE__*/createAttribute('safe-polygon');\nfunction getDelay(value, prop, pointerType) {\n  if (pointerType && !isMouseLikePointerType(pointerType)) {\n    return 0;\n  }\n  if (typeof value === 'number') {\n    return value;\n  }\n  return value == null ? void 0 : value[prop];\n}\n/**\n * Opens the floating element while hovering over the reference element, like\n * CSS `:hover`.\n * @see https://floating-ui.com/docs/useHover\n */\nfunction useHover(context, props) {\n  if (props === void 0) {\n    props = {};\n  }\n  const {\n    open,\n    onOpenChange,\n    dataRef,\n    events,\n    elements: {\n      domReference,\n      floating\n    },\n    refs\n  } = context;\n  const {\n    enabled = true,\n    delay = 0,\n    handleClose = null,\n    mouseOnly = false,\n    restMs = 0,\n    move = true\n  } = props;\n  const tree = useFloatingTree();\n  const parentId = useFloatingParentNodeId();\n  const handleCloseRef = useLatestRef(handleClose);\n  const delayRef = useLatestRef(delay);\n  const pointerTypeRef = React.useRef();\n  const timeoutRef = React.useRef();\n  const handlerRef = React.useRef();\n  const restTimeoutRef = React.useRef();\n  const blockMouseMoveRef = React.useRef(true);\n  const performedPointerEventsMutationRef = React.useRef(false);\n  const unbindMouseMoveRef = React.useRef(() => {});\n  const isHoverOpen = React.useCallback(() => {\n    var _dataRef$current$open;\n    const type = (_dataRef$current$open = dataRef.current.openEvent) == null ? void 0 : _dataRef$current$open.type;\n    return (type == null ? void 0 : type.includes('mouse')) && type !== 'mousedown';\n  }, [dataRef]);\n\n  // When closing before opening, clear the delay timeouts to cancel it\n  // from showing.\n  React.useEffect(() => {\n    if (!enabled) {\n      return;\n    }\n    function onOpenChange(_ref) {\n      let {\n        open\n      } = _ref;\n      if (!open) {\n        clearTimeout(timeoutRef.current);\n        clearTimeout(restTimeoutRef.current);\n        blockMouseMoveRef.current = true;\n      }\n    }\n    events.on('openchange', onOpenChange);\n    return () => {\n      events.off('openchange', onOpenChange);\n    };\n  }, [enabled, events]);\n  React.useEffect(() => {\n    if (!enabled || !handleCloseRef.current || !open) {\n      return;\n    }\n    function onLeave(event) {\n      if (isHoverOpen()) {\n        onOpenChange(false, event, 'hover');\n      }\n    }\n    const html = getDocument(floating).documentElement;\n    html.addEventListener('mouseleave', onLeave);\n    return () => {\n      html.removeEventListener('mouseleave', onLeave);\n    };\n  }, [floating, open, onOpenChange, enabled, handleCloseRef, isHoverOpen]);\n  const closeWithDelay = React.useCallback(function (event, runElseBranch, reason) {\n    if (runElseBranch === void 0) {\n      runElseBranch = true;\n    }\n    if (reason === void 0) {\n      reason = 'hover';\n    }\n    const closeDelay = getDelay(delayRef.current, 'close', pointerTypeRef.current);\n    if (closeDelay && !handlerRef.current) {\n      clearTimeout(timeoutRef.current);\n      timeoutRef.current = setTimeout(() => onOpenChange(false, event, reason), closeDelay);\n    } else if (runElseBranch) {\n      clearTimeout(timeoutRef.current);\n      onOpenChange(false, event, reason);\n    }\n  }, [delayRef, onOpenChange]);\n  const cleanupMouseMoveHandler = React.useCallback(() => {\n    unbindMouseMoveRef.current();\n    handlerRef.current = undefined;\n  }, []);\n  const clearPointerEvents = React.useCallback(() => {\n    if (performedPointerEventsMutationRef.current) {\n      const body = getDocument(refs.floating.current).body;\n      body.style.pointerEvents = '';\n      body.removeAttribute(safePolygonIdentifier);\n      performedPointerEventsMutationRef.current = false;\n    }\n  }, [refs]);\n\n  // Registering the mouse events on the reference directly to bypass React's\n  // delegation system. If the cursor was on a disabled element and then entered\n  // the reference (no gap), `mouseenter` doesn't fire in the delegation system.\n  React.useEffect(() => {\n    if (!enabled) {\n      return;\n    }\n    function isClickLikeOpenEvent() {\n      return dataRef.current.openEvent ? ['click', 'mousedown'].includes(dataRef.current.openEvent.type) : false;\n    }\n    function onMouseEnter(event) {\n      clearTimeout(timeoutRef.current);\n      blockMouseMoveRef.current = false;\n      if (mouseOnly && !isMouseLikePointerType(pointerTypeRef.current) || restMs > 0 && getDelay(delayRef.current, 'open') === 0) {\n        return;\n      }\n      const openDelay = getDelay(delayRef.current, 'open', pointerTypeRef.current);\n      if (openDelay) {\n        timeoutRef.current = setTimeout(() => {\n          onOpenChange(true, event, 'hover');\n        }, openDelay);\n      } else {\n        onOpenChange(true, event, 'hover');\n      }\n    }\n    function onMouseLeave(event) {\n      if (isClickLikeOpenEvent()) {\n        return;\n      }\n      unbindMouseMoveRef.current();\n      const doc = getDocument(floating);\n      clearTimeout(restTimeoutRef.current);\n      if (handleCloseRef.current) {\n        // Prevent clearing `onScrollMouseLeave` timeout.\n        if (!open) {\n          clearTimeout(timeoutRef.current);\n        }\n        handlerRef.current = handleCloseRef.current({\n          ...context,\n          tree,\n          x: event.clientX,\n          y: event.clientY,\n          onClose() {\n            clearPointerEvents();\n            cleanupMouseMoveHandler();\n            closeWithDelay(event, true, 'safe-polygon');\n          }\n        });\n        const handler = handlerRef.current;\n        doc.addEventListener('mousemove', handler);\n        unbindMouseMoveRef.current = () => {\n          doc.removeEventListener('mousemove', handler);\n        };\n        return;\n      }\n\n      // Allow interactivity without `safePolygon` on touch devices. With a\n      // pointer, a short close delay is an alternative, so it should work\n      // consistently.\n      const shouldClose = pointerTypeRef.current === 'touch' ? !contains(floating, event.relatedTarget) : true;\n      if (shouldClose) {\n        closeWithDelay(event);\n      }\n    }\n\n    // Ensure the floating element closes after scrolling even if the pointer\n    // did not move.\n    // https://github.com/floating-ui/floating-ui/discussions/1692\n    function onScrollMouseLeave(event) {\n      if (isClickLikeOpenEvent()) {\n        return;\n      }\n      handleCloseRef.current == null || handleCloseRef.current({\n        ...context,\n        tree,\n        x: event.clientX,\n        y: event.clientY,\n        onClose() {\n          clearPointerEvents();\n          cleanupMouseMoveHandler();\n          closeWithDelay(event);\n        }\n      })(event);\n    }\n    if (isElement(domReference)) {\n      const ref = domReference;\n      open && ref.addEventListener('mouseleave', onScrollMouseLeave);\n      floating == null || floating.addEventListener('mouseleave', onScrollMouseLeave);\n      move && ref.addEventListener('mousemove', onMouseEnter, {\n        once: true\n      });\n      ref.addEventListener('mouseenter', onMouseEnter);\n      ref.addEventListener('mouseleave', onMouseLeave);\n      return () => {\n        open && ref.removeEventListener('mouseleave', onScrollMouseLeave);\n        floating == null || floating.removeEventListener('mouseleave', onScrollMouseLeave);\n        move && ref.removeEventListener('mousemove', onMouseEnter);\n        ref.removeEventListener('mouseenter', onMouseEnter);\n        ref.removeEventListener('mouseleave', onMouseLeave);\n      };\n    }\n  }, [domReference, floating, enabled, context, mouseOnly, restMs, move, closeWithDelay, cleanupMouseMoveHandler, clearPointerEvents, onOpenChange, open, tree, delayRef, handleCloseRef, dataRef]);\n\n  // Block pointer-events of every element other than the reference and floating\n  // while the floating element is open and has a `handleClose` handler. Also\n  // handles nested floating elements.\n  // https://github.com/floating-ui/floating-ui/issues/1722\n  index(() => {\n    var _handleCloseRef$curre;\n    if (!enabled) {\n      return;\n    }\n    if (open && (_handleCloseRef$curre = handleCloseRef.current) != null && _handleCloseRef$curre.__options.blockPointerEvents && isHoverOpen()) {\n      const body = getDocument(floating).body;\n      body.setAttribute(safePolygonIdentifier, '');\n      body.style.pointerEvents = 'none';\n      performedPointerEventsMutationRef.current = true;\n      if (isElement(domReference) && floating) {\n        var _tree$nodesRef$curren;\n        const ref = domReference;\n        const parentFloating = tree == null || (_tree$nodesRef$curren = tree.nodesRef.current.find(node => node.id === parentId)) == null || (_tree$nodesRef$curren = _tree$nodesRef$curren.context) == null ? void 0 : _tree$nodesRef$curren.elements.floating;\n        if (parentFloating) {\n          parentFloating.style.pointerEvents = '';\n        }\n        ref.style.pointerEvents = 'auto';\n        floating.style.pointerEvents = 'auto';\n        return () => {\n          ref.style.pointerEvents = '';\n          floating.style.pointerEvents = '';\n        };\n      }\n    }\n  }, [enabled, open, parentId, floating, domReference, tree, handleCloseRef, isHoverOpen]);\n  index(() => {\n    if (!open) {\n      pointerTypeRef.current = undefined;\n      cleanupMouseMoveHandler();\n      clearPointerEvents();\n    }\n  }, [open, cleanupMouseMoveHandler, clearPointerEvents]);\n\n  // biome-ignore lint/correctness/useExhaustiveDependencies: intentional\n  React.useEffect(() => {\n    return () => {\n      cleanupMouseMoveHandler();\n      clearTimeout(timeoutRef.current);\n      clearTimeout(restTimeoutRef.current);\n      clearPointerEvents();\n    };\n  }, [enabled, domReference, cleanupMouseMoveHandler, clearPointerEvents]);\n  return React.useMemo(() => {\n    if (!enabled) {\n      return {};\n    }\n    function setPointerRef(event) {\n      pointerTypeRef.current = event.pointerType;\n    }\n    return {\n      reference: {\n        onPointerDown: setPointerRef,\n        onPointerEnter: setPointerRef,\n        onMouseMove(event) {\n          if (open || restMs === 0) {\n            return;\n          }\n          clearTimeout(restTimeoutRef.current);\n          restTimeoutRef.current = setTimeout(() => {\n            if (!blockMouseMoveRef.current) {\n              onOpenChange(true, event.nativeEvent, 'hover');\n            }\n          }, restMs);\n        }\n      },\n      floating: {\n        onMouseEnter() {\n          clearTimeout(timeoutRef.current);\n        },\n        onMouseLeave(event) {\n          closeWithDelay(event.nativeEvent, false);\n        }\n      }\n    };\n  }, [enabled, restMs, open, onOpenChange, closeWithDelay]);\n}\n\nconst FloatingDelayGroupContext = /*#__PURE__*/React.createContext({\n  delay: 0,\n  initialDelay: 0,\n  timeoutMs: 0,\n  currentId: null,\n  setCurrentId: () => {},\n  setState: () => {},\n  isInstantPhase: false\n});\nconst useDelayGroupContext = () => React.useContext(FloatingDelayGroupContext);\n/**\n * Provides context for a group of floating elements that should share a\n * `delay`.\n * @see https://floating-ui.com/docs/FloatingDelayGroup\n */\nconst FloatingDelayGroup = _ref => {\n  let {\n    children,\n    delay,\n    timeoutMs = 0\n  } = _ref;\n  const [state, setState] = React.useReducer((prev, next) => ({\n    ...prev,\n    ...next\n  }), {\n    delay,\n    timeoutMs,\n    initialDelay: delay,\n    currentId: null,\n    isInstantPhase: false\n  });\n  const initialCurrentIdRef = React.useRef(null);\n  const setCurrentId = React.useCallback(currentId => {\n    setState({\n      currentId\n    });\n  }, []);\n  index(() => {\n    if (state.currentId) {\n      if (initialCurrentIdRef.current === null) {\n        initialCurrentIdRef.current = state.currentId;\n      } else {\n        setState({\n          isInstantPhase: true\n        });\n      }\n    } else {\n      setState({\n        isInstantPhase: false\n      });\n      initialCurrentIdRef.current = null;\n    }\n  }, [state.currentId]);\n  return /*#__PURE__*/React.createElement(FloatingDelayGroupContext.Provider, {\n    value: React.useMemo(() => ({\n      ...state,\n      setState,\n      setCurrentId\n    }), [state, setCurrentId])\n  }, children);\n};\n/**\n * Enables grouping when called inside a component that's a child of a\n * `FloatingDelayGroup`.\n * @see https://floating-ui.com/docs/FloatingDelayGroup\n */\nconst useDelayGroup = (_ref2, _ref3) => {\n  let {\n    open,\n    onOpenChange\n  } = _ref2;\n  let {\n    id\n  } = _ref3;\n  const {\n    currentId,\n    setCurrentId,\n    initialDelay,\n    setState,\n    timeoutMs\n  } = useDelayGroupContext();\n  index(() => {\n    if (currentId) {\n      setState({\n        delay: {\n          open: 1,\n          close: getDelay(initialDelay, 'close')\n        }\n      });\n      if (currentId !== id) {\n        onOpenChange(false);\n      }\n    }\n  }, [id, onOpenChange, setState, currentId, initialDelay]);\n  index(() => {\n    function unset() {\n      onOpenChange(false);\n      setState({\n        delay: initialDelay,\n        currentId: null\n      });\n    }\n    if (!open && currentId === id) {\n      if (timeoutMs) {\n        const timeout = window.setTimeout(unset, timeoutMs);\n        return () => {\n          clearTimeout(timeout);\n        };\n      }\n      unset();\n    }\n  }, [open, setState, currentId, id, onOpenChange, initialDelay, timeoutMs]);\n  index(() => {\n    if (open) {\n      setCurrentId(id);\n    }\n  }, [open, setCurrentId, id]);\n};\n\nfunction getAncestors(nodes, id) {\n  var _nodes$find;\n  let allAncestors = [];\n  let currentParentId = (_nodes$find = nodes.find(node => node.id === id)) == null ? void 0 : _nodes$find.parentId;\n  while (currentParentId) {\n    const currentNode = nodes.find(node => node.id === currentParentId);\n    currentParentId = currentNode == null ? void 0 : currentNode.parentId;\n    if (currentNode) {\n      allAncestors = allAncestors.concat(currentNode);\n    }\n  }\n  return allAncestors;\n}\n\nfunction getChildren(nodes, id) {\n  let allChildren = nodes.filter(node => {\n    var _node$context;\n    return node.parentId === id && ((_node$context = node.context) == null ? void 0 : _node$context.open);\n  });\n  let currentChildren = allChildren;\n  while (currentChildren.length) {\n    currentChildren = nodes.filter(node => {\n      var _currentChildren;\n      return (_currentChildren = currentChildren) == null ? void 0 : _currentChildren.some(n => {\n        var _node$context2;\n        return node.parentId === n.id && ((_node$context2 = node.context) == null ? void 0 : _node$context2.open);\n      });\n    });\n    allChildren = allChildren.concat(currentChildren);\n  }\n  return allChildren;\n}\nfunction getDeepestNode(nodes, id) {\n  let deepestNodeId;\n  let maxDepth = -1;\n  function findDeepest(nodeId, depth) {\n    if (depth > maxDepth) {\n      deepestNodeId = nodeId;\n      maxDepth = depth;\n    }\n    const children = getChildren(nodes, nodeId);\n    children.forEach(child => {\n      findDeepest(child.id, depth + 1);\n    });\n  }\n  findDeepest(id, 0);\n  return nodes.find(node => node.id === deepestNodeId);\n}\n\n// Modified to add conditional `aria-hidden` support:\n// https://github.com/theKashey/aria-hidden/blob/9220c8f4a4fd35f63bee5510a9f41a37264382d4/src/index.ts\nlet counterMap = /*#__PURE__*/new WeakMap();\nlet uncontrolledElementsSet = /*#__PURE__*/new WeakSet();\nlet markerMap = {};\nlet lockCount = 0;\nconst supportsInert = () => typeof HTMLElement !== 'undefined' && 'inert' in HTMLElement.prototype;\nconst unwrapHost = node => node && (node.host || unwrapHost(node.parentNode));\nconst correctElements = (parent, targets) => targets.map(target => {\n  if (parent.contains(target)) {\n    return target;\n  }\n  const correctedTarget = unwrapHost(target);\n  if (parent.contains(correctedTarget)) {\n    return correctedTarget;\n  }\n  return null;\n}).filter(x => x != null);\nfunction applyAttributeToOthers(uncorrectedAvoidElements, body, ariaHidden, inert) {\n  const markerName = 'data-floating-ui-inert';\n  const controlAttribute = inert ? 'inert' : ariaHidden ? 'aria-hidden' : null;\n  const avoidElements = correctElements(body, uncorrectedAvoidElements);\n  const elementsToKeep = new Set();\n  const elementsToStop = new Set(avoidElements);\n  const hiddenElements = [];\n  if (!markerMap[markerName]) {\n    markerMap[markerName] = new WeakMap();\n  }\n  const markerCounter = markerMap[markerName];\n  avoidElements.forEach(keep);\n  deep(body);\n  elementsToKeep.clear();\n  function keep(el) {\n    if (!el || elementsToKeep.has(el)) {\n      return;\n    }\n    elementsToKeep.add(el);\n    el.parentNode && keep(el.parentNode);\n  }\n  function deep(parent) {\n    if (!parent || elementsToStop.has(parent)) {\n      return;\n    }\n    Array.prototype.forEach.call(parent.children, node => {\n      if (elementsToKeep.has(node)) {\n        deep(node);\n      } else {\n        const attr = controlAttribute ? node.getAttribute(controlAttribute) : null;\n        const alreadyHidden = attr !== null && attr !== 'false';\n        const counterValue = (counterMap.get(node) || 0) + 1;\n        const markerValue = (markerCounter.get(node) || 0) + 1;\n        counterMap.set(node, counterValue);\n        markerCounter.set(node, markerValue);\n        hiddenElements.push(node);\n        if (counterValue === 1 && alreadyHidden) {\n          uncontrolledElementsSet.add(node);\n        }\n        if (markerValue === 1) {\n          node.setAttribute(markerName, '');\n        }\n        if (!alreadyHidden && controlAttribute) {\n          node.setAttribute(controlAttribute, 'true');\n        }\n      }\n    });\n  }\n  lockCount++;\n  return () => {\n    hiddenElements.forEach(element => {\n      const counterValue = (counterMap.get(element) || 0) - 1;\n      const markerValue = (markerCounter.get(element) || 0) - 1;\n      counterMap.set(element, counterValue);\n      markerCounter.set(element, markerValue);\n      if (!counterValue) {\n        if (!uncontrolledElementsSet.has(element) && controlAttribute) {\n          element.removeAttribute(controlAttribute);\n        }\n        uncontrolledElementsSet.delete(element);\n      }\n      if (!markerValue) {\n        element.removeAttribute(markerName);\n      }\n    });\n    lockCount--;\n    if (!lockCount) {\n      counterMap = new WeakMap();\n      counterMap = new WeakMap();\n      uncontrolledElementsSet = new WeakSet();\n      markerMap = {};\n    }\n  };\n}\nfunction markOthers(avoidElements, ariaHidden, inert) {\n  if (ariaHidden === void 0) {\n    ariaHidden = false;\n  }\n  if (inert === void 0) {\n    inert = false;\n  }\n  const body = getDocument(avoidElements[0]).body;\n  return applyAttributeToOthers(avoidElements.concat(Array.from(body.querySelectorAll('[aria-live]'))), body, ariaHidden, inert);\n}\n\nconst getTabbableOptions = () => ({\n  getShadowRoot: true,\n  displayCheck:\n  // JSDOM does not support the `tabbable` library. To solve this we can\n  // check if `ResizeObserver` is a real function (not polyfilled), which\n  // determines if the current environment is JSDOM-like.\n  typeof ResizeObserver === 'function' && ResizeObserver.toString().includes('[native code]') ? 'full' : 'none'\n});\nfunction getTabbableIn(container, direction) {\n  const allTabbable = tabbable(container, getTabbableOptions());\n  if (direction === 'prev') {\n    allTabbable.reverse();\n  }\n  const activeIndex = allTabbable.indexOf(activeElement(getDocument(container)));\n  const nextTabbableElements = allTabbable.slice(activeIndex + 1);\n  return nextTabbableElements[0];\n}\nfunction getNextTabbable() {\n  return getTabbableIn(document.body, 'next');\n}\nfunction getPreviousTabbable() {\n  return getTabbableIn(document.body, 'prev');\n}\nfunction isOutsideEvent(event, container) {\n  const containerElement = container || event.currentTarget;\n  const relatedTarget = event.relatedTarget;\n  return !relatedTarget || !contains(containerElement, relatedTarget);\n}\nfunction disableFocusInside(container) {\n  const tabbableElements = tabbable(container, getTabbableOptions());\n  tabbableElements.forEach(element => {\n    element.dataset.tabindex = element.getAttribute('tabindex') || '';\n    element.setAttribute('tabindex', '-1');\n  });\n}\nfunction enableFocusInside(container) {\n  const elements = container.querySelectorAll('[data-tabindex]');\n  elements.forEach(element => {\n    const tabindex = element.dataset.tabindex;\n    // biome-ignore lint/performance/noDelete: purity\n    delete element.dataset.tabindex;\n    if (tabindex) {\n      element.setAttribute('tabindex', tabindex);\n    } else {\n      element.removeAttribute('tabindex');\n    }\n  });\n}\n\n// See Diego Haz's Sandbox for making this logic work well on Safari/iOS:\n// https://codesandbox.io/s/tabbable-portal-f4tng?file=/src/FocusTrap.tsx\n\nconst HIDDEN_STYLES = {\n  border: 0,\n  clip: 'rect(0 0 0 0)',\n  height: '1px',\n  margin: '-1px',\n  overflow: 'hidden',\n  padding: 0,\n  position: 'fixed',\n  whiteSpace: 'nowrap',\n  width: '1px',\n  top: 0,\n  left: 0\n};\nlet timeoutId;\nfunction setActiveElementOnTab(event) {\n  if (event.key === 'Tab') {\n    event.target;\n    clearTimeout(timeoutId);\n  }\n}\nconst FocusGuard = /*#__PURE__*/React.forwardRef(function FocusGuard(props, ref) {\n  const [role, setRole] = React.useState();\n  index(() => {\n    if (isSafari()) {\n      // Unlike other screen readers such as NVDA and JAWS, the virtual cursor\n      // on VoiceOver does trigger the onFocus event, so we can use the focus\n      // trap element. On Safari, only buttons trigger the onFocus event.\n      // NB: \"group\" role in the Sandbox no longer appears to work, must be a\n      // button role.\n      setRole('button');\n    }\n    document.addEventListener('keydown', setActiveElementOnTab);\n    return () => {\n      document.removeEventListener('keydown', setActiveElementOnTab);\n    };\n  }, []);\n  const restProps = {\n    ref,\n    tabIndex: 0,\n    // Role is only for VoiceOver\n    role,\n    'aria-hidden': role ? undefined : true,\n    [createAttribute('focus-guard')]: '',\n    style: HIDDEN_STYLES\n  };\n  return /*#__PURE__*/React.createElement(\"span\", _extends({}, props, restProps));\n});\n\nconst PortalContext = /*#__PURE__*/React.createContext(null);\nconst attr = /*#__PURE__*/createAttribute('portal');\n\n/**\n * @see https://floating-ui.com/docs/FloatingPortal#usefloatingportalnode\n */\nfunction useFloatingPortalNode(_temp) {\n  let {\n    id,\n    root\n  } = _temp === void 0 ? {} : _temp;\n  const [portalNode, setPortalNode] = React.useState(null);\n  const uniqueId = useId();\n  const portalContext = usePortalContext();\n  const portalNodeRef = React.useRef(null);\n  index(() => {\n    return () => {\n      portalNode == null || portalNode.remove();\n      // Allow the subsequent layout effects to create a new node on updates.\n      // The portal node will still be cleaned up on unmount.\n      // https://github.com/floating-ui/floating-ui/issues/2454\n      queueMicrotask(() => {\n        portalNodeRef.current = null;\n      });\n    };\n  }, [portalNode]);\n  index(() => {\n    if (portalNodeRef.current) return;\n    const existingIdRoot = id ? document.getElementById(id) : null;\n    if (!existingIdRoot) return;\n    const subRoot = document.createElement('div');\n    subRoot.id = uniqueId;\n    subRoot.setAttribute(attr, '');\n    existingIdRoot.appendChild(subRoot);\n    portalNodeRef.current = subRoot;\n    setPortalNode(subRoot);\n  }, [id, uniqueId]);\n  index(() => {\n    if (portalNodeRef.current) return;\n    let container = root || (portalContext == null ? void 0 : portalContext.portalNode);\n    if (container && !isElement(container)) container = container.current;\n    container = container || document.body;\n    let idWrapper = null;\n    if (id) {\n      idWrapper = document.createElement('div');\n      idWrapper.id = id;\n      container.appendChild(idWrapper);\n    }\n    const subRoot = document.createElement('div');\n    subRoot.id = uniqueId;\n    subRoot.setAttribute(attr, '');\n    container = idWrapper || container;\n    container.appendChild(subRoot);\n    portalNodeRef.current = subRoot;\n    setPortalNode(subRoot);\n  }, [id, root, uniqueId, portalContext]);\n  return portalNode;\n}\n/**\n * Portals the floating element into a given container element — by default,\n * outside of the app root and into the body.\n * This is necessary to ensure the floating element can appear outside any\n * potential parent containers that cause clipping (such as `overflow: hidden`),\n * while retaining its location in the React tree.\n * @see https://floating-ui.com/docs/FloatingPortal\n */\nfunction FloatingPortal(_ref) {\n  let {\n    children,\n    id,\n    root = null,\n    preserveTabOrder = true\n  } = _ref;\n  const portalNode = useFloatingPortalNode({\n    id,\n    root\n  });\n  const [focusManagerState, setFocusManagerState] = React.useState(null);\n  const beforeOutsideRef = React.useRef(null);\n  const afterOutsideRef = React.useRef(null);\n  const beforeInsideRef = React.useRef(null);\n  const afterInsideRef = React.useRef(null);\n  const shouldRenderGuards =\n  // The FocusManager and therefore floating element are currently open/\n  // rendered.\n  !!focusManagerState &&\n  // Guards are only for non-modal focus management.\n  !focusManagerState.modal &&\n  // Don't render if unmount is transitioning.\n  focusManagerState.open && preserveTabOrder && !!(root || portalNode);\n\n  // https://codesandbox.io/s/tabbable-portal-f4tng?file=/src/TabbablePortal.tsx\n  React.useEffect(() => {\n    if (!portalNode || !preserveTabOrder || focusManagerState != null && focusManagerState.modal) {\n      return;\n    }\n\n    // Make sure elements inside the portal element are tabbable only when the\n    // portal has already been focused, either by tabbing into a focus trap\n    // element outside or using the mouse.\n    function onFocus(event) {\n      if (portalNode && isOutsideEvent(event)) {\n        const focusing = event.type === 'focusin';\n        const manageFocus = focusing ? enableFocusInside : disableFocusInside;\n        manageFocus(portalNode);\n      }\n    }\n    // Listen to the event on the capture phase so they run before the focus\n    // trap elements onFocus prop is called.\n    portalNode.addEventListener('focusin', onFocus, true);\n    portalNode.addEventListener('focusout', onFocus, true);\n    return () => {\n      portalNode.removeEventListener('focusin', onFocus, true);\n      portalNode.removeEventListener('focusout', onFocus, true);\n    };\n  }, [portalNode, preserveTabOrder, focusManagerState == null ? void 0 : focusManagerState.modal]);\n  return /*#__PURE__*/React.createElement(PortalContext.Provider, {\n    value: React.useMemo(() => ({\n      preserveTabOrder,\n      beforeOutsideRef,\n      afterOutsideRef,\n      beforeInsideRef,\n      afterInsideRef,\n      portalNode,\n      setFocusManagerState\n    }), [preserveTabOrder, portalNode])\n  }, shouldRenderGuards && portalNode && /*#__PURE__*/React.createElement(FocusGuard, {\n    \"data-type\": \"outside\",\n    ref: beforeOutsideRef,\n    onFocus: event => {\n      if (isOutsideEvent(event, portalNode)) {\n        var _beforeInsideRef$curr;\n        (_beforeInsideRef$curr = beforeInsideRef.current) == null || _beforeInsideRef$curr.focus();\n      } else {\n        const prevTabbable = getPreviousTabbable() || (focusManagerState == null ? void 0 : focusManagerState.refs.domReference.current);\n        prevTabbable == null || prevTabbable.focus();\n      }\n    }\n  }), shouldRenderGuards && portalNode && /*#__PURE__*/React.createElement(\"span\", {\n    \"aria-owns\": portalNode.id,\n    style: HIDDEN_STYLES\n  }), portalNode && /*#__PURE__*/createPortal(children, portalNode), shouldRenderGuards && portalNode && /*#__PURE__*/React.createElement(FocusGuard, {\n    \"data-type\": \"outside\",\n    ref: afterOutsideRef,\n    onFocus: event => {\n      if (isOutsideEvent(event, portalNode)) {\n        var _afterInsideRef$curre;\n        (_afterInsideRef$curre = afterInsideRef.current) == null || _afterInsideRef$curre.focus();\n      } else {\n        const nextTabbable = getNextTabbable() || (focusManagerState == null ? void 0 : focusManagerState.refs.domReference.current);\n        nextTabbable == null || nextTabbable.focus();\n        (focusManagerState == null ? void 0 : focusManagerState.closeOnFocusOut) && (focusManagerState == null ? void 0 : focusManagerState.onOpenChange(false, event.nativeEvent));\n      }\n    }\n  }));\n}\nconst usePortalContext = () => React.useContext(PortalContext);\n\nconst LIST_LIMIT = 20;\nlet previouslyFocusedElements = [];\nfunction addPreviouslyFocusedElement(element) {\n  previouslyFocusedElements = previouslyFocusedElements.filter(el => el.isConnected);\n  if (element && getNodeName(element) !== 'body') {\n    previouslyFocusedElements.push(element);\n    if (previouslyFocusedElements.length > LIST_LIMIT) {\n      previouslyFocusedElements = previouslyFocusedElements.slice(-LIST_LIMIT);\n    }\n  }\n}\nfunction getPreviouslyFocusedElement() {\n  return previouslyFocusedElements.slice().reverse().find(el => el.isConnected);\n}\nconst VisuallyHiddenDismiss = /*#__PURE__*/React.forwardRef(function VisuallyHiddenDismiss(props, ref) {\n  return /*#__PURE__*/React.createElement(\"button\", _extends({}, props, {\n    type: \"button\",\n    ref: ref,\n    tabIndex: -1,\n    style: HIDDEN_STYLES\n  }));\n});\n/**\n * Provides focus management for the floating element.\n * @see https://floating-ui.com/docs/FloatingFocusManager\n */\nfunction FloatingFocusManager(props) {\n  const {\n    context,\n    children,\n    disabled = false,\n    order = ['content'],\n    guards: _guards = true,\n    initialFocus = 0,\n    returnFocus = true,\n    modal = true,\n    visuallyHiddenDismiss = false,\n    closeOnFocusOut = true\n  } = props;\n  const {\n    open,\n    refs,\n    nodeId,\n    onOpenChange,\n    events,\n    dataRef,\n    elements: {\n      domReference,\n      floating\n    }\n  } = context;\n  const ignoreInitialFocus = typeof initialFocus === 'number' && initialFocus < 0;\n  // If the reference is a combobox and is typeable (e.g. input/textarea),\n  // there are different focus semantics. The guards should not be rendered, but\n  // aria-hidden should be applied to all nodes still. Further, the visually\n  // hidden dismiss button should only appear at the end of the list, not the\n  // start.\n  const isUntrappedTypeableCombobox = isTypeableCombobox(domReference) && ignoreInitialFocus;\n\n  // Force the guards to be rendered if the `inert` attribute is not supported.\n  const guards = supportsInert() ? _guards : true;\n  const orderRef = useLatestRef(order);\n  const initialFocusRef = useLatestRef(initialFocus);\n  const returnFocusRef = useLatestRef(returnFocus);\n  const tree = useFloatingTree();\n  const portalContext = usePortalContext();\n  const startDismissButtonRef = React.useRef(null);\n  const endDismissButtonRef = React.useRef(null);\n  const preventReturnFocusRef = React.useRef(false);\n  const isPointerDownRef = React.useRef(false);\n  const isInsidePortal = portalContext != null;\n  const getTabbableContent = React.useCallback(function (container) {\n    if (container === void 0) {\n      container = floating;\n    }\n    return container ? tabbable(container, getTabbableOptions()) : [];\n  }, [floating]);\n  const getTabbableElements = React.useCallback(container => {\n    const content = getTabbableContent(container);\n    return orderRef.current.map(type => {\n      if (domReference && type === 'reference') {\n        return domReference;\n      }\n      if (floating && type === 'floating') {\n        return floating;\n      }\n      return content;\n    }).filter(Boolean).flat();\n  }, [domReference, floating, orderRef, getTabbableContent]);\n  React.useEffect(() => {\n    if (disabled || !modal) return;\n    function onKeyDown(event) {\n      if (event.key === 'Tab') {\n        // The focus guards have nothing to focus, so we need to stop the event.\n        if (contains(floating, activeElement(getDocument(floating))) && getTabbableContent().length === 0 && !isUntrappedTypeableCombobox) {\n          stopEvent(event);\n        }\n        const els = getTabbableElements();\n        const target = getTarget(event);\n        if (orderRef.current[0] === 'reference' && target === domReference) {\n          stopEvent(event);\n          if (event.shiftKey) {\n            enqueueFocus(els[els.length - 1]);\n          } else {\n            enqueueFocus(els[1]);\n          }\n        }\n        if (orderRef.current[1] === 'floating' && target === floating && event.shiftKey) {\n          stopEvent(event);\n          enqueueFocus(els[0]);\n        }\n      }\n    }\n    const doc = getDocument(floating);\n    doc.addEventListener('keydown', onKeyDown);\n    return () => {\n      doc.removeEventListener('keydown', onKeyDown);\n    };\n  }, [disabled, domReference, floating, modal, orderRef, isUntrappedTypeableCombobox, getTabbableContent, getTabbableElements]);\n  React.useEffect(() => {\n    if (disabled || !closeOnFocusOut) return;\n\n    // In Safari, buttons lose focus when pressing them.\n    function handlePointerDown() {\n      isPointerDownRef.current = true;\n      setTimeout(() => {\n        isPointerDownRef.current = false;\n      });\n    }\n    function handleFocusOutside(event) {\n      const relatedTarget = event.relatedTarget;\n      queueMicrotask(() => {\n        const movedToUnrelatedNode = !(contains(domReference, relatedTarget) || contains(floating, relatedTarget) || contains(relatedTarget, floating) || contains(portalContext == null ? void 0 : portalContext.portalNode, relatedTarget) || relatedTarget != null && relatedTarget.hasAttribute(createAttribute('focus-guard')) || tree && (getChildren(tree.nodesRef.current, nodeId).find(node => {\n          var _node$context, _node$context2;\n          return contains((_node$context = node.context) == null ? void 0 : _node$context.elements.floating, relatedTarget) || contains((_node$context2 = node.context) == null ? void 0 : _node$context2.elements.domReference, relatedTarget);\n        }) || getAncestors(tree.nodesRef.current, nodeId).find(node => {\n          var _node$context3, _node$context4;\n          return ((_node$context3 = node.context) == null ? void 0 : _node$context3.elements.floating) === relatedTarget || ((_node$context4 = node.context) == null ? void 0 : _node$context4.elements.domReference) === relatedTarget;\n        })));\n\n        // Focus did not move inside the floating tree, and there are no tabbable\n        // portal guards to handle closing.\n        if (relatedTarget && movedToUnrelatedNode && !isPointerDownRef.current &&\n        // Fix React 18 Strict Mode returnFocus due to double rendering.\n        relatedTarget !== getPreviouslyFocusedElement()) {\n          preventReturnFocusRef.current = true;\n          onOpenChange(false, event);\n        }\n      });\n    }\n    if (floating && isHTMLElement(domReference)) {\n      domReference.addEventListener('focusout', handleFocusOutside);\n      domReference.addEventListener('pointerdown', handlePointerDown);\n      !modal && floating.addEventListener('focusout', handleFocusOutside);\n      return () => {\n        domReference.removeEventListener('focusout', handleFocusOutside);\n        domReference.removeEventListener('pointerdown', handlePointerDown);\n        !modal && floating.removeEventListener('focusout', handleFocusOutside);\n      };\n    }\n  }, [disabled, domReference, floating, modal, nodeId, tree, portalContext, onOpenChange, closeOnFocusOut]);\n  React.useEffect(() => {\n    var _portalContext$portal;\n    if (disabled) return;\n\n    // Don't hide portals nested within the parent portal.\n    const portalNodes = Array.from((portalContext == null || (_portalContext$portal = portalContext.portalNode) == null ? void 0 : _portalContext$portal.querySelectorAll(\"[\" + createAttribute('portal') + \"]\")) || []);\n    if (floating) {\n      const insideElements = [floating, ...portalNodes, startDismissButtonRef.current, endDismissButtonRef.current, orderRef.current.includes('reference') || isUntrappedTypeableCombobox ? domReference : null].filter(x => x != null);\n      const cleanup = modal || isUntrappedTypeableCombobox ? markOthers(insideElements, guards, !guards) : markOthers(insideElements);\n      return () => {\n        cleanup();\n      };\n    }\n  }, [disabled, domReference, floating, modal, orderRef, portalContext, isUntrappedTypeableCombobox, guards]);\n  index(() => {\n    if (disabled || !floating) return;\n    const doc = getDocument(floating);\n    const previouslyFocusedElement = activeElement(doc);\n\n    // Wait for any layout effect state setters to execute to set `tabIndex`.\n    queueMicrotask(() => {\n      const focusableElements = getTabbableElements(floating);\n      const initialFocusValue = initialFocusRef.current;\n      const elToFocus = (typeof initialFocusValue === 'number' ? focusableElements[initialFocusValue] : initialFocusValue.current) || floating;\n      const focusAlreadyInsideFloatingEl = contains(floating, previouslyFocusedElement);\n      if (!ignoreInitialFocus && !focusAlreadyInsideFloatingEl && open) {\n        enqueueFocus(elToFocus, {\n          preventScroll: elToFocus === floating\n        });\n      }\n    });\n  }, [disabled, open, floating, ignoreInitialFocus, getTabbableElements, initialFocusRef]);\n  index(() => {\n    if (disabled || !floating) return;\n    let preventReturnFocusScroll = false;\n    const doc = getDocument(floating);\n    const previouslyFocusedElement = activeElement(doc);\n    const contextData = dataRef.current;\n    addPreviouslyFocusedElement(previouslyFocusedElement);\n\n    // Dismissing via outside press should always ignore `returnFocus` to\n    // prevent unwanted scrolling.\n    function onOpenChange(_ref) {\n      let {\n        reason,\n        event,\n        nested\n      } = _ref;\n      if (reason === 'escape-key' && refs.domReference.current) {\n        addPreviouslyFocusedElement(refs.domReference.current);\n      }\n      if (reason === 'hover' && event.type === 'mouseleave') {\n        preventReturnFocusRef.current = true;\n      }\n      if (reason !== 'outside-press') return;\n      if (nested) {\n        preventReturnFocusRef.current = false;\n        preventReturnFocusScroll = true;\n      } else {\n        preventReturnFocusRef.current = !(isVirtualClick(event) || isVirtualPointerEvent(event));\n      }\n    }\n    events.on('openchange', onOpenChange);\n    return () => {\n      events.off('openchange', onOpenChange);\n      const activeEl = activeElement(doc);\n      const isFocusInsideFloatingTree = contains(floating, activeEl) || tree && getChildren(tree.nodesRef.current, nodeId).some(node => {\n        var _node$context5;\n        return contains((_node$context5 = node.context) == null ? void 0 : _node$context5.elements.floating, activeEl);\n      });\n      const shouldFocusReference = isFocusInsideFloatingTree || contextData.openEvent && ['click', 'mousedown'].includes(contextData.openEvent.type);\n      if (shouldFocusReference && refs.domReference.current) {\n        addPreviouslyFocusedElement(refs.domReference.current);\n      }\n      const returnElement = getPreviouslyFocusedElement();\n      if (returnFocusRef.current && !preventReturnFocusRef.current && isHTMLElement(returnElement) && (\n      // If the focus moved somewhere else after mount, avoid returning focus\n      // since it likely entered a different element which should be\n      // respected: https://github.com/floating-ui/floating-ui/issues/2607\n      returnElement !== activeEl && activeEl !== doc.body ? isFocusInsideFloatingTree : true)) {\n        enqueueFocus(returnElement, {\n          // When dismissing nested floating elements, by the time the rAF has\n          // executed, the menus will all have been unmounted. When they try\n          // to get focused, the calls get ignored — leaving the root\n          // reference focused as desired.\n          cancelPrevious: false,\n          preventScroll: preventReturnFocusScroll\n        });\n      }\n    };\n  }, [disabled, floating, returnFocusRef, dataRef, refs, events, tree, nodeId]);\n\n  // Synchronize the `context` & `modal` value to the FloatingPortal context.\n  // It will decide whether or not it needs to render its own guards.\n  index(() => {\n    if (disabled || !portalContext) return;\n    portalContext.setFocusManagerState({\n      modal,\n      closeOnFocusOut,\n      open,\n      onOpenChange,\n      refs\n    });\n    return () => {\n      portalContext.setFocusManagerState(null);\n    };\n  }, [disabled, portalContext, modal, open, onOpenChange, refs, closeOnFocusOut]);\n  index(() => {\n    if (disabled || !floating || typeof MutationObserver !== 'function' || ignoreInitialFocus) {\n      return;\n    }\n    const handleMutation = () => {\n      const tabIndex = floating.getAttribute('tabindex');\n      if (orderRef.current.includes('floating') || activeElement(getDocument(floating)) !== refs.domReference.current && getTabbableContent().length === 0) {\n        if (tabIndex !== '0') {\n          floating.setAttribute('tabindex', '0');\n        }\n      } else if (tabIndex !== '-1') {\n        floating.setAttribute('tabindex', '-1');\n      }\n    };\n    handleMutation();\n    const observer = new MutationObserver(handleMutation);\n    observer.observe(floating, {\n      childList: true,\n      subtree: true,\n      attributes: true\n    });\n    return () => {\n      observer.disconnect();\n    };\n  }, [disabled, floating, refs, orderRef, getTabbableContent, ignoreInitialFocus]);\n  function renderDismissButton(location) {\n    if (disabled || !visuallyHiddenDismiss || !modal) {\n      return null;\n    }\n    return /*#__PURE__*/React.createElement(VisuallyHiddenDismiss, {\n      ref: location === 'start' ? startDismissButtonRef : endDismissButtonRef,\n      onClick: event => onOpenChange(false, event.nativeEvent)\n    }, typeof visuallyHiddenDismiss === 'string' ? visuallyHiddenDismiss : 'Dismiss');\n  }\n  const shouldRenderGuards = !disabled && guards && (isInsidePortal || modal);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, shouldRenderGuards && /*#__PURE__*/React.createElement(FocusGuard, {\n    \"data-type\": \"inside\",\n    ref: portalContext == null ? void 0 : portalContext.beforeInsideRef,\n    onFocus: event => {\n      if (modal) {\n        const els = getTabbableElements();\n        enqueueFocus(order[0] === 'reference' ? els[0] : els[els.length - 1]);\n      } else if (portalContext != null && portalContext.preserveTabOrder && portalContext.portalNode) {\n        preventReturnFocusRef.current = false;\n        if (isOutsideEvent(event, portalContext.portalNode)) {\n          const nextTabbable = getNextTabbable() || domReference;\n          nextTabbable == null || nextTabbable.focus();\n        } else {\n          var _portalContext$before;\n          (_portalContext$before = portalContext.beforeOutsideRef.current) == null || _portalContext$before.focus();\n        }\n      }\n    }\n  }), !isUntrappedTypeableCombobox && renderDismissButton('start'), children, renderDismissButton('end'), shouldRenderGuards && /*#__PURE__*/React.createElement(FocusGuard, {\n    \"data-type\": \"inside\",\n    ref: portalContext == null ? void 0 : portalContext.afterInsideRef,\n    onFocus: event => {\n      if (modal) {\n        enqueueFocus(getTabbableElements()[0]);\n      } else if (portalContext != null && portalContext.preserveTabOrder && portalContext.portalNode) {\n        if (closeOnFocusOut) {\n          preventReturnFocusRef.current = true;\n        }\n        if (isOutsideEvent(event, portalContext.portalNode)) {\n          const prevTabbable = getPreviousTabbable() || domReference;\n          prevTabbable == null || prevTabbable.focus();\n        } else {\n          var _portalContext$afterO;\n          (_portalContext$afterO = portalContext.afterOutsideRef.current) == null || _portalContext$afterO.focus();\n        }\n      }\n    }\n  }));\n}\n\nconst activeLocks = /*#__PURE__*/new Set();\n/**\n * Provides base styling for a fixed overlay element to dim content or block\n * pointer events behind a floating element.\n * It's a regular `<div>`, so it can be styled via any CSS solution you prefer.\n * @see https://floating-ui.com/docs/FloatingOverlay\n */\nconst FloatingOverlay = /*#__PURE__*/React.forwardRef(function FloatingOverlay(_ref, ref) {\n  let {\n    lockScroll = false,\n    ...rest\n  } = _ref;\n  const lockId = useId();\n  index(() => {\n    if (!lockScroll) return;\n    activeLocks.add(lockId);\n    const isIOS = /iP(hone|ad|od)|iOS/.test(getPlatform());\n    const bodyStyle = document.body.style;\n    // RTL <body> scrollbar\n    const scrollbarX = Math.round(document.documentElement.getBoundingClientRect().left) + document.documentElement.scrollLeft;\n    const paddingProp = scrollbarX ? 'paddingLeft' : 'paddingRight';\n    const scrollbarWidth = window.innerWidth - document.documentElement.clientWidth;\n    const scrollX = bodyStyle.left ? parseFloat(bodyStyle.left) : window.pageXOffset;\n    const scrollY = bodyStyle.top ? parseFloat(bodyStyle.top) : window.pageYOffset;\n    bodyStyle.overflow = 'hidden';\n    if (scrollbarWidth) {\n      bodyStyle[paddingProp] = scrollbarWidth + \"px\";\n    }\n\n    // Only iOS doesn't respect `overflow: hidden` on document.body, and this\n    // technique has fewer side effects.\n    if (isIOS) {\n      var _window$visualViewpor, _window$visualViewpor2;\n      // iOS 12 does not support `visualViewport`.\n      const offsetLeft = ((_window$visualViewpor = window.visualViewport) == null ? void 0 : _window$visualViewpor.offsetLeft) || 0;\n      const offsetTop = ((_window$visualViewpor2 = window.visualViewport) == null ? void 0 : _window$visualViewpor2.offsetTop) || 0;\n      Object.assign(bodyStyle, {\n        position: 'fixed',\n        top: -(scrollY - Math.floor(offsetTop)) + \"px\",\n        left: -(scrollX - Math.floor(offsetLeft)) + \"px\",\n        right: '0'\n      });\n    }\n    return () => {\n      activeLocks.delete(lockId);\n      if (activeLocks.size === 0) {\n        Object.assign(bodyStyle, {\n          overflow: '',\n          [paddingProp]: ''\n        });\n        if (isIOS) {\n          Object.assign(bodyStyle, {\n            position: '',\n            top: '',\n            left: '',\n            right: ''\n          });\n          window.scrollTo(scrollX, scrollY);\n        }\n      }\n    };\n  }, [lockId, lockScroll]);\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    ref: ref\n  }, rest, {\n    style: {\n      position: 'fixed',\n      overflow: 'auto',\n      top: 0,\n      right: 0,\n      bottom: 0,\n      left: 0,\n      ...rest.style\n    }\n  }));\n});\n\nfunction isButtonTarget(event) {\n  return isHTMLElement(event.target) && event.target.tagName === 'BUTTON';\n}\nfunction isSpaceIgnored(element) {\n  return isTypeableElement(element);\n}\n/**\n * Opens or closes the floating element when clicking the reference element.\n * @see https://floating-ui.com/docs/useClick\n */\nfunction useClick(context, props) {\n  if (props === void 0) {\n    props = {};\n  }\n  const {\n    open,\n    onOpenChange,\n    dataRef,\n    elements: {\n      domReference\n    }\n  } = context;\n  const {\n    enabled = true,\n    event: eventOption = 'click',\n    toggle = true,\n    ignoreMouse = false,\n    keyboardHandlers = true\n  } = props;\n  const pointerTypeRef = React.useRef();\n  const didKeyDownRef = React.useRef(false);\n  return React.useMemo(() => {\n    if (!enabled) return {};\n    return {\n      reference: {\n        onPointerDown(event) {\n          pointerTypeRef.current = event.pointerType;\n        },\n        onMouseDown(event) {\n          // Ignore all buttons except for the \"main\" button.\n          // https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/button\n          if (event.button !== 0) {\n            return;\n          }\n          if (isMouseLikePointerType(pointerTypeRef.current, true) && ignoreMouse) {\n            return;\n          }\n          if (eventOption === 'click') {\n            return;\n          }\n          if (open && toggle && (dataRef.current.openEvent ? dataRef.current.openEvent.type === 'mousedown' : true)) {\n            onOpenChange(false, event.nativeEvent, 'click');\n          } else {\n            // Prevent stealing focus from the floating element\n            event.preventDefault();\n            onOpenChange(true, event.nativeEvent, 'click');\n          }\n        },\n        onClick(event) {\n          if (eventOption === 'mousedown' && pointerTypeRef.current) {\n            pointerTypeRef.current = undefined;\n            return;\n          }\n          if (isMouseLikePointerType(pointerTypeRef.current, true) && ignoreMouse) {\n            return;\n          }\n          if (open && toggle && (dataRef.current.openEvent ? dataRef.current.openEvent.type === 'click' : true)) {\n            onOpenChange(false, event.nativeEvent, 'click');\n          } else {\n            onOpenChange(true, event.nativeEvent, 'click');\n          }\n        },\n        onKeyDown(event) {\n          pointerTypeRef.current = undefined;\n          if (event.defaultPrevented || !keyboardHandlers || isButtonTarget(event)) {\n            return;\n          }\n          if (event.key === ' ' && !isSpaceIgnored(domReference)) {\n            // Prevent scrolling\n            event.preventDefault();\n            didKeyDownRef.current = true;\n          }\n          if (event.key === 'Enter') {\n            if (open && toggle) {\n              onOpenChange(false, event.nativeEvent, 'click');\n            } else {\n              onOpenChange(true, event.nativeEvent, 'click');\n            }\n          }\n        },\n        onKeyUp(event) {\n          if (event.defaultPrevented || !keyboardHandlers || isButtonTarget(event) || isSpaceIgnored(domReference)) {\n            return;\n          }\n          if (event.key === ' ' && didKeyDownRef.current) {\n            didKeyDownRef.current = false;\n            if (open && toggle) {\n              onOpenChange(false, event.nativeEvent, 'click');\n            } else {\n              onOpenChange(true, event.nativeEvent, 'click');\n            }\n          }\n        }\n      }\n    };\n  }, [enabled, dataRef, eventOption, ignoreMouse, keyboardHandlers, domReference, toggle, open, onOpenChange]);\n}\n\nfunction createVirtualElement(domRef, data) {\n  let offsetX = null;\n  let offsetY = null;\n  let isAutoUpdateEvent = false;\n  return {\n    contextElement: domRef.current || undefined,\n    getBoundingClientRect() {\n      var _domRef$current, _data$dataRef$current;\n      const domRect = ((_domRef$current = domRef.current) == null ? void 0 : _domRef$current.getBoundingClientRect()) || {\n        width: 0,\n        height: 0,\n        x: 0,\n        y: 0\n      };\n      const isXAxis = data.axis === 'x' || data.axis === 'both';\n      const isYAxis = data.axis === 'y' || data.axis === 'both';\n      const canTrackCursorOnAutoUpdate = ['mouseenter', 'mousemove'].includes(((_data$dataRef$current = data.dataRef.current.openEvent) == null ? void 0 : _data$dataRef$current.type) || '') && data.pointerType !== 'touch';\n      let width = domRect.width;\n      let height = domRect.height;\n      let x = domRect.x;\n      let y = domRect.y;\n      if (offsetX == null && data.x && isXAxis) {\n        offsetX = domRect.x - data.x;\n      }\n      if (offsetY == null && data.y && isYAxis) {\n        offsetY = domRect.y - data.y;\n      }\n      x -= offsetX || 0;\n      y -= offsetY || 0;\n      width = 0;\n      height = 0;\n      if (!isAutoUpdateEvent || canTrackCursorOnAutoUpdate) {\n        width = data.axis === 'y' ? domRect.width : 0;\n        height = data.axis === 'x' ? domRect.height : 0;\n        x = isXAxis && data.x != null ? data.x : x;\n        y = isYAxis && data.y != null ? data.y : y;\n      } else if (isAutoUpdateEvent && !canTrackCursorOnAutoUpdate) {\n        height = data.axis === 'x' ? domRect.height : height;\n        width = data.axis === 'y' ? domRect.width : width;\n      }\n      isAutoUpdateEvent = true;\n      return {\n        width,\n        height,\n        x,\n        y,\n        top: y,\n        right: x + width,\n        bottom: y + height,\n        left: x\n      };\n    }\n  };\n}\nfunction isMouseBasedEvent(event) {\n  return event != null && event.clientX != null;\n}\n/**\n * Positions the floating element relative to a client point (in the viewport),\n * such as the mouse position. By default, it follows the mouse cursor.\n * @see https://floating-ui.com/docs/useClientPoint\n */\nfunction useClientPoint(context, props) {\n  if (props === void 0) {\n    props = {};\n  }\n  const {\n    open,\n    refs,\n    dataRef,\n    elements: {\n      floating\n    }\n  } = context;\n  const {\n    enabled = true,\n    axis = 'both',\n    x = null,\n    y = null\n  } = props;\n  const initialRef = React.useRef(false);\n  const cleanupListenerRef = React.useRef(null);\n  const [pointerType, setPointerType] = React.useState();\n  const [reactive, setReactive] = React.useState([]);\n  const setReference = useEffectEvent((x, y) => {\n    if (initialRef.current) return;\n\n    // Prevent setting if the open event was not a mouse-like one\n    // (e.g. focus to open, then hover over the reference element).\n    // Only apply if the event exists.\n    if (dataRef.current.openEvent && !isMouseBasedEvent(dataRef.current.openEvent)) {\n      return;\n    }\n    refs.setPositionReference(createVirtualElement(refs.domReference, {\n      x,\n      y,\n      axis,\n      dataRef,\n      pointerType\n    }));\n  });\n  const handleReferenceEnterOrMove = useEffectEvent(event => {\n    if (x != null || y != null) return;\n    if (!open) {\n      setReference(event.clientX, event.clientY);\n    } else if (!cleanupListenerRef.current) {\n      // If there's no cleanup, there's no listener, but we want to ensure\n      // we add the listener if the cursor landed on the floating element and\n      // then back on the reference (i.e. it's interactive).\n      setReactive([]);\n    }\n  });\n\n  // If the pointer is a mouse-like pointer, we want to continue following the\n  // mouse even if the floating element is transitioning out. On touch\n  // devices, this is undesirable because the floating element will move to\n  // the dismissal touch point.\n  const openCheck = isMouseLikePointerType(pointerType) ? floating : open;\n  const addListener = React.useCallback(() => {\n    // Explicitly specified `x`/`y` coordinates shouldn't add a listener.\n    if (!openCheck || !enabled || x != null || y != null) return;\n    const win = getWindow(refs.floating.current);\n    function handleMouseMove(event) {\n      const target = getTarget(event);\n      if (!contains(refs.floating.current, target)) {\n        setReference(event.clientX, event.clientY);\n      } else {\n        win.removeEventListener('mousemove', handleMouseMove);\n        cleanupListenerRef.current = null;\n      }\n    }\n    if (!dataRef.current.openEvent || isMouseBasedEvent(dataRef.current.openEvent)) {\n      win.addEventListener('mousemove', handleMouseMove);\n      const cleanup = () => {\n        win.removeEventListener('mousemove', handleMouseMove);\n        cleanupListenerRef.current = null;\n      };\n      cleanupListenerRef.current = cleanup;\n      return cleanup;\n    }\n    refs.setPositionReference(refs.domReference.current);\n  }, [dataRef, enabled, openCheck, refs, setReference, x, y]);\n\n  // biome-ignore lint/correctness/useExhaustiveDependencies: intentionally specifying `reactive`\n  React.useEffect(() => {\n    return addListener();\n  }, [addListener, reactive]);\n  React.useEffect(() => {\n    if (enabled && !floating) {\n      initialRef.current = false;\n    }\n  }, [enabled, floating]);\n  React.useEffect(() => {\n    if (!enabled && open) {\n      initialRef.current = true;\n    }\n  }, [enabled, open]);\n  index(() => {\n    if (enabled && (x != null || y != null)) {\n      initialRef.current = false;\n      setReference(x, y);\n    }\n  }, [enabled, x, y, setReference]);\n  return React.useMemo(() => {\n    if (!enabled) return {};\n    function setPointerTypeRef(_ref) {\n      let {\n        pointerType\n      } = _ref;\n      setPointerType(pointerType);\n    }\n    return {\n      reference: {\n        onPointerDown: setPointerTypeRef,\n        onPointerEnter: setPointerTypeRef,\n        onMouseMove: handleReferenceEnterOrMove,\n        onMouseEnter: handleReferenceEnterOrMove\n      }\n    };\n  }, [enabled, handleReferenceEnterOrMove]);\n}\n\nconst bubbleHandlerKeys = {\n  pointerdown: 'onPointerDown',\n  mousedown: 'onMouseDown',\n  click: 'onClick'\n};\nconst captureHandlerKeys = {\n  pointerdown: 'onPointerDownCapture',\n  mousedown: 'onMouseDownCapture',\n  click: 'onClickCapture'\n};\nconst normalizeProp = normalizable => {\n  var _normalizable$escapeK, _normalizable$outside;\n  return {\n    escapeKey: typeof normalizable === 'boolean' ? normalizable : (_normalizable$escapeK = normalizable == null ? void 0 : normalizable.escapeKey) != null ? _normalizable$escapeK : false,\n    outsidePress: typeof normalizable === 'boolean' ? normalizable : (_normalizable$outside = normalizable == null ? void 0 : normalizable.outsidePress) != null ? _normalizable$outside : true\n  };\n};\n/**\n * Closes the floating element when a dismissal is requested — by default, when\n * the user presses the `escape` key or outside of the floating element.\n * @see https://floating-ui.com/docs/useDismiss\n */\nfunction useDismiss(context, props) {\n  if (props === void 0) {\n    props = {};\n  }\n  const {\n    open,\n    onOpenChange,\n    nodeId,\n    elements: {\n      reference,\n      domReference,\n      floating\n    },\n    dataRef\n  } = context;\n  const {\n    enabled = true,\n    escapeKey = true,\n    outsidePress: unstable_outsidePress = true,\n    outsidePressEvent = 'pointerdown',\n    referencePress = false,\n    referencePressEvent = 'pointerdown',\n    ancestorScroll = false,\n    bubbles,\n    capture\n  } = props;\n  const tree = useFloatingTree();\n  const outsidePressFn = useEffectEvent(typeof unstable_outsidePress === 'function' ? unstable_outsidePress : () => false);\n  const outsidePress = typeof unstable_outsidePress === 'function' ? outsidePressFn : unstable_outsidePress;\n  const insideReactTreeRef = React.useRef(false);\n  const endedOrStartedInsideRef = React.useRef(false);\n  const {\n    escapeKey: escapeKeyBubbles,\n    outsidePress: outsidePressBubbles\n  } = normalizeProp(bubbles);\n  const {\n    escapeKey: escapeKeyCapture,\n    outsidePress: outsidePressCapture\n  } = normalizeProp(capture);\n  const closeOnEscapeKeyDown = useEffectEvent(event => {\n    if (!open || !enabled || !escapeKey || event.key !== 'Escape') {\n      return;\n    }\n    const children = tree ? getChildren(tree.nodesRef.current, nodeId) : [];\n    if (!escapeKeyBubbles) {\n      event.stopPropagation();\n      if (children.length > 0) {\n        let shouldDismiss = true;\n        children.forEach(child => {\n          var _child$context;\n          if ((_child$context = child.context) != null && _child$context.open && !child.context.dataRef.current.__escapeKeyBubbles) {\n            shouldDismiss = false;\n            return;\n          }\n        });\n        if (!shouldDismiss) {\n          return;\n        }\n      }\n    }\n    onOpenChange(false, isReactEvent(event) ? event.nativeEvent : event, 'escape-key');\n  });\n  const closeOnEscapeKeyDownCapture = useEffectEvent(event => {\n    var _getTarget2;\n    const callback = () => {\n      var _getTarget;\n      closeOnEscapeKeyDown(event);\n      (_getTarget = getTarget(event)) == null || _getTarget.removeEventListener('keydown', callback);\n    };\n    (_getTarget2 = getTarget(event)) == null || _getTarget2.addEventListener('keydown', callback);\n  });\n  const closeOnPressOutside = useEffectEvent(event => {\n    // Given developers can stop the propagation of the synthetic event,\n    // we can only be confident with a positive value.\n    const insideReactTree = insideReactTreeRef.current;\n    insideReactTreeRef.current = false;\n\n    // When click outside is lazy (`click` event), handle dragging.\n    // Don't close if:\n    // - The click started inside the floating element.\n    // - The click ended inside the floating element.\n    const endedOrStartedInside = endedOrStartedInsideRef.current;\n    endedOrStartedInsideRef.current = false;\n    if (outsidePressEvent === 'click' && endedOrStartedInside) {\n      return;\n    }\n    if (insideReactTree) {\n      return;\n    }\n    if (typeof outsidePress === 'function' && !outsidePress(event)) {\n      return;\n    }\n    const target = getTarget(event);\n    const inertSelector = \"[\" + createAttribute('inert') + \"]\";\n    const markers = getDocument(floating).querySelectorAll(inertSelector);\n    let targetRootAncestor = isElement(target) ? target : null;\n    while (targetRootAncestor && !isLastTraversableNode(targetRootAncestor)) {\n      const nextParent = getParentNode(targetRootAncestor);\n      if (isLastTraversableNode(nextParent) || !isElement(nextParent)) {\n        break;\n      }\n      targetRootAncestor = nextParent;\n    }\n\n    // Check if the click occurred on a third-party element injected after the\n    // floating element rendered.\n    if (markers.length && isElement(target) && !isRootElement(target) &&\n    // Clicked on a direct ancestor (e.g. FloatingOverlay).\n    !contains(target, floating) &&\n    // If the target root element contains none of the markers, then the\n    // element was injected after the floating element rendered.\n    Array.from(markers).every(marker => !contains(targetRootAncestor, marker))) {\n      return;\n    }\n\n    // Check if the click occurred on the scrollbar\n    if (isHTMLElement(target) && floating) {\n      // In Firefox, `target.scrollWidth > target.clientWidth` for inline\n      // elements.\n      const canScrollX = target.clientWidth > 0 && target.scrollWidth > target.clientWidth;\n      const canScrollY = target.clientHeight > 0 && target.scrollHeight > target.clientHeight;\n      let xCond = canScrollY && event.offsetX > target.clientWidth;\n\n      // In some browsers it is possible to change the <body> (or window)\n      // scrollbar to the left side, but is very rare and is difficult to\n      // check for. Plus, for modal dialogs with backdrops, it is more\n      // important that the backdrop is checked but not so much the window.\n      if (canScrollY) {\n        const isRTL = getComputedStyle(target).direction === 'rtl';\n        if (isRTL) {\n          xCond = event.offsetX <= target.offsetWidth - target.clientWidth;\n        }\n      }\n      if (xCond || canScrollX && event.offsetY > target.clientHeight) {\n        return;\n      }\n    }\n    const targetIsInsideChildren = tree && getChildren(tree.nodesRef.current, nodeId).some(node => {\n      var _node$context;\n      return isEventTargetWithin(event, (_node$context = node.context) == null ? void 0 : _node$context.elements.floating);\n    });\n    if (isEventTargetWithin(event, floating) || isEventTargetWithin(event, domReference) || targetIsInsideChildren) {\n      return;\n    }\n    const children = tree ? getChildren(tree.nodesRef.current, nodeId) : [];\n    if (children.length > 0) {\n      let shouldDismiss = true;\n      children.forEach(child => {\n        var _child$context2;\n        if ((_child$context2 = child.context) != null && _child$context2.open && !child.context.dataRef.current.__outsidePressBubbles) {\n          shouldDismiss = false;\n          return;\n        }\n      });\n      if (!shouldDismiss) {\n        return;\n      }\n    }\n    onOpenChange(false, event, 'outside-press');\n  });\n  const closeOnPressOutsideCapture = useEffectEvent(event => {\n    var _getTarget4;\n    const callback = () => {\n      var _getTarget3;\n      closeOnPressOutside(event);\n      (_getTarget3 = getTarget(event)) == null || _getTarget3.removeEventListener(outsidePressEvent, callback);\n    };\n    (_getTarget4 = getTarget(event)) == null || _getTarget4.addEventListener(outsidePressEvent, callback);\n  });\n  React.useEffect(() => {\n    if (!open || !enabled) {\n      return;\n    }\n    dataRef.current.__escapeKeyBubbles = escapeKeyBubbles;\n    dataRef.current.__outsidePressBubbles = outsidePressBubbles;\n    function onScroll(event) {\n      onOpenChange(false, event, 'ancestor-scroll');\n    }\n    const doc = getDocument(floating);\n    escapeKey && doc.addEventListener('keydown', escapeKeyCapture ? closeOnEscapeKeyDownCapture : closeOnEscapeKeyDown, escapeKeyCapture);\n    outsidePress && doc.addEventListener(outsidePressEvent, outsidePressCapture ? closeOnPressOutsideCapture : closeOnPressOutside, outsidePressCapture);\n    let ancestors = [];\n    if (ancestorScroll) {\n      if (isElement(domReference)) {\n        ancestors = getOverflowAncestors(domReference);\n      }\n      if (isElement(floating)) {\n        ancestors = ancestors.concat(getOverflowAncestors(floating));\n      }\n      if (!isElement(reference) && reference && reference.contextElement) {\n        ancestors = ancestors.concat(getOverflowAncestors(reference.contextElement));\n      }\n    }\n\n    // Ignore the visual viewport for scrolling dismissal (allow pinch-zoom)\n    ancestors = ancestors.filter(ancestor => {\n      var _doc$defaultView;\n      return ancestor !== ((_doc$defaultView = doc.defaultView) == null ? void 0 : _doc$defaultView.visualViewport);\n    });\n    ancestors.forEach(ancestor => {\n      ancestor.addEventListener('scroll', onScroll, {\n        passive: true\n      });\n    });\n    return () => {\n      escapeKey && doc.removeEventListener('keydown', escapeKeyCapture ? closeOnEscapeKeyDownCapture : closeOnEscapeKeyDown, escapeKeyCapture);\n      outsidePress && doc.removeEventListener(outsidePressEvent, outsidePressCapture ? closeOnPressOutsideCapture : closeOnPressOutside, outsidePressCapture);\n      ancestors.forEach(ancestor => {\n        ancestor.removeEventListener('scroll', onScroll);\n      });\n    };\n  }, [dataRef, floating, domReference, reference, escapeKey, outsidePress, outsidePressEvent, open, onOpenChange, ancestorScroll, enabled, escapeKeyBubbles, outsidePressBubbles, closeOnEscapeKeyDown, escapeKeyCapture, closeOnEscapeKeyDownCapture, closeOnPressOutside, outsidePressCapture, closeOnPressOutsideCapture]);\n\n  // biome-ignore lint/correctness/useExhaustiveDependencies: intentional\n  React.useEffect(() => {\n    insideReactTreeRef.current = false;\n  }, [outsidePress, outsidePressEvent]);\n  return React.useMemo(() => {\n    if (!enabled) {\n      return {};\n    }\n    return {\n      reference: {\n        onKeyDown: closeOnEscapeKeyDown,\n        [bubbleHandlerKeys[referencePressEvent]]: event => {\n          if (referencePress) {\n            onOpenChange(false, event.nativeEvent, 'reference-press');\n          }\n        }\n      },\n      floating: {\n        onKeyDown: closeOnEscapeKeyDown,\n        onMouseDown() {\n          endedOrStartedInsideRef.current = true;\n        },\n        onMouseUp() {\n          endedOrStartedInsideRef.current = true;\n        },\n        [captureHandlerKeys[outsidePressEvent]]: () => {\n          insideReactTreeRef.current = true;\n        }\n      }\n    };\n  }, [enabled, referencePress, outsidePressEvent, referencePressEvent, onOpenChange, closeOnEscapeKeyDown]);\n}\n\nlet devMessageSet;\nif (process.env.NODE_ENV !== \"production\") {\n  devMessageSet = /*#__PURE__*/new Set();\n}\n\n/**\n * Provides data to position a floating element and context to add interactions.\n * @see https://floating-ui.com/docs/useFloating\n */\nfunction useFloating(options) {\n  var _options$elements2;\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    open = false,\n    onOpenChange: unstable_onOpenChange,\n    nodeId\n  } = options;\n  if (process.env.NODE_ENV !== \"production\") {\n    var _options$elements;\n    const err = 'Floating UI: Cannot pass a virtual element to the ' + '`elements.reference` option, as it must be a real DOM element. ' + 'Use `refs.setPositionReference` instead.';\n    if ((_options$elements = options.elements) != null && _options$elements.reference && !isElement(options.elements.reference)) {\n      var _devMessageSet;\n      if (!((_devMessageSet = devMessageSet) != null && _devMessageSet.has(err))) {\n        var _devMessageSet2;\n        (_devMessageSet2 = devMessageSet) == null || _devMessageSet2.add(err);\n        console.error(err);\n      }\n    }\n  }\n  const [_domReference, setDomReference] = React.useState(null);\n  const domReference = ((_options$elements2 = options.elements) == null ? void 0 : _options$elements2.reference) || _domReference;\n  const position = useFloating$1(options);\n  const tree = useFloatingTree();\n  const nested = useFloatingParentNodeId() != null;\n  const onOpenChange = useEffectEvent((open, event, reason) => {\n    if (open) {\n      dataRef.current.openEvent = event;\n    }\n    events.emit('openchange', {\n      open,\n      event,\n      reason,\n      nested\n    });\n    unstable_onOpenChange == null || unstable_onOpenChange(open, event, reason);\n  });\n  const domReferenceRef = React.useRef(null);\n  const dataRef = React.useRef({});\n  const events = React.useState(() => createPubSub())[0];\n  const floatingId = useId();\n  const setPositionReference = React.useCallback(node => {\n    const positionReference = isElement(node) ? {\n      getBoundingClientRect: () => node.getBoundingClientRect(),\n      contextElement: node\n    } : node;\n    position.refs.setReference(positionReference);\n  }, [position.refs]);\n  const setReference = React.useCallback(node => {\n    if (isElement(node) || node === null) {\n      domReferenceRef.current = node;\n      setDomReference(node);\n    }\n\n    // Backwards-compatibility for passing a virtual element to `reference`\n    // after it has set the DOM reference.\n    if (isElement(position.refs.reference.current) || position.refs.reference.current === null ||\n    // Don't allow setting virtual elements using the old technique back to\n    // `null` to support `positionReference` + an unstable `reference`\n    // callback ref.\n    node !== null && !isElement(node)) {\n      position.refs.setReference(node);\n    }\n  }, [position.refs]);\n  const refs = React.useMemo(() => ({\n    ...position.refs,\n    setReference,\n    setPositionReference,\n    domReference: domReferenceRef\n  }), [position.refs, setReference, setPositionReference]);\n  const elements = React.useMemo(() => ({\n    ...position.elements,\n    domReference: domReference\n  }), [position.elements, domReference]);\n  const context = React.useMemo(() => ({\n    ...position,\n    refs,\n    elements,\n    dataRef,\n    nodeId,\n    floatingId,\n    events,\n    open,\n    onOpenChange\n  }), [position, nodeId, floatingId, events, open, onOpenChange, refs, elements]);\n  index(() => {\n    const node = tree == null ? void 0 : tree.nodesRef.current.find(node => node.id === nodeId);\n    if (node) {\n      node.context = context;\n    }\n  });\n  return React.useMemo(() => ({\n    ...position,\n    context,\n    refs,\n    elements\n  }), [position, refs, elements, context]);\n}\n\n/**\n * Opens the floating element while the reference element has focus, like CSS\n * `:focus`.\n * @see https://floating-ui.com/docs/useFocus\n */\nfunction useFocus(context, props) {\n  if (props === void 0) {\n    props = {};\n  }\n  const {\n    open,\n    onOpenChange,\n    events,\n    refs,\n    elements: {\n      domReference\n    }\n  } = context;\n  const {\n    enabled = true,\n    visibleOnly = true\n  } = props;\n  const blockFocusRef = React.useRef(false);\n  const timeoutRef = React.useRef();\n  const keyboardModalityRef = React.useRef(true);\n  React.useEffect(() => {\n    if (!enabled) {\n      return;\n    }\n    const win = getWindow(domReference);\n\n    // If the reference was focused and the user left the tab/window, and the\n    // floating element was not open, the focus should be blocked when they\n    // return to the tab/window.\n    function onBlur() {\n      if (!open && isHTMLElement(domReference) && domReference === activeElement(getDocument(domReference))) {\n        blockFocusRef.current = true;\n      }\n    }\n    function onKeyDown() {\n      keyboardModalityRef.current = true;\n    }\n    win.addEventListener('blur', onBlur);\n    win.addEventListener('keydown', onKeyDown, true);\n    return () => {\n      win.removeEventListener('blur', onBlur);\n      win.removeEventListener('keydown', onKeyDown, true);\n    };\n  }, [domReference, open, enabled]);\n  React.useEffect(() => {\n    if (!enabled) {\n      return;\n    }\n    function onOpenChange(_ref) {\n      let {\n        reason\n      } = _ref;\n      if (reason === 'reference-press' || reason === 'escape-key') {\n        blockFocusRef.current = true;\n      }\n    }\n    events.on('openchange', onOpenChange);\n    return () => {\n      events.off('openchange', onOpenChange);\n    };\n  }, [events, enabled]);\n  React.useEffect(() => {\n    return () => {\n      clearTimeout(timeoutRef.current);\n    };\n  }, []);\n  return React.useMemo(() => {\n    if (!enabled) {\n      return {};\n    }\n    return {\n      reference: {\n        onPointerDown(event) {\n          if (isVirtualPointerEvent(event.nativeEvent)) return;\n          keyboardModalityRef.current = false;\n        },\n        onMouseLeave() {\n          blockFocusRef.current = false;\n        },\n        onFocus(event) {\n          if (blockFocusRef.current) return;\n          const target = getTarget(event.nativeEvent);\n          if (visibleOnly && isElement(target)) {\n            try {\n              // Mac Safari unreliably matches `:focus-visible` on the reference\n              // if focus was outside the page initially - use the fallback\n              // instead.\n              if (isSafari() && isMac()) throw Error();\n              if (!target.matches(':focus-visible')) return;\n            } catch (e) {\n              // Old browsers will throw an error when using `:focus-visible`.\n              if (!keyboardModalityRef.current && !isTypeableElement(target)) {\n                return;\n              }\n            }\n          }\n          onOpenChange(true, event.nativeEvent, 'focus');\n        },\n        onBlur(event) {\n          blockFocusRef.current = false;\n          const relatedTarget = event.relatedTarget;\n\n          // Hit the non-modal focus management portal guard. Focus will be\n          // moved into the floating element immediately after.\n          const movedToFocusGuard = isElement(relatedTarget) && relatedTarget.hasAttribute(createAttribute('focus-guard')) && relatedTarget.getAttribute('data-type') === 'outside';\n\n          // Wait for the window blur listener to fire.\n          timeoutRef.current = window.setTimeout(() => {\n            const activeEl = activeElement(domReference ? domReference.ownerDocument : document);\n\n            // Focus left the page, keep it open.\n            if (!relatedTarget && activeEl === domReference) return;\n\n            // When focusing the reference element (e.g. regular click), then\n            // clicking into the floating element, prevent it from hiding.\n            // Note: it must be focusable, e.g. `tabindex=\"-1\"`.\n            // We can not rely on relatedTarget to point to the correct element\n            // as it will only point to the shadow host of the newly focused element\n            // and not the element that actually has received focus if it is located\n            // inside a shadow root.\n            if (contains(refs.floating.current, activeEl) || contains(domReference, activeEl) || movedToFocusGuard) {\n              return;\n            }\n            onOpenChange(false, event.nativeEvent, 'focus');\n          });\n        }\n      }\n    };\n  }, [enabled, visibleOnly, domReference, refs, onOpenChange]);\n}\n\nconst ACTIVE_KEY = 'active';\nconst SELECTED_KEY = 'selected';\nfunction mergeProps(userProps, propsList, elementKey) {\n  const map = new Map();\n  const isItem = elementKey === 'item';\n  let domUserProps = userProps;\n  if (isItem && userProps) {\n    const {\n      [ACTIVE_KEY]: _,\n      [SELECTED_KEY]: __,\n      ...validProps\n    } = userProps;\n    domUserProps = validProps;\n  }\n  return {\n    ...(elementKey === 'floating' && {\n      tabIndex: -1\n    }),\n    ...domUserProps,\n    ...propsList.map(value => {\n      const propsOrGetProps = value ? value[elementKey] : null;\n      if (typeof propsOrGetProps === 'function') {\n        return userProps ? propsOrGetProps(userProps) : null;\n      }\n      return propsOrGetProps;\n    }).concat(userProps).reduce((acc, props) => {\n      if (!props) {\n        return acc;\n      }\n      Object.entries(props).forEach(_ref => {\n        let [key, value] = _ref;\n        if (isItem && [ACTIVE_KEY, SELECTED_KEY].includes(key)) {\n          return;\n        }\n        if (key.indexOf('on') === 0) {\n          if (!map.has(key)) {\n            map.set(key, []);\n          }\n          if (typeof value === 'function') {\n            var _map$get;\n            (_map$get = map.get(key)) == null || _map$get.push(value);\n            acc[key] = function () {\n              var _map$get2;\n              for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n                args[_key] = arguments[_key];\n              }\n              return (_map$get2 = map.get(key)) == null ? void 0 : _map$get2.map(fn => fn(...args)).find(val => val !== undefined);\n            };\n          }\n        } else {\n          acc[key] = value;\n        }\n      });\n      return acc;\n    }, {})\n  };\n}\n\n/**\n * Merges an array of interaction hooks' props into prop getters, allowing\n * event handler functions to be composed together without overwriting one\n * another.\n * @see https://floating-ui.com/docs/useInteractions\n */\nfunction useInteractions(propsList) {\n  if (propsList === void 0) {\n    propsList = [];\n  }\n  // The dependencies are a dynamic array, so we can't use the linter's\n  // suggestion to add it to the deps array.\n  const deps = propsList;\n\n  // biome-ignore lint/correctness/useExhaustiveDependencies: intentional\n  const getReferenceProps = React.useCallback(userProps => mergeProps(userProps, propsList, 'reference'), deps);\n\n  // biome-ignore lint/correctness/useExhaustiveDependencies: intentional\n  const getFloatingProps = React.useCallback(userProps => mergeProps(userProps, propsList, 'floating'), deps);\n\n  // biome-ignore lint/correctness/useExhaustiveDependencies: intentional\n  const getItemProps = React.useCallback(userProps => mergeProps(userProps, propsList, 'item'),\n  // Granularly check for `item` changes, because the `getItemProps` getter\n  // should be as referentially stable as possible since it may be passed as\n  // a prop to many components. All `item` key values must therefore be\n  // memoized.\n  propsList.map(key => key == null ? void 0 : key.item));\n  return React.useMemo(() => ({\n    getReferenceProps,\n    getFloatingProps,\n    getItemProps\n  }), [getReferenceProps, getFloatingProps, getItemProps]);\n}\n\nlet isPreventScrollSupported = false;\nfunction doSwitch(orientation, vertical, horizontal) {\n  switch (orientation) {\n    case 'vertical':\n      return vertical;\n    case 'horizontal':\n      return horizontal;\n    default:\n      return vertical || horizontal;\n  }\n}\nfunction isMainOrientationKey(key, orientation) {\n  const vertical = key === ARROW_UP || key === ARROW_DOWN;\n  const horizontal = key === ARROW_LEFT || key === ARROW_RIGHT;\n  return doSwitch(orientation, vertical, horizontal);\n}\nfunction isMainOrientationToEndKey(key, orientation, rtl) {\n  const vertical = key === ARROW_DOWN;\n  const horizontal = rtl ? key === ARROW_LEFT : key === ARROW_RIGHT;\n  return doSwitch(orientation, vertical, horizontal) || key === 'Enter' || key === ' ' || key === '';\n}\nfunction isCrossOrientationOpenKey(key, orientation, rtl) {\n  const vertical = rtl ? key === ARROW_LEFT : key === ARROW_RIGHT;\n  const horizontal = key === ARROW_DOWN;\n  return doSwitch(orientation, vertical, horizontal);\n}\nfunction isCrossOrientationCloseKey(key, orientation, rtl) {\n  const vertical = rtl ? key === ARROW_RIGHT : key === ARROW_LEFT;\n  const horizontal = key === ARROW_UP;\n  return doSwitch(orientation, vertical, horizontal);\n}\n/**\n * Adds arrow key-based navigation of a list of items, either using real DOM\n * focus or virtual focus.\n * @see https://floating-ui.com/docs/useListNavigation\n */\nfunction useListNavigation(context, props) {\n  const {\n    open,\n    onOpenChange,\n    refs,\n    elements: {\n      domReference,\n      floating\n    }\n  } = context;\n  const {\n    listRef,\n    activeIndex,\n    onNavigate: unstable_onNavigate = () => {},\n    enabled = true,\n    selectedIndex = null,\n    allowEscape = false,\n    loop = false,\n    nested = false,\n    rtl = false,\n    virtual = false,\n    focusItemOnOpen = 'auto',\n    focusItemOnHover = true,\n    openOnArrowKeyDown = true,\n    disabledIndices = undefined,\n    orientation = 'vertical',\n    cols = 1,\n    scrollItemIntoView = true,\n    virtualItemRef,\n    itemSizes,\n    dense = false\n  } = props;\n  if (process.env.NODE_ENV !== \"production\") {\n    if (allowEscape) {\n      if (!loop) {\n        console.warn(['Floating UI: `useListNavigation` looping must be enabled to allow', 'escaping.'].join(' '));\n      }\n      if (!virtual) {\n        console.warn(['Floating UI: `useListNavigation` must be virtual to allow', 'escaping.'].join(' '));\n      }\n    }\n    if (orientation === 'vertical' && cols > 1) {\n      console.warn(['Floating UI: In grid list navigation mode (`cols` > 1), the', '`orientation` should be either \"horizontal\" or \"both\".'].join(' '));\n    }\n  }\n  const parentId = useFloatingParentNodeId();\n  const tree = useFloatingTree();\n  const onNavigate = useEffectEvent(unstable_onNavigate);\n  const focusItemOnOpenRef = React.useRef(focusItemOnOpen);\n  const indexRef = React.useRef(selectedIndex != null ? selectedIndex : -1);\n  const keyRef = React.useRef(null);\n  const isPointerModalityRef = React.useRef(true);\n  const previousOnNavigateRef = React.useRef(onNavigate);\n  const previousMountedRef = React.useRef(!!floating);\n  const forceSyncFocus = React.useRef(false);\n  const forceScrollIntoViewRef = React.useRef(false);\n  const disabledIndicesRef = useLatestRef(disabledIndices);\n  const latestOpenRef = useLatestRef(open);\n  const scrollItemIntoViewRef = useLatestRef(scrollItemIntoView);\n  const [activeId, setActiveId] = React.useState();\n  const [virtualId, setVirtualId] = React.useState();\n  const focusItem = useEffectEvent(function (listRef, indexRef, forceScrollIntoView) {\n    if (forceScrollIntoView === void 0) {\n      forceScrollIntoView = false;\n    }\n    const item = listRef.current[indexRef.current];\n    if (!item) return;\n    if (virtual) {\n      setActiveId(item.id);\n      tree == null || tree.events.emit('virtualfocus', item);\n      if (virtualItemRef) {\n        virtualItemRef.current = item;\n      }\n    } else {\n      enqueueFocus(item, {\n        preventScroll: true,\n        // Mac Safari does not move the virtual cursor unless the focus call\n        // is sync. However, for the very first focus call, we need to wait\n        // for the position to be ready in order to prevent unwanted\n        // scrolling. This means the virtual cursor will not move to the first\n        // item when first opening the floating element, but will on\n        // subsequent calls. `preventScroll` is supported in modern Safari,\n        // so we can use that instead.\n        // iOS Safari must be async or the first item will not be focused.\n        sync: isMac() && isSafari() ? isPreventScrollSupported || forceSyncFocus.current : false\n      });\n    }\n    requestAnimationFrame(() => {\n      const scrollIntoViewOptions = scrollItemIntoViewRef.current;\n      const shouldScrollIntoView = scrollIntoViewOptions && item && (forceScrollIntoView || !isPointerModalityRef.current);\n      if (shouldScrollIntoView) {\n        // JSDOM doesn't support `.scrollIntoView()` but it's widely supported\n        // by all browsers.\n        item.scrollIntoView == null || item.scrollIntoView(typeof scrollIntoViewOptions === 'boolean' ? {\n          block: 'nearest',\n          inline: 'nearest'\n        } : scrollIntoViewOptions);\n      }\n    });\n  });\n  index(() => {\n    document.createElement('div').focus({\n      get preventScroll() {\n        isPreventScrollSupported = true;\n        return false;\n      }\n    });\n  }, []);\n\n  // Sync `selectedIndex` to be the `activeIndex` upon opening the floating\n  // element. Also, reset `activeIndex` upon closing the floating element.\n  index(() => {\n    if (!enabled) {\n      return;\n    }\n    if (open && floating) {\n      if (focusItemOnOpenRef.current && selectedIndex != null) {\n        // Regardless of the pointer modality, we want to ensure the selected\n        // item comes into view when the floating element is opened.\n        forceScrollIntoViewRef.current = true;\n        indexRef.current = selectedIndex;\n        onNavigate(selectedIndex);\n      }\n    } else if (previousMountedRef.current) {\n      // Since the user can specify `onNavigate` conditionally\n      // (onNavigate: open ? setActiveIndex : setSelectedIndex),\n      // we store and call the previous function.\n      indexRef.current = -1;\n      previousOnNavigateRef.current(null);\n    }\n  }, [enabled, open, floating, selectedIndex, onNavigate]);\n\n  // Sync `activeIndex` to be the focused item while the floating element is\n  // open.\n  index(() => {\n    if (!enabled) {\n      return;\n    }\n    if (open && floating) {\n      if (activeIndex == null) {\n        forceSyncFocus.current = false;\n        if (selectedIndex != null) {\n          return;\n        }\n\n        // Reset while the floating element was open (e.g. the list changed).\n        if (previousMountedRef.current) {\n          indexRef.current = -1;\n          focusItem(listRef, indexRef);\n        }\n\n        // Initial sync.\n        if (!previousMountedRef.current && focusItemOnOpenRef.current && (keyRef.current != null || focusItemOnOpenRef.current === true && keyRef.current == null)) {\n          let runs = 0;\n          const waitForListPopulated = () => {\n            if (listRef.current[0] == null) {\n              // Avoid letting the browser paint if possible on the first try,\n              // otherwise use rAF. Don't try more than twice, since something\n              // is wrong otherwise.\n              if (runs < 2) {\n                const scheduler = runs ? requestAnimationFrame : queueMicrotask;\n                scheduler(waitForListPopulated);\n              }\n              runs++;\n            } else {\n              indexRef.current = keyRef.current == null || isMainOrientationToEndKey(keyRef.current, orientation, rtl) || nested ? getMinIndex(listRef, disabledIndicesRef.current) : getMaxIndex(listRef, disabledIndicesRef.current);\n              keyRef.current = null;\n              onNavigate(indexRef.current);\n            }\n          };\n          waitForListPopulated();\n        }\n      } else if (!isIndexOutOfBounds(listRef, activeIndex)) {\n        indexRef.current = activeIndex;\n        focusItem(listRef, indexRef, forceScrollIntoViewRef.current);\n        forceScrollIntoViewRef.current = false;\n      }\n    }\n  }, [enabled, open, floating, activeIndex, selectedIndex, nested, listRef, orientation, rtl, onNavigate, focusItem, disabledIndicesRef]);\n\n  // Ensure the parent floating element has focus when a nested child closes\n  // to allow arrow key navigation to work after the pointer leaves the child.\n  index(() => {\n    var _nodes$find;\n    if (!enabled || floating || !tree || virtual || !previousMountedRef.current) {\n      return;\n    }\n    const nodes = tree.nodesRef.current;\n    const parent = (_nodes$find = nodes.find(node => node.id === parentId)) == null || (_nodes$find = _nodes$find.context) == null ? void 0 : _nodes$find.elements.floating;\n    const activeEl = activeElement(getDocument(floating));\n    const treeContainsActiveEl = nodes.some(node => node.context && contains(node.context.elements.floating, activeEl));\n    if (parent && !treeContainsActiveEl && isPointerModalityRef.current) {\n      parent.focus({\n        preventScroll: true\n      });\n    }\n  }, [enabled, floating, tree, parentId, virtual]);\n  index(() => {\n    if (!enabled || !tree || !virtual || parentId) return;\n    function handleVirtualFocus(item) {\n      setVirtualId(item.id);\n      if (virtualItemRef) {\n        virtualItemRef.current = item;\n      }\n    }\n    tree.events.on('virtualfocus', handleVirtualFocus);\n    return () => {\n      tree.events.off('virtualfocus', handleVirtualFocus);\n    };\n  }, [enabled, tree, virtual, parentId, virtualItemRef]);\n  index(() => {\n    previousOnNavigateRef.current = onNavigate;\n    previousMountedRef.current = !!floating;\n  });\n  index(() => {\n    if (!open) {\n      keyRef.current = null;\n    }\n  }, [open]);\n  const hasActiveIndex = activeIndex != null;\n  const item = React.useMemo(() => {\n    function syncCurrentTarget(currentTarget) {\n      if (!open) return;\n      const index = listRef.current.indexOf(currentTarget);\n      if (index !== -1) {\n        onNavigate(index);\n      }\n    }\n    const props = {\n      onFocus(_ref) {\n        let {\n          currentTarget\n        } = _ref;\n        syncCurrentTarget(currentTarget);\n      },\n      onClick: _ref2 => {\n        let {\n          currentTarget\n        } = _ref2;\n        return currentTarget.focus({\n          preventScroll: true\n        });\n      },\n      // Safari\n      ...(focusItemOnHover && {\n        onMouseMove(_ref3) {\n          let {\n            currentTarget\n          } = _ref3;\n          syncCurrentTarget(currentTarget);\n        },\n        onPointerLeave(_ref4) {\n          let {\n            pointerType\n          } = _ref4;\n          if (!isPointerModalityRef.current || pointerType === 'touch') {\n            return;\n          }\n          indexRef.current = -1;\n          focusItem(listRef, indexRef);\n          onNavigate(null);\n          if (!virtual) {\n            enqueueFocus(refs.floating.current, {\n              preventScroll: true\n            });\n          }\n        }\n      })\n    };\n    return props;\n  }, [open, refs, focusItem, focusItemOnHover, listRef, onNavigate, virtual]);\n  return React.useMemo(() => {\n    if (!enabled) {\n      return {};\n    }\n    const disabledIndices = disabledIndicesRef.current;\n    function onKeyDown(event) {\n      isPointerModalityRef.current = false;\n      forceSyncFocus.current = true;\n\n      // If the floating element is animating out, ignore navigation. Otherwise,\n      // the `activeIndex` gets set to 0 despite not being open so the next time\n      // the user ArrowDowns, the first item won't be focused.\n      if (!latestOpenRef.current && event.currentTarget === refs.floating.current) {\n        return;\n      }\n      if (nested && isCrossOrientationCloseKey(event.key, orientation, rtl)) {\n        stopEvent(event);\n        onOpenChange(false, event.nativeEvent, 'list-navigation');\n        if (isHTMLElement(domReference) && !virtual) {\n          domReference.focus();\n        }\n        return;\n      }\n      const currentIndex = indexRef.current;\n      const minIndex = getMinIndex(listRef, disabledIndices);\n      const maxIndex = getMaxIndex(listRef, disabledIndices);\n      if (event.key === 'Home') {\n        stopEvent(event);\n        indexRef.current = minIndex;\n        onNavigate(indexRef.current);\n      }\n      if (event.key === 'End') {\n        stopEvent(event);\n        indexRef.current = maxIndex;\n        onNavigate(indexRef.current);\n      }\n\n      // Grid navigation.\n      if (cols > 1) {\n        const sizes = itemSizes || Array.from({\n          length: listRef.current.length\n        }, () => ({\n          width: 1,\n          height: 1\n        }));\n        // To calculate movements on the grid, we use hypothetical cell indices\n        // as if every item was 1x1, then convert back to real indices.\n        const cellMap = buildCellMap(sizes, cols, dense);\n        const minGridIndex = cellMap.findIndex(index => index != null && !(disabledIndices != null && disabledIndices.includes(index)));\n        // last enabled index\n        const maxGridIndex = cellMap.reduce((foundIndex, index, cellIndex) => index != null && !(disabledIndices != null && disabledIndices.includes(index)) ? cellIndex : foundIndex, -1);\n        indexRef.current = cellMap[getGridNavigatedIndex({\n          current: cellMap.map(itemIndex => itemIndex != null ? listRef.current[itemIndex] : null)\n        }, {\n          event,\n          orientation,\n          loop,\n          cols,\n          // treat undefined (empty grid spaces) as disabled indices so we\n          // don't end up in them\n          disabledIndices: getCellIndices([...(disabledIndices || []), undefined], cellMap),\n          minIndex: minGridIndex,\n          maxIndex: maxGridIndex,\n          prevIndex: getCellIndexOfCorner(indexRef.current, sizes, cellMap, cols,\n          // use a corner matching the edge closest to the direction\n          // we're moving in so we don't end up in the same item. Prefer\n          // top/left over bottom/right.\n          event.key === ARROW_DOWN ? 'bl' : event.key === ARROW_RIGHT ? 'tr' : 'tl'),\n          stopEvent: true\n        })]; // navigated cell will never be nullish\n\n        onNavigate(indexRef.current);\n        if (orientation === 'both') {\n          return;\n        }\n      }\n      if (isMainOrientationKey(event.key, orientation)) {\n        stopEvent(event);\n\n        // Reset the index if no item is focused.\n        if (open && !virtual && activeElement(event.currentTarget.ownerDocument) === event.currentTarget) {\n          indexRef.current = isMainOrientationToEndKey(event.key, orientation, rtl) ? minIndex : maxIndex;\n          onNavigate(indexRef.current);\n          return;\n        }\n        if (isMainOrientationToEndKey(event.key, orientation, rtl)) {\n          if (loop) {\n            indexRef.current = currentIndex >= maxIndex ? allowEscape && currentIndex !== listRef.current.length ? -1 : minIndex : findNonDisabledIndex(listRef, {\n              startingIndex: currentIndex,\n              disabledIndices\n            });\n          } else {\n            indexRef.current = Math.min(maxIndex, findNonDisabledIndex(listRef, {\n              startingIndex: currentIndex,\n              disabledIndices\n            }));\n          }\n        } else {\n          if (loop) {\n            indexRef.current = currentIndex <= minIndex ? allowEscape && currentIndex !== -1 ? listRef.current.length : maxIndex : findNonDisabledIndex(listRef, {\n              startingIndex: currentIndex,\n              decrement: true,\n              disabledIndices\n            });\n          } else {\n            indexRef.current = Math.max(minIndex, findNonDisabledIndex(listRef, {\n              startingIndex: currentIndex,\n              decrement: true,\n              disabledIndices\n            }));\n          }\n        }\n        if (isIndexOutOfBounds(listRef, indexRef.current)) {\n          onNavigate(null);\n        } else {\n          onNavigate(indexRef.current);\n        }\n      }\n    }\n    function checkVirtualMouse(event) {\n      if (focusItemOnOpen === 'auto' && isVirtualClick(event.nativeEvent)) {\n        focusItemOnOpenRef.current = true;\n      }\n    }\n    function checkVirtualPointer(event) {\n      // `pointerdown` fires first, reset the state then perform the checks.\n      focusItemOnOpenRef.current = focusItemOnOpen;\n      if (focusItemOnOpen === 'auto' && isVirtualPointerEvent(event.nativeEvent)) {\n        focusItemOnOpenRef.current = true;\n      }\n    }\n    const ariaActiveDescendantProp = virtual && open && hasActiveIndex && {\n      'aria-activedescendant': virtualId || activeId\n    };\n    const activeItem = listRef.current.find(item => (item == null ? void 0 : item.id) === activeId);\n    return {\n      reference: {\n        ...ariaActiveDescendantProp,\n        onKeyDown(event) {\n          isPointerModalityRef.current = false;\n          const isArrowKey = event.key.indexOf('Arrow') === 0;\n          const isCrossOpenKey = isCrossOrientationOpenKey(event.key, orientation, rtl);\n          const isCrossCloseKey = isCrossOrientationCloseKey(event.key, orientation, rtl);\n          const isMainKey = isMainOrientationKey(event.key, orientation);\n          const isNavigationKey = (nested ? isCrossOpenKey : isMainKey) || event.key === 'Enter' || event.key.trim() === '';\n          if (virtual && open) {\n            const rootNode = tree == null ? void 0 : tree.nodesRef.current.find(node => node.parentId == null);\n            const deepestNode = tree && rootNode ? getDeepestNode(tree.nodesRef.current, rootNode.id) : null;\n            if (isArrowKey && deepestNode && virtualItemRef) {\n              const eventObject = new KeyboardEvent('keydown', {\n                key: event.key,\n                bubbles: true\n              });\n              if (isCrossOpenKey || isCrossCloseKey) {\n                var _deepestNode$context, _deepestNode$context2;\n                const isCurrentTarget = ((_deepestNode$context = deepestNode.context) == null ? void 0 : _deepestNode$context.elements.domReference) === event.currentTarget;\n                const dispatchItem = isCrossCloseKey && !isCurrentTarget ? (_deepestNode$context2 = deepestNode.context) == null ? void 0 : _deepestNode$context2.elements.domReference : isCrossOpenKey ? activeItem : null;\n                if (dispatchItem) {\n                  stopEvent(event);\n                  dispatchItem.dispatchEvent(eventObject);\n                  setVirtualId(undefined);\n                }\n              }\n              if (isMainKey && deepestNode.context) {\n                if (deepestNode.context.open && deepestNode.parentId && event.currentTarget !== deepestNode.context.elements.domReference) {\n                  var _deepestNode$context$;\n                  stopEvent(event);\n                  (_deepestNode$context$ = deepestNode.context.elements.domReference) == null || _deepestNode$context$.dispatchEvent(eventObject);\n                  return;\n                }\n              }\n            }\n            return onKeyDown(event);\n          }\n\n          // If a floating element should not open on arrow key down, avoid\n          // setting `activeIndex` while it's closed.\n          if (!open && !openOnArrowKeyDown && isArrowKey) {\n            return;\n          }\n          if (isNavigationKey) {\n            keyRef.current = nested && isMainKey ? null : event.key;\n          }\n          if (nested) {\n            if (isCrossOpenKey) {\n              stopEvent(event);\n              if (open) {\n                indexRef.current = getMinIndex(listRef, disabledIndices);\n                onNavigate(indexRef.current);\n              } else {\n                onOpenChange(true, event.nativeEvent, 'list-navigation');\n              }\n            }\n            return;\n          }\n          if (isMainKey) {\n            if (selectedIndex != null) {\n              indexRef.current = selectedIndex;\n            }\n            stopEvent(event);\n            if (!open && openOnArrowKeyDown) {\n              onOpenChange(true, event.nativeEvent, 'list-navigation');\n            } else {\n              onKeyDown(event);\n            }\n            if (open) {\n              onNavigate(indexRef.current);\n            }\n          }\n        },\n        onFocus() {\n          if (open) {\n            onNavigate(null);\n          }\n        },\n        onPointerDown: checkVirtualPointer,\n        onMouseDown: checkVirtualMouse,\n        onClick: checkVirtualMouse\n      },\n      floating: {\n        'aria-orientation': orientation === 'both' ? undefined : orientation,\n        ...(!isTypeableCombobox(domReference) && ariaActiveDescendantProp),\n        onKeyDown,\n        onPointerMove() {\n          isPointerModalityRef.current = true;\n        }\n      },\n      item\n    };\n  }, [domReference, refs, activeId, virtualId, disabledIndicesRef, latestOpenRef, listRef, enabled, orientation, rtl, virtual, open, hasActiveIndex, nested, selectedIndex, openOnArrowKeyDown, allowEscape, cols, loop, focusItemOnOpen, onNavigate, onOpenChange, item, tree, virtualItemRef, itemSizes, dense]);\n}\n\nconst componentRoleToAriaRoleMap = /*#__PURE__*/new Map([['select', 'listbox'], ['combobox', 'listbox'], ['label', false]]);\n\n/**\n * Adds base screen reader props to the reference and floating elements for a\n * given floating element `role`.\n * @see https://floating-ui.com/docs/useRole\n */\nfunction useRole(context, props) {\n  var _componentRoleToAriaR;\n  if (props === void 0) {\n    props = {};\n  }\n  const {\n    open,\n    floatingId\n  } = context;\n  const {\n    enabled = true,\n    role = 'dialog'\n  } = props;\n  const ariaRole = (_componentRoleToAriaR = componentRoleToAriaRoleMap.get(role)) != null ? _componentRoleToAriaR : role;\n  const referenceId = useId();\n  const parentId = useFloatingParentNodeId();\n  const isNested = parentId != null;\n  return React.useMemo(() => {\n    if (!enabled) return {};\n    const floatingProps = {\n      id: floatingId,\n      ...(ariaRole && {\n        role: ariaRole\n      })\n    };\n    if (ariaRole === 'tooltip' || role === 'label') {\n      return {\n        reference: {\n          [\"aria-\" + (role === 'label' ? 'labelledby' : 'describedby')]: open ? floatingId : undefined\n        },\n        floating: floatingProps\n      };\n    }\n    return {\n      reference: {\n        'aria-expanded': open ? 'true' : 'false',\n        'aria-haspopup': ariaRole === 'alertdialog' ? 'dialog' : ariaRole,\n        'aria-controls': open ? floatingId : undefined,\n        ...(ariaRole === 'listbox' && {\n          role: 'combobox'\n        }),\n        ...(ariaRole === 'menu' && {\n          id: referenceId\n        }),\n        ...(ariaRole === 'menu' && isNested && {\n          role: 'menuitem'\n        }),\n        ...(role === 'select' && {\n          'aria-autocomplete': 'none'\n        }),\n        ...(role === 'combobox' && {\n          'aria-autocomplete': 'list'\n        })\n      },\n      floating: {\n        ...floatingProps,\n        ...(ariaRole === 'menu' && {\n          'aria-labelledby': referenceId\n        })\n      },\n      item(_ref) {\n        let {\n          active,\n          selected\n        } = _ref;\n        const commonProps = {\n          role: 'option',\n          ...(active && {\n            id: floatingId + \"-option\"\n          })\n        };\n\n        // For `menu`, we are unable to tell if the item is a `menuitemradio`\n        // or `menuitemcheckbox`. For backwards-compatibility reasons, also\n        // avoid defaulting to `menuitem` as it may overwrite custom role props.\n        switch (role) {\n          case 'select':\n            return {\n              ...commonProps,\n              'aria-selected': active && selected\n            };\n          case 'combobox':\n            {\n              return {\n                ...commonProps,\n                ...(active && {\n                  'aria-selected': true\n                })\n              };\n            }\n        }\n        return {};\n      }\n    };\n  }, [enabled, role, ariaRole, open, floatingId, referenceId, isNested]);\n}\n\n// Converts a JS style key like `backgroundColor` to a CSS transition-property\n// like `background-color`.\nconst camelCaseToKebabCase = str => str.replace(/[A-Z]+(?![a-z])|[A-Z]/g, ($, ofs) => (ofs ? '-' : '') + $.toLowerCase());\nfunction execWithArgsOrReturn(valueOrFn, args) {\n  return typeof valueOrFn === 'function' ? valueOrFn(args) : valueOrFn;\n}\nfunction useDelayUnmount(open, durationMs) {\n  const [isMounted, setIsMounted] = React.useState(open);\n  if (open && !isMounted) {\n    setIsMounted(true);\n  }\n  React.useEffect(() => {\n    if (!open) {\n      const timeout = setTimeout(() => setIsMounted(false), durationMs);\n      return () => clearTimeout(timeout);\n    }\n  }, [open, durationMs]);\n  return isMounted;\n}\n/**\n * Provides a status string to apply CSS transitions to a floating element,\n * correctly handling placement-aware transitions.\n * @see https://floating-ui.com/docs/useTransition#usetransitionstatus\n */\nfunction useTransitionStatus(context, props) {\n  if (props === void 0) {\n    props = {};\n  }\n  const {\n    open,\n    elements: {\n      floating\n    }\n  } = context;\n  const {\n    duration = 250\n  } = props;\n  const isNumberDuration = typeof duration === 'number';\n  const closeDuration = (isNumberDuration ? duration : duration.close) || 0;\n  const [initiated, setInitiated] = React.useState(false);\n  const [status, setStatus] = React.useState('unmounted');\n  const isMounted = useDelayUnmount(open, closeDuration);\n\n  // `initiated` check prevents this `setState` call from breaking\n  // <FloatingPortal />. This call is necessary to ensure subsequent opens\n  // after the initial one allows the correct side animation to play when the\n  // placement has changed.\n  index(() => {\n    if (initiated && !isMounted) {\n      setStatus('unmounted');\n    }\n  }, [initiated, isMounted]);\n  index(() => {\n    if (!floating) return;\n    if (open) {\n      setStatus('initial');\n      const frame = requestAnimationFrame(() => {\n        setStatus('open');\n      });\n      return () => {\n        cancelAnimationFrame(frame);\n      };\n    }\n    setInitiated(true);\n    setStatus('close');\n  }, [open, floating]);\n  return {\n    isMounted,\n    status\n  };\n}\n/**\n * Provides styles to apply CSS transitions to a floating element, correctly\n * handling placement-aware transitions. Wrapper around `useTransitionStatus`.\n * @see https://floating-ui.com/docs/useTransition#usetransitionstyles\n */\nfunction useTransitionStyles(context, props) {\n  if (props === void 0) {\n    props = {};\n  }\n  const {\n    initial: unstable_initial = {\n      opacity: 0\n    },\n    open: unstable_open,\n    close: unstable_close,\n    common: unstable_common,\n    duration = 250\n  } = props;\n  const placement = context.placement;\n  const side = placement.split('-')[0];\n  const fnArgs = React.useMemo(() => ({\n    side,\n    placement\n  }), [side, placement]);\n  const isNumberDuration = typeof duration === 'number';\n  const openDuration = (isNumberDuration ? duration : duration.open) || 0;\n  const closeDuration = (isNumberDuration ? duration : duration.close) || 0;\n  const [styles, setStyles] = React.useState(() => ({\n    ...execWithArgsOrReturn(unstable_common, fnArgs),\n    ...execWithArgsOrReturn(unstable_initial, fnArgs)\n  }));\n  const {\n    isMounted,\n    status\n  } = useTransitionStatus(context, {\n    duration\n  });\n  const initialRef = useLatestRef(unstable_initial);\n  const openRef = useLatestRef(unstable_open);\n  const closeRef = useLatestRef(unstable_close);\n  const commonRef = useLatestRef(unstable_common);\n  index(() => {\n    const initialStyles = execWithArgsOrReturn(initialRef.current, fnArgs);\n    const closeStyles = execWithArgsOrReturn(closeRef.current, fnArgs);\n    const commonStyles = execWithArgsOrReturn(commonRef.current, fnArgs);\n    const openStyles = execWithArgsOrReturn(openRef.current, fnArgs) || Object.keys(initialStyles).reduce((acc, key) => {\n      acc[key] = '';\n      return acc;\n    }, {});\n    if (status === 'initial') {\n      setStyles(styles => ({\n        transitionProperty: styles.transitionProperty,\n        ...commonStyles,\n        ...initialStyles\n      }));\n    }\n    if (status === 'open') {\n      setStyles({\n        transitionProperty: Object.keys(openStyles).map(camelCaseToKebabCase).join(','),\n        transitionDuration: openDuration + \"ms\",\n        ...commonStyles,\n        ...openStyles\n      });\n    }\n    if (status === 'close') {\n      const styles = closeStyles || initialStyles;\n      setStyles({\n        transitionProperty: Object.keys(styles).map(camelCaseToKebabCase).join(','),\n        transitionDuration: closeDuration + \"ms\",\n        ...commonStyles,\n        ...styles\n      });\n    }\n  }, [closeDuration, closeRef, initialRef, openRef, commonRef, openDuration, status, fnArgs]);\n  return {\n    isMounted,\n    styles\n  };\n}\n\n/**\n * Provides a matching callback that can be used to focus an item as the user\n * types, often used in tandem with `useListNavigation()`.\n * @see https://floating-ui.com/docs/useTypeahead\n */\nfunction useTypeahead(context, props) {\n  var _ref;\n  const {\n    open,\n    dataRef\n  } = context;\n  const {\n    listRef,\n    activeIndex,\n    onMatch: unstable_onMatch,\n    onTypingChange: unstable_onTypingChange,\n    enabled = true,\n    findMatch = null,\n    resetMs = 750,\n    ignoreKeys = [],\n    selectedIndex = null\n  } = props;\n  const timeoutIdRef = React.useRef();\n  const stringRef = React.useRef('');\n  const prevIndexRef = React.useRef((_ref = selectedIndex != null ? selectedIndex : activeIndex) != null ? _ref : -1);\n  const matchIndexRef = React.useRef(null);\n  const onMatch = useEffectEvent(unstable_onMatch);\n  const onTypingChange = useEffectEvent(unstable_onTypingChange);\n  const findMatchRef = useLatestRef(findMatch);\n  const ignoreKeysRef = useLatestRef(ignoreKeys);\n  index(() => {\n    if (open) {\n      clearTimeout(timeoutIdRef.current);\n      matchIndexRef.current = null;\n      stringRef.current = '';\n    }\n  }, [open]);\n  index(() => {\n    // Sync arrow key navigation but not typeahead navigation.\n    if (open && stringRef.current === '') {\n      var _ref2;\n      prevIndexRef.current = (_ref2 = selectedIndex != null ? selectedIndex : activeIndex) != null ? _ref2 : -1;\n    }\n  }, [open, selectedIndex, activeIndex]);\n  return React.useMemo(() => {\n    if (!enabled) {\n      return {};\n    }\n    function setTypingChange(value) {\n      if (value) {\n        if (!dataRef.current.typing) {\n          dataRef.current.typing = value;\n          onTypingChange(value);\n        }\n      } else {\n        if (dataRef.current.typing) {\n          dataRef.current.typing = value;\n          onTypingChange(value);\n        }\n      }\n    }\n    function getMatchingIndex(list, orderedList, string) {\n      const str = findMatchRef.current ? findMatchRef.current(orderedList, string) : orderedList.find(text => (text == null ? void 0 : text.toLocaleLowerCase().indexOf(string.toLocaleLowerCase())) === 0);\n      return str ? list.indexOf(str) : -1;\n    }\n    function onKeyDown(event) {\n      const listContent = listRef.current;\n      if (stringRef.current.length > 0 && stringRef.current[0] !== ' ') {\n        if (getMatchingIndex(listContent, listContent, stringRef.current) === -1) {\n          setTypingChange(false);\n        } else if (event.key === ' ') {\n          stopEvent(event);\n        }\n      }\n      if (listContent == null || ignoreKeysRef.current.includes(event.key) ||\n      // Character key.\n      event.key.length !== 1 ||\n      // Modifier key.\n      event.ctrlKey || event.metaKey || event.altKey) {\n        return;\n      }\n      if (open && event.key !== ' ') {\n        stopEvent(event);\n        setTypingChange(true);\n      }\n\n      // Bail out if the list contains a word like \"llama\" or \"aaron\". TODO:\n      // allow it in this case, too.\n      const allowRapidSuccessionOfFirstLetter = listContent.every(text => {\n        var _text$, _text$2;\n        return text ? ((_text$ = text[0]) == null ? void 0 : _text$.toLocaleLowerCase()) !== ((_text$2 = text[1]) == null ? void 0 : _text$2.toLocaleLowerCase()) : true;\n      });\n\n      // Allows the user to cycle through items that start with the same letter\n      // in rapid succession.\n      if (allowRapidSuccessionOfFirstLetter && stringRef.current === event.key) {\n        stringRef.current = '';\n        prevIndexRef.current = matchIndexRef.current;\n      }\n      stringRef.current += event.key;\n      clearTimeout(timeoutIdRef.current);\n      timeoutIdRef.current = setTimeout(() => {\n        stringRef.current = '';\n        prevIndexRef.current = matchIndexRef.current;\n        setTypingChange(false);\n      }, resetMs);\n      const prevIndex = prevIndexRef.current;\n      const index = getMatchingIndex(listContent, [...listContent.slice((prevIndex || 0) + 1), ...listContent.slice(0, (prevIndex || 0) + 1)], stringRef.current);\n      if (index !== -1) {\n        onMatch(index);\n        matchIndexRef.current = index;\n      } else if (event.key !== ' ') {\n        stringRef.current = '';\n        setTypingChange(false);\n      }\n    }\n    return {\n      reference: {\n        onKeyDown\n      },\n      floating: {\n        onKeyDown,\n        onKeyUp(event) {\n          if (event.key === ' ') {\n            setTypingChange(false);\n          }\n        }\n      }\n    };\n  }, [enabled, open, dataRef, listRef, resetMs, ignoreKeysRef, findMatchRef, onMatch, onTypingChange]);\n}\n\nfunction getArgsWithCustomFloatingHeight(state, height) {\n  return {\n    ...state,\n    rects: {\n      ...state.rects,\n      floating: {\n        ...state.rects.floating,\n        height\n      }\n    }\n  };\n}\n/**\n * Positions the floating element such that an inner element inside\n * of it is anchored to the reference element.\n * @see https://floating-ui.com/docs/inner\n */\nconst inner = props => ({\n  name: 'inner',\n  options: props,\n  async fn(state) {\n    const {\n      listRef,\n      overflowRef,\n      onFallbackChange,\n      offset: innerOffset = 0,\n      index = 0,\n      minItemsVisible = 4,\n      referenceOverflowThreshold = 0,\n      scrollRef,\n      ...detectOverflowOptions\n    } = props;\n    const {\n      rects,\n      elements: {\n        floating\n      }\n    } = state;\n    const item = listRef.current[index];\n    if (process.env.NODE_ENV !== \"production\") {\n      if (!state.placement.startsWith('bottom')) {\n        console.warn(['Floating UI: `placement` side must be \"bottom\" when using the', '`inner` middleware.'].join(' '));\n      }\n    }\n    if (!item) {\n      return {};\n    }\n    const nextArgs = {\n      ...state,\n      ...(await offset(-item.offsetTop - floating.clientTop - rects.reference.height / 2 - item.offsetHeight / 2 - innerOffset).fn(state))\n    };\n    const el = (scrollRef == null ? void 0 : scrollRef.current) || floating;\n    const overflow = await detectOverflow(getArgsWithCustomFloatingHeight(nextArgs, el.scrollHeight), detectOverflowOptions);\n    const refOverflow = await detectOverflow(nextArgs, {\n      ...detectOverflowOptions,\n      elementContext: 'reference'\n    });\n    const diffY = Math.max(0, overflow.top);\n    const nextY = nextArgs.y + diffY;\n    const maxHeight = Math.max(0, el.scrollHeight - diffY - Math.max(0, overflow.bottom));\n    el.style.maxHeight = maxHeight + \"px\";\n    el.scrollTop = diffY;\n\n    // There is not enough space, fallback to standard anchored positioning\n    if (onFallbackChange) {\n      if (el.offsetHeight < item.offsetHeight * Math.min(minItemsVisible, listRef.current.length - 1) - 1 || refOverflow.top >= -referenceOverflowThreshold || refOverflow.bottom >= -referenceOverflowThreshold) {\n        flushSync(() => onFallbackChange(true));\n      } else {\n        flushSync(() => onFallbackChange(false));\n      }\n    }\n    if (overflowRef) {\n      overflowRef.current = await detectOverflow(getArgsWithCustomFloatingHeight({\n        ...nextArgs,\n        y: nextY\n      }, el.offsetHeight), detectOverflowOptions);\n    }\n    return {\n      y: nextY\n    };\n  }\n});\n/**\n * Changes the `inner` middleware's `offset` upon a `wheel` event to\n * expand the floating element's height, revealing more list items.\n * @see https://floating-ui.com/docs/inner\n */\nfunction useInnerOffset(context, props) {\n  const {\n    open,\n    elements\n  } = context;\n  const {\n    enabled = true,\n    overflowRef,\n    scrollRef,\n    onChange: unstable_onChange\n  } = props;\n  const onChange = useEffectEvent(unstable_onChange);\n  const controlledScrollingRef = React.useRef(false);\n  const prevScrollTopRef = React.useRef(null);\n  const initialOverflowRef = React.useRef(null);\n  React.useEffect(() => {\n    if (!enabled) {\n      return;\n    }\n    function onWheel(e) {\n      if (e.ctrlKey || !el || overflowRef.current == null) {\n        return;\n      }\n      const dY = e.deltaY;\n      const isAtTop = overflowRef.current.top >= -0.5;\n      const isAtBottom = overflowRef.current.bottom >= -0.5;\n      const remainingScroll = el.scrollHeight - el.clientHeight;\n      const sign = dY < 0 ? -1 : 1;\n      const method = dY < 0 ? 'max' : 'min';\n      if (el.scrollHeight <= el.clientHeight) {\n        return;\n      }\n      if (!isAtTop && dY > 0 || !isAtBottom && dY < 0) {\n        e.preventDefault();\n        flushSync(() => {\n          onChange(d => d + Math[method](dY, remainingScroll * sign));\n        });\n      } else if (/firefox/i.test(getUserAgent())) {\n        // Needed to propagate scrolling during momentum scrolling phase once\n        // it gets limited by the boundary. UX improvement, not critical.\n        el.scrollTop += dY;\n      }\n    }\n    const el = (scrollRef == null ? void 0 : scrollRef.current) || elements.floating;\n    if (open && el) {\n      el.addEventListener('wheel', onWheel);\n\n      // Wait for the position to be ready.\n      requestAnimationFrame(() => {\n        prevScrollTopRef.current = el.scrollTop;\n        if (overflowRef.current != null) {\n          initialOverflowRef.current = {\n            ...overflowRef.current\n          };\n        }\n      });\n      return () => {\n        prevScrollTopRef.current = null;\n        initialOverflowRef.current = null;\n        el.removeEventListener('wheel', onWheel);\n      };\n    }\n  }, [enabled, open, elements.floating, overflowRef, scrollRef, onChange]);\n  return React.useMemo(() => {\n    if (!enabled) {\n      return {};\n    }\n    return {\n      floating: {\n        onKeyDown() {\n          controlledScrollingRef.current = true;\n        },\n        onWheel() {\n          controlledScrollingRef.current = false;\n        },\n        onPointerMove() {\n          controlledScrollingRef.current = false;\n        },\n        onScroll() {\n          const el = (scrollRef == null ? void 0 : scrollRef.current) || elements.floating;\n          if (!overflowRef.current || !el || !controlledScrollingRef.current) {\n            return;\n          }\n          if (prevScrollTopRef.current !== null) {\n            const scrollDiff = el.scrollTop - prevScrollTopRef.current;\n            if (overflowRef.current.bottom < -0.5 && scrollDiff < -1 || overflowRef.current.top < -0.5 && scrollDiff > 1) {\n              flushSync(() => onChange(d => d + scrollDiff));\n            }\n          }\n\n          // [Firefox] Wait for the height change to have been applied.\n          requestAnimationFrame(() => {\n            prevScrollTopRef.current = el.scrollTop;\n          });\n        }\n      }\n    };\n  }, [enabled, overflowRef, elements.floating, scrollRef, onChange]);\n}\n\nfunction isPointInPolygon(point, polygon) {\n  const [x, y] = point;\n  let isInside = false;\n  const length = polygon.length;\n  for (let i = 0, j = length - 1; i < length; j = i++) {\n    const [xi, yi] = polygon[i] || [0, 0];\n    const [xj, yj] = polygon[j] || [0, 0];\n    const intersect = yi >= y !== yj >= y && x <= (xj - xi) * (y - yi) / (yj - yi) + xi;\n    if (intersect) {\n      isInside = !isInside;\n    }\n  }\n  return isInside;\n}\nfunction isInside(point, rect) {\n  return point[0] >= rect.x && point[0] <= rect.x + rect.width && point[1] >= rect.y && point[1] <= rect.y + rect.height;\n}\n/**\n * Generates a safe polygon area that the user can traverse without closing the\n * floating element once leaving the reference element.\n * @see https://floating-ui.com/docs/useHover#safepolygon\n */\nfunction safePolygon(options) {\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    buffer = 0.5,\n    blockPointerEvents = false,\n    requireIntent = true\n  } = options;\n  let timeoutId;\n  let hasLanded = false;\n  let lastX = null;\n  let lastY = null;\n  let lastCursorTime = performance.now();\n  function getCursorSpeed(x, y) {\n    const currentTime = performance.now();\n    const elapsedTime = currentTime - lastCursorTime;\n    if (lastX === null || lastY === null || elapsedTime === 0) {\n      lastX = x;\n      lastY = y;\n      lastCursorTime = currentTime;\n      return null;\n    }\n    const deltaX = x - lastX;\n    const deltaY = y - lastY;\n    const distance = Math.sqrt(deltaX * deltaX + deltaY * deltaY);\n    const speed = distance / elapsedTime; // px / ms\n\n    lastX = x;\n    lastY = y;\n    lastCursorTime = currentTime;\n    return speed;\n  }\n  const fn = _ref => {\n    let {\n      x,\n      y,\n      placement,\n      elements,\n      onClose,\n      nodeId,\n      tree\n    } = _ref;\n    return function onMouseMove(event) {\n      function close() {\n        clearTimeout(timeoutId);\n        onClose();\n      }\n      clearTimeout(timeoutId);\n      if (!elements.domReference || !elements.floating || placement == null || x == null || y == null) {\n        return;\n      }\n      const {\n        clientX,\n        clientY\n      } = event;\n      const clientPoint = [clientX, clientY];\n      const target = getTarget(event);\n      const isLeave = event.type === 'mouseleave';\n      const isOverFloatingEl = contains(elements.floating, target);\n      const isOverReferenceEl = contains(elements.domReference, target);\n      const refRect = elements.domReference.getBoundingClientRect();\n      const rect = elements.floating.getBoundingClientRect();\n      const side = placement.split('-')[0];\n      const cursorLeaveFromRight = x > rect.right - rect.width / 2;\n      const cursorLeaveFromBottom = y > rect.bottom - rect.height / 2;\n      const isOverReferenceRect = isInside(clientPoint, refRect);\n      const isFloatingWider = rect.width > refRect.width;\n      const isFloatingTaller = rect.height > refRect.height;\n      const left = (isFloatingWider ? refRect : rect).left;\n      const right = (isFloatingWider ? refRect : rect).right;\n      const top = (isFloatingTaller ? refRect : rect).top;\n      const bottom = (isFloatingTaller ? refRect : rect).bottom;\n      if (isOverFloatingEl) {\n        hasLanded = true;\n        if (!isLeave) {\n          return;\n        }\n      }\n      if (isOverReferenceEl) {\n        hasLanded = false;\n      }\n      if (isOverReferenceEl && !isLeave) {\n        hasLanded = true;\n        return;\n      }\n\n      // Prevent overlapping floating element from being stuck in an open-close\n      // loop: https://github.com/floating-ui/floating-ui/issues/1910\n      if (isLeave && isElement(event.relatedTarget) && contains(elements.floating, event.relatedTarget)) {\n        return;\n      }\n\n      // If any nested child is open, abort.\n      if (tree && getChildren(tree.nodesRef.current, nodeId).some(_ref2 => {\n        let {\n          context\n        } = _ref2;\n        return context == null ? void 0 : context.open;\n      })) {\n        return;\n      }\n\n      // If the pointer is leaving from the opposite side, the \"buffer\" logic\n      // creates a point where the floating element remains open, but should be\n      // ignored.\n      // A constant of 1 handles floating point rounding errors.\n      if (side === 'top' && y >= refRect.bottom - 1 || side === 'bottom' && y <= refRect.top + 1 || side === 'left' && x >= refRect.right - 1 || side === 'right' && x <= refRect.left + 1) {\n        return close();\n      }\n\n      // Ignore when the cursor is within the rectangular trough between the\n      // two elements. Since the triangle is created from the cursor point,\n      // which can start beyond the ref element's edge, traversing back and\n      // forth from the ref to the floating element can cause it to close. This\n      // ensures it always remains open in that case.\n      let rectPoly = [];\n      switch (side) {\n        case 'top':\n          rectPoly = [[left, refRect.top + 1], [left, rect.bottom - 1], [right, rect.bottom - 1], [right, refRect.top + 1]];\n          break;\n        case 'bottom':\n          rectPoly = [[left, rect.top + 1], [left, refRect.bottom - 1], [right, refRect.bottom - 1], [right, rect.top + 1]];\n          break;\n        case 'left':\n          rectPoly = [[rect.right - 1, bottom], [rect.right - 1, top], [refRect.left + 1, top], [refRect.left + 1, bottom]];\n          break;\n        case 'right':\n          rectPoly = [[refRect.right - 1, bottom], [refRect.right - 1, top], [rect.left + 1, top], [rect.left + 1, bottom]];\n          break;\n      }\n      function getPolygon(_ref3) {\n        let [x, y] = _ref3;\n        switch (side) {\n          case 'top':\n            {\n              const cursorPointOne = [isFloatingWider ? x + buffer / 2 : cursorLeaveFromRight ? x + buffer * 4 : x - buffer * 4, y + buffer + 1];\n              const cursorPointTwo = [isFloatingWider ? x - buffer / 2 : cursorLeaveFromRight ? x + buffer * 4 : x - buffer * 4, y + buffer + 1];\n              const commonPoints = [[rect.left, cursorLeaveFromRight ? rect.bottom - buffer : isFloatingWider ? rect.bottom - buffer : rect.top], [rect.right, cursorLeaveFromRight ? isFloatingWider ? rect.bottom - buffer : rect.top : rect.bottom - buffer]];\n              return [cursorPointOne, cursorPointTwo, ...commonPoints];\n            }\n          case 'bottom':\n            {\n              const cursorPointOne = [isFloatingWider ? x + buffer / 2 : cursorLeaveFromRight ? x + buffer * 4 : x - buffer * 4, y - buffer];\n              const cursorPointTwo = [isFloatingWider ? x - buffer / 2 : cursorLeaveFromRight ? x + buffer * 4 : x - buffer * 4, y - buffer];\n              const commonPoints = [[rect.left, cursorLeaveFromRight ? rect.top + buffer : isFloatingWider ? rect.top + buffer : rect.bottom], [rect.right, cursorLeaveFromRight ? isFloatingWider ? rect.top + buffer : rect.bottom : rect.top + buffer]];\n              return [cursorPointOne, cursorPointTwo, ...commonPoints];\n            }\n          case 'left':\n            {\n              const cursorPointOne = [x + buffer + 1, isFloatingTaller ? y + buffer / 2 : cursorLeaveFromBottom ? y + buffer * 4 : y - buffer * 4];\n              const cursorPointTwo = [x + buffer + 1, isFloatingTaller ? y - buffer / 2 : cursorLeaveFromBottom ? y + buffer * 4 : y - buffer * 4];\n              const commonPoints = [[cursorLeaveFromBottom ? rect.right - buffer : isFloatingTaller ? rect.right - buffer : rect.left, rect.top], [cursorLeaveFromBottom ? isFloatingTaller ? rect.right - buffer : rect.left : rect.right - buffer, rect.bottom]];\n              return [...commonPoints, cursorPointOne, cursorPointTwo];\n            }\n          case 'right':\n            {\n              const cursorPointOne = [x - buffer, isFloatingTaller ? y + buffer / 2 : cursorLeaveFromBottom ? y + buffer * 4 : y - buffer * 4];\n              const cursorPointTwo = [x - buffer, isFloatingTaller ? y - buffer / 2 : cursorLeaveFromBottom ? y + buffer * 4 : y - buffer * 4];\n              const commonPoints = [[cursorLeaveFromBottom ? rect.left + buffer : isFloatingTaller ? rect.left + buffer : rect.right, rect.top], [cursorLeaveFromBottom ? isFloatingTaller ? rect.left + buffer : rect.right : rect.left + buffer, rect.bottom]];\n              return [cursorPointOne, cursorPointTwo, ...commonPoints];\n            }\n        }\n      }\n      if (isPointInPolygon([clientX, clientY], rectPoly)) {\n        return;\n      }\n      if (hasLanded && !isOverReferenceRect) {\n        return close();\n      }\n      if (!isLeave && requireIntent) {\n        const cursorSpeed = getCursorSpeed(event.clientX, event.clientY);\n        const cursorSpeedThreshold = 0.1;\n        if (cursorSpeed !== null && cursorSpeed < cursorSpeedThreshold) {\n          return close();\n        }\n      }\n      if (!isPointInPolygon([clientX, clientY], getPolygon([x, y]))) {\n        close();\n      } else if (!hasLanded && requireIntent) {\n        timeoutId = window.setTimeout(close, 40);\n      }\n    };\n  };\n  fn.__options = {\n    blockPointerEvents\n  };\n  return fn;\n}\n\nexport { Composite, CompositeItem, FloatingArrow, FloatingDelayGroup, FloatingFocusManager, FloatingList, FloatingNode, FloatingOverlay, FloatingPortal, FloatingTree, inner, safePolygon, useClick, useClientPoint, useDelayGroup, useDelayGroupContext, useDismiss, useFloating, useFloatingNodeId, useFloatingParentNodeId, useFloatingPortalNode, useFloatingTree, useFocus, useHover, useId, useInnerOffset, useInteractions, useListItem, useListNavigation, useMergeRefs, useRole, useTransitionStatus, useTransitionStyles, useTypeahead };\n","import { YooEditor } from '../../editor/types';\r\nimport { getRootBlockElement } from '../../utils/blockElements';\r\n\r\ntype Params = {\r\n  editor: YooEditor;\r\n  onClose: () => void;\r\n  empty?: boolean;\r\n  withVoids?: boolean;\r\n  view?: 'small' | 'default';\r\n  mode?: 'toggle' | 'create';\r\n};\r\n\r\nexport function buildActionMenuRenderProps({ editor, view, onClose, mode = 'toggle' }: Params) {\r\n  function filterToggleActions(editor: YooEditor, type: string) {\r\n    const block = editor.blocks[type];\r\n    if (!block) return false;\r\n\r\n    const rootBlock = getRootBlockElement(block.elements);\r\n    if (rootBlock?.props?.nodeType === 'void') return false;\r\n    return true;\r\n  }\r\n\r\n  const getActions = () => {\r\n    let items = Object.keys(editor.blocks);\r\n\r\n    if (mode === 'toggle') {\r\n      items = items.filter((type) => filterToggleActions(editor, type));\r\n    }\r\n\r\n    return items.map((action) => {\r\n      const title = editor.blocks[action].options?.display?.title || action;\r\n      const description = editor.blocks[action].options?.display?.description;\r\n      const icon = editor.blocks[action].options?.display?.icon;\r\n      return { type: action, title, description, icon };\r\n    });\r\n  };\r\n\r\n  const getRootProps = () => ({\r\n    'data-action-menu-list': true,\r\n  });\r\n\r\n  const getItemProps = (type) => ({\r\n    onMouseEnter: () => undefined,\r\n    'data-action-menu-item': true,\r\n    'data-action-menu-item-type': type,\r\n    'aria-selected': false,\r\n    onClick: () => {\r\n      // [TEST]\r\n      editor.toggleBlock(type, { deleteText: mode === 'toggle', focus: true });\r\n      onClose();\r\n    },\r\n  });\r\n\r\n  return {\r\n    actions: getActions(),\r\n    onClose,\r\n    empty: false,\r\n    getItemProps,\r\n    getRootProps,\r\n    editor,\r\n    view,\r\n  };\r\n}\r\n","import { useYooptaTools } from '../../contexts/YooptaContext/ToolsContext';\r\nimport { useFloating, offset, flip, inline, shift, useTransitionStyles, autoUpdate } from '@floating-ui/react';\r\nimport { useMemo, useState } from 'react';\r\nimport { buildActionMenuRenderProps } from '../../UI/BlockOptions/utils';\r\nimport { YooptaBlockData } from '../../editor/types';\r\nimport { Transform } from '@dnd-kit/utilities';\r\n\r\nexport const useActionMenuToolRefs = ({ editor }) => {\r\n  const tools = useYooptaTools();\r\n  const ActionMenu = tools.ActionMenu;\r\n\r\n  const [isActionMenuOpen, setIsActionMenuOpen] = useState(false);\r\n  const {\r\n    refs: actionMenuRefs,\r\n    floatingStyles: actionMenuFloatingStyles,\r\n    context: actionMenuContext,\r\n  } = useFloating({\r\n    placement: 'bottom-start',\r\n    open: isActionMenuOpen,\r\n    onOpenChange: setIsActionMenuOpen,\r\n    middleware: [inline(), flip(), shift(), offset(10)],\r\n    whileElementsMounted: autoUpdate,\r\n  });\r\n\r\n  const { isMounted: isMountedActionMenu, styles: actionMenuTransitionStyles } = useTransitionStyles(\r\n    actionMenuContext,\r\n    { duration: 100 },\r\n  );\r\n\r\n  const actionMenuStyles = { ...actionMenuFloatingStyles, ...actionMenuTransitionStyles };\r\n  const onChangeActionMenuOpen = (state) => setIsActionMenuOpen(state);\r\n\r\n  const onCloseActionMenu = () => onChangeActionMenuOpen(false);\r\n  const actionMenuRenderProps = buildActionMenuRenderProps({\r\n    editor,\r\n    view: 'default',\r\n    mode: 'create',\r\n    onClose: onCloseActionMenu,\r\n  });\r\n\r\n  return {\r\n    isActionMenuOpen: isMountedActionMenu,\r\n    actionMenuStyles,\r\n    actionMenuRefs,\r\n    hasActionMenu: !!ActionMenu,\r\n    onChangeActionMenuOpen,\r\n    actionMenuRenderProps,\r\n    onCloseActionMenu,\r\n    ActionMenu,\r\n  };\r\n};\r\n\r\nexport const useBlockStyles = (\r\n  block: YooptaBlockData,\r\n  transform: Transform | null,\r\n  transition: string | undefined,\r\n  isDragging: boolean,\r\n  isOver: boolean,\r\n) => {\r\n  return useMemo(\r\n    () => ({\r\n      container: {\r\n        marginLeft: `${block.meta.depth * 20}px`,\r\n        transform: transform ? `translate3d(${transform.x}px, ${transform.y}px, 0)` : 'none',\r\n        transition,\r\n        opacity: isDragging ? 0.7 : 1,\r\n      },\r\n      content: isOver && !isDragging ? { borderBottom: '2px solid #007aff' } : undefined,\r\n    }),\r\n    [block.meta.depth, transform, transition, isDragging, isOver],\r\n  );\r\n};\r\n\r\nexport const useBlockOptionsRefs = () => {\r\n  const [isBlockOptionsOpen, setIsBlockOptionsOpen] = useState(false);\r\n\r\n  const {\r\n    refs: blockOptionsRefs,\r\n    floatingStyles: blockOptionsStyles,\r\n    context: blockOptionsContext,\r\n  } = useFloating({\r\n    placement: 'right-start',\r\n    open: isBlockOptionsOpen,\r\n    onOpenChange: setIsBlockOptionsOpen,\r\n    middleware: [inline(), flip(), shift(), offset()],\r\n  });\r\n\r\n  const { isMounted: isBlockOptionsMounted, styles: blockOptionsTransitionStyles } = useTransitionStyles(\r\n    blockOptionsContext,\r\n    {\r\n      duration: 100,\r\n    },\r\n  );\r\n  const blockOptionsFloatingStyle = { ...blockOptionsStyles, ...blockOptionsTransitionStyles };\r\n\r\n  return {\r\n    blockOptionsRefs,\r\n    blockOptionsFloatingStyle,\r\n    isBlockOptionsOpen,\r\n    setIsBlockOptionsOpen,\r\n    isBlockOptionsMounted,\r\n  };\r\n};\r\n","import React, { memo } from 'react';\r\nimport { useYooptaEditor } from '../../contexts/YooptaContext/YooptaContext';\r\nimport { useSortable } from '@dnd-kit/sortable';\r\nimport { YooptaBlockData } from '../../editor/types';\r\nimport { useBlockStyles } from './hooks';\r\nimport { Paths } from '../../editor/paths';\r\n\r\ntype BlockProps = {\r\n  children: React.ReactNode;\r\n  block: YooptaBlockData;\r\n  blockId: string;\r\n  onActiveDragHandleChange: (props: any) => void;\r\n};\r\n\r\nconst Block = memo(({ children, block, blockId, onActiveDragHandleChange }: BlockProps) => {\r\n  const editor = useYooptaEditor();\r\n\r\n  const { attributes, listeners, setNodeRef, setActivatorNodeRef, transform, transition, isOver, isDragging } =\r\n    useSortable({ id: blockId, disabled: editor.readOnly });\r\n  const styles = useBlockStyles(block, transform, transition, isDragging, isOver);\r\n\r\n  const align = block.meta.align || 'left';\r\n  const className = `yoopta-block yoopta-align-${align}`;\r\n\r\n  const isSelected = Paths.isBlockSelected(editor, block);\r\n\r\n  const handleMouseEnter = () => {\r\n    if (!editor.readOnly && onActiveDragHandleChange) {\r\n      onActiveDragHandleChange({\r\n        attributes,\r\n        listeners,\r\n        setActivatorNodeRef,\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      ref={setNodeRef}\r\n      className={className}\r\n      style={styles.container}\r\n      data-yoopta-block\r\n      data-yoopta-block-id={blockId}\r\n      onMouseEnter={handleMouseEnter}\r\n    >\r\n      <div style={styles.content}>{children}</div>\r\n      {!editor.readOnly && <div data-block-selected={isSelected} className=\"yoopta-selection-block\" />}\r\n    </div>\r\n  );\r\n});\r\n\r\nBlock.displayName = 'Block';\r\n\r\nexport { Block };\r\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n/**\n * Constants.\n */\n\nvar IS_MAC = typeof window != 'undefined' && /Mac|iPod|iPhone|iPad/.test(window.navigator.platform);\n\nvar MODIFIERS = {\n  alt: 'altKey',\n  control: 'ctrlKey',\n  meta: 'metaKey',\n  shift: 'shiftKey'\n};\n\nvar ALIASES = {\n  add: '+',\n  break: 'pause',\n  cmd: 'meta',\n  command: 'meta',\n  ctl: 'control',\n  ctrl: 'control',\n  del: 'delete',\n  down: 'arrowdown',\n  esc: 'escape',\n  ins: 'insert',\n  left: 'arrowleft',\n  mod: IS_MAC ? 'meta' : 'control',\n  opt: 'alt',\n  option: 'alt',\n  return: 'enter',\n  right: 'arrowright',\n  space: ' ',\n  spacebar: ' ',\n  up: 'arrowup',\n  win: 'meta',\n  windows: 'meta'\n};\n\nvar CODES = {\n  backspace: 8,\n  tab: 9,\n  enter: 13,\n  shift: 16,\n  control: 17,\n  alt: 18,\n  pause: 19,\n  capslock: 20,\n  escape: 27,\n  ' ': 32,\n  pageup: 33,\n  pagedown: 34,\n  end: 35,\n  home: 36,\n  arrowleft: 37,\n  arrowup: 38,\n  arrowright: 39,\n  arrowdown: 40,\n  insert: 45,\n  delete: 46,\n  meta: 91,\n  numlock: 144,\n  scrolllock: 145,\n  ';': 186,\n  '=': 187,\n  ',': 188,\n  '-': 189,\n  '.': 190,\n  '/': 191,\n  '`': 192,\n  '[': 219,\n  '\\\\': 220,\n  ']': 221,\n  '\\'': 222\n};\n\nfor (var f = 1; f < 20; f++) {\n  CODES['f' + f] = 111 + f;\n}\n\n/**\n * Is hotkey?\n */\n\nfunction isHotkey(hotkey, options, event) {\n  if (options && !('byKey' in options)) {\n    event = options;\n    options = null;\n  }\n\n  if (!Array.isArray(hotkey)) {\n    hotkey = [hotkey];\n  }\n\n  var array = hotkey.map(function (string) {\n    return parseHotkey(string, options);\n  });\n  var check = function check(e) {\n    return array.some(function (object) {\n      return compareHotkey(object, e);\n    });\n  };\n  var ret = event == null ? check : check(event);\n  return ret;\n}\n\nfunction isCodeHotkey(hotkey, event) {\n  return isHotkey(hotkey, event);\n}\n\nfunction isKeyHotkey(hotkey, event) {\n  return isHotkey(hotkey, { byKey: true }, event);\n}\n\n/**\n * Parse.\n */\n\nfunction parseHotkey(hotkey, options) {\n  var byKey = options && options.byKey;\n  var ret = {};\n\n  // Special case to handle the `+` key since we use it as a separator.\n  hotkey = hotkey.replace('++', '+add');\n  var values = hotkey.split('+');\n  var length = values.length;\n\n  // Ensure that all the modifiers are set to false unless the hotkey has them.\n\n  for (var k in MODIFIERS) {\n    ret[MODIFIERS[k]] = false;\n  }\n\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = values[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var value = _step.value;\n\n      var optional = value.endsWith('?') && value.length > 1;\n\n      if (optional) {\n        value = value.slice(0, -1);\n      }\n\n      var name = toKeyName(value);\n      var modifier = MODIFIERS[name];\n\n      if (value.length > 1 && !modifier && !ALIASES[value] && !CODES[name]) {\n        throw new TypeError('Unknown modifier: \"' + value + '\"');\n      }\n\n      if (length === 1 || !modifier) {\n        if (byKey) {\n          ret.key = name;\n        } else {\n          ret.which = toKeyCode(value);\n        }\n      }\n\n      if (modifier) {\n        ret[modifier] = optional ? null : true;\n      }\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  return ret;\n}\n\n/**\n * Compare.\n */\n\nfunction compareHotkey(object, event) {\n  for (var key in object) {\n    var expected = object[key];\n    var actual = void 0;\n\n    if (expected == null) {\n      continue;\n    }\n\n    if (key === 'key' && event.key != null) {\n      actual = event.key.toLowerCase();\n    } else if (key === 'which') {\n      actual = expected === 91 && event.which === 93 ? 91 : event.which;\n    } else {\n      actual = event[key];\n    }\n\n    if (actual == null && expected === false) {\n      continue;\n    }\n\n    if (actual !== expected) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\n/**\n * Utils.\n */\n\nfunction toKeyCode(name) {\n  name = toKeyName(name);\n  var code = CODES[name] || name.toUpperCase().charCodeAt(0);\n  return code;\n}\n\nfunction toKeyName(name) {\n  name = name.toLowerCase();\n  name = ALIASES[name] || name;\n  return name;\n}\n\n/**\n * Export.\n */\n\nexports.default = isHotkey;\nexports.isHotkey = isHotkey;\nexports.isCodeHotkey = isCodeHotkey;\nexports.isKeyHotkey = isKeyHotkey;\nexports.parseHotkey = parseHotkey;\nexports.compareHotkey = compareHotkey;\nexports.toKeyCode = toKeyCode;\nexports.toKeyName = toKeyName;","import { isKeyHotkey } from 'is-hotkey';\r\n\r\nconst HOTKEYS_MAP = {\r\n  bold: 'mod+b',\r\n  italic: 'mod+i',\r\n  compose: ['down', 'left', 'right', 'up', 'backspace', 'enter'],\r\n  arrowLeft: 'left',\r\n  arrowUp: 'up',\r\n  arrowDown: 'down',\r\n  arrowRight: 'right',\r\n  ctrlLeft: 'ctrl+left',\r\n  escape: 'esc',\r\n  ctrlRight: 'ctrl+right',\r\n  deleteBackward: 'shift?+backspace',\r\n  backspace: 'backspace',\r\n  deleteForward: 'shift?+delete',\r\n  extendBackward: 'shift+left',\r\n  shiftDelete: 'shift+delete',\r\n  extendForward: 'shift+right',\r\n  shiftEnter: 'shift+enter',\r\n  enter: 'enter',\r\n  space: 'space',\r\n  undo: 'mod+z',\r\n  select: 'mod+a',\r\n  shiftTab: 'shift+tab',\r\n  shiftArrowUp: 'shift+up',\r\n  shiftArrowDown: 'shift+down',\r\n  tab: 'tab',\r\n  cmd: 'mod',\r\n  cmdEnter: 'mod+enter',\r\n  cmdShiftEnter: 'mod+shift+enter',\r\n  slashCommand: '/',\r\n  copy: 'mod+c',\r\n  cut: 'mod+x',\r\n  cmdShiftRight: 'mod+shift+right',\r\n  cmdShiftLeft: 'mod+shift+left',\r\n  cmdShiftDelete: 'mod+shift+backspace',\r\n  cmdShiftD: 'mod+shift+d',\r\n  cmdAltDelete: 'mod+alt+backspace',\r\n};\r\n\r\nconst APPLE_HOTKEYS = {\r\n  moveLineBackward: 'opt+up',\r\n  moveLineForward: 'opt+down',\r\n  ctrlLeft: 'opt+left',\r\n  ctrlRight: 'opt+right',\r\n  deleteBackward: ['ctrl+backspace', 'ctrl+h'],\r\n  deleteForward: ['ctrl+delete', 'ctrl+d'],\r\n  deleteLineBackward: 'cmd+shift?+backspace',\r\n  deleteLineForward: ['cmd+shift?+delete', 'ctrl+k'],\r\n  deleteWordBackward: 'opt+shift?+backspace',\r\n  deleteWordForward: 'opt+shift?+delete',\r\n  extendLineBackward: 'opt+shift+up',\r\n  extendLineForward: 'opt+shift+down',\r\n  redo: 'cmd+shift+z',\r\n  transposeCharacter: 'ctrl+t',\r\n};\r\n\r\nconst WINDOWS_HOTKEYS = {\r\n  deleteWordBackward: 'ctrl+shift?+backspace',\r\n  deleteWordForward: 'ctrl+shift?+delete',\r\n  redo: ['ctrl+y', 'ctrl+shift+z'],\r\n};\r\n\r\nconst create = (key: string) => {\r\n  const generic = HOTKEYS_MAP[key];\r\n  const apple = APPLE_HOTKEYS[key];\r\n  const windows = WINDOWS_HOTKEYS[key];\r\n  const isGeneric = generic && isKeyHotkey(generic);\r\n  const isApple = apple && isKeyHotkey(apple);\r\n  const isWindows = windows && isKeyHotkey(windows);\r\n\r\n  return (event: React.KeyboardEvent | KeyboardEvent) => {\r\n    if (isGeneric && isGeneric(event)) return true;\r\n    if (isApple && isApple(event)) return true;\r\n    if (isWindows && isWindows(event)) return true;\r\n    return false;\r\n  };\r\n};\r\n\r\nexport const HOTKEYS = {\r\n  isBold: create('bold'),\r\n  isCompose: create('compose'),\r\n  isArrowLeft: create('arrowLeft'),\r\n  isArrowRight: create('arrowRight'),\r\n  isArrowUp: create('arrowUp'),\r\n  isArrowDown: create('arrowDown'),\r\n  isDeleteBackward: create('deleteBackward'),\r\n  isDeleteForward: create('deleteForward'),\r\n  isDeleteLineBackward: create('deleteLineBackward'),\r\n  isDeleteLineForward: create('deleteLineForward'),\r\n  isDeleteWordBackward: create('deleteWordBackward'),\r\n  isDeleteWordForward: create('deleteWordForward'),\r\n  isExtendBackward: create('extendBackward'),\r\n  isExtendForward: create('extendForward'),\r\n  isExtendLineBackward: create('extendLineBackward'),\r\n  isExtendLineForward: create('extendLineForward'),\r\n  isItalic: create('italic'),\r\n  isMoveLineBackward: create('moveLineBackward'),\r\n  isMoveLineForward: create('moveLineForward'),\r\n  isCtrlLeft: create('ctrlLeft'),\r\n  isCtrlRight: create('ctrlRight'),\r\n  isRedo: create('redo'),\r\n  isShiftEnter: create('shiftEnter'),\r\n  isEnter: create('enter'),\r\n  isTransposeCharacter: create('transposeCharacter'),\r\n  isUndo: create('undo'),\r\n  isSpace: create('space'),\r\n  isSelect: create('select'),\r\n  isTab: create('tab'),\r\n  isShiftTab: create('shiftTab'),\r\n  isBackspace: create('backspace'),\r\n  isCmdEnter: create('cmdEnter'),\r\n  isCmd: create('cmd'),\r\n  isEscape: create('escape'),\r\n  isSlashCommand: create('slashCommand'),\r\n  isShiftArrowUp: create('shiftArrowUp'),\r\n  isShiftArrowDown: create('shiftArrowDown'),\r\n  isCopy: create('copy'),\r\n  isCut: create('cut'),\r\n  isShiftDelete: create('shiftDelete'),\r\n  isCmdShiftEnter: create('cmdShiftEnter'),\r\n  isCmdShiftRight: create('cmdShiftRight'),\r\n  isCmdShiftLeft: create('cmdShiftLeft'),\r\n  isCmdShiftDelete: create('cmdShiftDelete'),\r\n  isCmdAltDelete: create('cmdAltDelete'),\r\n  isCmdShiftD: create('cmdShiftD'),\r\n};\r\n\r\nexport type HOTKEYS_TYPE = {\r\n  [key in keyof typeof HOTKEYS]: (event: React.KeyboardEvent | KeyboardEvent) => boolean;\r\n};\r\n","import { isKeyHotkey } from 'is-hotkey';\r\nimport { Editor, Node, Path, Point, Range, Transforms } from 'slate';\r\nimport { ReactEditor } from 'slate-react';\r\nimport { Blocks } from '../editor/blocks';\r\nimport { Paths } from '../editor/paths';\r\nimport { SlateEditor, YooEditor } from '../editor/types';\r\nimport { findPluginBlockByPath } from '../utils/findPluginBlockByPath';\r\nimport { findSlateBySelectionPath } from '../utils/findSlateBySelectionPath';\r\nimport { generateId } from '../utils/generateId';\r\nimport { getLastNode } from '../utils/getLastNodePoint';\r\nimport { HOTKEYS } from '../utils/hotkeys';\r\n\r\nfunction getNextNodePoint(slate: SlateEditor, path: Path): Point {\r\n  try {\r\n    const [, firstNodePath] = Editor.first(slate, path);\r\n\r\n    return {\r\n      path: firstNodePath,\r\n      offset: 0,\r\n    };\r\n  } catch (error) {\r\n    return {\r\n      path: [0, 0],\r\n      offset: 0,\r\n    };\r\n  }\r\n}\r\n/** */\r\n\r\nexport function onKeyDown(editor: YooEditor) {\r\n  return (event: React.KeyboardEvent) => {\r\n    const slate = findSlateBySelectionPath(editor, { at: editor.path.current });\r\n\r\n    if (HOTKEYS.isShiftEnter(event)) {\r\n      if (event.isDefaultPrevented()) return;\r\n\r\n      if (!slate || !slate.selection) return;\r\n\r\n      event.preventDefault();\r\n      slate.insertText('\\n');\r\n\r\n      return;\r\n    }\r\n\r\n    if (HOTKEYS.isUndo(event)) {\r\n      event.preventDefault();\r\n      return;\r\n    }\r\n\r\n    if (HOTKEYS.isRedo(event)) {\r\n      event.preventDefault();\r\n      return;\r\n    }\r\n\r\n    if (HOTKEYS.isEnter(event)) {\r\n      if (event.isDefaultPrevented()) return;\r\n      if (!slate || !slate.selection) return;\r\n\r\n      event.preventDefault();\r\n\r\n      const first = Editor.first(slate, []);\r\n      const last = Editor.last(slate, []);\r\n      const isStart = Editor.isStart(slate, slate.selection.anchor, first[1]);\r\n      const isEnd = Editor.isEnd(slate, slate.selection.anchor, last[1]);\r\n\r\n      if (Range.isExpanded(slate.selection)) {\r\n        Transforms.delete(slate, { at: slate.selection });\r\n      }\r\n\r\n      // when the cursor is in the middle of the block\r\n      if (!isStart && !isEnd) {\r\n        // [TEST]\r\n        editor.splitBlock({ slate, focus: true });\r\n        return;\r\n      }\r\n\r\n      const currentBlock = Blocks.getBlock(editor, { at: editor.path.current });\r\n      const defaultBlock = Blocks.buildBlockData({ id: generateId() });\r\n\r\n      const string = Editor.string(slate, []);\r\n      const insertBefore = isStart && string.length > 0;\r\n\r\n      const nextPath = Paths.getNextPath(editor);\r\n\r\n      // [TEST]\r\n      editor.batchOperations(() => {\r\n        // [TEST]\r\n        editor.insertBlock(defaultBlock.type, {\r\n          at: insertBefore ? editor.path.current : nextPath,\r\n          focus: !insertBefore,\r\n        });\r\n\r\n        // [TEST]\r\n        if (insertBefore && currentBlock) {\r\n          editor.focusBlock(currentBlock.id);\r\n        }\r\n      });\r\n\r\n      return;\r\n    }\r\n\r\n    if (HOTKEYS.isBackspace(event)) {\r\n      if (event.isDefaultPrevented()) return;\r\n      if (!slate || !slate.selection) return;\r\n\r\n      const parentPath = Path.parent(slate.selection.anchor.path);\r\n      const isStart = Editor.isStart(slate, slate.selection.anchor, parentPath);\r\n\r\n      // When the cursor is at the start of the block, delete the block\r\n      if (isStart) {\r\n        event.preventDefault();\r\n        const text = Editor.string(slate, parentPath);\r\n\r\n        // If current block is empty just delete block\r\n        if (text.trim().length === 0) {\r\n          // [TEST]\r\n          editor.deleteBlock({ at: editor.path.current, focus: true });\r\n          return;\r\n        }\r\n        // If current block is not empty merge text nodes with previous block\r\n        else {\r\n          if (Range.isExpanded(slate.selection)) {\r\n            return Transforms.delete(slate, { at: slate.selection });\r\n          }\r\n\r\n          const prevBlock = Blocks.getBlock(editor, { at: Paths.getPreviousPath(editor) });\r\n          const prevSlate = Blocks.getBlockSlate(editor, { id: prevBlock?.id });\r\n          if (prevBlock && prevSlate) {\r\n            const { node: lastSlateNode } = getLastNode(prevSlate);\r\n            const prevSlateText = Node.string(lastSlateNode);\r\n\r\n            if (prevSlateText.trim().length === 0) {\r\n              // [TEST]\r\n              editor.deleteBlock({ blockId: prevBlock.id, focus: false });\r\n              editor.setPath({ current: prevBlock.meta.order });\r\n              return;\r\n            }\r\n          }\r\n\r\n          // [TEST]\r\n          editor.mergeBlock();\r\n        }\r\n      }\r\n      return;\r\n    }\r\n\r\n    if (HOTKEYS.isSelect(event)) {\r\n      if (event.isDefaultPrevented()) return;\r\n      if (!slate || !slate.selection) return;\r\n\r\n      const [, firstElementPath] = Editor.first(slate, [0]);\r\n      const [, lastElementPath] = Editor.last(slate, [slate.children.length - 1]);\r\n\r\n      const fullRange = Editor.range(slate, firstElementPath, lastElementPath);\r\n      const isAllBlockElementsSelected = Range.equals(slate.selection, fullRange);\r\n\r\n      const string = Editor.string(slate, fullRange);\r\n      const isElementEmpty = string.trim().length === 0;\r\n\r\n      // [TODO] - handle cases for void node elements\r\n      if ((Range.isExpanded(slate.selection) && isAllBlockElementsSelected) || isElementEmpty) {\r\n        event.preventDefault();\r\n\r\n        ReactEditor.blur(slate);\r\n        ReactEditor.deselect(slate);\r\n        Transforms.deselect(slate);\r\n\r\n        const allBlockPaths = Array.from({ length: Object.keys(editor.children).length }, (_, i) => i);\r\n        editor.setPath({ current: null, selected: allBlockPaths });\r\n        return;\r\n      }\r\n    }\r\n\r\n    if (HOTKEYS.isShiftTab(event)) {\r\n      if (event.isDefaultPrevented()) return;\r\n      event.preventDefault();\r\n\r\n      const selectedPaths = editor.path.selected;\r\n      if (Array.isArray(selectedPaths) && selectedPaths.length > 0) {\r\n        editor.batchOperations(() => {\r\n          selectedPaths.forEach((index) => {\r\n            const block = Blocks.getBlock(editor, { at: index });\r\n            if (block && block.meta.depth > 0) {\r\n              editor.decreaseBlockDepth({ at: index });\r\n            }\r\n          });\r\n        });\r\n\r\n        return;\r\n      }\r\n\r\n      editor.decreaseBlockDepth();\r\n      return;\r\n    }\r\n\r\n    if (HOTKEYS.isTab(event)) {\r\n      if (event.isDefaultPrevented()) return;\r\n      event.preventDefault();\r\n\r\n      const selectedPaths = editor.path.selected;\r\n      if (Array.isArray(selectedPaths) && selectedPaths.length > 0) {\r\n        editor.batchOperations(() => {\r\n          selectedPaths.forEach((index) => {\r\n            editor.increaseBlockDepth({ at: index });\r\n          });\r\n        });\r\n\r\n        return;\r\n      }\r\n\r\n      editor.increaseBlockDepth();\r\n      return;\r\n    }\r\n\r\n    // [TODO] - default behavior for complex plugins\r\n    if (HOTKEYS.isArrowUp(event)) {\r\n      if (event.isDefaultPrevented()) return;\r\n      if (!slate || !slate.selection) return;\r\n\r\n      // If element with any paths has all paths at 0\r\n      const isAllPathsInStart = new Set(slate.selection.anchor.path).size === 1;\r\n\r\n      if (isAllPathsInStart) {\r\n        const prevPath = Paths.getPreviousPath(editor);\r\n        const prevSlate = findSlateBySelectionPath(editor, { at: prevPath });\r\n        const prevBlock = findPluginBlockByPath(editor, { at: prevPath });\r\n        const prevBlockEntity = editor.blocks[prevBlock?.type || ''];\r\n        if (prevSlate && prevBlock && !prevBlockEntity?.hasCustomEditor) {\r\n          const [, prevLastPath] = Editor.last(prevSlate, [0]);\r\n          const prevLastNodeTextLength = Editor.string(prevSlate, prevLastPath).length;\r\n          const selection: Point = {\r\n            path: prevLastPath,\r\n            offset: prevLastNodeTextLength,\r\n          };\r\n          event.preventDefault();\r\n          editor.focusBlock(prevBlock.id, {\r\n            focusAt: selection,\r\n            waitExecution: false,\r\n            shouldUpdateBlockPath: true,\r\n          });\r\n          return;\r\n        }\r\n      }\r\n    }\r\n\r\n    // [TODO] - default behavior for complex plugins\r\n    if (HOTKEYS.isArrowDown(event)) {\r\n      if (event.isDefaultPrevented()) return;\r\n      if (!slate || !slate.selection) return;\r\n\r\n      const parentPath = Path.parent(slate.selection.anchor.path);\r\n      const isEnd = Editor.isEnd(slate, slate.selection.anchor, parentPath);\r\n      if (isEnd) {\r\n        const nextPath = Paths.getNextPath(editor);\r\n        const nextSlate = findSlateBySelectionPath(editor, { at: nextPath });\r\n        const nextBlock = findPluginBlockByPath(editor, { at: nextPath });\r\n        const nextBlockEntity = editor.blocks[nextBlock?.type || ''];\r\n        if (nextSlate && nextBlock && !nextBlockEntity?.hasCustomEditor) {\r\n          // [TODO] - should parent path, but for next slate\r\n          const selection: Point = getNextNodePoint(nextSlate, parentPath);\r\n          event.preventDefault();\r\n          editor.focusBlock(nextBlock.id, { focusAt: selection, waitExecution: false });\r\n          return;\r\n        }\r\n      }\r\n    }\r\n\r\n    if (slate && slate.selection) {\r\n      if (Range.isExpanded(slate.selection)) {\r\n        const marks = Object.values(editor.formats);\r\n        if (marks.length > 0) {\r\n          for (const mark of Object.values(editor.formats)) {\r\n            if (mark.hotkey && isKeyHotkey(mark.hotkey)(event)) {\r\n              event.preventDefault();\r\n              editor.formats[mark.type].toggle();\r\n              break;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  };\r\n}\r\n","import { onKeyDown } from './onKeyDown';\r\n\r\nexport const EVENT_HANDLERS = {\r\n  onKeyDown,\r\n};\r\n","import { HTMLAttributes } from 'react';\r\nimport { RenderLeafProps, useSelected } from 'slate-react';\r\nimport { ExtendedLeafProps } from '../../plugins/types';\r\n\r\ntype Props = Pick<ExtendedLeafProps<any, any>, 'attributes' | 'children'> & {\r\n  placeholder?: string;\r\n};\r\n\r\nconst TextLeaf = ({ children, attributes, placeholder }: Props) => {\r\n  const selected = useSelected();\r\n\r\n  const attrs: HTMLAttributes<HTMLSpanElement> & RenderLeafProps['attributes'] = {\r\n    ...attributes,\r\n  };\r\n\r\n  if (selected && placeholder) {\r\n    attrs['data-placeholder'] = placeholder;\r\n    attrs.className = `yoopta-placeholder`;\r\n  }\r\n\r\n  return <span {...attrs}>{children}</span>;\r\n};\r\n\r\nexport { TextLeaf };\r\n","export function isYooptaBlock(block: any): boolean {\r\n  return !!block && !!block.id && !!block.type && !!block.value && !!block.meta;\r\n}\r\n","import { Element } from 'slate';\r\nimport { buildBlockData } from '../components/Editor/utils';\r\nimport { Blocks } from '../editor/blocks';\r\nimport { SlateElement, YooEditor, YooptaBlockBaseMeta, YooptaBlockData } from '../editor/types';\r\nimport { PluginDeserializeParser } from '../plugins/types';\r\nimport { getRootBlockElementType } from '../utils/blockElements';\r\nimport { generateId } from '../utils/generateId';\r\nimport { isYooptaBlock } from '../utils/validators';\r\n\r\nconst MARKS_NODE_NAME_MATCHERS_MAP = {\r\n  B: { type: 'bold' },\r\n  STRONG: { type: 'bold' },\r\n  I: { type: 'italic' },\r\n  U: { type: 'underline' },\r\n  S: { type: 'strike' },\r\n  CODE: { type: 'code' },\r\n  EM: { type: 'italic' },\r\n  MARK: { type: 'highlight', parse: (el) => ({ color: el.style.color }) },\r\n};\r\n\r\nconst VALID_TEXT_ALIGNS = ['left', 'center', 'right', undefined];\r\n\r\ntype PluginsMapByNode = {\r\n  type: string;\r\n  parse: PluginDeserializeParser['parse'];\r\n};\r\n\r\ntype PluginsMapByNodeNames = Record<string, PluginsMapByNode | PluginsMapByNode[]>;\r\n\r\nfunction getMappedPluginByNodeNames(editor: YooEditor): PluginsMapByNodeNames {\r\n  const PLUGINS_NODE_NAME_MATCHERS_MAP: PluginsMapByNodeNames = {};\r\n\r\n  Object.keys(editor.plugins).forEach((pluginType) => {\r\n    const plugin = editor.plugins[pluginType];\r\n    const { parsers } = plugin;\r\n\r\n    if (parsers) {\r\n      const { html } = parsers;\r\n\r\n      if (html) {\r\n        const { deserialize } = html;\r\n\r\n        if (deserialize) {\r\n          const { nodeNames } = deserialize;\r\n          if (nodeNames) {\r\n            nodeNames.forEach((nodeName) => {\r\n              const nodeNameMap = PLUGINS_NODE_NAME_MATCHERS_MAP[nodeName];\r\n\r\n              if (nodeNameMap) {\r\n                const nodeNameItem = Array.isArray(nodeNameMap) ? nodeNameMap : [nodeNameMap];\r\n                PLUGINS_NODE_NAME_MATCHERS_MAP[nodeName] = [\r\n                  ...nodeNameItem,\r\n                  { type: pluginType, parse: deserialize.parse },\r\n                ];\r\n              } else {\r\n                PLUGINS_NODE_NAME_MATCHERS_MAP[nodeName] = {\r\n                  type: pluginType,\r\n                  parse: deserialize.parse,\r\n                };\r\n              }\r\n            });\r\n          }\r\n        }\r\n      }\r\n    }\r\n  });\r\n\r\n  return PLUGINS_NODE_NAME_MATCHERS_MAP;\r\n}\r\n\r\nfunction buildBlock(editor: YooEditor, plugin: PluginsMapByNode, el: HTMLElement, children: any[]) {\r\n  let nodeElementOrBlocks;\r\n\r\n  if (plugin.parse) {\r\n    nodeElementOrBlocks = plugin.parse(el as HTMLElement, editor);\r\n\r\n    const isInline = Element.isElement(nodeElementOrBlocks) && nodeElementOrBlocks.props?.nodeType === 'inline';\r\n    if (isInline) return nodeElementOrBlocks;\r\n  }\r\n\r\n  const block = editor.blocks[plugin.type];\r\n  const rootElementType = getRootBlockElementType(block.elements) || '';\r\n  const rootElement = block.elements[rootElementType];\r\n\r\n  const isVoid = rootElement.props?.nodeType === 'void';\r\n\r\n  let rootNode: SlateElement<string, any> | YooptaBlockData[] = {\r\n    id: generateId(),\r\n    type: rootElementType,\r\n    children: isVoid && !block.hasCustomEditor ? [{ text: '' }] : children.map(mapNodeChildren).flat(),\r\n    props: { nodeType: 'block', ...rootElement.props },\r\n  };\r\n\r\n  if (nodeElementOrBlocks) {\r\n    if (Element.isElement(nodeElementOrBlocks)) {\r\n      rootNode = nodeElementOrBlocks;\r\n    } else if (Array.isArray(nodeElementOrBlocks)) {\r\n      const blocks = nodeElementOrBlocks;\r\n      return blocks;\r\n    }\r\n  }\r\n\r\n  if (rootNode.children.length === 0) {\r\n    rootNode.children = [{ text: '' }];\r\n  }\r\n\r\n  if (!nodeElementOrBlocks && plugin.parse) return;\r\n\r\n  const align = el.getAttribute('data-meta-align') as YooptaBlockBaseMeta['align'];\r\n  const depth = parseInt(el.getAttribute('data-meta-depth') || '0', 10);\r\n\r\n  const blockData = Blocks.buildBlockData({\r\n    id: generateId(),\r\n    type: plugin.type,\r\n    value: [rootNode],\r\n    meta: {\r\n      order: 0,\r\n      depth: depth,\r\n      align: VALID_TEXT_ALIGNS.includes(align) ? align : undefined,\r\n    },\r\n  });\r\n\r\n  return blockData;\r\n}\r\n\r\nfunction deserialize(editor: YooEditor, pluginsMap: PluginsMapByNodeNames, el: HTMLElement | ChildNode) {\r\n  if (el.nodeType === 3) {\r\n    const text = el.textContent?.replace(/[\\t\\n\\r\\f\\v]+/g, ' ');\r\n    return { text };\r\n  } else if (el.nodeType !== 1) {\r\n    return null;\r\n  } else if (el.nodeName === 'BR') {\r\n    return { text: '\\n' };\r\n  }\r\n\r\n  const parent = el as HTMLElement;\r\n  let children = Array.from(parent.childNodes)\r\n    .map((node) => deserialize(editor, pluginsMap, node))\r\n    .flat()\r\n    .filter(Boolean);\r\n\r\n  if (MARKS_NODE_NAME_MATCHERS_MAP[parent.nodeName]) {\r\n    const mark = MARKS_NODE_NAME_MATCHERS_MAP[parent.nodeName];\r\n    const markType = mark.type;\r\n\r\n    return children.map((child) => {\r\n      if (typeof child === 'string') {\r\n        return { [markType]: mark.parse ? mark.parse(parent) : true, text: child };\r\n      } else if (child.text) {\r\n        return { ...child, [markType]: mark.parse ? mark.parse(parent) : true };\r\n      }\r\n      return child;\r\n    });\r\n  }\r\n\r\n  const plugin = pluginsMap[parent.nodeName];\r\n\r\n  if (plugin) {\r\n    if (Array.isArray(plugin)) {\r\n      const blocks = plugin.map((p) => buildBlock(editor, p, parent, children)).filter(Boolean);\r\n      return blocks;\r\n    }\r\n\r\n    return buildBlock(editor, plugin, parent, children);\r\n  }\r\n\r\n  return children;\r\n}\r\n\r\nfunction mapNodeChildren(child) {\r\n  if (typeof child === 'string') {\r\n    return { text: child };\r\n  }\r\n\r\n  if (Element.isElement(child)) {\r\n    return child;\r\n  }\r\n\r\n  if (Array.isArray(child)) {\r\n    return child.map(mapNodeChildren).flat();\r\n  }\r\n\r\n  if (child?.text) {\r\n    return child;\r\n  }\r\n\r\n  if (isYooptaBlock(child)) {\r\n    const block = child as YooptaBlockData;\r\n    return (block.value[0] as SlateElement).children.map(mapNodeChildren).flat();\r\n  }\r\n\r\n  return { text: '' };\r\n}\r\n\r\nexport function deserializeHTML(editor: YooEditor, html: HTMLElement) {\r\n  console.log('pasted html', html);\r\n\r\n  const PLUGINS_NODE_NAME_MATCHERS_MAP = getMappedPluginByNodeNames(editor);\r\n\r\n  const blocks = deserialize(editor, PLUGINS_NODE_NAME_MATCHERS_MAP, html)\r\n    .flat()\r\n    .filter(isYooptaBlock) as YooptaBlockData[];\r\n\r\n  return blocks;\r\n}\r\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = assertString;\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction assertString(input) {\n  var isString = typeof input === 'string' || input instanceof String;\n  if (!isString) {\n    var invalidType = _typeof(input);\n    if (input === null) invalidType = 'null';else if (invalidType === 'object') invalidType = input.constructor.name;\n    throw new TypeError(\"Expected a string but received a \".concat(invalidType));\n  }\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = merge;\nfunction merge() {\n  var obj = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var defaults = arguments.length > 1 ? arguments[1] : undefined;\n  for (var key in defaults) {\n    if (typeof obj[key] === 'undefined') {\n      obj[key] = defaults[key];\n    }\n  }\n  return obj;\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isFQDN;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nvar _merge = _interopRequireDefault(require(\"./util/merge\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar default_fqdn_options = {\n  require_tld: true,\n  allow_underscores: false,\n  allow_trailing_dot: false,\n  allow_numeric_tld: false,\n  allow_wildcard: false,\n  ignore_max_length: false\n};\nfunction isFQDN(str, options) {\n  (0, _assertString.default)(str);\n  options = (0, _merge.default)(options, default_fqdn_options);\n\n  /* Remove the optional trailing dot before checking validity */\n  if (options.allow_trailing_dot && str[str.length - 1] === '.') {\n    str = str.substring(0, str.length - 1);\n  }\n\n  /* Remove the optional wildcard before checking validity */\n  if (options.allow_wildcard === true && str.indexOf('*.') === 0) {\n    str = str.substring(2);\n  }\n  var parts = str.split('.');\n  var tld = parts[parts.length - 1];\n  if (options.require_tld) {\n    // disallow fqdns without tld\n    if (parts.length < 2) {\n      return false;\n    }\n    if (!options.allow_numeric_tld && !/^([a-z\\u00A1-\\u00A8\\u00AA-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]{2,}|xn[a-z0-9-]{2,})$/i.test(tld)) {\n      return false;\n    }\n\n    // disallow spaces\n    if (/\\s/.test(tld)) {\n      return false;\n    }\n  }\n\n  // reject numeric TLDs\n  if (!options.allow_numeric_tld && /^\\d+$/.test(tld)) {\n    return false;\n  }\n  return parts.every(function (part) {\n    if (part.length > 63 && !options.ignore_max_length) {\n      return false;\n    }\n    if (!/^[a-z_\\u00a1-\\uffff0-9-]+$/i.test(part)) {\n      return false;\n    }\n\n    // disallow full-width chars\n    if (/[\\uff01-\\uff5e]/.test(part)) {\n      return false;\n    }\n\n    // disallow parts starting or ending with hyphen\n    if (/^-|-$/.test(part)) {\n      return false;\n    }\n    if (!options.allow_underscores && /_/.test(part)) {\n      return false;\n    }\n    return true;\n  });\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isIP;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n/**\n11.3.  Examples\n\n   The following addresses\n\n             fe80::1234 (on the 1st link of the node)\n             ff02::5678 (on the 5th link of the node)\n             ff08::9abc (on the 10th organization of the node)\n\n   would be represented as follows:\n\n             fe80::1234%1\n             ff02::5678%5\n             ff08::9abc%10\n\n   (Here we assume a natural translation from a zone index to the\n   <zone_id> part, where the Nth zone of any scope is translated into\n   \"N\".)\n\n   If we use interface names as <zone_id>, those addresses could also be\n   represented as follows:\n\n            fe80::1234%ne0\n            ff02::5678%pvc1.3\n            ff08::9abc%interface10\n\n   where the interface \"ne0\" belongs to the 1st link, \"pvc1.3\" belongs\n   to the 5th link, and \"interface10\" belongs to the 10th organization.\n * * */\nvar IPv4SegmentFormat = '(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])';\nvar IPv4AddressFormat = \"(\".concat(IPv4SegmentFormat, \"[.]){3}\").concat(IPv4SegmentFormat);\nvar IPv4AddressRegExp = new RegExp(\"^\".concat(IPv4AddressFormat, \"$\"));\nvar IPv6SegmentFormat = '(?:[0-9a-fA-F]{1,4})';\nvar IPv6AddressRegExp = new RegExp('^(' + \"(?:\".concat(IPv6SegmentFormat, \":){7}(?:\").concat(IPv6SegmentFormat, \"|:)|\") + \"(?:\".concat(IPv6SegmentFormat, \":){6}(?:\").concat(IPv4AddressFormat, \"|:\").concat(IPv6SegmentFormat, \"|:)|\") + \"(?:\".concat(IPv6SegmentFormat, \":){5}(?::\").concat(IPv4AddressFormat, \"|(:\").concat(IPv6SegmentFormat, \"){1,2}|:)|\") + \"(?:\".concat(IPv6SegmentFormat, \":){4}(?:(:\").concat(IPv6SegmentFormat, \"){0,1}:\").concat(IPv4AddressFormat, \"|(:\").concat(IPv6SegmentFormat, \"){1,3}|:)|\") + \"(?:\".concat(IPv6SegmentFormat, \":){3}(?:(:\").concat(IPv6SegmentFormat, \"){0,2}:\").concat(IPv4AddressFormat, \"|(:\").concat(IPv6SegmentFormat, \"){1,4}|:)|\") + \"(?:\".concat(IPv6SegmentFormat, \":){2}(?:(:\").concat(IPv6SegmentFormat, \"){0,3}:\").concat(IPv4AddressFormat, \"|(:\").concat(IPv6SegmentFormat, \"){1,5}|:)|\") + \"(?:\".concat(IPv6SegmentFormat, \":){1}(?:(:\").concat(IPv6SegmentFormat, \"){0,4}:\").concat(IPv4AddressFormat, \"|(:\").concat(IPv6SegmentFormat, \"){1,6}|:)|\") + \"(?::((?::\".concat(IPv6SegmentFormat, \"){0,5}:\").concat(IPv4AddressFormat, \"|(?::\").concat(IPv6SegmentFormat, \"){1,7}|:))\") + ')(%[0-9a-zA-Z-.:]{1,})?$');\nfunction isIP(str) {\n  var version = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  (0, _assertString.default)(str);\n  version = String(version);\n  if (!version) {\n    return isIP(str, 4) || isIP(str, 6);\n  }\n  if (version === '4') {\n    return IPv4AddressRegExp.test(str);\n  }\n  if (version === '6') {\n    return IPv6AddressRegExp.test(str);\n  }\n  return false;\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isURL;\nvar _assertString = _interopRequireDefault(require(\"./util/assertString\"));\nvar _isFQDN = _interopRequireDefault(require(\"./isFQDN\"));\nvar _isIP = _interopRequireDefault(require(\"./isIP\"));\nvar _merge = _interopRequireDefault(require(\"./util/merge\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t.return && (u = t.return(), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n/*\noptions for isURL method\n\nrequire_protocol - if set as true isURL will return false if protocol is not present in the URL\nrequire_valid_protocol - isURL will check if the URL's protocol is present in the protocols option\nprotocols - valid protocols can be modified with this option\nrequire_host - if set as false isURL will not check if host is present in the URL\nrequire_port - if set as true isURL will check if port is present in the URL\nallow_protocol_relative_urls - if set as true protocol relative URLs will be allowed\nvalidate_length - if set as false isURL will skip string length validation (IE maximum is 2083)\n\n*/\n\nvar default_url_options = {\n  protocols: ['http', 'https', 'ftp'],\n  require_tld: true,\n  require_protocol: false,\n  require_host: true,\n  require_port: false,\n  require_valid_protocol: true,\n  allow_underscores: false,\n  allow_trailing_dot: false,\n  allow_protocol_relative_urls: false,\n  allow_fragments: true,\n  allow_query_components: true,\n  validate_length: true\n};\nvar wrapped_ipv6 = /^\\[([^\\]]+)\\](?::([0-9]+))?$/;\nfunction isRegExp(obj) {\n  return Object.prototype.toString.call(obj) === '[object RegExp]';\n}\nfunction checkHost(host, matches) {\n  for (var i = 0; i < matches.length; i++) {\n    var match = matches[i];\n    if (host === match || isRegExp(match) && match.test(host)) {\n      return true;\n    }\n  }\n  return false;\n}\nfunction isURL(url, options) {\n  (0, _assertString.default)(url);\n  if (!url || /[\\s<>]/.test(url)) {\n    return false;\n  }\n  if (url.indexOf('mailto:') === 0) {\n    return false;\n  }\n  options = (0, _merge.default)(options, default_url_options);\n  if (options.validate_length && url.length >= 2083) {\n    return false;\n  }\n  if (!options.allow_fragments && url.includes('#')) {\n    return false;\n  }\n  if (!options.allow_query_components && (url.includes('?') || url.includes('&'))) {\n    return false;\n  }\n  var protocol, auth, host, hostname, port, port_str, split, ipv6;\n  split = url.split('#');\n  url = split.shift();\n  split = url.split('?');\n  url = split.shift();\n  split = url.split('://');\n  if (split.length > 1) {\n    protocol = split.shift().toLowerCase();\n    if (options.require_valid_protocol && options.protocols.indexOf(protocol) === -1) {\n      return false;\n    }\n  } else if (options.require_protocol) {\n    return false;\n  } else if (url.slice(0, 2) === '//') {\n    if (!options.allow_protocol_relative_urls) {\n      return false;\n    }\n    split[0] = url.slice(2);\n  }\n  url = split.join('://');\n  if (url === '') {\n    return false;\n  }\n  split = url.split('/');\n  url = split.shift();\n  if (url === '' && !options.require_host) {\n    return true;\n  }\n  split = url.split('@');\n  if (split.length > 1) {\n    if (options.disallow_auth) {\n      return false;\n    }\n    if (split[0] === '') {\n      return false;\n    }\n    auth = split.shift();\n    if (auth.indexOf(':') >= 0 && auth.split(':').length > 2) {\n      return false;\n    }\n    var _auth$split = auth.split(':'),\n      _auth$split2 = _slicedToArray(_auth$split, 2),\n      user = _auth$split2[0],\n      password = _auth$split2[1];\n    if (user === '' && password === '') {\n      return false;\n    }\n  }\n  hostname = split.join('@');\n  port_str = null;\n  ipv6 = null;\n  var ipv6_match = hostname.match(wrapped_ipv6);\n  if (ipv6_match) {\n    host = '';\n    ipv6 = ipv6_match[1];\n    port_str = ipv6_match[2] || null;\n  } else {\n    split = hostname.split(':');\n    host = split.shift();\n    if (split.length) {\n      port_str = split.join(':');\n    }\n  }\n  if (port_str !== null && port_str.length > 0) {\n    port = parseInt(port_str, 10);\n    if (!/^[0-9]+$/.test(port_str) || port <= 0 || port > 65535) {\n      return false;\n    }\n  } else if (options.require_port) {\n    return false;\n  }\n  if (options.host_whitelist) {\n    return checkHost(host, options.host_whitelist);\n  }\n  if (host === '' && !options.require_host) {\n    return true;\n  }\n  if (!(0, _isIP.default)(host) && !(0, _isFQDN.default)(host, options) && (!ipv6 || !(0, _isIP.default)(ipv6, 6))) {\n    return false;\n  }\n  host = host || ipv6;\n  if (options.host_blacklist && checkHost(host, options.host_blacklist)) {\n    return false;\n  }\n  return true;\n}\nmodule.exports = exports.default;\nmodule.exports.default = exports.default;","import { Editor, Element as SlateElement, Transforms, Range } from 'slate';\r\nimport { SlateEditor, YooEditor } from '../../editor/types';\r\nimport isURL from 'validator/lib/isURL';\r\n\r\nfunction isUrl(string: string): boolean {\r\n  if (!string || string.length > 2048) return false;\r\n\r\n  return isURL(string, {\r\n    protocols: ['http', 'https'],\r\n    require_protocol: true,\r\n    require_valid_protocol: true,\r\n    require_host: true,\r\n    require_port: false,\r\n    allow_protocol_relative_urls: false,\r\n    allow_fragments: true,\r\n    allow_query_components: true,\r\n    allow_underscores: true,\r\n    disallow_auth: false,\r\n  });\r\n}\r\n\r\nconst isLinkActive = (slate) => {\r\n  const [link] = Editor.nodes(slate, {\r\n    match: (n) => !Editor.isEditor(n) && SlateElement.isElement(n) && n.type === 'link',\r\n  });\r\n  return !!link;\r\n};\r\n\r\nconst removeLink = (slate) => {\r\n  Transforms.unwrapNodes(slate, {\r\n    match: (n) => !Editor.isEditor(n) && SlateElement.isElement(n) && n.type === 'link',\r\n  });\r\n};\r\n\r\nconst addLink = (editor: YooEditor, slate: SlateEditor, url: string) => {\r\n  if (isLinkActive(slate)) {\r\n    removeLink(slate);\r\n  }\r\n\r\n  const { selection } = slate;\r\n  const isCollapsed = selection && Range.isCollapsed(selection);\r\n\r\n  // Should be moved to the Link plugin\r\n  const defaultLinkProps: Record<string, unknown> | undefined = editor.plugins?.LinkPlugin?.elements?.link?.props;\r\n\r\n  const link = {\r\n    type: 'link',\r\n    children: isCollapsed ? [{ text: url }] : [],\r\n    props: {\r\n      url,\r\n      target: defaultLinkProps?.target || '_self',\r\n      rel: defaultLinkProps?.rel || 'noopener noreferrer',\r\n    },\r\n  } as SlateElement;\r\n\r\n  if (isCollapsed) {\r\n    Transforms.insertNodes(slate, link);\r\n  } else {\r\n    Transforms.wrapNodes(slate, link, { split: true });\r\n    Transforms.collapse(slate, { edge: 'end' });\r\n  }\r\n};\r\n\r\nexport const withInlines = (editor: YooEditor, slate: SlateEditor) => {\r\n  const { insertData, insertText } = slate;\r\n\r\n  slate.insertText = (text) => {\r\n    if (text && isUrl(text)) {\r\n      addLink(editor, slate, text);\r\n    } else {\r\n      insertText(text);\r\n    }\r\n  };\r\n\r\n  slate.insertData = (data) => {\r\n    const text = data.getData('text/plain');\r\n    if (text && isUrl(text)) {\r\n      addLink(editor, slate, text);\r\n    } else {\r\n      insertData(data);\r\n    }\r\n  };\r\n\r\n  return slate;\r\n};\r\n","import { useMemo } from 'react';\r\nimport { Editor, Element, Node, Operation, Path, Range, Transforms } from 'slate';\r\nimport { buildBlockData } from '../components/Editor/utils';\r\nimport { Blocks } from '../editor/blocks';\r\nimport { Paths } from '../editor/paths';\r\nimport { SlateEditor, YooEditor, YooptaBlockData } from '../editor/types';\r\nimport { EditorEventHandlers } from '../types/eventHandlers';\r\nimport { getRootBlockElementType } from '../utils/blockElements';\r\nimport { generateId } from '../utils/generateId';\r\nimport { HOTKEYS } from '../utils/hotkeys';\r\nimport { withInlines } from './extenstions/withInlines';\r\nimport { PluginEventHandlerOptions, PluginEvents } from './types';\r\nimport { SetSlateOperation, YooptaOperation } from '../editor/core/applyTransforms';\r\nimport { YooptaHistory } from '../editor/core/history';\r\n\r\nexport const useSlateEditor = (\r\n  id: string,\r\n  editor: YooEditor,\r\n  block: YooptaBlockData,\r\n  elements: any,\r\n  withExtensions: any,\r\n) => {\r\n  return useMemo(() => {\r\n    let slate = editor.blockEditorsMap[id];\r\n\r\n    const { normalizeNode, insertText, apply } = slate;\r\n    const elementTypes = Object.keys(elements);\r\n\r\n    elementTypes.forEach((elementType) => {\r\n      const nodeType = elements[elementType].props?.nodeType;\r\n\r\n      const isInline = nodeType === 'inline';\r\n      const isVoid = nodeType === 'void';\r\n      const isInlineVoid = nodeType === 'inlineVoid';\r\n\r\n      if (isInlineVoid) {\r\n        slate.markableVoid = (element) => element.type === elementType;\r\n      }\r\n\r\n      if (isVoid || isInlineVoid) {\r\n        slate.isVoid = (element) => element.type === elementType;\r\n      }\r\n\r\n      if (isInline || isInlineVoid) {\r\n        slate.isInline = (element) => element.type === elementType;\r\n\r\n        // [TODO] - Move it to Link plugin extension\r\n        slate = withInlines(editor, slate);\r\n      }\r\n    });\r\n\r\n    slate.insertText = (text) => {\r\n      const selectedPaths = Paths.getSelectedPaths(editor);\r\n      const path = Paths.getPath(editor);\r\n      if (Array.isArray(selectedPaths) && selectedPaths.length > 0) {\r\n        editor.setPath({ current: path });\r\n      }\r\n\r\n      insertText(text);\r\n    };\r\n\r\n    // This normalization is needed to validate the elements structure\r\n    slate.normalizeNode = (entry) => {\r\n      const [node, path] = entry;\r\n      const blockElements = editor.blocks[block.type].elements;\r\n\r\n      // Normalize only `simple` block elements.\r\n      // Simple elements are elements that have only one defined block element type.\r\n      // [TODO] - handle validation for complex block elements\r\n      if (Object.keys(blockElements).length > 1) {\r\n        return normalizeNode(entry);\r\n      }\r\n\r\n      if (Element.isElement(node)) {\r\n        const { type } = node;\r\n        const rootElementType = getRootBlockElementType(blockElements);\r\n\r\n        if (!elementTypes.includes(type)) {\r\n          Transforms.setNodes(slate, { type: rootElementType, props: { ...node.props } }, { at: path });\r\n          return;\r\n        }\r\n\r\n        if (node.type === rootElementType) {\r\n          for (const [child, childPath] of Node.children(slate, path)) {\r\n            if (Element.isElement(child) && !slate.isInline(child)) {\r\n              Transforms.unwrapNodes(slate, { at: childPath });\r\n              return;\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      normalizeNode(entry);\r\n    };\r\n\r\n    slate.apply = (op) => {\r\n      if (Operation.isSelectionOperation(op)) {\r\n        const selectedPaths = Paths.getSelectedPaths(editor);\r\n        const path = Paths.getPath(editor);\r\n\r\n        if (Array.isArray(selectedPaths) && slate.selection && Range.isExpanded(slate.selection)) {\r\n          editor.setPath({ current: path });\r\n        }\r\n      }\r\n\r\n      let save = editor.isSavingHistory();\r\n      if (typeof save === 'undefined') {\r\n        save = shouldSave(op);\r\n      }\r\n\r\n      if (save) {\r\n        const lastEditorBatch = editor.historyStack.undos[editor.historyStack.undos.length - 1];\r\n        if (!lastEditorBatch || lastEditorBatch?.operations[0]?.type !== 'set_slate') {\r\n          const setSlateOperation: SetSlateOperation = {\r\n            type: 'set_slate',\r\n            properties: {\r\n              slateOps: [op],\r\n              selectionBefore: slate.selection,\r\n            },\r\n            blockId: id,\r\n            slate: slate,\r\n          };\r\n\r\n          editor.applyTransforms([setSlateOperation], { source: 'api', validatePaths: false });\r\n          apply(op);\r\n          return;\r\n        }\r\n\r\n        const lastSlateOps = (lastEditorBatch?.operations[0] as SetSlateOperation)?.properties?.slateOps;\r\n        const lastOp = lastSlateOps && lastSlateOps[lastSlateOps.length - 1];\r\n        let merge = shouldMerge(op, lastOp);\r\n\r\n        if (slate.operations.length !== 0) {\r\n          merge = true;\r\n        }\r\n\r\n        if (merge) {\r\n          if (lastOp !== op) {\r\n            lastSlateOps.push(op);\r\n          }\r\n        } else {\r\n          const batch = {\r\n            operations: [op],\r\n            selectionBefore: slate.selection,\r\n          };\r\n\r\n          const setSlateOperation: SetSlateOperation = {\r\n            type: 'set_slate',\r\n            properties: {\r\n              slateOps: batch.operations,\r\n              selectionBefore: batch.selectionBefore,\r\n            },\r\n            blockId: id,\r\n            slate: slate,\r\n          };\r\n\r\n          editor.applyTransforms([setSlateOperation], { source: 'api', validatePaths: false });\r\n        }\r\n      }\r\n\r\n      apply(op);\r\n    };\r\n\r\n    if (withExtensions) {\r\n      slate = withExtensions(slate, editor, id);\r\n    }\r\n\r\n    return slate;\r\n  }, []);\r\n};\r\n\r\nexport const useEventHandlers = (\r\n  events: PluginEvents | undefined,\r\n  editor: YooEditor,\r\n  block: YooptaBlockData,\r\n  slate: SlateEditor,\r\n) => {\r\n  return useMemo<EditorEventHandlers>(() => {\r\n    if (!events || editor.readOnly) return {};\r\n    const { onBeforeCreate, onDestroy, onCreate, ...eventHandlers } = events || {};\r\n\r\n    const eventHandlersOptions: PluginEventHandlerOptions = {\r\n      hotkeys: HOTKEYS,\r\n      currentBlock: block,\r\n      defaultBlock: Blocks.buildBlockData({ id: generateId() }),\r\n    };\r\n    const eventHandlersMap = {};\r\n\r\n    Object.keys(eventHandlers).forEach((eventType) => {\r\n      eventHandlersMap[eventType] = function handler(event) {\r\n        if (eventHandlers[eventType]) {\r\n          const handler = eventHandlers[eventType](editor, slate, eventHandlersOptions);\r\n          handler(event);\r\n        }\r\n      };\r\n    });\r\n\r\n    return eventHandlersMap;\r\n  }, [events, editor, block]);\r\n};\r\n\r\nconst shouldSave = (op: Operation): boolean => {\r\n  if (op.type === 'set_selection') {\r\n    return false;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\nconst shouldMerge = (op: Operation, prev: Operation | undefined): boolean => {\r\n  if (prev === op) return true;\r\n\r\n  if (\r\n    prev &&\r\n    op.type === 'insert_text' &&\r\n    prev.type === 'insert_text' &&\r\n    op.offset === prev.offset + prev.text.length &&\r\n    Path.equals(op.path, prev.path)\r\n  ) {\r\n    return true;\r\n  }\r\n\r\n  if (\r\n    prev &&\r\n    op.type === 'remove_text' &&\r\n    prev.type === 'remove_text' &&\r\n    op.offset + op.text.length === prev.offset &&\r\n    Path.equals(op.path, prev.path)\r\n  ) {\r\n    return true;\r\n  }\r\n\r\n  return false;\r\n};\r\n","import React, { memo, useCallback, useMemo, useRef } from 'react';\r\nimport { DefaultElement, Editable, ReactEditor, RenderElementProps, Slate } from 'slate-react';\r\nimport { useYooptaEditor, useBlockData } from '../contexts/YooptaContext/YooptaContext';\r\nimport { EVENT_HANDLERS } from '../handlers';\r\nimport { YooptaMark } from '../marks';\r\n\r\nimport { ExtendedLeafProps, PluginCustomEditorRenderProps, Plugin, PluginEvents } from './types';\r\nimport { EditorEventHandlers } from '../types/eventHandlers';\r\nimport { Editor, NodeEntry, Path, Range, Selection } from 'slate';\r\nimport { TextLeaf } from '../components/TextLeaf/TextLeaf';\r\n\r\nimport { IS_FOCUSED_EDITOR } from '../utils/weakMaps';\r\nimport { deserializeHTML } from '../parsers/deserializeHTML';\r\nimport { useEventHandlers, useSlateEditor } from './hooks';\r\nimport { SlateElement } from '../editor/types';\r\n\r\ntype Props<TElementMap extends Record<string, SlateElement>, TOptions> = Plugin<TElementMap, TOptions> & {\r\n  id: string;\r\n  marks?: YooptaMark<any>[];\r\n  options: Plugin<TElementMap, TOptions>['options'];\r\n  placeholder?: string;\r\n  events?: PluginEvents;\r\n};\r\n\r\nconst getMappedElements = (elements) => {\r\n  const mappedElements = {};\r\n  Object.keys(elements).forEach((type) => (mappedElements[type] = elements[type].render));\r\n  return mappedElements;\r\n};\r\n\r\nconst getMappedMarks = (marks?: YooptaMark<any>[]) => {\r\n  const mappedMarks = {};\r\n  if (!marks) return mappedMarks;\r\n\r\n  marks.forEach((mark) => (mappedMarks[mark.type] = mark));\r\n  return mappedMarks;\r\n};\r\n\r\nconst SlateEditorComponent = <TElementMap extends Record<string, SlateElement>, TOptions>({\r\n  id,\r\n  customEditor,\r\n  elements,\r\n  marks,\r\n  events,\r\n  options,\r\n  extensions: withExtensions,\r\n  placeholder = `Type '/' for commands`,\r\n}: Props<TElementMap, TOptions>) => {\r\n  const editor = useYooptaEditor();\r\n  const block = useBlockData(id);\r\n  let initialValue = useRef(block.value).current;\r\n  const ELEMENTS_MAP = useMemo(() => getMappedElements(elements), [elements]);\r\n  const MARKS_MAP = useMemo(() => getMappedMarks(marks), [marks]);\r\n\r\n  const slate = useSlateEditor(id, editor, block, elements, withExtensions);\r\n  const eventHandlers = useEventHandlers(events, editor, block, slate);\r\n\r\n  const onChange = useCallback(\r\n    (value) => {\r\n      if (editor.readOnly) return;\r\n\r\n      // @ts-ignore - fixme\r\n      if (window.scheduler) {\r\n        // @ts-ignore - fixme\r\n        window.scheduler.postTask(() => editor.updateBlock(id, { value }), { priority: 'background' });\r\n      } else {\r\n        editor.updateBlock(id, { value });\r\n      }\r\n    },\r\n    [id],\r\n  );\r\n\r\n  const onSelectionChange = useCallback(\r\n    (selection: Selection) => {\r\n      if (editor.readOnly) return;\r\n\r\n      editor.setPath({ current: editor.path.current, selected: editor.path.selected, selection: selection });\r\n    },\r\n    [editor.readOnly],\r\n  );\r\n\r\n  const renderElement = useCallback(\r\n    (elementProps: RenderElementProps) => {\r\n      const ElementComponent = ELEMENTS_MAP[elementProps.element.type];\r\n      const { attributes, ...props } = elementProps;\r\n      attributes['data-element-type'] = props.element.type;\r\n\r\n      if (!ElementComponent) return <DefaultElement {...props} attributes={attributes} />;\r\n\r\n      return (\r\n        <ElementComponent {...props} attributes={attributes} blockId={id} HTMLAttributes={options?.HTMLAttributes} />\r\n      );\r\n    },\r\n    [elements],\r\n  );\r\n\r\n  const renderLeaf = useCallback(\r\n    (props: ExtendedLeafProps<any, any>) => {\r\n      let { children, leaf, attributes } = props;\r\n      const { text, ...formats } = leaf;\r\n\r\n      const isCurrentPath = editor.path.current === block.meta.order;\r\n\r\n      if (formats) {\r\n        Object.keys(formats).forEach((format) => {\r\n          const mark = MARKS_MAP[format];\r\n          if (mark) children = mark.render({ children, leaf });\r\n        });\r\n      }\r\n\r\n      const isParentElementVoid = props.children?.props?.parent?.props?.nodeType === 'void';\r\n      const showPlaceholder = !isParentElementVoid && isCurrentPath && leaf.withPlaceholder;\r\n\r\n      return (\r\n        <TextLeaf attributes={attributes} placeholder={showPlaceholder ? placeholder : undefined}>\r\n          {children}\r\n        </TextLeaf>\r\n      );\r\n    },\r\n    [marks],\r\n  );\r\n\r\n  const onKeyDown = useCallback(\r\n    (event: React.KeyboardEvent) => {\r\n      if (editor.readOnly) return;\r\n\r\n      eventHandlers.onKeyDown?.(event);\r\n      EVENT_HANDLERS.onKeyDown(editor)(event);\r\n    },\r\n    [eventHandlers.onKeyDown, editor.readOnly, editor.path.current, block.meta.order],\r\n  );\r\n\r\n  const onKeyUp = useCallback(\r\n    (event: React.KeyboardEvent) => {\r\n      if (editor.readOnly) return;\r\n\r\n      eventHandlers?.onKeyUp?.(event);\r\n    },\r\n    [eventHandlers.onKeyUp, editor.readOnly],\r\n  );\r\n\r\n  const onBlur = useCallback(\r\n    (event: React.FocusEvent) => {\r\n      if (editor.readOnly) return;\r\n\r\n      event.preventDefault();\r\n      eventHandlers?.onBlur?.(event);\r\n    },\r\n    [eventHandlers.onBlur, editor.readOnly],\r\n  );\r\n\r\n  const onFocus = useCallback(\r\n    (event: React.FocusEvent) => {\r\n      if (editor.readOnly) return;\r\n\r\n      if (!editor.isFocused()) {\r\n        IS_FOCUSED_EDITOR.set(editor, true);\r\n        // [TODO] - as test\r\n        editor.emit('focus', true);\r\n      }\r\n      eventHandlers?.onFocus?.(event);\r\n    },\r\n    [eventHandlers.onFocus, editor.readOnly],\r\n  );\r\n\r\n  const onPaste = useCallback(\r\n    (event: React.ClipboardEvent) => {\r\n      if (editor.readOnly) return;\r\n      eventHandlers?.onPaste?.(event);\r\n\r\n      const data = event.clipboardData;\r\n      const html = data.getData('text/html');\r\n\r\n      const parsedHTML = new DOMParser().parseFromString(html, 'text/html');\r\n\r\n      if (parsedHTML.body.childNodes.length > 0) {\r\n        const blocks = deserializeHTML(editor, parsedHTML.body);\r\n\r\n        // If no blocks from HTML, then paste as plain text using default behavior from Slate\r\n        if (blocks.length > 0 && editor.path.current !== null) {\r\n          event.preventDefault();\r\n\r\n          let shouldInsertAfterSelection = false;\r\n          let shouldDeleteCurrentBlock = false;\r\n\r\n          if (slate && slate.selection) {\r\n            const parentPath = Path.parent(slate.selection.anchor.path);\r\n            const text = Editor.string(slate, parentPath).trim();\r\n            const isStart = Editor.isStart(slate, slate.selection.anchor, parentPath);\r\n            shouldDeleteCurrentBlock = text === '' && isStart;\r\n            shouldInsertAfterSelection = !isStart || text.length > 0;\r\n\r\n            ReactEditor.blur(slate);\r\n          }\r\n\r\n          const insertPathIndex = editor.path.current;\r\n          if (insertPathIndex === null) return;\r\n\r\n          // [TEST]\r\n          editor.batchOperations(() => {\r\n            const newPaths: number[] = [];\r\n\r\n            if (shouldDeleteCurrentBlock) {\r\n              editor.deleteBlock({ at: insertPathIndex });\r\n            }\r\n\r\n            blocks.forEach((block, idx) => {\r\n              let insertBlockPath = shouldInsertAfterSelection ? insertPathIndex + idx + 1 : insertPathIndex + idx;\r\n              newPaths.push(insertBlockPath);\r\n\r\n              const { type, ...blockData } = block;\r\n              editor.insertBlock(block.type, { at: insertBlockPath, focus: false, blockData });\r\n            });\r\n\r\n            // [TEST]\r\n            editor.setPath({ current: null, selected: newPaths });\r\n          });\r\n\r\n          return;\r\n        }\r\n      }\r\n    },\r\n    [eventHandlers.onPaste, editor.readOnly],\r\n  );\r\n\r\n  const decorate = useCallback(\r\n    (nodeEntry: NodeEntry) => {\r\n      const ranges = [] as NodeEntry[] & { withPlaceholder?: boolean }[];\r\n      if (editor.readOnly) return ranges;\r\n\r\n      const [node, path] = nodeEntry;\r\n      const isCurrent = editor.path.current === block.meta.order;\r\n\r\n      if (slate.selection && isCurrent) {\r\n        if (\r\n          !Editor.isEditor(node) &&\r\n          Editor.string(slate, [path[0]]) === '' &&\r\n          Range.includes(slate.selection, path) &&\r\n          Range.isCollapsed(slate.selection)\r\n        ) {\r\n          ranges.push({\r\n            ...slate.selection,\r\n            withPlaceholder: true,\r\n          });\r\n        }\r\n      }\r\n\r\n      return ranges;\r\n    },\r\n    [editor.readOnly, editor.path.current, block.meta.order],\r\n  );\r\n\r\n  return (\r\n    <SlateEditorInstance\r\n      id={id}\r\n      slate={slate}\r\n      initialValue={initialValue}\r\n      onChange={onChange}\r\n      onSelectionChange={onSelectionChange}\r\n      decorate={decorate}\r\n      renderLeaf={renderLeaf}\r\n      renderElement={renderElement}\r\n      eventHandlers={eventHandlers}\r\n      onKeyDown={onKeyDown}\r\n      onKeyUp={onKeyUp}\r\n      onFocus={onFocus}\r\n      onBlur={onBlur}\r\n      customEditor={customEditor}\r\n      readOnly={editor.readOnly}\r\n      onPaste={onPaste}\r\n    />\r\n  );\r\n};\r\n\r\ntype SlateEditorInstanceProps = {\r\n  id: string;\r\n  slate: any;\r\n  readOnly: boolean;\r\n  initialValue: any;\r\n  onChange: (value: any) => void;\r\n  onSelectionChange: (selection: Selection) => void;\r\n  renderLeaf: (props: ExtendedLeafProps<any, any>) => JSX.Element;\r\n  renderElement: (props: RenderElementProps) => JSX.Element;\r\n  eventHandlers: EditorEventHandlers;\r\n  onKeyDown: (event: React.KeyboardEvent) => void;\r\n  onKeyUp: (event: React.KeyboardEvent) => void;\r\n  onFocus: (event: React.FocusEvent) => void;\r\n  onBlur: (event: React.FocusEvent) => void;\r\n  onPaste: (event: React.ClipboardEvent) => void;\r\n  customEditor?: (props: PluginCustomEditorRenderProps) => JSX.Element;\r\n  decorate: (nodeEntry: NodeEntry) => any[];\r\n};\r\n\r\n// [TODO] - no need memo\r\nconst SlateEditorInstance = memo<SlateEditorInstanceProps>(\r\n  ({\r\n    id,\r\n    slate,\r\n    initialValue,\r\n    onChange,\r\n    renderLeaf,\r\n    renderElement,\r\n    eventHandlers,\r\n    onKeyDown,\r\n    onKeyUp,\r\n    onFocus,\r\n    onSelectionChange,\r\n    onPaste,\r\n    customEditor,\r\n    decorate,\r\n    readOnly,\r\n  }) => {\r\n    if (typeof customEditor === 'function') {\r\n      return customEditor({ blockId: id });\r\n    }\r\n\r\n    return (\r\n      <Slate\r\n        key={`slate-${id}`}\r\n        editor={slate}\r\n        initialValue={initialValue}\r\n        onValueChange={onChange}\r\n        onSelectionChange={onSelectionChange}\r\n      >\r\n        <Editable\r\n          key={`editable-${id}`}\r\n          renderElement={renderElement}\r\n          renderLeaf={renderLeaf}\r\n          className=\"yoopta-slate\"\r\n          spellCheck\r\n          {...eventHandlers}\r\n          onKeyDown={onKeyDown}\r\n          onKeyUp={onKeyUp}\r\n          onFocus={onFocus}\r\n          decorate={decorate}\r\n          // [TODO] - carefully check onBlur, e.x. transforms using functions, e.x. highlight update\r\n          // onBlur={onBlur}\r\n          readOnly={readOnly}\r\n          onPaste={onPaste}\r\n        />\r\n      </Slate>\r\n    );\r\n  },\r\n);\r\n\r\nSlateEditorInstance.displayName = 'SlateEditorInstance';\r\n\r\nexport { SlateEditorComponent };\r\n","import { YooEditor } from '../../editor/types';\r\nimport { KeyboardSensor, PointerSensor, useSensor, useSensors, DragEndEvent, DragStartEvent } from '@dnd-kit/core';\r\nimport { sortableKeyboardCoordinates } from '@dnd-kit/sortable';\r\nimport { useCallback } from 'react';\r\n\r\nexport const useYooptaDragDrop = ({ editor }: { editor: YooEditor }) => {\r\n  const sensors = useSensors(\r\n    useSensor(PointerSensor, {\r\n      activationConstraint: {\r\n        distance: 20,\r\n      },\r\n    }),\r\n    useSensor(KeyboardSensor, {\r\n      coordinateGetter: sortableKeyboardCoordinates,\r\n    }),\r\n  );\r\n\r\n  const handleDragEnd = useCallback((event: DragEndEvent) => {\r\n    const { active, over } = event;\r\n\r\n    if (active && over && active.id !== over.id) {\r\n      const newPluginPosition = editor.children[over.id].meta.order;\r\n      // [TEST]\r\n      editor.moveBlock(active.id as string, newPluginPosition);\r\n    }\r\n  }, []);\r\n\r\n  const handleDragStart = useCallback((event: DragStartEvent) => {\r\n    editor.setPath({ current: null });\r\n  }, []);\r\n\r\n  return { sensors, handleDragEnd, handleDragStart };\r\n};\r\n","<svg viewBox=\"0 0 10 10\" fill=\"currentColor\" style=\"width: 14px; height: 14px; display: block; flex-shrink: 0; backface-visibility: hidden;\"><path d=\"M3,2 C2.44771525,2 2,1.55228475 2,1 C2,0.44771525 2.44771525,0 3,0 C3.55228475,0 4,0.44771525 4,1 C4,1.55228475 3.55228475,2 3,2 Z M3,6 C2.44771525,6 2,5.55228475 2,5 C2,4.44771525 2.44771525,4 3,4 C3.55228475,4 4,4.44771525 4,5 C4,5.55228475 3.55228475,6 3,6 Z M3,10 C2.44771525,10 2,9.55228475 2,9 C2,8.44771525 2.44771525,8 3,8 C3.55228475,8 4,8.44771525 4,9 C4,9.55228475 3.55228475,10 3,10 Z M7,2 C6.44771525,2 6,1.55228475 6,1 C6,0.44771525 6.44771525,0 7,0 C7.55228475,0 8,0.44771525 8,1 C8,1.55228475 7.55228475,2 7,2 Z M7,6 C6.44771525,6 6,5.55228475 6,5 C6,4.44771525 6.44771525,4 7,4 C7.55228475,4 8,4.44771525 8,5 C8,5.55228475 7.55228475,6 7,6 Z M7,10 C6.44771525,10 6,9.55228475 6,9 C6,8.44771525 6.44771525,8 7,8 C7.55228475,8 8,8.44771525 8,9 C8,9.55228475 7.55228475,10 7,10 Z\"></path></svg>","<svg viewBox=\"0 0 16 16\" fill=\"currentColor\" style=\"width: 16px; height: 16px; display: block; flex-shrink: 0; backface-visibility: hidden;\"><path d=\"M7.977 14.963c.407 0 .747-.324.747-.723V8.72h5.362c.399 0 .74-.34.74-.747a.746.746 0 00-.74-.738H8.724V1.706c0-.398-.34-.722-.747-.722a.732.732 0 00-.739.722v5.529h-5.37a.746.746 0 00-.74.738c0 .407.341.747.74.747h5.37v5.52c0 .399.332.723.739.723z\"></path></svg>","<svg viewBox=\"0 0 16 16\" class=\"turn_svg__loop\" style=\"width: 16px; height: 16px; display: block; fill: currentcolor; flex-shrink: 0; backface-visibility: hidden;\"><path d=\"M5.804 3.123c.006.38.254.622.673.622h4.887c.59 0 .914.305.914.92v6.628l-.901-.978-.514-.514c-.267-.254-.629-.273-.895-.013-.254.26-.248.635.012.895l2.165 2.158c.476.47 1.022.47 1.498 0l2.165-2.158c.26-.26.266-.635.012-.895-.266-.26-.628-.241-.895.013l-.514.514-.895.971V4.564c0-1.358-.71-2.063-2.082-2.063H6.477c-.42 0-.68.241-.673.622ZM.186 7.06c.26.266.622.247.889-.013l.52-.508.889-.971v6.722c0 1.359.71 2.063 2.082 2.063h4.957c.42 0 .68-.241.673-.622-.006-.387-.254-.622-.673-.622h-4.88c-.591 0-.915-.311-.915-.927V5.554l.895.984.52.508c.26.26.629.28.89.013.26-.26.253-.629-.013-.89L3.855 4.013c-.476-.476-1.016-.476-1.492 0L.2 6.17c-.267.26-.273.628-.013.889Z\"></path></svg>","import * as React from 'react';\nimport { IconProps } from './types';\n\nexport const CopyIcon = React.forwardRef<SVGSVGElement, IconProps>(\n  ({ color = 'currentColor', ...props }, forwardedRef) => {\n    return (\n      <svg\n        width=\"15\"\n        height=\"15\"\n        viewBox=\"0 0 15 15\"\n        fill=\"none\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        {...props}\n        ref={forwardedRef}\n      >\n        <path\n          d=\"M1 9.50006C1 10.3285 1.67157 11.0001 2.5 11.0001H4L4 10.0001H2.5C2.22386 10.0001 2 9.7762 2 9.50006L2 2.50006C2 2.22392 2.22386 2.00006 2.5 2.00006L9.5 2.00006C9.77614 2.00006 10 2.22392 10 2.50006V4.00002H5.5C4.67158 4.00002 4 4.67159 4 5.50002V12.5C4 13.3284 4.67158 14 5.5 14H12.5C13.3284 14 14 13.3284 14 12.5V5.50002C14 4.67159 13.3284 4.00002 12.5 4.00002H11V2.50006C11 1.67163 10.3284 1.00006 9.5 1.00006H2.5C1.67157 1.00006 1 1.67163 1 2.50006V9.50006ZM5 5.50002C5 5.22388 5.22386 5.00002 5.5 5.00002H12.5C12.7761 5.00002 13 5.22388 13 5.50002V12.5C13 12.7762 12.7761 13 12.5 13H5.5C5.22386 13 5 12.7762 5 12.5V5.50002Z\"\n          fill={color}\n          fillRule=\"evenodd\"\n          clipRule=\"evenodd\"\n        />\n      </svg>\n    );\n  }\n);\n\nexport default CopyIcon;\n","import * as React from 'react';\nimport { IconProps } from './types';\n\nexport const DotsHorizontalIcon = React.forwardRef<SVGSVGElement, IconProps>(\n  ({ color = 'currentColor', ...props }, forwardedRef) => {\n    return (\n      <svg\n        width=\"15\"\n        height=\"15\"\n        viewBox=\"0 0 15 15\"\n        fill=\"none\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        {...props}\n        ref={forwardedRef}\n      >\n        <path\n          d=\"M3.625 7.5C3.625 8.12132 3.12132 8.625 2.5 8.625C1.87868 8.625 1.375 8.12132 1.375 7.5C1.375 6.87868 1.87868 6.375 2.5 6.375C3.12132 6.375 3.625 6.87868 3.625 7.5ZM8.625 7.5C8.625 8.12132 8.12132 8.625 7.5 8.625C6.87868 8.625 6.375 8.12132 6.375 7.5C6.375 6.87868 6.87868 6.375 7.5 6.375C8.12132 6.375 8.625 6.87868 8.625 7.5ZM12.5 8.625C13.1213 8.625 13.625 8.12132 13.625 7.5C13.625 6.87868 13.1213 6.375 12.5 6.375C11.8787 6.375 11.375 6.87868 11.375 7.5C11.375 8.12132 11.8787 8.625 12.5 8.625Z\"\n          fill={color}\n          fillRule=\"evenodd\"\n          clipRule=\"evenodd\"\n        />\n      </svg>\n    );\n  }\n);\n\nexport default DotsHorizontalIcon;\n","import * as React from 'react';\nimport { IconProps } from './types';\n\nexport const Link2Icon = React.forwardRef<SVGSVGElement, IconProps>(\n  ({ color = 'currentColor', ...props }, forwardedRef) => {\n    return (\n      <svg\n        width=\"15\"\n        height=\"15\"\n        viewBox=\"0 0 15 15\"\n        fill=\"none\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        {...props}\n        ref={forwardedRef}\n      >\n        <path\n          d=\"M8.51194 3.00541C9.18829 2.54594 10.0435 2.53694 10.6788 2.95419C10.8231 3.04893 10.9771 3.1993 11.389 3.61119C11.8009 4.02307 11.9513 4.17714 12.046 4.32141C12.4633 4.95675 12.4543 5.81192 11.9948 6.48827C11.8899 6.64264 11.7276 6.80811 11.3006 7.23511L10.6819 7.85383C10.4867 8.04909 10.4867 8.36567 10.6819 8.56093C10.8772 8.7562 11.1938 8.7562 11.389 8.56093L12.0077 7.94221L12.0507 7.89929C12.4203 7.52976 12.6568 7.2933 12.822 7.0502C13.4972 6.05623 13.5321 4.76252 12.8819 3.77248C12.7233 3.53102 12.4922 3.30001 12.1408 2.94871L12.0961 2.90408L12.0515 2.85942C11.7002 2.508 11.4692 2.27689 11.2277 2.11832C10.2377 1.46813 8.94398 1.50299 7.95001 2.17822C7.70691 2.34336 7.47044 2.57991 7.1009 2.94955L7.058 2.99247L6.43928 3.61119C6.24401 3.80645 6.24401 4.12303 6.43928 4.31829C6.63454 4.51355 6.95112 4.51355 7.14638 4.31829L7.7651 3.69957C8.1921 3.27257 8.35757 3.11027 8.51194 3.00541ZM4.31796 7.14672C4.51322 6.95146 4.51322 6.63487 4.31796 6.43961C4.12269 6.24435 3.80611 6.24435 3.61085 6.43961L2.99213 7.05833L2.94922 7.10124C2.57957 7.47077 2.34303 7.70724 2.17788 7.95035C1.50265 8.94432 1.4678 10.238 2.11799 11.2281C2.27656 11.4695 2.50766 11.7005 2.8591 12.0518L2.90374 12.0965L2.94837 12.1411C3.29967 12.4925 3.53068 12.7237 3.77214 12.8822C4.76219 13.5324 6.05589 13.4976 7.04986 12.8223C7.29296 12.6572 7.52943 12.4206 7.89896 12.051L7.89897 12.051L7.94188 12.0081L8.5606 11.3894C8.75586 11.1941 8.75586 10.8775 8.5606 10.6823C8.36533 10.487 8.04875 10.487 7.85349 10.6823L7.23477 11.301C6.80777 11.728 6.6423 11.8903 6.48794 11.9951C5.81158 12.4546 4.95642 12.4636 4.32107 12.0464C4.17681 11.9516 4.02274 11.8012 3.61085 11.3894C3.19896 10.9775 3.0486 10.8234 2.95385 10.6791C2.53661 10.0438 2.54561 9.18863 3.00507 8.51227C3.10993 8.35791 3.27224 8.19244 3.69924 7.76544L4.31796 7.14672ZM9.62172 6.08558C9.81698 5.89032 9.81698 5.57373 9.62172 5.37847C9.42646 5.18321 9.10988 5.18321 8.91461 5.37847L5.37908 8.91401C5.18382 9.10927 5.18382 9.42585 5.37908 9.62111C5.57434 9.81637 5.89092 9.81637 6.08619 9.62111L9.62172 6.08558Z\"\n          fill={color}\n          fillRule=\"evenodd\"\n          clipRule=\"evenodd\"\n        />\n      </svg>\n    );\n  }\n);\n\nexport default Link2Icon;\n","import * as React from 'react';\nimport { IconProps } from './types';\n\nexport const TrashIcon = React.forwardRef<SVGSVGElement, IconProps>(\n  ({ color = 'currentColor', ...props }, forwardedRef) => {\n    return (\n      <svg\n        width=\"15\"\n        height=\"15\"\n        viewBox=\"0 0 15 15\"\n        fill=\"none\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        {...props}\n        ref={forwardedRef}\n      >\n        <path\n          d=\"M5.5 1C5.22386 1 5 1.22386 5 1.5C5 1.77614 5.22386 2 5.5 2H9.5C9.77614 2 10 1.77614 10 1.5C10 1.22386 9.77614 1 9.5 1H5.5ZM3 3.5C3 3.22386 3.22386 3 3.5 3H5H10H11.5C11.7761 3 12 3.22386 12 3.5C12 3.77614 11.7761 4 11.5 4H11V12C11 12.5523 10.5523 13 10 13H5C4.44772 13 4 12.5523 4 12V4L3.5 4C3.22386 4 3 3.77614 3 3.5ZM5 4H10V12H5V4Z\"\n          fill={color}\n          fillRule=\"evenodd\"\n          clipRule=\"evenodd\"\n        />\n      </svg>\n    );\n  }\n);\n\nexport default TrashIcon;\n","\nmodule.exports = function () {\n  var selection = document.getSelection();\n  if (!selection.rangeCount) {\n    return function () {};\n  }\n  var active = document.activeElement;\n\n  var ranges = [];\n  for (var i = 0; i < selection.rangeCount; i++) {\n    ranges.push(selection.getRangeAt(i));\n  }\n\n  switch (active.tagName.toUpperCase()) { // .toUpperCase handles XHTML\n    case 'INPUT':\n    case 'TEXTAREA':\n      active.blur();\n      break;\n\n    default:\n      active = null;\n      break;\n  }\n\n  selection.removeAllRanges();\n  return function () {\n    selection.type === 'Caret' &&\n    selection.removeAllRanges();\n\n    if (!selection.rangeCount) {\n      ranges.forEach(function(range) {\n        selection.addRange(range);\n      });\n    }\n\n    active &&\n    active.focus();\n  };\n};\n","\"use strict\";\n\nvar deselectCurrent = require(\"toggle-selection\");\n\nvar clipboardToIE11Formatting = {\n  \"text/plain\": \"Text\",\n  \"text/html\": \"Url\",\n  \"default\": \"Text\"\n}\n\nvar defaultMessage = \"Copy to clipboard: #{key}, Enter\";\n\nfunction format(message) {\n  var copyKey = (/mac os x/i.test(navigator.userAgent) ? \"⌘\" : \"Ctrl\") + \"+C\";\n  return message.replace(/#{\\s*key\\s*}/g, copyKey);\n}\n\nfunction copy(text, options) {\n  var debug,\n    message,\n    reselectPrevious,\n    range,\n    selection,\n    mark,\n    success = false;\n  if (!options) {\n    options = {};\n  }\n  debug = options.debug || false;\n  try {\n    reselectPrevious = deselectCurrent();\n\n    range = document.createRange();\n    selection = document.getSelection();\n\n    mark = document.createElement(\"span\");\n    mark.textContent = text;\n    // avoid screen readers from reading out loud the text\n    mark.ariaHidden = \"true\"\n    // reset user styles for span element\n    mark.style.all = \"unset\";\n    // prevents scrolling to the end of the page\n    mark.style.position = \"fixed\";\n    mark.style.top = 0;\n    mark.style.clip = \"rect(0, 0, 0, 0)\";\n    // used to preserve spaces and line breaks\n    mark.style.whiteSpace = \"pre\";\n    // do not inherit user-select (it may be `none`)\n    mark.style.webkitUserSelect = \"text\";\n    mark.style.MozUserSelect = \"text\";\n    mark.style.msUserSelect = \"text\";\n    mark.style.userSelect = \"text\";\n    mark.addEventListener(\"copy\", function(e) {\n      e.stopPropagation();\n      if (options.format) {\n        e.preventDefault();\n        if (typeof e.clipboardData === \"undefined\") { // IE 11\n          debug && console.warn(\"unable to use e.clipboardData\");\n          debug && console.warn(\"trying IE specific stuff\");\n          window.clipboardData.clearData();\n          var format = clipboardToIE11Formatting[options.format] || clipboardToIE11Formatting[\"default\"]\n          window.clipboardData.setData(format, text);\n        } else { // all other browsers\n          e.clipboardData.clearData();\n          e.clipboardData.setData(options.format, text);\n        }\n      }\n      if (options.onCopy) {\n        e.preventDefault();\n        options.onCopy(e.clipboardData);\n      }\n    });\n\n    document.body.appendChild(mark);\n\n    range.selectNodeContents(mark);\n    selection.addRange(range);\n\n    var successful = document.execCommand(\"copy\");\n    if (!successful) {\n      throw new Error(\"copy command was unsuccessful\");\n    }\n    success = true;\n  } catch (err) {\n    debug && console.error(\"unable to copy using execCommand: \", err);\n    debug && console.warn(\"trying IE specific stuff\");\n    try {\n      window.clipboardData.setData(options.format || \"text\", text);\n      options.onCopy && options.onCopy(window.clipboardData);\n      success = true;\n    } catch (err) {\n      debug && console.error(\"unable to copy using clipboardData: \", err);\n      debug && console.error(\"falling back to prompt\");\n      message = format(\"message\" in options ? options.message : defaultMessage);\n      window.prompt(message, text);\n    }\n  } finally {\n    if (selection) {\n      if (typeof selection.removeRange == \"function\") {\n        selection.removeRange(range);\n      } else {\n        selection.removeAllRanges();\n      }\n    }\n\n    if (mark) {\n      document.body.removeChild(mark);\n    }\n    reselectPrevious();\n  }\n\n  return success;\n}\n\nmodule.exports = copy;\n","import { FloatingOverlay } from '@floating-ui/react';\r\nimport { MouseEvent, ReactNode, forwardRef } from 'react';\r\n\r\ntype Props = {\r\n  children: ReactNode;\r\n  lockScroll?: boolean;\r\n  className?: string;\r\n  onClick?: (e: MouseEvent) => void;\r\n  onMouseDown?: (e: MouseEvent) => void;\r\n  style?: React.CSSProperties;\r\n};\r\n\r\nconst Overlay = ({ className, children, lockScroll = true, ...props }: Props) => {\r\n  const onMouseDown = (e: MouseEvent) => {\r\n    e.stopPropagation();\r\n    props.onMouseDown?.(e);\r\n  };\r\n\r\n  const onClick = (e: MouseEvent) => {\r\n    e.stopPropagation();\r\n    props.onClick?.(e);\r\n  };\r\n\r\n  return (\r\n    <FloatingOverlay\r\n      lockScroll={lockScroll}\r\n      className={className}\r\n      {...props}\r\n      onClick={onClick}\r\n      onMouseDown={onMouseDown}\r\n    >\r\n      {children}\r\n    </FloatingOverlay>\r\n  );\r\n};\r\n\r\nexport { Overlay };\r\n","import { FloatingPortal } from '@floating-ui/react';\r\nimport { MutableRefObject, ReactNode, useEffect, useRef, useState } from 'react';\r\nimport { useYooptaEditor } from '../../contexts/YooptaContext/YooptaContext';\r\n\r\ntype Props = {\r\n  children: ReactNode;\r\n  id: string;\r\n};\r\n\r\nconst Portal = (props: Props) => {\r\n  const [isMounted, setIsMounted] = useState(false);\r\n  const rootEl = useRef<HTMLElement | null>(null);\r\n  const editor = useYooptaEditor();\r\n\r\n  useEffect(() => {\r\n    setIsMounted(true);\r\n    const editorEl = editor.refElement;\r\n\r\n    if (!editorEl) return;\r\n\r\n    const overlays = editorEl.querySelector('.yoopta-overlays');\r\n    if (!overlays) {\r\n      rootEl.current = document.createElement('div');\r\n      rootEl.current.className = 'yoopta-overlays';\r\n      editorEl.appendChild(rootEl.current);\r\n    }\r\n\r\n    return () => {\r\n      if (rootEl.current) {\r\n        rootEl.current.remove();\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  if (!isMounted) return null;\r\n\r\n  return (\r\n    <FloatingPortal id={`${props.id}-${editor.id}`} root={rootEl.current || editor.refElement}>\r\n      {props.children}\r\n    </FloatingPortal>\r\n  );\r\n};\r\n\r\nexport { Portal };\r\n","import TurnIcon from './icons/turn.svg';\r\nimport { TrashIcon, CopyIcon, Link2Icon } from '@radix-ui/react-icons';\r\nimport { useYooptaEditor } from '../../contexts/YooptaContext/YooptaContext';\r\nimport { CSSProperties, useState } from 'react';\r\nimport { useFloating, offset, flip, shift, inline, autoUpdate, useTransitionStyles } from '@floating-ui/react';\r\nimport copy from 'copy-to-clipboard';\r\nimport { findPluginBlockByPath } from '../../utils/findPluginBlockByPath';\r\nimport { getRootBlockElement } from '../../utils/blockElements';\r\nimport { useYooptaTools } from '../../contexts/YooptaContext/ToolsContext';\r\nimport { buildActionMenuRenderProps } from './utils';\r\nimport { Overlay } from '../Overlay/Overlay';\r\nimport { Portal } from '../Portal/Portal';\r\n\r\nconst BlockOptionsMenuGroup = ({ children }) => <div className=\"yoopta-block-options-group\">{children}</div>;\r\n\r\nconst BlockOptionsMenuContent = ({ children }) => (\r\n  <div\r\n    onClick={(e) => e.stopPropagation()}\r\n    className=\"yoopta-block-options-menu-content data-[state=open]:yoo-editor-animate-in data-[state=closed]:yoo-editor-animate-out data-[state=closed]:yoo-editor-fade-out-0 data-[state=open]:yoo-editor-fade-in-0 data-[state=closed]:yoo-editor-zoom-out-95 data-[state=open]:yoo-editor-zoom-in-95 data-[side=bottom]:yoo-editor-slide-in-from-top-2 data-[side=left]:yoo-editor-slide-in-from-right-2 data-[side=right]:yoo-editor-slide-in-from-left-2 data-[side=top]:yoo-editor-slide-in-from-bottom-2\"\r\n  >\r\n    {children}\r\n  </div>\r\n);\r\n\r\nconst BlockOptionsMenuItem = ({ children }) => <div className=\"yoopta-block-options-item\">{children}</div>;\r\n\r\ntype BlockOptionsSeparatorProps = {\r\n  className?: string;\r\n};\r\n\r\nconst BlockOptionsSeparator = ({ className = '' }: BlockOptionsSeparatorProps) => (\r\n  <div className={`yoopta-block-options-separator ${className}`} />\r\n);\r\n\r\nexport type BlockOptionsProps = {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  refs: any;\r\n  style: CSSProperties;\r\n  children?: React.ReactNode;\r\n  actions?: ['delete', 'duplicate', 'turnInto', 'copy'] | null;\r\n};\r\n\r\nconst DEFAULT_ACTIONS: BlockOptionsProps['actions'] = ['delete', 'duplicate', 'turnInto', 'copy'];\r\n\r\nconst BlockOptions = ({ isOpen, onClose, refs, style, actions = DEFAULT_ACTIONS, children }: BlockOptionsProps) => {\r\n  const editor = useYooptaEditor();\r\n  const tools = useYooptaTools();\r\n  const [isActionMenuOpen, setIsActionMenuOpen] = useState(false);\r\n  const {\r\n    refs: actionMenuRefs,\r\n    floatingStyles: actionMenuFloatingStyles,\r\n    context,\r\n  } = useFloating({\r\n    placement: 'right',\r\n    open: isActionMenuOpen,\r\n    onOpenChange: setIsActionMenuOpen,\r\n    middleware: [inline(), flip(), shift(), offset(10)],\r\n    whileElementsMounted: autoUpdate,\r\n  });\r\n\r\n  const { isMounted: isActionMenuMounted, styles: actionMenuTransitionStyles } = useTransitionStyles(context, {\r\n    duration: 100,\r\n  });\r\n\r\n  if (!isOpen) return null;\r\n\r\n  const currentBlock = findPluginBlockByPath(editor, { at: editor.path.current });\r\n  const rootElement = getRootBlockElement(editor.blocks[currentBlock?.type || '']?.elements);\r\n  const isVoidElement = rootElement?.props?.nodeType === 'void';\r\n\r\n  const onDelete = () => {\r\n    editor.deleteBlock({ at: editor.path.current });\r\n    editor.setPath({ current: null });\r\n\r\n    onClose();\r\n  };\r\n\r\n  const onDuplicate = () => {\r\n    // [TEST]\r\n    if (typeof editor.path.current !== 'number') return;\r\n\r\n    editor.duplicateBlock({ original: { path: editor.path.current }, focus: true });\r\n\r\n    onClose();\r\n  };\r\n\r\n  const onCopy = () => {\r\n    const block = findPluginBlockByPath(editor);\r\n    if (block) {\r\n      copy(`${window.location.origin}${window.location.pathname}#${block.id}`);\r\n      editor.emit('block:copy', block);\r\n    }\r\n\r\n    onClose();\r\n  };\r\n\r\n  const ActionMenu = tools.ActionMenu;\r\n  const actionMenuStyles = { ...actionMenuFloatingStyles, ...actionMenuTransitionStyles };\r\n\r\n  const onCloseActionMenu = () => {\r\n    setIsActionMenuOpen(false);\r\n    onClose();\r\n  };\r\n\r\n  const actionMenuRenderProps = buildActionMenuRenderProps({ editor, view: 'small', onClose: onCloseActionMenu });\r\n\r\n  return (\r\n    // [TODO] - take care about SSR\r\n    <Portal id=\"yoo-block-options-portal\">\r\n      <Overlay lockScroll className=\"yoo-editor-z-[100]\" onClick={onClose}>\r\n        <div style={style} ref={refs.setFloating} contentEditable={false}>\r\n          <BlockOptionsMenuContent>\r\n            {actions !== null && (\r\n              <BlockOptionsMenuGroup>\r\n                <BlockOptionsMenuItem>\r\n                  <button type=\"button\" className=\"yoopta-block-options-button\" onClick={onDelete}>\r\n                    <TrashIcon className=\"yoo-editor-w-4 yoo-editor-h-4 yoo-editor-mr-2\" />\r\n                    Delete\r\n                  </button>\r\n                </BlockOptionsMenuItem>\r\n                <BlockOptionsMenuItem>\r\n                  <button type=\"button\" className=\"yoopta-block-options-button\" onClick={onDuplicate}>\r\n                    <CopyIcon className=\"yoo-editor-w-4 yoo-editor-h-4 yoo-editor-mr-2\" />\r\n                    Duplicate\r\n                  </button>\r\n                </BlockOptionsMenuItem>\r\n                {!!ActionMenu && !isVoidElement && !editor.blocks[currentBlock?.type || '']?.hasCustomEditor && (\r\n                  <BlockOptionsMenuItem>\r\n                    {isActionMenuMounted && (\r\n                      <Portal id=\"yoo-block-options-portal\">\r\n                        <Overlay lockScroll className=\"yoo-editor-z-[100]\" onClick={() => setIsActionMenuOpen(false)}>\r\n                          <div style={actionMenuStyles} ref={actionMenuRefs.setFloating}>\r\n                            {/* @ts-ignore - fixme */}\r\n                            <ActionMenu {...actionMenuRenderProps} />\r\n                          </div>\r\n                        </Overlay>\r\n                      </Portal>\r\n                    )}\r\n                    <button\r\n                      type=\"button\"\r\n                      className=\"yoopta-block-options-button\"\r\n                      ref={actionMenuRefs.setReference}\r\n                      onClick={() => setIsActionMenuOpen((open) => !open)}\r\n                    >\r\n                      <TurnIcon className=\"yoo-editor-w-4 yoo-editor-h-4 yoo-editor-mr-2\" />\r\n                      Turn into\r\n                    </button>\r\n                  </BlockOptionsMenuItem>\r\n                )}\r\n                <BlockOptionsMenuItem>\r\n                  <button type=\"button\" className=\"yoopta-block-options-button\" onClick={onCopy}>\r\n                    <Link2Icon className=\"yoo-editor-w-4 yoo-editor-h-4 yoo-editor-mr-2\" />\r\n                    Copy link to block\r\n                  </button>\r\n                </BlockOptionsMenuItem>\r\n              </BlockOptionsMenuGroup>\r\n            )}\r\n            {children}\r\n          </BlockOptionsMenuContent>\r\n        </div>\r\n      </Overlay>\r\n    </Portal>\r\n  );\r\n};\r\n\r\nexport { BlockOptions, BlockOptionsMenuContent, BlockOptionsMenuGroup, BlockOptionsMenuItem, BlockOptionsSeparator };\r\n","export type ThrottleOptions = {\r\n  leading?: boolean;\r\n  trailing?: boolean;\r\n};\r\n\r\nexport function throttle<T extends (...args: any[]) => any>(\r\n  func: T,\r\n  wait: number,\r\n  { leading = true, trailing = true }: ThrottleOptions = {},\r\n): T & { cancel: () => void } {\r\n  let lastCallTime = 0;\r\n  let timeout: NodeJS.Timeout | null = null;\r\n  let lastArgs: Parameters<T> | null = null;\r\n\r\n  const invokeFunc = (time: number) => {\r\n    func(...(lastArgs as Parameters<T>));\r\n    lastCallTime = time;\r\n    lastArgs = null;\r\n  };\r\n\r\n  const throttled = (...args: Parameters<T>) => {\r\n    const now = Date.now();\r\n\r\n    if (!lastCallTime && !leading) {\r\n      lastCallTime = now;\r\n    }\r\n\r\n    const remainingTime = wait - (now - lastCallTime);\r\n    lastArgs = args;\r\n\r\n    if (remainingTime <= 0 || remainingTime > wait) {\r\n      if (timeout) {\r\n        clearTimeout(timeout);\r\n        timeout = null;\r\n      }\r\n      invokeFunc(now);\r\n    } else if (!timeout && trailing) {\r\n      timeout = setTimeout(() => {\r\n        timeout = null;\r\n        if (trailing && lastArgs) {\r\n          invokeFunc(Date.now());\r\n        }\r\n      }, remainingTime);\r\n    }\r\n  };\r\n\r\n  throttled.cancel = () => {\r\n    if (timeout) {\r\n      clearTimeout(timeout);\r\n      timeout = null;\r\n    }\r\n    lastArgs = null;\r\n    lastCallTime = 0;\r\n  };\r\n\r\n  return throttled as T & { cancel: () => void };\r\n}\r\n","import { useState, useRef, useEffect, memo } from 'react';\r\nimport { YooEditor, YooptaBlockData } from '../../editor/types';\r\nimport DragIcon from './icons/drag.svg';\r\nimport PlusIcon from './icons/plus.svg';\r\nimport { generateId } from '../../utils/generateId';\r\nimport { findSlateBySelectionPath } from '../../utils/findSlateBySelectionPath';\r\nimport { getRootBlockElement } from '../../utils/blockElements';\r\nimport { ReactEditor } from 'slate-react';\r\nimport { Editor, Transforms } from 'slate';\r\nimport { BlockOptions } from '../../UI/BlockOptions/BlockOptions';\r\nimport { Blocks } from '../../editor/blocks';\r\nimport { Portal } from '../../UI/Portal/Portal';\r\nimport { useActionMenuToolRefs, useBlockOptionsRefs } from './hooks';\r\nimport { Overlay } from '../../UI/Overlay/Overlay';\r\nimport { throttle } from '../../utils/throttle';\r\n\r\ntype dragHandleProps = {\r\n  attributes: any;\r\n  listeners: any;\r\n  setActivatorNodeRef: any;\r\n};\r\n\r\ntype FloatingBlockActionsProps = {\r\n  editor: YooEditor;\r\n  dragHandleProps: dragHandleProps | null;\r\n};\r\n\r\ntype ActionStyles = {\r\n  position: 'fixed';\r\n  top: number;\r\n  left: number;\r\n  opacity: number;\r\n  transform: string;\r\n  transition: string;\r\n};\r\n\r\nconst INITIAL_STYLES: ActionStyles = {\r\n  position: 'fixed',\r\n  top: 0,\r\n  left: 0,\r\n  opacity: 0,\r\n  transform: 'scale(0.95) translateX(-46px)',\r\n  transition: 'opacity 150ms ease-out',\r\n};\r\n\r\nexport const FloatingBlockActions = memo(({ editor, dragHandleProps }: FloatingBlockActionsProps) => {\r\n  const [hoveredBlock, setHoveredBlock] = useState<YooptaBlockData | null>(null);\r\n  const blockActionsRef = useRef<HTMLDivElement>(null);\r\n  const [actionStyles, setActionStyles] = useState<ActionStyles>(INITIAL_STYLES);\r\n\r\n  const { attributes, listeners, setActivatorNodeRef } = dragHandleProps || {};\r\n\r\n  const { isBlockOptionsMounted, setIsBlockOptionsOpen, blockOptionsFloatingStyle, blockOptionsRefs } =\r\n    useBlockOptionsRefs();\r\n\r\n  const {\r\n    isActionMenuOpen,\r\n    actionMenuRefs,\r\n    hasActionMenu,\r\n    actionMenuStyles,\r\n    onChangeActionMenuOpen,\r\n    onCloseActionMenu,\r\n    actionMenuRenderProps,\r\n    ActionMenu,\r\n  } = useActionMenuToolRefs({ editor });\r\n\r\n  const updateBlockPosition = (blockElement: HTMLElement, blockData: YooptaBlockData) => {\r\n    setHoveredBlock(blockData);\r\n\r\n    const blockElementRect = blockElement.getBoundingClientRect();\r\n    const blockActionsWidth = blockActionsRef.current?.offsetWidth || 46;\r\n\r\n    setActionStyles((prev) => ({\r\n      ...prev,\r\n      top: blockElementRect.top + 2,\r\n      left: blockElementRect.left,\r\n      opacity: 1,\r\n      transform: `scale(1) translateX(-${blockActionsWidth}px)`,\r\n    }));\r\n  };\r\n\r\n  const hideBlockActions = () => {\r\n    setActionStyles((prev) => ({\r\n      ...prev,\r\n      opacity: 0,\r\n      transform: INITIAL_STYLES.transform,\r\n    }));\r\n\r\n    setTimeout(() => {\r\n      setHoveredBlock(null);\r\n    }, 150);\r\n  };\r\n\r\n  const handleMouseMove = (event: MouseEvent) => {\r\n    const isInsideEditor = editor.refElement?.contains(event.target as Node);\r\n\r\n    if (!isInsideEditor) return hideBlockActions();\r\n    if (editor.readOnly) return;\r\n\r\n    const target = event.target as HTMLElement;\r\n    const blockElement = target.closest('[data-yoopta-block]') as HTMLElement;\r\n\r\n    if (blockElement) {\r\n      const blockId = blockElement.getAttribute('data-yoopta-block-id');\r\n\r\n      if (blockId === hoveredBlock?.id) return;\r\n\r\n      const blockData = editor.children[blockId || ''];\r\n      if (blockData) updateBlockPosition(blockElement, blockData);\r\n    }\r\n  };\r\n\r\n  const throttledMouseMove = throttle(handleMouseMove, 100, { leading: true, trailing: true });\r\n\r\n  useEffect(() => {\r\n    document.addEventListener('scroll', hideBlockActions);\r\n    document.addEventListener('mousemove', throttledMouseMove);\r\n\r\n    return () => {\r\n      document.removeEventListener('scroll', hideBlockActions);\r\n      document.removeEventListener('mousemove', throttledMouseMove);\r\n      throttledMouseMove.cancel();\r\n    };\r\n  }, []);\r\n\r\n  const onPlusClick = () => {\r\n    const block = hoveredBlock;\r\n    if (!block) return;\r\n\r\n    const slate = Blocks.getBlockSlate(editor, { id: block.id });\r\n    const blockEntity = editor.blocks[block.type];\r\n    if (!slate) return;\r\n\r\n    const blockEl = document.querySelector(`[data-yoopta-block-id=\"${block.id}\"]`);\r\n    const rootElement = getRootBlockElement(blockEntity.elements);\r\n    let string: undefined | string;\r\n    if (!blockEntity.hasCustomEditor) {\r\n      string = Editor.string(slate, [0]);\r\n    }\r\n\r\n    const isEmptyString = typeof string === 'string' && string.trim().length === 0;\r\n    if (hasActionMenu && isEmptyString && rootElement?.props?.nodeType !== 'void') {\r\n      editor.setPath({ current: block.meta.order });\r\n      editor.focusBlock(block.id);\r\n      actionMenuRefs.setReference(blockEl);\r\n      onChangeActionMenuOpen(true);\r\n    } else {\r\n      const defaultBlock = Blocks.buildBlockData({ id: generateId() });\r\n      const nextPath = block.meta.order + 1;\r\n      editor.setPath({ current: block.meta.order });\r\n      editor.insertBlock(defaultBlock.type, { at: nextPath, focus: true });\r\n      if (hasActionMenu) {\r\n        setTimeout(() => {\r\n          if (blockEl) actionMenuRefs.setReference(blockEl.nextSibling as HTMLElement);\r\n          onChangeActionMenuOpen(true);\r\n        }, 0);\r\n      }\r\n    }\r\n  };\r\n\r\n  const onSelectBlock = (event: React.MouseEvent) => {\r\n    event.stopPropagation();\r\n    const block = hoveredBlock;\r\n    if (!block) return;\r\n\r\n    const slate = findSlateBySelectionPath(editor, { at: block.meta.order });\r\n    editor.focusBlock(block.id);\r\n\r\n    if (!slate) return;\r\n\r\n    setTimeout(() => {\r\n      const currentBlock = editor.blocks[block.type];\r\n\r\n      if (!currentBlock.hasCustomEditor) {\r\n        ReactEditor.blur(slate);\r\n        ReactEditor.deselect(slate);\r\n        Transforms.deselect(slate);\r\n      }\r\n\r\n      editor.setPath({ current: block.meta.order, selected: [block.meta.order] });\r\n\r\n      setIsBlockOptionsOpen(true);\r\n    }, 10);\r\n  };\r\n\r\n  const onDragButtonRef = (node: HTMLElement | null) => {\r\n    setActivatorNodeRef?.(node);\r\n    blockOptionsRefs.setReference(node);\r\n  };\r\n\r\n  return (\r\n    <Portal id=\"block-actions\">\r\n      <div contentEditable={false} style={actionStyles} className=\"yoopta-block-actions\" ref={blockActionsRef}>\r\n        <div className=\"yoopta-block-action-buttons\">\r\n          {isActionMenuOpen && hasActionMenu && (\r\n            <Portal id=\"yoo-block-options-portal\">\r\n              <Overlay lockScroll className=\"yoo-editor-z-[100]\" onClick={onCloseActionMenu}>\r\n                <div style={actionMenuStyles} ref={actionMenuRefs.setFloating}>\r\n                  {/* @ts-ignore - fixme */}\r\n                  <ActionMenu {...actionMenuRenderProps} />\r\n                </div>\r\n              </Overlay>\r\n            </Portal>\r\n          )}\r\n          <button type=\"button\" onClick={onPlusClick} className=\"yoopta-block-actions-plus\">\r\n            <PlusIcon />\r\n          </button>\r\n          <button\r\n            ref={onDragButtonRef}\r\n            type=\"button\"\r\n            className=\"yoopta-block-actions-drag\"\r\n            onClick={onSelectBlock}\r\n            {...attributes}\r\n            {...listeners}\r\n          >\r\n            <DragIcon />\r\n          </button>\r\n          <BlockOptions\r\n            isOpen={isBlockOptionsMounted}\r\n            refs={blockOptionsRefs}\r\n            style={blockOptionsFloatingStyle}\r\n            onClose={() => setIsBlockOptionsOpen(false)}\r\n          />\r\n        </div>\r\n      </div>\r\n    </Portal>\r\n  );\r\n});\r\n\r\nFloatingBlockActions.displayName = 'FloatingBlockActions';\r\n","import { useMemo, useState } from 'react';\r\nimport { DndContext, closestCenter } from '@dnd-kit/core';\r\nimport { SortableContext, verticalListSortingStrategy } from '@dnd-kit/sortable';\r\n\r\nimport { Block } from '../Block/Block';\r\nimport { YooEditor } from '../../editor/types';\r\nimport { YooptaMark } from '../../marks';\r\nimport { SlateEditorComponent } from '../../plugins/SlateEditorComponent';\r\nimport { useYooptaDragDrop } from './dnd';\r\nimport { useYooptaReadOnly } from '../../contexts/YooptaContext/YooptaContext';\r\nimport { FloatingBlockActions } from '../Block/FloatingBlockActions';\r\n\r\nconst DEFAULT_EDITOR_KEYS = [];\r\n\r\ntype Props = {\r\n  editor: YooEditor;\r\n  marks?: YooptaMark<any>[];\r\n  placeholder?: string;\r\n};\r\n\r\nconst RenderBlocks = ({ editor, marks, placeholder }: Props) => {\r\n  const isReadOnly = useYooptaReadOnly();\r\n  const { sensors, handleDragEnd, handleDragStart } = useYooptaDragDrop({ editor });\r\n  const [dragHandleProps, setActiveDragHandleProps] = useState(null);\r\n\r\n  const childrenUnorderedKeys = Object.keys(editor.children);\r\n  const childrenKeys = useMemo(() => {\r\n    if (childrenUnorderedKeys.length === 0) return DEFAULT_EDITOR_KEYS;\r\n\r\n    return childrenUnorderedKeys.sort((a, b) => {\r\n      const aOrder = editor.children[a].meta.order;\r\n      const bOrder = editor.children[b].meta.order;\r\n\r\n      return aOrder - bOrder;\r\n    });\r\n\r\n    //[TODO] - unnecesary\r\n  }, [childrenUnorderedKeys]);\r\n\r\n  const blocks: JSX.Element[] = [];\r\n\r\n  for (let i = 0; i < childrenKeys.length; i++) {\r\n    const blockId = childrenKeys[i];\r\n    const block = editor.children[blockId];\r\n    const plugin = editor.plugins[block.type];\r\n\r\n    if (!block || !plugin) {\r\n      console.error(`Plugin ${block.type} not found`);\r\n      continue;\r\n    }\r\n\r\n    blocks.push(\r\n      <Block key={blockId} block={block} blockId={blockId} onActiveDragHandleChange={setActiveDragHandleProps}>\r\n        <SlateEditorComponent\r\n          key={blockId}\r\n          type={block.type}\r\n          id={blockId}\r\n          marks={marks}\r\n          customEditor={plugin.customEditor}\r\n          events={plugin.events}\r\n          elements={plugin.elements}\r\n          options={plugin.options}\r\n          extensions={plugin.extensions}\r\n          placeholder={placeholder}\r\n        />\r\n      </Block>,\r\n    );\r\n  }\r\n\r\n  if (isReadOnly) return <>{blocks}</>;\r\n\r\n  return (\r\n    <DndContext\r\n      id=\"yoopta-dnd-context\"\r\n      sensors={sensors}\r\n      collisionDetection={closestCenter}\r\n      onDragStart={handleDragStart}\r\n      onDragEnd={handleDragEnd}\r\n    >\r\n      <SortableContext disabled={isReadOnly} items={childrenKeys} strategy={verticalListSortingStrategy}>\r\n        {blocks}\r\n        <FloatingBlockActions editor={editor} dragHandleProps={dragHandleProps} />\r\n      </SortableContext>\r\n    </DndContext>\r\n  );\r\n};\r\n\r\nexport { RenderBlocks };\r\n","import { useEffect, useState } from 'react';\r\nimport { Paths } from '../../editor/paths';\r\nimport { YooEditor } from '../../editor/types';\r\nimport { RectangeSelectionProps, RectangeSelectionState } from './SelectionBox';\r\n\r\nconst findBlocksUnderSelection = (editor: YooEditor, origin, coords) => {\r\n  const blocksUnderSelection: number[] = [];\r\n  const blocks = editor.refElement?.querySelectorAll(`[data-yoopta-block]`);\r\n\r\n  if (!blocks) return blocksUnderSelection;\r\n\r\n  blocks.forEach((blockEl, i) => {\r\n    if (!blockEl) return;\r\n\r\n    const blockRect = blockEl.getBoundingClientRect();\r\n    const selectionRect = {\r\n      top: Math.min(origin[1], coords[1]),\r\n      left: Math.min(origin[0], coords[0]),\r\n      bottom: Math.max(origin[1], coords[1]),\r\n      right: Math.max(origin[0], coords[0]),\r\n    };\r\n\r\n    if (\r\n      selectionRect.top < blockRect.bottom &&\r\n      selectionRect.bottom > blockRect.top &&\r\n      selectionRect.left < blockRect.right &&\r\n      selectionRect.right > blockRect.left\r\n    ) {\r\n      blocksUnderSelection.push(i);\r\n    }\r\n  });\r\n\r\n  return blocksUnderSelection;\r\n};\r\n\r\ntype RectangeSelectionReturn = RectangeSelectionState & {\r\n  onClose: () => void;\r\n};\r\n\r\n// [TODO] - Fix selection when multiple editors\r\n// Maybe move to a separate npm package?\r\nexport const useRectangeSelectionBox = ({ editor, root }: RectangeSelectionProps): RectangeSelectionReturn => {\r\n  const [state, setState] = useState<RectangeSelectionState>({\r\n    origin: [0, 0],\r\n    coords: [0, 0],\r\n    selection: false,\r\n  });\r\n\r\n  const onMouseDown = (event) => {\r\n    if (editor.readOnly || root === false) return;\r\n\r\n    const isInsideEditor = editor.refElement?.contains(event.target as Node);\r\n    const selectedBlocks = Paths.getSelectedPaths(editor);\r\n\r\n    if (!isInsideEditor && !state.selection && Array.isArray(selectedBlocks) && selectedBlocks.length > 0) {\r\n      editor.setPath({ current: null });\r\n      return onClose();\r\n    }\r\n\r\n    if (isInsideEditor) return;\r\n\r\n    setState({\r\n      origin: [event.pageX, event.pageY - window.pageYOffset],\r\n      coords: [event.pageX, event.pageY - window.pageYOffset],\r\n      selection: true,\r\n    });\r\n  };\r\n\r\n  const onMouseMove = (event) => {\r\n    if (!state.selection || editor.readOnly || root === false) return;\r\n\r\n    setState((prevState) => ({\r\n      ...prevState,\r\n      coords: [event.pageX, event.pageY - window.pageYOffset],\r\n    }));\r\n\r\n    const blocksUnderSelection = findBlocksUnderSelection(editor, state.origin, [\r\n      event.pageX,\r\n      event.pageY - window.pageYOffset,\r\n    ]);\r\n\r\n    editor.setPath({ current: null, selected: blocksUnderSelection });\r\n  };\r\n\r\n  const onMouseUp = () => {\r\n    if (editor.readOnly) return;\r\n\r\n    onClose();\r\n  };\r\n\r\n  const getRootBlockElement = () => {\r\n    if (root && 'current' in root) return root.current;\r\n    if (root) return root;\r\n    return document;\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (editor.readOnly || root === false) return;\r\n\r\n    const elementMouseEl = getRootBlockElement();\r\n\r\n    if (!elementMouseEl) {\r\n      throw new Error('Root element not found. Please check the `selectionBoxRoot` prop');\r\n    }\r\n\r\n    if (!('nodeType' in elementMouseEl)) {\r\n      throw new Error('Root element should be a DOM element or a ref object. Please check the `selectionBoxRoot` prop');\r\n    }\r\n\r\n    if (editor.refElement?.contains(elementMouseEl)) {\r\n      throw new Error('Root element should not be a child of the editor. Please check the `selectionBoxRoot` prop');\r\n    }\r\n\r\n    elementMouseEl.addEventListener('mousedown', onMouseDown);\r\n    elementMouseEl.addEventListener('mousemove', onMouseMove);\r\n    elementMouseEl.addEventListener('mouseup', onMouseUp);\r\n\r\n    return () => {\r\n      elementMouseEl.removeEventListener('mousedown', onMouseDown);\r\n      elementMouseEl.removeEventListener('mousemove', onMouseMove);\r\n      elementMouseEl.removeEventListener('mouseup', onMouseUp);\r\n    };\r\n  }, [editor.path, state, root, editor.readOnly]);\r\n\r\n  const onClose = () => {\r\n    setState({\r\n      origin: [0, 0],\r\n      coords: [0, 0],\r\n      selection: false,\r\n    });\r\n  };\r\n\r\n  return {\r\n    ...state,\r\n    onClose,\r\n  };\r\n};\r\n","import { CSSProperties } from 'react';\r\nimport { YooEditor } from '../../editor/types';\r\n\r\nexport type RectangeSelectionProps = {\r\n  editor: YooEditor;\r\n  root?: HTMLElement | React.MutableRefObject<HTMLElement | null> | false;\r\n};\r\n\r\nexport type RectangeSelectionState = {\r\n  origin: [number, number];\r\n  coords: [number, number];\r\n  selection: boolean;\r\n};\r\n\r\nexport type SelectionBoxProps = {\r\n  origin: RectangeSelectionState['origin'];\r\n  coords: RectangeSelectionState['coords'];\r\n  isOpen: boolean;\r\n};\r\n\r\nconst SelectionBox = ({ origin, coords, isOpen }: SelectionBoxProps) => {\r\n  if (!isOpen) return null;\r\n\r\n  const getTransform = () => {\r\n    if (origin[1] > coords[1] && origin[0] > coords[0]) return 'scaleY(-1) scaleX(-1)';\r\n\r\n    if (origin[1] > coords[1]) return 'scaleY(-1)';\r\n    if (origin[0] > coords[0]) return 'scaleX(-1)';\r\n    return undefined;\r\n  };\r\n\r\n  const selectionBoxStyle: CSSProperties = {\r\n    zIndex: 10,\r\n    left: origin[0],\r\n    top: origin[1],\r\n    height: Math.abs(coords[1] - origin[1] - 1),\r\n    width: Math.abs(coords[0] - origin[0] - 1),\r\n    userSelect: 'none',\r\n    transformOrigin: 'top left',\r\n    transform: getTransform(),\r\n    position: 'fixed',\r\n    backgroundColor: 'rgba(35, 131, 226, 0.14)',\r\n  };\r\n\r\n  return <div style={selectionBoxStyle} />;\r\n};\r\n\r\nexport { SelectionBox };\r\n","import { useRef } from 'react';\r\nimport { Editor, Element, Path, Range, Transforms } from 'slate';\r\nimport { ReactEditor } from 'slate-react';\r\nimport { Blocks } from '../../editor/blocks';\r\nimport { Paths } from '../../editor/paths';\r\nimport { YooEditor, YooptaPath } from '../../editor/types';\r\nimport { findPluginBlockByPath } from '../../utils/findPluginBlockByPath';\r\nimport { getPreviousPath } from '../../editor/paths/getPreviousPath';\r\nimport { findSlateBySelectionPath } from '../../utils/findSlateBySelectionPath';\r\n\r\ntype MultiSelectionOptions = {\r\n  editor: YooEditor;\r\n};\r\n\r\ntype SelectionState = {\r\n  selectionStarted: boolean;\r\n  indexToSelect: null | number;\r\n  startedIndexToSelect: null | number;\r\n};\r\n\r\nconst DEFAULT_SELECTION_STATE: SelectionState = {\r\n  selectionStarted: false,\r\n  indexToSelect: null,\r\n  startedIndexToSelect: null,\r\n};\r\n\r\nexport function useMultiSelection({ editor }: MultiSelectionOptions) {\r\n  const isMultiSelectingStarted = useRef(false);\r\n  const isMultiSelectingInProgress = useRef(false);\r\n  const startBlockPathRef = useRef<number | null>(null);\r\n  const currentBlockPathRef = useRef<number | null>(null);\r\n\r\n  let selectionState = useRef<SelectionState>(DEFAULT_SELECTION_STATE).current;\r\n\r\n  const blurSlateSelection = () => {\r\n    const path = editor.path.current;\r\n\r\n    if (typeof path === 'number') {\r\n      const slate = Blocks.getBlockSlate(editor, { at: path });\r\n      const block = Blocks.getBlock(editor, { at: path });\r\n      const blockEntity = editor.blocks[block?.type || ''];\r\n      if (!slate || blockEntity?.hasCustomEditor) return;\r\n\r\n      try {\r\n        Editor.withoutNormalizing(slate, () => {\r\n          // [TEST]\r\n          Transforms.select(slate, [0]);\r\n\r\n          if (slate.selection && Range.isExpanded(slate.selection)) {\r\n            ReactEditor.blur(slate);\r\n            ReactEditor.deselect(slate);\r\n          }\r\n        });\r\n      } catch (error) {}\r\n    }\r\n  };\r\n\r\n  const onShiftKeyDown = (blockOrder: number) => {\r\n    blurSlateSelection();\r\n\r\n    const currentSelectionIndex = Paths.getPath(editor);\r\n    if (typeof currentSelectionIndex !== 'number') return;\r\n\r\n    const indexesBetween = Array.from({ length: Math.abs(blockOrder - currentSelectionIndex) }).map((_, index) =>\r\n      blockOrder > currentSelectionIndex ? currentSelectionIndex + index + 1 : currentSelectionIndex - index - 1,\r\n    );\r\n\r\n    editor.setPath({ current: blockOrder, selected: [...indexesBetween, currentSelectionIndex] });\r\n  };\r\n\r\n  const onMouseDown = (e: React.MouseEvent) => {\r\n    if (editor.readOnly) return;\r\n\r\n    if (!editor.isFocused()) editor.focus();\r\n\r\n    editor.batchOperations(() => {\r\n      const selectedBlocks = Paths.getSelectedPaths(editor);\r\n      // [TEST]\r\n      if (Array.isArray(selectedBlocks) && selectedBlocks.length > 0 && !e.shiftKey && !e.altKey) {\r\n        editor.setPath({ current: null });\r\n      }\r\n\r\n      const target = e.target as HTMLElement;\r\n      const blockElement = target.closest('[data-yoopta-block]');\r\n\r\n      if (blockElement && e.button === 0) {\r\n        const blockId = blockElement.getAttribute('data-yoopta-block-id') || '';\r\n        const blockOrder = editor.children[blockId]?.meta.order;\r\n\r\n        if (typeof blockOrder === 'number') {\r\n          isMultiSelectingStarted.current = true;\r\n          startBlockPathRef.current = blockOrder;\r\n          currentBlockPathRef.current = blockOrder;\r\n\r\n          if (e.shiftKey && !Paths.isPathEmpty(editor) && blockOrder !== editor.path.current) {\r\n            onShiftKeyDown(blockOrder);\r\n            return;\r\n          }\r\n\r\n          if (blockOrder !== editor.path.current) {\r\n            editor.setPath({ current: blockOrder });\r\n          }\r\n\r\n          editor.refElement?.addEventListener('mousemove', onMouseMove);\r\n          editor.refElement?.addEventListener('mouseup', onMouseUp);\r\n          document?.addEventListener('mouseup', onMouseUp);\r\n        }\r\n      }\r\n    });\r\n  };\r\n\r\n  const onMouseMove = (e: MouseEvent) => {\r\n    if (!isMultiSelectingStarted.current || editor.readOnly) return;\r\n\r\n    const target = document.elementFromPoint(e.clientX, e.clientY);\r\n    const blockElement = target?.closest('[data-yoopta-block]');\r\n\r\n    if (blockElement) {\r\n      editor.batchOperations(() => {\r\n        const blockId = blockElement.getAttribute('data-yoopta-block-id') || '';\r\n        const blockOrder = editor.children[blockId]?.meta.order;\r\n\r\n        // When multi-selecting is started and the mouse is moving over the start block\r\n        if (\r\n          isMultiSelectingInProgress.current &&\r\n          typeof blockOrder === 'number' &&\r\n          blockOrder === startBlockPathRef.current\r\n        ) {\r\n          currentBlockPathRef.current = blockOrder;\r\n          editor.setPath({ current: blockOrder, selected: [blockOrder] });\r\n          return;\r\n        }\r\n\r\n        // Multi-selecting started between blocks\r\n        if (typeof blockOrder === 'number' && blockOrder !== currentBlockPathRef.current) {\r\n          currentBlockPathRef.current = blockOrder;\r\n          isMultiSelectingInProgress.current = true;\r\n\r\n          const start = Math.min(startBlockPathRef.current!, blockOrder);\r\n          const end = Math.max(startBlockPathRef.current!, blockOrder);\r\n\r\n          blurSlateSelection();\r\n\r\n          const selectedBlocks = Array.from({ length: end - start + 1 }, (_, i) => start + i);\r\n          editor.setPath({ current: blockOrder, selected: selectedBlocks });\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  const onMouseUp = () => {\r\n    isMultiSelectingStarted.current = false;\r\n    isMultiSelectingInProgress.current = false;\r\n    startBlockPathRef.current = null;\r\n    currentBlockPathRef.current = null;\r\n    editor.refElement?.removeEventListener('mousemove', onMouseMove);\r\n    editor.refElement?.removeEventListener('mouseup', onMouseUp);\r\n    document?.removeEventListener('mouseup', onMouseUp);\r\n  };\r\n\r\n  const onShiftArrowUp = (event) => {\r\n    if (typeof event.isDefaultPrevented === 'function' && event.isDefaultPrevented()) return;\r\n\r\n    if (\r\n      selectionState.selectionStarted &&\r\n      selectionState.startedIndexToSelect !== null &&\r\n      selectionState.indexToSelect !== null\r\n    ) {\r\n      const currentIndex = selectionState.indexToSelect;\r\n      const nextTopIndex = currentIndex - 1;\r\n\r\n      if (currentIndex === 0) return;\r\n      // jump to next index if started selection from this index\r\n      if (currentIndex === selectionState.startedIndexToSelect) {\r\n        const selectedPaths = editor.path.selected ? [...editor.path.selected, nextTopIndex] : [nextTopIndex];\r\n        editor.setPath({ current: nextTopIndex, selected: selectedPaths });\r\n        selectionState.indexToSelect = nextTopIndex;\r\n        return;\r\n      }\r\n\r\n      if (nextTopIndex < selectionState.startedIndexToSelect) {\r\n        const selectedPaths = editor.path.selected ? [...editor.path.selected, nextTopIndex] : [nextTopIndex];\r\n\r\n        editor.setPath({ current: nextTopIndex, selected: selectedPaths });\r\n        selectionState.indexToSelect = nextTopIndex;\r\n        return;\r\n      }\r\n\r\n      const selectedBlocks = Paths.getSelectedPaths(editor);\r\n\r\n      if (selectedBlocks?.includes(currentIndex) && currentIndex !== selectionState.startedIndexToSelect) {\r\n        const filteredIndexes = selectedBlocks.filter((index) => index !== currentIndex);\r\n        editor.setPath({ current: nextTopIndex, selected: filteredIndexes });\r\n        selectionState.indexToSelect = nextTopIndex;\r\n        return;\r\n      }\r\n\r\n      return;\r\n    }\r\n\r\n    const block = findPluginBlockByPath(editor);\r\n    const slate = findSlateBySelectionPath(editor);\r\n\r\n    if (!slate || !slate.selection || !block) return;\r\n\r\n    const parentPath = Path.parent(slate.selection.anchor.path);\r\n    // [TODO] - handle cases for inline node elements\r\n    const isStart = Editor.isStart(slate, slate.selection.focus, parentPath);\r\n\r\n    if (Range.isExpanded(slate.selection) && isStart) {\r\n      const prevPath = getPreviousPath(editor);\r\n      if (typeof prevPath !== 'number') return;\r\n\r\n      const prevBlock = findPluginBlockByPath(editor, { at: prevPath });\r\n\r\n      if (block && prevBlock) {\r\n        event.preventDefault();\r\n\r\n        ReactEditor.blur(slate);\r\n        ReactEditor.deselect(slate);\r\n        Transforms.deselect(slate);\r\n\r\n        const selectedPaths = editor.path.selected\r\n          ? [...editor.path.selected, block?.meta.order, block.meta.order - 1]\r\n          : [block?.meta.order, block.meta.order - 1];\r\n\r\n        editor.setPath({ current: null, selected: selectedPaths });\r\n\r\n        selectionState.startedIndexToSelect = block.meta.order;\r\n        selectionState.indexToSelect = block.meta.order - 1;\r\n        selectionState.selectionStarted = true;\r\n      }\r\n    }\r\n  };\r\n\r\n  const onShiftArrowDown = (event) => {\r\n    if (\r\n      selectionState.selectionStarted &&\r\n      selectionState.indexToSelect !== null &&\r\n      selectionState.startedIndexToSelect !== null\r\n    ) {\r\n      const currentIndex = selectionState.indexToSelect;\r\n      const nextIndex = currentIndex + 1;\r\n\r\n      if (nextIndex === Object.keys(editor.children).length) return;\r\n\r\n      // jump to next index if started selection from this index\r\n      if (currentIndex === selectionState.startedIndexToSelect) {\r\n        const selectedPaths = editor.path.selected ? [...editor.path.selected, nextIndex] : [nextIndex];\r\n        editor.setPath({ current: nextIndex, selected: selectedPaths });\r\n        selectionState.indexToSelect = nextIndex;\r\n        return;\r\n      }\r\n\r\n      if (nextIndex > selectionState.startedIndexToSelect) {\r\n        const selectedPaths = editor.path.selected ? [...editor.path.selected, nextIndex] : [nextIndex];\r\n        editor.setPath({ current: nextIndex, selected: selectedPaths });\r\n        selectionState.indexToSelect = nextIndex;\r\n        return;\r\n      }\r\n\r\n      const selectedBlocks = Paths.getSelectedPaths(editor);\r\n      if (selectedBlocks?.includes(currentIndex) && currentIndex !== selectionState.startedIndexToSelect) {\r\n        const filteredIndexes = selectedBlocks.filter((index) => index !== currentIndex);\r\n        editor.setPath({ current: nextIndex, selected: filteredIndexes });\r\n        selectionState.indexToSelect = nextIndex;\r\n        return;\r\n      }\r\n\r\n      return;\r\n    }\r\n\r\n    const block = findPluginBlockByPath(editor);\r\n    const slate = findSlateBySelectionPath(editor);\r\n    if (!slate || !slate.selection || !block) return;\r\n\r\n    const parentPath = Path.parent(slate.selection.anchor.path);\r\n    // [TODO] - handle cases for inline node elements\r\n    const isEnd = Editor.isEnd(slate, slate.selection.focus, parentPath);\r\n\r\n    if (Range.isExpanded(slate.selection) && isEnd) {\r\n      const nextPath = Paths.getNextPath(editor);\r\n      const nextBlock = findPluginBlockByPath(editor, { at: nextPath });\r\n\r\n      if (block && nextBlock) {\r\n        event.preventDefault();\r\n\r\n        ReactEditor.blur(slate);\r\n        ReactEditor.deselect(slate);\r\n        Transforms.deselect(slate);\r\n\r\n        const selectedPaths = editor.path.selected\r\n          ? [...editor.path.selected, block?.meta.order, block?.meta.order + 1]\r\n          : [block?.meta.order, block.meta.order + 1];\r\n\r\n        editor.setPath({ current: null, selected: selectedPaths });\r\n\r\n        selectionState.startedIndexToSelect = block.meta.order;\r\n        selectionState.indexToSelect = block.meta.order + 1;\r\n        selectionState.selectionStarted = true;\r\n      }\r\n    }\r\n  };\r\n\r\n  return { onMouseDown, onShiftArrowUp, onShiftArrowDown, selectionState };\r\n}\r\n","import { ClipboardEvent, CSSProperties, ReactNode, useEffect } from 'react';\r\nimport { useYooptaEditor, useYooptaReadOnly } from '../../contexts/YooptaContext/YooptaContext';\r\nimport { RenderBlocks } from './RenderBlocks';\r\nimport { YooptaMark } from '../../marks';\r\nimport { findPluginBlockByPath } from '../../utils/findPluginBlockByPath';\r\nimport { buildBlockData } from './utils';\r\nimport { generateId } from '../../utils/generateId';\r\nimport { HOTKEYS } from '../../utils/hotkeys';\r\nimport { Editor as SlateEditor, Element, Path } from 'slate';\r\nimport { findSlateBySelectionPath } from '../../utils/findSlateBySelectionPath';\r\nimport { YooptaContentValue } from '../../editor/types';\r\nimport { useRectangeSelectionBox } from '../SelectionBox/hooks';\r\nimport { SelectionBox } from '../SelectionBox/SelectionBox';\r\nimport { Blocks } from '../../editor/blocks';\r\nimport { useMultiSelection } from './selection';\r\nimport { Paths } from '../../editor/paths';\r\n\r\ntype Props = {\r\n  marks?: YooptaMark<any>[];\r\n  selectionBoxRoot?: HTMLElement | React.MutableRefObject<HTMLElement | null> | false;\r\n  autoFocus?: boolean;\r\n  className?: string;\r\n  placeholder?: string;\r\n  width?: number | string;\r\n  children: ReactNode;\r\n  style?: CSSProperties;\r\n};\r\n\r\nconst getEditorStyles = (styles: CSSProperties) => ({\r\n  ...styles,\r\n  width: styles.width || 400,\r\n  paddingBottom: typeof styles.paddingBottom === 'number' ? styles.paddingBottom : 100,\r\n});\r\n\r\nconst Editor = ({\r\n  placeholder,\r\n  marks,\r\n  className,\r\n  selectionBoxRoot,\r\n  width,\r\n  style,\r\n  children,\r\n  autoFocus = true,\r\n}: Props) => {\r\n  const editor = useYooptaEditor();\r\n  const isReadOnly = useYooptaReadOnly();\r\n  const selectionBox = useRectangeSelectionBox({ editor, root: selectionBoxRoot });\r\n  const multiSelection = useMultiSelection({ editor });\r\n\r\n  useEffect(() => {\r\n    if (!autoFocus || isReadOnly) return;\r\n    editor.focus();\r\n  }, [autoFocus, isReadOnly]);\r\n\r\n  useEffect(() => {\r\n    if (isReadOnly) return;\r\n\r\n    document.addEventListener('keydown', onKeyDown);\r\n    return () => document.removeEventListener('keydown', onKeyDown);\r\n  }, [editor.path, isReadOnly]);\r\n\r\n  const handleEmptyZoneClick = (e: React.MouseEvent) => {\r\n    const editorEl = editor.refElement;\r\n    if (!editorEl) return;\r\n\r\n    const { bottom } = editorEl.getBoundingClientRect();\r\n    const paddingBottom = parseInt(getComputedStyle(editorEl).paddingBottom, 10);\r\n    const paddingBottomAreaTop = bottom - paddingBottom;\r\n    const defaultBlock = buildBlockData({ id: generateId() });\r\n\r\n    if (e.clientY >= paddingBottomAreaTop) {\r\n      const lastPath = Object.keys(editor.children).length - 1;\r\n      const lastBlock = findPluginBlockByPath(editor, { at: lastPath });\r\n      const lastSlate = findSlateBySelectionPath(editor, { at: lastPath });\r\n\r\n      if (lastBlock && lastSlate && lastSlate.selection) {\r\n        const string = SlateEditor.string(lastSlate, lastSlate.selection.anchor.path);\r\n        const parentPath = Path.parent(lastSlate.selection.anchor.path);\r\n        const [lastNode] = SlateEditor.node(lastSlate, parentPath);\r\n\r\n        if (\r\n          lastBlock.type === defaultBlock.type &&\r\n          Element.isElement(lastNode) &&\r\n          lastNode.props?.nodeType !== 'void' &&\r\n          string.trim().length === 0\r\n        ) {\r\n          editor.focusBlock(lastBlock.id, { slate: lastSlate });\r\n          return;\r\n        }\r\n      }\r\n\r\n      const nextPath = lastPath + 1;\r\n      editor.insertBlock(defaultBlock.type, { at: nextPath, focus: true });\r\n    }\r\n  };\r\n\r\n  const resetSelectionState = () => {\r\n    multiSelection.selectionState.indexToSelect = null;\r\n    multiSelection.selectionState.startedIndexToSelect = null;\r\n    multiSelection.selectionState.selectionStarted = false;\r\n  };\r\n\r\n  const onMouseDown = (event: React.MouseEvent) => {\r\n    if (isReadOnly) return;\r\n\r\n    multiSelection.onMouseDown(event);\r\n    resetSelectionState();\r\n    handleEmptyZoneClick(event);\r\n  };\r\n\r\n  const onBlur = (event: React.FocusEvent) => {\r\n    const isInsideEditor = editor.refElement?.contains(event.relatedTarget as Node);\r\n    if (isInsideEditor || isReadOnly) return;\r\n\r\n    resetSelectionState();\r\n\r\n    const selectedBlocks = Paths.getSelectedPaths(editor);\r\n    if (Array.isArray(selectedBlocks) && selectedBlocks.length > 0) {\r\n      editor.setPath({ current: null, selected: null });\r\n    }\r\n  };\r\n\r\n  const onKeyDown = (event) => {\r\n    if (isReadOnly) return;\r\n\r\n    if (HOTKEYS.isRedo(event)) {\r\n      event.preventDefault();\r\n      editor.redo();\r\n      return;\r\n    }\r\n\r\n    if (HOTKEYS.isUndo(event)) {\r\n      event.preventDefault();\r\n      editor.undo();\r\n      return;\r\n    }\r\n\r\n    if (HOTKEYS.isSelect(event)) {\r\n      const selectedBlocks = Paths.getSelectedPaths(editor);\r\n      const isAllBlocksSelected = selectedBlocks?.length === Object.keys(editor.children).length;\r\n\r\n      if (isAllBlocksSelected) {\r\n        event.preventDefault();\r\n        return;\r\n      }\r\n\r\n      if (Array.isArray(selectedBlocks) && selectedBlocks.length > 0) {\r\n        event.preventDefault();\r\n        const allBlockIndexes = Object.keys(editor.children).map((k, i) => i);\r\n        editor.setPath({ current: null, selected: allBlockIndexes });\r\n        return;\r\n      }\r\n    }\r\n\r\n    if (HOTKEYS.isCopy(event) || HOTKEYS.isCut(event)) {\r\n      const selectedBlocks = Paths.getSelectedPaths(editor);\r\n      if (Array.isArray(selectedBlocks) && selectedBlocks.length > 0) {\r\n        event.preventDefault();\r\n\r\n        const htmlString = editor.getHTML(editor.getEditorValue());\r\n        const textString = editor.getPlainText(editor.getEditorValue());\r\n        const htmlBlob = new Blob([htmlString], { type: 'text/html' });\r\n        const textBlob = new Blob([textString], { type: 'text/plain' });\r\n\r\n        const clipboardItem = new ClipboardItem({\r\n          'text/html': htmlBlob,\r\n          'text/plain': textBlob,\r\n        });\r\n\r\n        navigator.clipboard.write([clipboardItem]).then(() => {\r\n          const html = new DOMParser().parseFromString(htmlString, 'text/html');\r\n          console.log('HTML copied\\n', html.body);\r\n        });\r\n\r\n        if (HOTKEYS.isCut(event)) {\r\n          // [TEST]\r\n          editor.batchOperations(() => {\r\n            const selectedBlocks = Paths.getSelectedPaths(editor);\r\n\r\n            if (Array.isArray(selectedBlocks) && selectedBlocks.length > 0) {\r\n              const isAllBlocksSelected = selectedBlocks.length === Object.keys(editor.children).length;\r\n\r\n              selectedBlocks.forEach((index) => {\r\n                const blockId = Blocks.getBlock(editor, { at: index })?.id;\r\n                if (blockId) editor.deleteBlock({ blockId });\r\n              });\r\n\r\n              if (isAllBlocksSelected) {\r\n                const defaultBlock = buildBlockData({ id: generateId() });\r\n                editor.insertBlock(defaultBlock.type, { at: 0, focus: true });\r\n              }\r\n            }\r\n          });\r\n\r\n          editor.setPath({ current: null, selected: null });\r\n          resetSelectionState();\r\n        }\r\n        return;\r\n      }\r\n    }\r\n\r\n    if (HOTKEYS.isBackspace(event)) {\r\n      event.stopPropagation();\r\n      const selectedBlocks = Paths.getSelectedPaths(editor);\r\n      const isAllBlocksSelected = selectedBlocks?.length === Object.keys(editor.children).length;\r\n\r\n      if (isAllBlocksSelected) {\r\n        event.preventDefault();\r\n\r\n        // [TEST]\r\n        editor.batchOperations(() => {\r\n          const allBlocks = Object.keys(editor.children);\r\n          allBlocks.forEach((blockId) => editor.deleteBlock({ blockId }));\r\n\r\n          editor.setPath({ current: null, selected: null });\r\n          resetSelectionState();\r\n        });\r\n\r\n        return;\r\n      }\r\n\r\n      // [TEST]\r\n      editor.batchOperations(() => {\r\n        const selectedBlocks = Paths.getSelectedPaths(editor);\r\n\r\n        if (Array.isArray(selectedBlocks) && selectedBlocks?.length > 0) {\r\n          event.preventDefault();\r\n          selectedBlocks.forEach((index) => editor.deleteBlock({ at: index }));\r\n\r\n          editor.setPath({ current: null, selected: null });\r\n          resetSelectionState();\r\n        }\r\n      });\r\n\r\n      return;\r\n    }\r\n\r\n    // [TODO] - handle sharing cursor between blocks\r\n    if (HOTKEYS.isShiftArrowUp(event)) {\r\n      multiSelection.onShiftArrowUp(event);\r\n    }\r\n\r\n    if (HOTKEYS.isShiftArrowDown(event)) {\r\n      multiSelection.onShiftArrowDown(event);\r\n    }\r\n\r\n    if (HOTKEYS.isTab(event)) {\r\n      const selectedBlocks = Paths.getSelectedPaths(editor);\r\n      if (Array.isArray(selectedBlocks) && selectedBlocks.length > 0) {\r\n        event.preventDefault();\r\n\r\n        editor.batchOperations(() => {\r\n          selectedBlocks.forEach((index) => {\r\n            const block = Blocks.getBlock(editor, { at: index });\r\n            editor.increaseBlockDepth({ blockId: block?.id });\r\n          });\r\n        });\r\n      }\r\n      return;\r\n    }\r\n\r\n    if (HOTKEYS.isShiftTab(event)) {\r\n      const selectedBlocks = Paths.getSelectedPaths(editor);\r\n      if (Array.isArray(selectedBlocks) && selectedBlocks.length > 0) {\r\n        event.preventDefault();\r\n\r\n        editor.batchOperations(() => {\r\n          selectedBlocks.forEach((index) => {\r\n            const block = Blocks.getBlock(editor, { at: index });\r\n            editor.decreaseBlockDepth({ blockId: block?.id });\r\n          });\r\n        });\r\n      }\r\n      return;\r\n    }\r\n  };\r\n\r\n  // This event handler will be fired only in read-only mode\r\n  const onCopy = (e: ClipboardEvent) => {\r\n    if (!isReadOnly) return;\r\n    const clipboardData: Pick<DataTransfer, 'getData' | 'setData'> = e.clipboardData;\r\n\r\n    const selection = window.getSelection();\r\n    if (selection && selection.rangeCount > 0) {\r\n      const range = selection.getRangeAt(0);\r\n      if (range.collapsed) return;\r\n\r\n      const clonedContent = range.cloneContents();\r\n      const blocksEl = clonedContent.querySelectorAll('[data-yoopta-block-id]');\r\n\r\n      if (!blocksEl.length) return;\r\n\r\n      const content: YooptaContentValue = Array.from(blocksEl).reduce((acc, blockEl) => {\r\n        const blockId = blockEl.getAttribute('data-yoopta-block-id') || '';\r\n        const block = editor.children[blockId];\r\n        if (block) acc[blockId] = block;\r\n        return acc;\r\n      }, {});\r\n\r\n      const htmlString = editor.getHTML(content);\r\n      const textString = editor.getPlainText(content);\r\n\r\n      clipboardData.setData('text/html', htmlString);\r\n      clipboardData.setData('text/plain', textString);\r\n      return;\r\n    }\r\n  };\r\n\r\n  const editorStyles: CSSProperties = getEditorStyles({\r\n    ...style,\r\n    userSelect: selectionBox.selection ? 'none' : 'auto',\r\n    pointerEvents: selectionBox.selection ? 'none' : 'auto',\r\n    width: width || style?.width,\r\n    paddingBottom: style?.paddingBottom,\r\n  });\r\n\r\n  return (\r\n    <div\r\n      ref={(ref) => (editor.refElement = ref)}\r\n      className={className ? `yoopta-editor ${className}` : 'yoopta-editor'}\r\n      style={editorStyles}\r\n      onMouseDown={onMouseDown}\r\n      onBlur={onBlur}\r\n      onCopy={onCopy}\r\n      onCut={onCopy}\r\n    >\r\n      <RenderBlocks editor={editor} marks={marks} placeholder={placeholder} />\r\n      {selectionBoxRoot !== false && (\r\n        <SelectionBox\r\n          origin={selectionBox.origin}\r\n          coords={selectionBox.coords}\r\n          isOpen={selectionBox.selection && !isReadOnly}\r\n        />\r\n      )}\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport { Editor };\r\n","import { Editor } from 'slate';\r\nimport { findSlateBySelectionPath } from '../../utils/findSlateBySelectionPath';\r\nimport { YooEditor } from '../types';\r\n\r\nexport function getValue(editor: YooEditor, type: string) {\r\n  const slate = findSlateBySelectionPath(editor);\r\n\r\n  if (!slate) return null;\r\n  const marks = Editor.marks(slate);\r\n  return marks?.[type];\r\n}\r\n","import { Editor } from 'slate';\r\nimport { findSlateBySelectionPath } from '../../utils/findSlateBySelectionPath';\r\nimport { YooEditor } from '../types';\r\n\r\nexport function isActive(editor: YooEditor, type: string) {\r\n  const slate = findSlateBySelectionPath(editor);\r\n\r\n  if (!slate) return false;\r\n  const marks = Editor.marks(slate);\r\n\r\n  return !!marks?.[type];\r\n}\r\n","import { Editor } from 'slate';\r\nimport { findSlateBySelectionPath } from '../../utils/findSlateBySelectionPath';\r\nimport { YooEditor } from '../types';\r\nimport { isActive } from './isActive';\r\n\r\n// [TODO] - check format argument\r\nexport function toggle(editor: YooEditor, type: string) {\r\n  const slate = findSlateBySelectionPath(editor);\r\n  const active = isActive(editor, type);\r\n\r\n  if (!slate) return;\r\n\r\n  if (!active) {\r\n    Editor.addMark(slate, type, true);\r\n  } else {\r\n    Editor.removeMark(slate, type);\r\n  }\r\n\r\n  // editor.emit('change', { value: editor.children, operations: [] });\r\n}\r\n","import { Editor, Range } from 'slate';\r\nimport { findSlateBySelectionPath } from '../../utils/findSlateBySelectionPath';\r\nimport { YooEditor } from '../types';\r\n\r\nexport function update(editor: YooEditor, type: any, value: any) {\r\n  const slate = findSlateBySelectionPath(editor);\r\n\r\n  if (!slate || !slate.selection) return;\r\n\r\n  if (Range.isExpanded(slate.selection)) {\r\n    Editor.addMark(slate, type, value);\r\n    // editor.emit('change', { value: editor.children, operations: [] });\r\n  }\r\n}\r\n","import { SlateElement, YooEditor, YooptaBlockData } from '../editor/types';\r\nimport { Plugin, PluginElementsMap } from '../plugins/types';\r\nimport { YooptaMark } from '../marks';\r\nimport { findPluginBlockByPath } from '../utils/findPluginBlockByPath';\r\nimport { buildBlockElementsStructure, getRootBlockElement } from './blockElements';\r\nimport { buildSlateEditor } from './buildSlate';\r\nimport { getValue } from '../editor/textFormats/getValue';\r\nimport { isActive } from '../editor/textFormats/isActive';\r\nimport { toggle } from '../editor/textFormats/toggle';\r\nimport { update } from '../editor/textFormats/update';\r\n\r\nexport function buildMarks(editor, marks: YooptaMark<any>[]) {\r\n  const formats: YooEditor['formats'] = {};\r\n\r\n  marks.forEach((mark) => {\r\n    const type = mark.type;\r\n    formats[type] = {\r\n      hotkey: mark.hotkey,\r\n      type,\r\n      getValue: () => getValue(editor, type),\r\n      isActive: () => isActive(editor, type),\r\n      toggle: () => toggle(editor, type),\r\n      update: (props) => update(editor, type, props),\r\n    };\r\n  });\r\n\r\n  return formats;\r\n}\r\n\r\nexport function buildBlocks(editor, plugins: Plugin<Record<string, SlateElement>>[]) {\r\n  const blocks: YooEditor['blocks'] = {};\r\n\r\n  plugins.forEach((plugin) => {\r\n    const rootBlockElement = getRootBlockElement(plugin.elements);\r\n    const nodeType = rootBlockElement?.props?.nodeType;\r\n    const isInline = nodeType === 'inline' || nodeType === 'inlineVoid';\r\n\r\n    if (!isInline) {\r\n      const elements = {};\r\n      Object.keys(plugin.elements).forEach((key) => {\r\n        const { render, ...element } = plugin.elements[key];\r\n        elements[key] = element;\r\n      });\r\n\r\n      // Omit fetchers and other non-block related options\r\n      const { display, placeholder, shortcuts } = plugin.options || {};\r\n\r\n      blocks[plugin.type] = {\r\n        type: plugin.type,\r\n        elements,\r\n        hasCustomEditor: !!plugin.customEditor,\r\n        options: {\r\n          display,\r\n          placeholder,\r\n          shortcuts,\r\n        },\r\n        isActive: () => {\r\n          const block = findPluginBlockByPath(editor, { at: editor.path.current });\r\n          return block?.type === plugin.type;\r\n        },\r\n      };\r\n    }\r\n  });\r\n\r\n  return blocks;\r\n}\r\n\r\nexport function buildBlockSlateEditors(editor: YooEditor) {\r\n  const blockEditorsMap = {};\r\n\r\n  Object.keys(editor.children).forEach((id) => {\r\n    const slate = buildSlateEditor(editor);\r\n\r\n    if (slate.children.length === 0) {\r\n      const block = editor.children[id];\r\n      if (block) {\r\n        const slateStructure = buildBlockElementsStructure(editor, block.type);\r\n        slate.children = [slateStructure];\r\n      }\r\n    }\r\n\r\n    blockEditorsMap[id] = slate;\r\n  });\r\n\r\n  return blockEditorsMap;\r\n}\r\n\r\nexport function buildBlockShortcuts(editor: YooEditor) {\r\n  const shortcuts = {};\r\n\r\n  Object.values(editor.blocks).forEach((block) => {\r\n    const hasShortcuts =\r\n      block.options && Array.isArray(block.options?.shortcuts) && block.options?.shortcuts.length > 0;\r\n\r\n    if (hasShortcuts) {\r\n      block.options?.shortcuts?.forEach((shortcut) => {\r\n        shortcuts[shortcut] = block;\r\n      });\r\n    }\r\n  });\r\n\r\n  return shortcuts;\r\n}\r\n\r\n// const DEFAULT_PLUGIN_OPTIONS: PluginOptions = {};\r\n\r\nexport function buildPlugins(\r\n  plugins: Plugin<Record<string, SlateElement>>[],\r\n): Record<string, Plugin<Record<string, SlateElement>>> {\r\n  const pluginsMap = {};\r\n  const inlineTopLevelPlugins: PluginElementsMap<string, any> = {};\r\n\r\n  plugins.forEach((plugin) => {\r\n    if (plugin.elements) {\r\n      Object.keys(plugin.elements).forEach((type) => {\r\n        const element = plugin.elements[type];\r\n\r\n        const nodeType = element.props?.nodeType;\r\n\r\n        if (nodeType === 'inline' || nodeType === 'inlineVoid') {\r\n          inlineTopLevelPlugins[type] = { ...element, rootPlugin: plugin.type };\r\n        }\r\n      });\r\n    }\r\n\r\n    pluginsMap[plugin.type] = plugin;\r\n  });\r\n\r\n  plugins.forEach((plugin) => {\r\n    if (plugin.elements) {\r\n      const elements = { ...plugin.elements, ...inlineTopLevelPlugins };\r\n      pluginsMap[plugin.type] = { ...plugin, elements };\r\n    }\r\n  });\r\n\r\n  return pluginsMap;\r\n}\r\n\r\nexport function buildCommands(\r\n  editor: YooEditor,\r\n  plugins: Plugin<Record<string, SlateElement>>[],\r\n): Record<string, (...args: any[]) => any> {\r\n  const commands = {};\r\n\r\n  plugins.forEach((plugin) => {\r\n    if (plugin.commands) {\r\n      Object.keys(plugin.commands).forEach((command) => {\r\n        if (plugin.commands?.[command]) {\r\n          commands[command] = (...args) => plugin.commands?.[command](editor, ...args);\r\n        }\r\n      });\r\n    }\r\n  });\r\n\r\n  return commands;\r\n}\r\n","export type YooptaMark<TProps> = {\r\n  type: string;\r\n  hotkey?: string;\r\n  render: (props: TProps) => JSX.Element;\r\n};\r\n\r\nexport type YooptaMarkParams<TProps> = {\r\n  type: string;\r\n  hotkey?: string;\r\n  render: (props: TProps) => JSX.Element;\r\n};\r\n\r\nexport function createYooptaMark<TProps>({ type, hotkey, render }: YooptaMarkParams<TProps>): YooptaMark<TProps> {\r\n  return {\r\n    type,\r\n    hotkey,\r\n    render,\r\n  };\r\n}\r\n","import { createYooptaMark } from '.';\r\nimport { YooptaMarkProps } from '../plugins/types';\r\n\r\ntype FakeSelectionMarkProps = YooptaMarkProps<'italic', boolean>;\r\n\r\nconst FakeSelectionMark = createYooptaMark({\r\n  type: 'fakeSelection',\r\n  render: (props: FakeSelectionMarkProps) => {\r\n    return <span style={{ backgroundColor: '#d7e6fa' }}>{props.children}</span>;\r\n  },\r\n});\r\n\r\nexport { FakeSelectionMark };\r\n","import { YooptaContextProvider } from './contexts/YooptaContext/YooptaContext';\r\nimport { Editor } from './components/Editor/Editor';\r\nimport { CSSProperties, useCallback, useEffect, useMemo, useState } from 'react';\r\nimport { SlateElement, YooEditor, YooptaPath, YooptaContentValue } from './editor/types';\r\nimport { Plugin } from './plugins/types';\r\nimport { Tools, ToolsProvider } from './contexts/YooptaContext/ToolsContext';\r\nimport {\r\n  buildBlocks,\r\n  buildBlockShortcuts,\r\n  buildBlockSlateEditors,\r\n  buildCommands,\r\n  buildMarks,\r\n  buildPlugins,\r\n} from './utils/editorBuilders';\r\nimport { YooptaPlugin } from './plugins';\r\nimport { YooptaMark } from './marks';\r\nimport { FakeSelectionMark } from './marks/FakeSelectionMark';\r\nimport { generateId } from './utils/generateId';\r\nimport { YooptaOperation } from './editor/core/applyTransforms';\r\nimport { validateYooptaValue } from './utils/validateYooptaValue';\r\n\r\nexport type YooptaOnChangeOptions = {\r\n  operations: YooptaOperation[];\r\n};\r\n\r\nexport type YooptaEditorProps = {\r\n  id?: string;\r\n  editor: YooEditor;\r\n  plugins: Readonly<YooptaPlugin<Record<string, SlateElement>>[]>;\r\n  marks?: YooptaMark<any>[];\r\n  value?: YooptaContentValue;\r\n  onChange?: (value: YooptaContentValue, options: YooptaOnChangeOptions) => void;\r\n  onPathChange?: (path: YooptaPath) => void;\r\n  autoFocus?: boolean;\r\n  className?: string;\r\n  selectionBoxRoot?: HTMLElement | React.MutableRefObject<HTMLElement | null> | false;\r\n  children?: React.ReactNode;\r\n  tools?: Partial<Tools>;\r\n  placeholder?: string;\r\n  readOnly?: boolean;\r\n  width?: number | string;\r\n  style?: CSSProperties;\r\n};\r\n\r\ntype EditorState = {\r\n  editor: YooEditor;\r\n  version: number;\r\n};\r\n\r\nconst YooptaEditor = ({\r\n  id,\r\n  editor,\r\n  value,\r\n  marks: marksProps,\r\n  plugins: pluginsProps,\r\n  autoFocus,\r\n  className,\r\n  tools,\r\n  selectionBoxRoot,\r\n  children,\r\n  placeholder,\r\n  readOnly,\r\n  width,\r\n  style,\r\n  onChange,\r\n  onPathChange,\r\n}: YooptaEditorProps) => {\r\n  const marks = useMemo(() => {\r\n    if (marksProps) return [FakeSelectionMark, ...marksProps];\r\n    return [FakeSelectionMark];\r\n  }, [marksProps]);\r\n\r\n  const plugins = useMemo(() => {\r\n    return pluginsProps.map((plugin) => plugin.getPlugin as Plugin<Record<string, SlateElement>>);\r\n  }, [pluginsProps]);\r\n\r\n  const [editorState, setEditorState] = useState<EditorState>(() => {\r\n    if (!editor.id) editor.id = id || generateId();\r\n    editor.readOnly = readOnly || false;\r\n    if (marks) editor.formats = buildMarks(editor, marks);\r\n    editor.blocks = buildBlocks(editor, plugins);\r\n\r\n    const isValueValid = validateYooptaValue(value);\r\n    if (!isValueValid && typeof value !== 'undefined') {\r\n      // [TODO] - add link to documentation\r\n      console.error(\r\n        `Initial value is not valid. Should be an object with blocks. You passed: ${JSON.stringify(value)}`,\r\n      );\r\n    }\r\n\r\n    editor.children = (isValueValid ? value : {}) as YooptaContentValue;\r\n    editor.blockEditorsMap = buildBlockSlateEditors(editor);\r\n    editor.shortcuts = buildBlockShortcuts(editor);\r\n    editor.plugins = buildPlugins(plugins);\r\n    editor.commands = buildCommands(editor, plugins);\r\n\r\n    return { editor, version: 0 };\r\n  });\r\n\r\n  const [_, setStatePath] = useState<YooptaPath | null>(null);\r\n\r\n  const onEditorPathChange = useCallback((path: YooptaPath) => {\r\n    setStatePath(path);\r\n    onPathChange?.(path);\r\n  }, []);\r\n\r\n  const onValueChange = useCallback((value, options: YooptaOnChangeOptions) => {\r\n    setEditorState((prevState) => ({\r\n      editor: prevState.editor,\r\n      version: prevState.version + 1,\r\n    }));\r\n\r\n    if (typeof onChange === 'function' && Array.isArray(options.operations)) {\r\n      const operations = options.operations.filter(\r\n        (operation) =>\r\n          operation.type !== 'validate_block_paths' &&\r\n          operation.type !== 'set_block_path' &&\r\n          operation.type !== 'set_slate',\r\n      );\r\n\r\n      if (operations.length > 0) onChange(value, { operations });\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const changeHandler = (options) => {\r\n      onValueChange(options.value, { operations: options.operations });\r\n    };\r\n\r\n    editor.on('change', changeHandler);\r\n    editor.on('path-change', onEditorPathChange);\r\n\r\n    return () => {\r\n      editor.off('change', changeHandler);\r\n      editor.off('path-change', onEditorPathChange);\r\n    };\r\n  }, [editor, onValueChange]);\r\n\r\n  return (\r\n    <YooptaContextProvider editorState={editorState}>\r\n      <ToolsProvider tools={tools}>\r\n        <Editor\r\n          placeholder={placeholder}\r\n          marks={marks}\r\n          autoFocus={autoFocus}\r\n          className={className}\r\n          selectionBoxRoot={selectionBoxRoot}\r\n          width={width}\r\n          style={style}\r\n        >\r\n          {children}\r\n        </Editor>\r\n      </ToolsProvider>\r\n    </YooptaContextProvider>\r\n  );\r\n};\r\n\r\nexport { YooptaEditor };\r\n","import { DotsHorizontalIcon } from '@radix-ui/react-icons';\r\nimport { useFloating, offset, flip, shift, inline, autoUpdate, useTransitionStyles } from '@floating-ui/react';\r\nimport { ReactNode, useState } from 'react';\r\nimport { BlockOptions } from '../BlockOptions/BlockOptions';\r\nimport { useYooptaReadOnly } from '../../contexts/YooptaContext/YooptaContext';\r\n\r\ntype Props = {\r\n  id?: string;\r\n  className?: string;\r\n  style?: React.CSSProperties;\r\n  onClick?: () => void;\r\n  children: ReactNode;\r\n};\r\n\r\nconst ExtendedBlockActions = ({ id, className, style, onClick, children }: Props) => {\r\n  const isReadOnly = useYooptaReadOnly();\r\n  const [isBlockOptionsOpen, setIsBlockOptionsOpen] = useState(false);\r\n  const {\r\n    refs: blockOptionRefs,\r\n    floatingStyles: blockOptionFloatingStyles,\r\n    context,\r\n  } = useFloating({\r\n    placement: 'bottom-start',\r\n    open: isBlockOptionsOpen,\r\n    onOpenChange: setIsBlockOptionsOpen,\r\n    middleware: [inline(), flip(), shift(), offset(10)],\r\n    whileElementsMounted: autoUpdate,\r\n  });\r\n\r\n  const { isMounted, styles: blockOptionsTransitionStyles } = useTransitionStyles(context, {\r\n    duration: 100,\r\n  });\r\n\r\n  const onDotsClick = () => {\r\n    onClick?.();\r\n    setIsBlockOptionsOpen(true);\r\n  };\r\n\r\n  const blockOptionsStyle = { ...blockOptionsTransitionStyles, ...blockOptionFloatingStyles };\r\n\r\n  if (isReadOnly) return null;\r\n\r\n  return (\r\n    <>\r\n      {isMounted && (\r\n        <BlockOptions\r\n          isOpen\r\n          onClose={() => setIsBlockOptionsOpen(false)}\r\n          refs={blockOptionRefs}\r\n          style={blockOptionsStyle}\r\n        >\r\n          {children}\r\n        </BlockOptions>\r\n      )}\r\n      <button\r\n        type=\"button\"\r\n        contentEditable={false}\r\n        ref={blockOptionRefs.setReference}\r\n        id={id}\r\n        className={`yoopta-button yoopta-extended-block-actions ${className || ''}`}\r\n        onClick={onDotsClick}\r\n        style={isBlockOptionsOpen ? { ...style, opacity: 1 } : style}\r\n      >\r\n        <DotsHorizontalIcon />\r\n      </button>\r\n    </>\r\n  );\r\n};\r\n\r\nexport { ExtendedBlockActions };\r\n","import * as BlockOptionsUI from './BlockOptions/BlockOptions';\r\nimport { ExtendedBlockActions } from './ExtendedBlockActions/ExtendedBlockActions';\r\nimport { Portal } from './Portal/Portal';\r\nimport { Overlay } from './Overlay/Overlay';\r\n\r\nexport { type BlockOptionsProps } from './BlockOptions/BlockOptions';\r\n\r\nexport const UI = {\r\n  ...BlockOptionsUI,\r\n  ExtendedBlockActions,\r\n  Portal,\r\n  Overlay,\r\n};\r\n","import { Descendant } from 'slate';\r\nimport { YooEditor } from '../editor/types';\r\nimport { generateId } from '../utils/generateId';\r\n\r\n// [TODO] - Move to @yoopta/utils or @yoopta/editor/utils\r\n// helpers for deserializing text nodes when you use custom parsers in your plugins\r\nexport function deserializeTextNodes(editor: YooEditor, nodes: NodeListOf<ChildNode>): Descendant[] {\r\n  const deserializedNodes: Descendant[] = [];\r\n\r\n  nodes.forEach((node) => {\r\n    if (node.nodeType === Node.TEXT_NODE) {\r\n      deserializedNodes.push({\r\n        text: node.textContent || '',\r\n      });\r\n    }\r\n\r\n    if (node.nodeType === Node.ELEMENT_NODE) {\r\n      const element = node as HTMLElement;\r\n\r\n      // [TODO] - Hmmmm\r\n      if (element.nodeName === 'P' || element.nodeName === 'SPAN' || element.nodeName === 'DIV') {\r\n        deserializedNodes.push({\r\n          ...deserializeTextNodes(editor, element.childNodes)[0],\r\n        });\r\n      }\r\n\r\n      if (element.nodeName === 'B' || element.nodeName === 'STRONG') {\r\n        deserializedNodes.push({\r\n          // @ts-ignore [FIXME] - Fix types\r\n          bold: true,\r\n          ...deserializeTextNodes(editor, element.childNodes)[0],\r\n        });\r\n      }\r\n\r\n      if (element.nodeName === 'I' || element.nodeName === 'EM') {\r\n        deserializedNodes.push({\r\n          // @ts-ignore [FIXME] - Fix types\r\n          italic: true,\r\n          ...deserializeTextNodes(editor, element.childNodes)[0],\r\n        });\r\n      }\r\n\r\n      if (element.nodeName === 'S' || element.nodeName === 'STRIKE') {\r\n        deserializedNodes.push({\r\n          // @ts-ignore [FIXME] - Fix types\r\n          strike: true,\r\n          ...deserializeTextNodes(editor, element.childNodes)[0],\r\n        });\r\n      }\r\n\r\n      if (element.nodeName === 'U' || element.nodeName === 'INS') {\r\n        deserializedNodes.push({\r\n          // @ts-ignore [FIXME] - Fix types\r\n          underline: true,\r\n          ...deserializeTextNodes(editor, element.childNodes)[0],\r\n        });\r\n      }\r\n\r\n      if (element.nodeName === 'CODE') {\r\n        deserializedNodes.push({\r\n          // @ts-ignore [FIXME] - Fix types\r\n          code: true,\r\n          ...deserializeTextNodes(editor, element.childNodes)[0],\r\n        });\r\n      }\r\n\r\n      if (element.nodeName === 'MARK') {\r\n        const color = element.style.color;\r\n        const backgroundColor = element.style.backgroundColor || 'transparent';\r\n\r\n        deserializedNodes.push({\r\n          // @ts-ignore [FIXME] - Fix types\r\n          highlight: { color: color, backgroundColor: backgroundColor },\r\n          ...deserializeTextNodes(editor, element.childNodes)[0],\r\n        });\r\n      }\r\n\r\n      if (element.nodeName === 'A') {\r\n        deserializedNodes.push({\r\n          id: generateId(),\r\n          type: 'link',\r\n          props: {\r\n            url: element.getAttribute('href') || '',\r\n            target: element.getAttribute('target') || '',\r\n            rel: element.getAttribute('rel') || '',\r\n          },\r\n          children: deserializeTextNodes(editor, element.childNodes),\r\n        });\r\n      }\r\n    }\r\n  });\r\n\r\n  // @ts-ignore [FIXME] - Fix types\r\n  if (deserializedNodes.length === 0 && !deserializedNodes[0]?.text) {\r\n    deserializedNodes.push({ text: '' });\r\n  }\r\n\r\n  return deserializedNodes;\r\n}\r\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n"],"names":["buildBlockElement","buildBlockData","Editor","Element","global","Node","MARKS_NODE_NAME_MATCHERS_MAP","immer","isSet","current","Immer","base","_jsx","useCombinedRefs","refs","useMemo","node","forEach","ref","canUseDOM","window","document","createElement","isWindow","element","elementString","Object","prototype","toString","call","isNode","getWindow","target","ownerDocument","defaultView","isDocument","Document","isHTMLElement","HTMLElement","isSVGElement","SVGElement","getOwnerDocument","useIsomorphicLayoutEffect","useLayoutEffect","useEffect","useEvent","handler","handlerRef","useRef","useCallback","args","useInterval","intervalRef","set","listener","duration","setInterval","clear","clearInterval","useLatestValue","value","dependencies","valueRef","useLazyMemo","callback","newValue","useNodeRef","onChange","onChangeHandler","setNodeRef","usePrevious","ids","useUniqueId","prefix","id","createAdjustmentFn","modifier","object","adjustments","reduce","accumulator","adjustment","entries","key","valueAdjustment","add","subtract","hasViewportRelativeCoordinates","event","isKeyboardEvent","KeyboardEvent","isTouchEvent","TouchEvent","getEventCoordinates","touches","length","clientX","x","clientY","y","changedTouches","CSS","freeze","Translate","transform","Math","round","Scale","scaleX","scaleY","Transform","join","Transition","property","easing","SELECTOR","findFirstFocusableNode","matches","querySelector","hiddenStyles","display","HiddenText","React","style","LiveRegion","announcement","ariaLiveType","visuallyHidden","position","width","height","margin","border","padding","overflow","clip","clipPath","whiteSpace","role","useAnnouncement","setAnnouncement","useState","announce","DndMonitorContext","createContext","useDndMonitor","registerListener","useContext","Error","unsubscribe","useDndMonitorProvider","listeners","Set","delete","dispatch","type","defaultScreenReaderInstructions","draggable","defaultAnnouncements","onDragStart","active","onDragOver","over","onDragEnd","onDragCancel","Accessibility","announcements","container","hiddenTextDescribedById","screenReaderInstructions","liveRegionId","mounted","setMounted","onDragMove","markup","createPortal","Action","noop","useSensor","sensor","options","useSensors","sensors","filter","defaultCoordinates","distanceBetween","p1","p2","sqrt","pow","sortCollisionsAsc","data","a","b","sortCollisionsDesc","cornersOfRectangle","left","top","getFirstCollision","collisions","firstCollision","centerOfRectangle","rect","closestCenter","collisionRect","droppableRects","droppableContainers","centerRect","droppableContainer","get","distBetween","push","sort","closestCorners","corners","rectCorners","distances","corner","index","effectiveDistance","Number","toFixed","getIntersectionRatio","entry","max","right","min","bottom","targetArea","entryArea","intersectionArea","intersectionRatio","rectIntersection","adjustScale","rect1","rect2","getRectDelta","createRectAdjustmentFn","adjustClientRect","acc","getAdjustedRect","parseTransform","startsWith","transformArray","slice","split","inverseTransform","transformOrigin","parsedTransform","translateX","translateY","parseFloat","indexOf","w","h","defaultOptions","ignoreTransform","getClientRect","getBoundingClientRect","getComputedStyle","getTransformAgnosticClientRect","getWindowClientRect","innerWidth","innerHeight","isFixed","computedStyle","isScrollable","overflowRegex","properties","some","test","getScrollableAncestors","limit","scrollParents","findScrollableAncestors","scrollingElement","includes","parentNode","getFirstScrollableAncestor","firstScrollableAncestor","getScrollableElement","getScrollXCoordinate","scrollX","scrollLeft","getScrollYCoordinate","scrollY","scrollTop","getScrollCoordinates","Direction","isDocumentScrollingElement","getScrollPosition","scrollingContainer","minScroll","dimensions","clientHeight","clientWidth","maxScroll","scrollWidth","scrollHeight","isTop","isLeft","isBottom","isRight","defaultThreshold","getScrollDirectionAndSpeed","scrollContainer","scrollContainerRect","acceleration","thresholdPercentage","direction","speed","threshold","Backward","abs","Forward","getScrollElementRect","getScrollOffsets","scrollableAncestors","getScrollXOffset","getScrollYOffset","scrollIntoViewIfNeeded","measure","scrollIntoView","block","inline","Rect","constructor","scrollOffsets","axis","keys","getScrollOffset","defineProperty","currentOffsets","scrollOffsetsDeltla","enumerable","Listeners","removeAll","removeEventListener","eventName","addEventListener","getEventListenerTarget","EventTarget","hasExceededDistance","delta","measurement","dx","dy","EventName","preventDefault","stopPropagation","KeyboardCode","defaultKeyboardCodes","start","Space","Enter","cancel","Esc","end","defaultKeyboardCoordinateGetter","currentCoordinates","code","Right","Left","Down","Up","undefined","KeyboardSensor","props","autoScrollEnabled","referenceCoordinates","windowListeners","handleKeyDown","bind","handleCancel","attach","handleStart","Resize","VisibilityChange","setTimeout","Keydown","activeNode","onStart","context","keyboardCodes","coordinateGetter","scrollBehavior","handleEnd","newCoordinates","coordinatesDelta","getCoordinatesDelta","scrollDelta","scrollElementRect","clampedCoordinates","canScrollX","canScrollY","newScrollCoordinates","canScrollToNewCoordinates","scrollTo","behavior","scrollBy","handleMove","getAdjustedCoordinates","coordinates","onMove","onEnd","detach","onCancel","activators","onActivation","nativeEvent","activator","activatorNode","isDistanceConstraint","constraint","Boolean","isDelayConstraint","AbstractPointerSensor","events","listenerTarget","activated","initialCoordinates","timeoutId","documentListeners","handleKeydown","removeTextSelection","activationConstraint","bypassActivationConstraint","move","name","passive","DragStart","ContextMenu","delay","clearTimeout","Click","capture","SelectionChange","tolerance","distance","cancelable","getSelection","removeAllRanges","PointerSensor","isPrimary","button","MouseButton","MouseSensor","RightClick","TouchSensor","setup","teardown","AutoScrollActivator","TraversalOrder","useAutoScroller","Pointer","canScroll","draggingRect","enabled","interval","order","TreeOrder","pointerCoordinates","scrollableAncestorRects","scrollIntent","useScrollIntent","disabled","setAutoScrollInterval","clearAutoScrollInterval","scrollSpeed","scrollDirection","DraggableRect","scrollContainerRef","autoScroll","sortedScrollableAncestors","reverse","JSON","stringify","defaultScrollIntent","previousDelta","previousIntent","sign","useCachedNode","draggableNodes","draggableNode","cachedNode","useCombineActivators","getSyntheticHandler","Sensor","sensorActivators","map","MeasuringStrategy","MeasuringFrequency","defaultValue","Map","useDroppableMeasuring","containers","dragging","config","queue","setQueue","frequency","strategy","containersRef","isDisabled","disabledRef","measureDroppableContainers","concat","previousValue","measuringScheduled","Always","BeforeDragging","useInitialValue","computeFn","useInitialRect","useMutationObserver","handleMutations","mutationObserver","MutationObserver","disconnect","useResizeObserver","handleResize","resizeObserver","ResizeObserver","defaultMeasure","useRect","fallbackRect","measureRect","useReducer","reducer","records","record","contains","observe","body","childList","subtree","currentRect","isConnected","newRect","useRectDelta","initialRect","useScrollableAncestors","previousNode","ancestors","useScrollOffsets","elements","scrollCoordinates","setScrollCoordinates","prevElements","handleScroll","previousElements","cleanup","scrollableElement","Array","from","values","useScrollOffsetsDelta","initialScrollOffsets","hasScrollOffsets","useSensorSetup","teardownFns","useSyntheticListeners","useWindowRect","useRects","firstElement","windowRect","rects","measureRects","getMeasurableNode","children","firstChild","useDragOverlayMeasuring","setRect","handleNodeChange","nodeRef","setRef","defaultSensors","defaultData","defaultMeasuringConfiguration","droppable","WhileDragging","Optimized","dragOverlay","DroppableContainersMap","toArray","getEnabled","getNodeFor","defaultPublicContext","activatorEvent","activeNodeRect","containerNodeRect","measuringConfiguration","defaultInternalContext","ariaDescribedById","InternalContext","PublicContext","getInitialState","nodes","translate","state","action","DragMove","DragEnd","DragCancel","RegisterDroppable","SetDroppableDisabled","UnregisterDroppable","RestoreFocus","previousActivatorEvent","previousActiveId","activeElement","requestAnimationFrame","focusableNode","focus","applyModifiers","modifiers","useMeasuringConfiguration","useLayoutShiftScrollCompensation","initialized","rectDelta","ActiveDraggableContext","Status","DndContext","memo","accessibility","collisionDetection","measuring","store","dispatchMonitorEvent","registerMonitorListener","status","setStatus","Uninitialized","isInitialized","Initialized","activeId","activeRects","initial","translated","activeRef","activeSensor","setActiveSensor","setActivatorEvent","latestProps","draggableDescribedById","enabledDroppableContainers","activationCoordinates","autoScrollOptions","getAutoScrollerOptions","initialActiveNodeRect","layoutShiftCompensation","parentElement","sensorContext","draggingNode","draggingNodeRect","scrollAdjustedTranslate","overNode","usesDragOverlay","nodeRectDelta","modifiedTranslate","overlayNodeRect","scrollAdjustment","activeNodeScrollDelta","overId","setOver","appliedTranslate","instantiateSensor","sensorInstance","unstable_batchedUpdates","Initializing","createHandler","cancelDrop","shouldCancel","Promise","resolve","bindActivatorToSensorInstantiator","activeDraggableNode","dndKit","defaultPrevented","activationContext","shouldActivate","capturedBy","overContainer","publicContext","internalContext","Provider","restoreFocus","activeSensorDisablesAutoscroll","autoScrollGloballyDisabled","NullContext","defaultRole","ID_PREFIX","useDraggable","attributes","roleDescription","tabIndex","isDragging","setActivatorNodeRef","dataRef","memoizedAttributes","useDndContext","defaultResizeObserverConfig","timeout","useDroppable","resizeObserverConfig","previous","resizeObserverConnected","callbackId","resizeObserverDisabled","updateMeasurementsFor","resizeObserverTimeout","isArray","newElement","previousElement","unobserve","isOver","arrayMove","array","to","newArray","splice","getSortedRects","items","isValidIndex","itemsEqual","i","normalizeDisabled","rectSortingStrategy","activeIndex","overIndex","newRects","oldRect","defaultScale","verticalListSortingStrategy","fallbackActiveRect","overIndexRect","itemGap","getItemGap","clientRects","previousRect","nextRect","Context","containerId","disableTransforms","useDragOverlay","sortedRects","SortableContext","userDefinedItems","disabledProp","item","previousItemsRef","itemsHaveChanged","contextValue","defaultNewIndexGetter","defaultAnimateLayoutChanges","isSorting","wasDragging","newIndex","previousItems","previousContainerId","transition","defaultTransition","transitionProperty","disabledTransition","defaultAttributes","useDerivedTransform","derivedTransform","setDerivedtransform","previousIndex","useSortable","animateLayoutChanges","userDefinedAttributes","localDisabled","customData","getNewIndex","localStrategy","globalDisabled","globalStrategy","normalizeLocalDisabled","sortable","itemsAfterCurrentSortable","setDroppableNodeRef","setDraggableNodeRef","displaceItem","shouldDisplaceDragSource","dragSourceDisplacement","finalTransform","shouldAnimateLayoutChanges","getTransition","hasSortableData","directions","sortableKeyboardCoordinates","filteredContainers","closestId","activeDroppable","newDroppable","newNode","newScrollAncestors","hasDifferentScrollAncestors","hasSameContainer","isSameContainer","isAfterActive","isAfter","offset","rectCoordinates","_jsxs","computePosition","flip","shift","useLatestRef","useFloating","candidateSelectors","candidateSelector","NoElement","msMatchesSelector","webkitMatchesSelector","getRootNode","_element$getRootNode","isInert","lookUp","_node$getAttribute","inertAtt","getAttribute","inert","result","isContentEditable","_node$getAttribute2","attValue","getCandidates","el","includeContainer","candidates","apply","querySelectorAll","unshift","getCandidatesIteratively","elementsToCheck","tagName","assigned","assignedElements","content","nestedCandidates","flatten","scopeParent","validCandidate","shadowRoot","getShadowRoot","validShadowRoot","shadowRootFilter","hasTabIndex","isNaN","parseInt","getTabIndex","getSortOrderTabIndex","isScope","sortOrderedTabbables","documentOrder","isInput","isHiddenInput","isDetailsWithSummary","r","child","getCheckedRadio","form","checked","isTabbableRadio","radioScope","queryRadios","radioSet","escape","err","console","error","message","isRadio","isNonTabbableRadio","isNodeAttached","_nodeRoot","nodeRoot","nodeRootHost","host","attached","_nodeRootHost","_nodeRootHost$ownerDo","_node$ownerDocument","_nodeRoot2","_nodeRootHost2","_nodeRootHost2$ownerD","isZeroArea","_node$getBoundingClie","isHidden","_ref","displayCheck","visibility","isDirectSummary","nodeUnderDetails","originalNode","rootNode","assignedSlot","getClientRects","isDisabledFromFieldset","isNodeMatchingSelectorFocusable","isNodeMatchingSelectorTabbable","isValidShadowRootTabbable","shadowHostNode","sortByOrder","regularTabbables","orderedTabbables","candidateTabindex","tabbable","_extends","isKeyHotkey","require$$0","require$$1","require$$2","require$$3","SlateElement","_path","CopyIcon","forwardedRef","color","viewBox","fill","xmlns","d","fillRule","clipRule","DotsHorizontalIcon","Link2Icon","TrashIcon","copy","TurnIcon","PlusIcon","DragIcon","_Fragment","SlateEditor"],"mappings":"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AAK,EAAE,QAAQ,CAAC,IAAI,cAAc,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,OAAO,CAAC,CAAC;EAC1F;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAA,IAAI,OAAO,GAAG,KAAK,CAAC,OAAO,CAAC;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;CACA,SAAS,WAAW,CAAC,KAAK,EAAE;AAC5B,GAAE,OAAO,KAAK,IAAI,IAAI,IAAI,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;EACtE;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;CACA,SAAS,iBAAiB,CAAC,KAAK,EAAE;GAChC,OAAO,YAAY,CAAC,KAAK,CAAC,IAAI,WAAW,CAAC,KAAK,CAAC,CAAC;EAClD;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAA,IAAI,QAAQ,GAAG,cAAc,IAAI,SAAS,CAAC;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;CACA,SAAS,UAAU,CAAC,KAAK,EAAE;AAC3B;AACA;AACA,GAAE,IAAI,GAAG,GAAG,QAAQ,CAAC,KAAK,CAAC,GAAG,cAAc,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC;GAC5D,OAAO,GAAG,IAAI,OAAO,IAAI,GAAG,IAAI,MAAM,CAAC;EACxC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;CACA,SAAS,QAAQ,CAAC,KAAK,EAAE;AACzB,GAAE,OAAO,OAAO,KAAK,IAAI,QAAQ;AACjC,KAAI,KAAK,GAAG,CAAC,CAAC,IAAI,KAAK,GAAG,CAAC,IAAI,CAAC,IAAI,KAAK,IAAI,gBAAgB,CAAC;EAC7D;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;CACA,SAAS,QAAQ,CAAC,KAAK,EAAE;AACzB,GAAE,IAAI,IAAI,GAAG,OAAO,KAAK,CAAC;AAC1B,GAAE,OAAO,CAAC,CAAC,KAAK,KAAK,IAAI,IAAI,QAAQ,IAAI,IAAI,IAAI,UAAU,CAAC,CAAC;EAC5D;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;CACA,SAAS,YAAY,CAAC,KAAK,EAAE;GAC3B,OAAO,CAAC,CAAC,KAAK,IAAI,OAAO,KAAK,IAAI,QAAQ,CAAC;EAC5C;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;CACA,SAAS,IAAI,CAAC,MAAM,EAAE;AACtB,GAAE,OAAO,WAAW,CAAC,MAAM,CAAC,GAAG,aAAa,CAAC,MAAM,CAAC,GAAG,QAAQ,CAAC,MAAM,CAAC,CAAC;EACvE;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAA,SAAS,SAAS,GAAG;GACnB,OAAO,EAAE,CAAC;EACX;AACD;AACA;AACA;AACA;A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","x_google_ignoreList":[21,56,57,58,59,60,61,62,63,64,65,69,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,192,193,194,195,196,197,198,199,203,210,211,212,213,214,222,223,224,225,226,227,249]}